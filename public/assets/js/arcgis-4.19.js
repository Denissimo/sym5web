// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.19/esri/copyright.txt for details.
//>>built
(function(a,c){var b=function(){return"undefined"!==typeof f&&"function"!==typeof f?f:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),n=function(){},r=function(da){for(var na in da)return 0;return 1},k={}.toString,d=function(da){return"[object Function]"==k.call(da)},h=function(da){return"[object String]"==k.call(da)},m=function(da){return"[object Array]"==k.call(da)},t=function(da,na){if(da)for(var pa=0;pa<da.length;)na(da[pa++])},p=function(da,na){for(var pa in na)da[pa]=
na[pa];return da},q=function(da,na){return p(Error(da),{src:"dojoLoader",info:na})},l=1,g=function(){return"_"+l++},e=function(da,na,pa){return Z(da,na,pa,0,e)},f=b,u=f.document,w=u&&u.createElement("DiV"),D=e.has=function(da){return d(v[da])?v[da]=v[da](f,u,w):v[da]},v=D.cache=c.hasCache;d(a)&&(a=a(b));D.add=function(da,na,pa,sa){(void 0===v[da]||sa)&&(v[da]=na);return pa&&D(da)};D.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);D("host-webworker")&&
(p(c.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),c.loaderPatch={injectUrl:function(da,na){try{importScripts(da),na()}catch(pa){console.info("failed to load resource ("+da+")"),console.error(pa)}}});for(var y in a.has)D.add(y,a.has[y],0,1);e.async=1;var A=D("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");e.eval=function(da,na){return A(da+"\r\n//# sourceURL\x3d"+na)};var E={},
x=e.signal=function(da,na){da=E[da];t(da&&da.slice(0),function(pa){pa.apply(null,m(na)?na:[na])})};y=e.on=function(da,na){var pa=E[da]||(E[da]=[]);pa.push(na);return{remove:function(){for(var sa=0;sa<pa.length;sa++)if(pa[sa]===na){pa.splice(sa,1);break}}}};var F=[],B={},C=[],z={},G=e.map={},H=[],I={},K="",L={},T={};b={};var O=0;if(!D("foreign-loader"))var U=function(da,na){na=!1!==na;var pa,sa;for(pa in T){var za=T[pa];if(sa=pa.match(/^url:(.+)/))L["url:"+Ga(sa[1],da)]=za;else if("*now"==pa)var wa=
za;else"*noref"!=pa&&(sa=Aa(pa,da,!0),L[sa.mid]=L["url:"+sa.url]=za)}wa&&wa(V(da));na&&(T={})};var W=function(da){return da.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(na){return"\\"+na})},S=function(da,na){na.splice(0,na.length);for(var pa in da)na.push([pa,da[pa],new RegExp("^"+W(pa)+"(/|$)"),pa.length]);na.sort(function(sa,za){return za[3]-sa[3]});return na},N=function(da,na){t(da,function(pa){na.push([h(pa[0])?new RegExp("^"+W(pa[0])+"$"):pa[0],pa[1]])})},P=function(da){var na=da.name;na||
(na=da,da={name:na});da=p({main:"main"},da);da.location=da.location?da.location:na;da.packageMap&&(G[na]=da.packageMap);da.main.indexOf("./")||(da.main=da.main.substring(2));z[na]=da},J=[],M=function(da,na,pa){for(var sa in da){"waitSeconds"==sa&&(e.waitms=1E3*(da[sa]||0));"cacheBust"==sa&&(K=da[sa]?h(da[sa])?da[sa]:(new Date).getTime()+"":"");if("baseUrl"==sa||"combo"==sa)e[sa]=da[sa];da[sa]!==v&&(e.rawConfig[sa]=da[sa],"has"!=sa&&D.add("config-"+sa,da[sa],0,na))}e.baseUrl||(e.baseUrl="./");/\/$/.test(e.baseUrl)||
(e.baseUrl+="/");for(sa in da.has)D.add(sa,da.has[sa],0,na);t(da.packages,P);for(var za in da.packagePaths)t(da.packagePaths[za],function(wa){var Ia=za+"/"+wa;h(wa)&&(wa={name:wa});wa.location=Ia;P(wa)});S(p(G,da.map),H);t(H,function(wa){wa[1]=S(wa[1],[]);"*"==wa[0]&&(H.star=wa)});S(p(B,da.paths),C);N(da.aliases,F);if(!D("foreign-loader")){if(na)J.push({config:da.config});else for(sa in da.config)na=Ea(sa,pa),na.config=p(na.config||{},da.config[sa]);da.cache&&(U(),T=da.cache,U(0,!!da.cache["*noref"]))}x("config",
[da,e.rawConfig])};if(D("dojo-cdn")){var R=u.getElementsByTagName("script");var X=0;for(var ia,ha,ja,ma;X<R.length;)if(ia=R[X++],(ja=ia.getAttribute("src"))&&(ma=ja.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ha=ma[3]||"",c.baseUrl=c.baseUrl||ha,O=ia),ja=ia.getAttribute("data-dojo-config")||ia.getAttribute("djConfig"))b=e.eval("({ "+ja+" })","data-dojo-config"),O=ia}e.rawConfig={};M(c,1);D("dojo-cdn")&&((z.dojo.location=ha)&&(ha+="/"),z.dijit.location=ha+"../dijit/",z.dojox.location=ha+"../dojox/");M(a,
1);M(b,1);if(!D("foreign-loader"))var ta=function(da){Ta(function(){t(da.deps,qa)})},Z=function(da,na,pa,sa,za){var wa;if(h(da)){if((wa=Ea(da,sa,!0))&&wa.executed)return wa.result;throw q("undefinedModule",da);}m(da)||(M(da,0,sa),da=na,na=pa);if(m(da))if(da.length){pa="require*"+g();for(var Ia,Za=[],$a=0;$a<da.length;)Ia=da[$a++],Za.push(Ea(Ia,sa));wa=p(ra("",pa,0,""),{injected:2,deps:Za,def:na||n,require:sa?sa.require:e,gc:1});I[wa.mid]=wa;ta(wa);var eb=Sa&&!0;Ta(function(){ab(wa,eb)});wa.executed||
ba.push(wa);Fa()}else na&&na();return za},V=function(da){if(!da)return e;var na=da.require;na||(na=function(pa,sa,za){return Z(pa,sa,za,da,na)},da.require=p(na,e),na.module=da,na.toUrl=function(pa){return Ga(pa,da)},na.toAbsMid=function(pa){return Ha(pa,da)});return na},ba=[],Q=[],Y={},aa=function(da){da.injected=1;Y[da.mid]=1;da.url&&(Y[da.url]=da.pack||1);Ma()},fa=function(da){da.injected=2;delete Y[da.mid];da.url&&delete Y[da.url];r(Y)&&Ka()},ka=e.idle=function(){return!Q.length&&r(Y)&&!ba.length&&
!Sa};var la=function(da,na){if(na)for(var pa=0;pa<na.length;pa++)if(na[pa][2].test(da))return na[pa];return 0},oa=function(da){var na=[];for(da=da.replace(/\\/g,"/").split("/");da.length;){var pa=da.shift();if(".."==pa&&na.length&&".."!=sa){na.pop();var sa=na[na.length-1]}else"."!=pa&&na.push(sa=pa)}return na.join("/")},ra=function(da,na,pa,sa){return{pid:da,mid:na,pack:pa,url:sa,executed:0,def:0}},va=function(da,na,pa,sa,za,wa,Ia,Za,$a,eb){var Wa,hb,Na;var fb=/^\./.test(da);if(/(^\/)|(:)|(\.js$)/.test(da)||
fb&&!na)return ra(0,da,0,da);da=oa(fb?na.mid+"/../"+da:da);if(/^\./.test(da))throw q("irrationalPath",da);eb||fb||!wa.star||(Na=la(da,wa.star[1]));!Na&&na&&(Na=(Na=la(na.mid,wa))&&la(da,Na[1]));Na&&(da=Na[1]+da.substring(Na[3]));na=(ma=da.match(/^([^\/]+)(\/(.+))?$/))?ma[1]:"";(Wa=pa[na])?da=na+"/"+(hb=ma[3]||Wa.main):na="";var gb=0;t(Za,function(bb){var ib=da.match(bb[0]);ib&&0<ib.length&&(gb=d(bb[1])?da.replace(bb[0],bb[1]):bb[1])});if(gb)return va(gb,0,pa,sa,za,wa,Ia,Za,$a);if(pa=sa[da])return $a?
ra(pa.pid,pa.mid,pa.pack,pa.url):sa[da];sa=(Na=la(da,Ia))?Na[1]+da.substring(Na[3]):na?("/"===Wa.location.slice(-1)?Wa.location.slice(0,-1):Wa.location)+"/"+hb:da;/(^\/)|(:)/.test(sa)||(sa=za+sa);return ra(na,da,Wa,oa(sa+".js"))},Aa=function(da,na,pa){return va(da,na,z,I,e.baseUrl,H,C,F,void 0,pa)};if(!D("foreign-loader"))var ya=function(da,na,pa){return da.normalize?da.normalize(na,function(sa){return Ha(sa,pa)}):Ha(na,pa)},Da=0,Ea=function(da,na,pa){var sa;if(sa=da.match(/^(.+?)!(.*)$/)){var za=
Ea(sa[1],na,pa);5!==za.executed||za.load||Ba(za);za.load?(sa=ya(za,sa[2],na),da=za.mid+"!"+(za.dynamic?++Da+"!":"")+sa):(sa=sa[2],da=za.mid+"!"+ ++Da+"!waitingForPlugin");da={plugin:za,mid:da,req:V(na),prid:sa}}else da=Aa(da,na);return I[da.mid]||!pa&&(I[da.mid]=da)};var Ha=e.toAbsMid=function(da,na){return Aa(da,na).mid},Ga=e.toUrl=function(da,na){na=Aa(da+"/x",na);var pa=na.url;return La(0===na.pid?da:pa.substring(0,pa.length-5))};if(!D("foreign-loader")){var Ja={injected:2,executed:5,def:3,result:3};
ha=function(da){return I[da]=p({mid:da},Ja)};var Ra=ha("require"),Ua=ha("exports"),Oa=ha("module"),Qa={},Xa=0,Ba=function(da){var na=da.result;da.dynamic=na.dynamic;da.normalize=na.normalize;da.load=na.load;return da},Ya=function(da){var na={};t(da.loadQ,function(za){var wa=ya(da,za.prid,za.req.module),Ia=da.dynamic?za.mid.replace(/waitingForPlugin$/,wa):da.mid+"!"+wa;wa=p(p({},za),{mid:Ia,prid:wa,injected:0});I[Ia]&&I[Ia].injected||ua(I[Ia]=wa);na[za.mid]=I[Ia];fa(za);delete I[za.mid]});da.loadQ=
0;var pa=function(za){for(var wa=za.deps||[],Ia=0;Ia<wa.length;Ia++)(za=na[wa[Ia].mid])&&(wa[Ia]=za)},sa;for(sa in I)pa(I[sa]);t(ba,pa)},Va=function(da){e.trace("loader-finish-exec",[da.mid]);da.executed=5;da.defOrder=Xa++;da.loadQ&&(Ba(da),Ya(da));for(X=0;X<ba.length;)ba[X]===da?ba.splice(X,1):X++;/^require\*/.test(da.mid)&&delete I[da.mid]},cb=[],ab=function(da,na){if(4===da.executed)return e.trace("loader-circular-dependency",[cb.concat(da.mid).join("-\x3e")]),!da.def||na?Qa:da.cjs&&da.cjs.exports;
if(!da.executed){if(!da.def)return Qa;var pa=da.mid,sa=da.deps||[],za,wa=[],Ia=0;for(da.executed=4;za=sa[Ia++];){za=za===Ra?V(da):za===Ua?da.cjs.exports:za===Oa?da.cjs:ab(za,na);if(za===Qa)return da.executed=0,e.trace("loader-exec-module",["abort",pa]),Qa;wa.push(za)}e.trace("loader-run-factory",[da.mid]);na=da.def;wa=d(na)?na.apply(null,wa):na;da.result=void 0===wa&&da.cjs?da.cjs.exports:wa;Va(da)}return da.result},Sa=0,Ta=function(da){try{Sa++,da()}catch(na){throw na;}finally{Sa--}ka()&&x("idle",
[])},Fa=function(){Sa||Ta(function(){for(var da,na,pa=0;pa<ba.length;)da=Xa,na=ba[pa],ab(na),da!=Xa?pa=0:pa++})}}var La="function"==typeof a.fixupUrl?a.fixupUrl:function(da){da+="";return da+(K?(/\?/.test(da)?"\x26":"?")+K:"")};void 0===D("dojo-loader-eval-hint-url")&&D.add("dojo-loader-eval-hint-url",1);var ua=function(da){var na=da.plugin;5!==na.executed||na.load||Ba(na);var pa=function(sa){da.result=sa;fa(da);Va(da);Fa()};na.load?na.load(da.prid,da.req,pa):na.loadQ?na.loadQ.push(da):(na.loadQ=
[da],ba.unshift(na),qa(na))},ca=0,ea=function(da,na){D("config-stripStrict")&&(da=da.replace(/(["'])use strict\1/g,""));da===ca?ca.call(null):e.eval(da,D("dojo-loader-eval-hint-url")?na.url:na.mid)},qa=function(da){var na=da.mid,pa=da.url;if(!(da.executed||da.injected||Y[na]||da.url&&(da.pack&&Y[da.url]===da.pack||1==Y[da.url])))if(aa(da),da.plugin)ua(da);else{var sa=function(){Ca(da);if(2!==da.injected){if(D("dojo-enforceDefine")){x("error",q("noDefine",da));return}fa(da);p(da,Ja);e.trace("loader-define-nonmodule",
[da.url])}Fa()};(ca=L[na]||L["url:"+da.url])?(e.trace("loader-inject",["cache",da.mid,pa]),ea(ca,da),sa()):(e.trace("loader-inject",["script",da.mid,pa]),e.injectUrl(La(pa),sa,da))}},xa=function(da,na,pa){e.trace("loader-define-module",[da.mid,na]);if(2===da.injected)return x("error",q("multipleDefine",da)),da;p(da,{deps:na,def:pa,cjs:{id:da.mid,uri:da.url,exports:da.result={},setExports:function(za){da.cjs.exports=za},config:function(){return da.config}}});for(var sa=0;na[sa];sa++)na[sa]=Ea(na[sa],
da);fa(da);d(pa)||na.length||(da.result=pa,Va(da));return da},Ca=function(da,na){for(var pa=[],sa,za;Q.length;)za=Q.shift(),na&&(za[0]=na.shift()),sa=za[0]&&Ea(za[0])||da,pa.push([sa,za[1],za[2]]);U(da);t(pa,function(wa){ta(xa.apply(null,wa))})},Ka=n,Ma=n;D("dom");if(D("dom")){var Pa=function(da,na,pa,sa){da.addEventListener(na,sa,!1);return function(){da.removeEventListener(na,sa,!1)}},db=Pa(window,"load","onload",function(){e.pageLoaded=1;try{"complete"!=u.readyState&&(u.readyState="complete")}catch(da){}db()});
R=u.getElementsByTagName("script");for(X=0;!O;)/^dojo/.test((ia=R[X++])&&ia.type)||(O=ia);e.injectUrl=function(da,na,pa){pa=pa.node=u.createElement("script");var sa=Pa(pa,"load","onreadystatechange",function(wa){wa=wa||window.event;var Ia=wa.target||wa.srcElement;if("load"===wa.type||/complete|loaded/.test(Ia.readyState))sa(),za(),na&&na()}),za=Pa(pa,"error","onerror",function(wa){sa();za();x("error",q("scriptError: "+da,[da,wa]))});pa.type="text/javascript";pa.charset="utf-8";pa.src=da;O.parentNode.insertBefore(pa,
O);return pa}}e.log=n;e.trace=n;D("foreign-loader")?ia=n:(ia=function(da,na,pa){var sa=arguments.length,za=["require","exports","module"],wa=[0,da,na];1==sa?wa=[0,d(da)?za:[],da]:2==sa&&h(da)?wa=[da,d(na)?za:[],na]:3==sa&&(wa=[da,na,pa]);e.trace("loader-define",wa.slice(0,2));(sa=wa[0]&&Ea(wa[0]))&&!Y[sa.mid]?ta(xa(sa,wa[1],wa[2])):Q.push(wa)},ia.amd={vendor:"dojotoolkit.org"});p(p(e,c.loaderPatch),a.loaderPatch);y("error",function(da){try{if(console.error(da),da instanceof Error){for(var na in da)console.log(na+
":",da[na]);console.log(".")}}catch(pa){}});p(e,{uid:g,cache:L,packs:z});f.define||(f.define=ia,f.require=e,D("foreign-loader")||(t(J,function(da){M(da)}),ia=b.deps||a.deps||c.deps,a=b.callback||a.callback||c.callback,e.boot=ia||a?[ia||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,baseUrl:"https://js.arcgis.com/4.19/dojo",hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",
name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../tslib",main:"tslib",name:"tslib"}]});
require({cache:{"esri/Map":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/Logger ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/Accessor ./core/Evented ./Basemap ./Ground ./core/CollectionFlattener ./support/basemapUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,
c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){const y=n.getLogger("esri.Map");b=function(A){function E(F){F=A.call(this,F)||this;F.allLayers=new f({root:a._assertThisInitialized(F),rootCollectionNames:["basemap.baseLayers","ground.layers","layers","basemap.referenceLayers"],getChildrenFunction:B=>B.layers});F.allTables=F._createTablesFlattener(a._assertThisInitialized(F));F.basemap=null;F.ground=new e;F._basemapCache=u.createCache();return F}a._inheritsLoose(E,A);var x=E.prototype;x.destroy=function(){var F,
B;this.allLayers.destroy();this.allTables.destroy();null==(F=this.ground)?void 0:F.destroy();null==(B=this.basemap)?void 0:B.destroy();u.destroyCache(this._basemapCache);this._basemapCache=null};x.castBasemap=function(F){return u.ensureType(F,this._basemapCache)};x.castGround=function(F){F=w.ensureType(F);return F?F:(y.error("Map.ground may not be set to null or undefined"),this._get("ground"))};x.findLayerById=function(F){return this.allLayers.find(B=>B.id===F)};x.findTableById=function(F){return this.allTables.find(B=>
B.id===F)};x._createTablesFlattener=function(F){return new f({root:F,rootCollectionNames:["tables","layers"],getChildrenFunction:B=>B&&"group"===B.type?this._createTablesFlattener(B):null,itemFilterFunction:B=>this._isMapOrGroupLayer(B.parent)&&B.parent.tables.includes(B)})};x._isMapOrGroupLayer=function(F){return F&&(F===this||this._isGroupLayer(F))};x._isGroupLayer=function(F){return F&&"group"===F.type};return E}(v.TablesMixin(D.LayersMixin(l.EventedMixin(q))));c.__decorate([r.property({readOnly:!0,
dependsOn:[]})],b.prototype,"allLayers",void 0);c.__decorate([r.property({readOnly:!0})],b.prototype,"allTables",void 0);c.__decorate([r.property({type:g})],b.prototype,"basemap",void 0);c.__decorate([k.cast("basemap")],b.prototype,"castBasemap",null);c.__decorate([r.property({type:e,nonNullable:!0})],b.prototype,"ground",void 0);c.__decorate([k.cast("ground")],b.prototype,"castGround",null);return b=c.__decorate([h.subclass("esri.Map")],b)})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],
function(a){function c(h,m){for(var t=0;t<m.length;t++){var p=m[t];p.enumerable=p.enumerable||!1;p.configurable=!0;"value"in p&&(p.writable=!0);Object.defineProperty(h,p.key,p)}}function b(h){b=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)};return b(h)}function n(h,m){n=Object.setPrototypeOf||function(t,p){t.__proto__=p;return t};return n(h,m)}function r(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===
typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(h){return!1}}function k(h,m,t){k=r()?Reflect.construct:function(p,q,l){var g=[null];g.push.apply(g,q);p=new (Function.bind.apply(p,g));l&&n(p,l.prototype);return p};return k.apply(null,arguments)}function d(h){var m="function"===typeof Map?new Map:void 0;d=function(t){function p(){return k(t,arguments,b(this).constructor)}if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;
if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof m){if(m.has(t))return m.get(t);m.set(t,p)}p.prototype=Object.create(t.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}});return n(p,t)};return d(h)}a._assertThisInitialized=function(h){if(void 0===h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h};a._createClass=function(h,m,t){m&&c(h.prototype,m);t&&c(h,
t);return h};a._inheritsLoose=function(h,m){h.prototype=Object.create(m.prototype);h.prototype.constructor=h;n(h,m)};a._wrapNativeSuper=d})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__decorate=function(c,b,n,r){var k=arguments.length,d=3>k?b:null===r?r=Object.getOwnPropertyDescriptor(b,n):r,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)d=Reflect.decorate(c,b,n,r);else for(var m=c.length-1;0<=m;m--)if(h=c[m])d=(3>k?h(d):3<k?h(b,n,d):h(b,n))||d;return 3<
k&&d&&Object.defineProperty(b,n,d),d}})},"esri/core/has":function(){define(["./global"],function(a){function c(h){return"function"===typeof r[h]?r[h]=r[h](a):r[h]}var b,n;let r;if(null!=(b=a.dojoConfig)&&b.has||null!=(n=a.esriConfig)&&n.has){var k,d;r={...null==(k=a.dojoConfig)?void 0:k.has,...null==(d=a.esriConfig)?void 0:d.has}}else r={};c.add=(h,m,t,p)=>{if(p||"undefined"===typeof r[h])r[h]=m;return t&&c(h)};c.cache=r;c.add("esri-deprecation-warnings",!0);(()=>{c.add("host-webworker","undefined"!==
typeof a.WorkerGlobalScope&&self instanceof a.WorkerGlobalScope);var h="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;c.add("host-browser",h);c.add("dom",h);if(c("host-browser")){var m=navigator;h=m.userAgent;m=m.appVersion;const p=parseFloat(m);c.add("edge",parseFloat(h.split("Edge/")[1])||void 0);c.add("webkit",!c("edge")&&parseFloat(h.split("WebKit/")[1])||void 0);c.add("chrome",!c("edge")&&parseFloat(h.split("Chrome/")[1])||
void 0);c.add("safari",0<=m.indexOf("Safari")&&!c("chrome")&&!c("edge")?parseFloat(m.split("Version/")[1]):void 0);c.add("mac",0<=m.indexOf("Macintosh"));if(h.match(/(iPhone|iPod|iPad)/)){const q=RegExp.$1.replace(/P/,"p");var t=h.match(/OS ([\d_]+)/)?RegExp.$1:"1";t=parseFloat(t.replace(/_/,".").replace(/_/g,""));c.add(q,t);c.add("ios",t)}c.add("trident",parseFloat(m.split("Trident/")[1])||void 0);c("webkit")||(0<=h.indexOf("Opera")&&c.add("opera",9.8<=p?parseFloat(h.split("Version/")[1])||p:p),
0<=h.indexOf("Gecko")&&!c("trident")&&!c("edge")&&c.add("mozilla",p),c("mozilla")&&c.add("ff",parseFloat(h.split("Firefox/")[1]||h.split("Minefield/")[1])||void 0))}})();(()=>{if(a.navigator){var h=navigator.userAgent;const m=h.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i);h=h.match(/iPhone/i);m&&c.add("esri-mobile",m);h&&c.add("esri-iPhone",h);c.add("esri-geolocation",!!navigator.geolocation)}c.add("esri-canvas-svg-support",!c("trident"));c.add("esri-wasm","WebAssembly"in
a);c.add("esri-shared-array-buffer",()=>{const m=!1===a.crossOriginIsolated;return"SharedArrayBuffer"in a&&!m});c.add("esri-atomics","Atomics"in a);c.add("esri-workers","Worker"in a);c.add("esri-text-decoder","TextDecoder"in a);c.add("esri-text-encoder","TextEncoder"in a);c.add("featurelayer-snapshot-enabled",!0);c.add("featurelayer-snapshot-point-min-threshold",8E4);c.add("featurelayer-snapshot-point-max-threshold",4E5);c.add("featurelayer-snapshot-point-coverage",.1);c.add("featurelayer-advanced-symbols",
!1);c.add("featurelayer-pbf",!0);c.add("featurelayer-pbf-statistics",!1);c.add("feature-layers-workers",!0);c.add("mapview-transitions-duration",200);c.add("mapserver-pbf-enabled",!1);!c("host-webworker")&&c("host-browser")&&(c.add("csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),c.add("esri-image-decode",()=>{if("decode"in new Image){const m=new Image;m.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';m.decode().then(()=>
{c.add("esri-image-decode",!0,!0,!0)}).catch(()=>{c.add("esri-image-decode",!1,!0,!0)})}else return!1}),c.add("esri-url-encodes-apostrophe",()=>{const m=a.document.createElement("a");m.href="?'";return-1<m.href.indexOf("?%27")}),c.add("vectortilelayer-max-buffers",()=>c("ff")?160:Number.POSITIVE_INFINITY))})();return c})},"esri/core/global":function(){define(function(){return function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==
typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers","./has","../config","./maybe","./string"],function(a,c,b,n,r){const k={info:0,warn:1,error:2,none:3};c=function(){function d(m){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=m.level&&(this.level=m.level);null!=m.writer&&(this.writer=m.writer);this._module=m.module;
d._loggers[this.module]=this;m=this.module.lastIndexOf(".");-1!==m&&(this._parent=d.getLogger(this.module.slice(0,m)))}var h=d.prototype;h.error=function(...m){this._log("error","always",...m)};h.warn=function(...m){this._log("warn","always",...m)};h.info=function(...m){this._log("info","always",...m)};h.errorOnce=function(...m){this._log("error","once",...m)};h.warnOnce=function(...m){this._log("warn","once",...m)};h.infoOnce=function(...m){this._log("info","once",...m)};h.errorOncePerTick=function(...m){this._log("error",
"oncePerTick",...m)};h.warnOncePerTick=function(...m){this._log("warn","oncePerTick",...m)};h.infoOncePerTick=function(...m){this._log("info","oncePerTick",...m)};d.getLogger=function(m){let t=d._loggers[m];t||(t=new d({module:m}));return t};h._log=function(m,t,...p){if(this._matchLevel(m)){if("always"!==t&&!d._throttlingDisabled){const q=this._argsToKey(p),l=this._loggedMessages[m].get(q);if("once"===t&&null!=l||"oncePerTick"===t&&l&&l>=d._tickCounter)return;this._loggedMessages[m].set(q,d._tickCounter);
d._scheduleTickCounterIncrement()}for(const q of b.log.interceptors)if(q(m,this.module,...p))return;this._inheritedWriter()(m,this.module,...p)}};h._parentWithMember=function(m,t){let p=this;for(;n.isSome(p);){const q=p[m];if(n.isSome(q))return q;p=p.parent}return t};h._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};h._consoleWriter=function(m,t,...p){console[m](`[${t}]`,...p)};h._matchLevel=function(m){return k[this._parentWithMember("level",b.log.level?b.log.level:
"warn")]<=k[m]};h._argsToKey=function(...m){return r.numericHash(JSON.stringify(m,(t,p)=>"object"!==typeof p||Array.isArray(p)?p:"[Object]"))};d._scheduleTickCounterIncrement=function(){d._tickCounterScheduled||(d._tickCounterScheduled=!0,Promise.resolve().then(()=>{d._tickCounter++;d._tickCounterScheduled=!1}))};a._createClass(d,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},{key:"test",get:function(){const m=this;return{loggedMessages:m._loggedMessages,
clearLoggedWarnings(){return m._loggedMessages.warn.clear()}}}}],[{key:"testSingleton",get:function(){return{resetLoggers(m={}){const t=d._loggers;d._loggers=m;return t},set throttlingDisabled(m){d._throttlingDisabled=m}}}}]);return d}();c._loggers={};c._tickCounter=0;c._tickCounterScheduled=!1;c._throttlingDisabled=!1;return c})},"esri/config":function(){define(["module","./core/global","./core/has","./core/object"],function(a,c,b,n){b={apiKey:void 0,applicationUrl:c.location&&c.location.href,assetsPath:"",
fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};c.esriConfig&&(n.deepMerge(b,c.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.indexOf("esri/")));b.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath");Object.defineProperty(b,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}});b.request.corsEnabledServers=
[];b.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return b})},"esri/core/object":function(){define(["exports","./lang"],function(a,c){function b(r,k,d){for(const h of r){if(null==d)return;if(!(h in d))if(k)d[h]={};else return;d=d[h]}return d}function n(r,k,d){return k?Object.keys(k).reduce(function(h,m){let t=h[m],p=k[m];if(t===p)return h;if(void 0===
t)return h[m]=c.clone(p),h;if(Array.isArray(p)||Array.isArray(h))t=t?Array.isArray(t)?h[m]=t.concat():h[m]=[t]:h[m]=[],p&&(Array.isArray(p)||(p=[p]),d?p.forEach(q=>{-1===t.indexOf(q)&&t.push(q)}):h[m]=p.concat());else if(p&&"object"===typeof p)h[m]=n(t,p,d);else if(!h.hasOwnProperty(m)||k.hasOwnProperty(m))h[m]=p;return h},r||{}):r}a.deepMerge=function(r,k,d=!1){return n(r,k,d)};a.getDeepValue=function(r,k){if(null!=k)return k[r]||b(r.split("."),!1,k)};a.setDeepValue=function(r,k,d){const h=r.split(".");
r=h.pop();(d=b(h,!0,d))&&r&&(d[r]=k)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/lang":function(){define(["exports","./has","./typedArrayUtil"],function(a,c,b){function n(k,d){let h;if(d)for(h in k)k.hasOwnProperty(h)&&(void 0===k[h]?delete k[h]:k[h]instanceof Object&&n(k[h],!0));else for(h in k)k.hasOwnProperty(h)&&void 0===k[h]&&delete k[h];return k}function r(k){if(!k||"object"!==typeof k||"function"===typeof k)return k;if(b.isInt8Array(k)||b.isUint8Array(k)||b.isUint8ClampedArray(k)||
b.isInt16Array(k)||b.isUint16Array(k)||b.isInt32Array(k)||b.isUint32Array(k)||b.isFloat32Array(k)||b.isFloat64Array(k))return b.slice(k);if(k instanceof Date)return new Date(k.getTime());if(k instanceof ArrayBuffer)return k.slice(0,k.byteLength);if(k instanceof Map){const h=new Map;k.forEach((m,t)=>{h.set(t,r(m))});return h}if(k instanceof Set){const h=new Set;k.forEach(m=>{h.add(r(m))});return h}let d;if("function"===typeof k.clone)d=k.clone();else if("function"===typeof k.map&&"function"===typeof k.forEach)d=
k.map(r);else if("function"===typeof k.notifyChange&&"function"===typeof k.watch)d=k.clone();else{d={};for(const h of Object.getOwnPropertyNames(k))d[h]=r(k[h])}return d}a.clone=r;a.equals=function(k,d){return k===d||"number"===typeof k&&isNaN(k)&&"number"===typeof d&&isNaN(d)||"function"===typeof(k||{}).getTime&&"function"===typeof(d||{}).getTime&&k.getTime()===d.getTime()||!1};a.fixJson=n;a.mixin=function(k={},...d){c("esri-deprecation-warnings")&&console.warn("[esri.core.lang] \ud83d\uded1 DEPRECATED - Function: mixin()\n\t\ud83d\udee0\ufe0f Replacement: Use Object.assign() directly\n\t\u2699\ufe0f Version: 4.19");
return Object.assign(k,...d)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/typedArrayUtil":function(){define(["exports"],function(a){a.estimateSize=function(c){return c?128+c.buffer.byteLength+64:0};a.forEach=function(c,b){if(c.forEach)c.forEach(b);else for(let n=0;n<c.length;n++)b(c[n],n,c)};a.isArrayBuffer=function(c){return c instanceof ArrayBuffer||c&&c.constructor&&"ArrayBuffer"===c.constructor.name};a.isFloat32Array=function(c){return c instanceof Float32Array||c&&c.constructor&&
"Float32Array"===c.constructor.name};a.isFloat64Array=function(c){return c instanceof Float64Array||c&&c.constructor&&"Float64Array"===c.constructor.name};a.isInt16Array=function(c){return c instanceof Int16Array||c&&c.constructor&&"Int16Array"===c.constructor.name};a.isInt32Array=function(c){return c instanceof Int32Array||c&&c.constructor&&"Int32Array"===c.constructor.name};a.isInt8Array=function(c){return c instanceof Int8Array||c&&c.constructor&&"Int8Array"===c.constructor.name};a.isUint16Array=
function(c){return c instanceof Uint16Array||c&&c.constructor&&"Uint16Array"===c.constructor.name};a.isUint32Array=function(c){return c instanceof Uint32Array||c&&c.constructor&&"Uint32Array"===c.constructor.name};a.isUint8Array=function(c){return c instanceof Uint8Array||c&&c.constructor&&"Uint8Array"===c.constructor.name};a.isUint8ClampedArray=function(c){return c instanceof Uint8ClampedArray||c&&c.constructor&&"Uint8ClampedArray"===c.constructor.name};a.slice=function(c,b,n){if(c.slice)return c.slice(b,
n);void 0===b?b=0:(0>b&&(b+=c.length),b=Math.min(c.length,Math.max(0,b)));void 0===n?n=c.length:(0>n&&(n+=c.length),n=Math.min(c.length,Math.max(0,n)));n=Math.max(0,n-b);const r=new c.constructor(n);for(let k=0;k<n;k++)r[k]=c[b+k];return r};a.toArray=function(c){const b=Array(c.length);for(let n=0;n<c.length;n++)b[n]=c[n];return b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/maybe":function(){define(["exports"],function(a){function c(b,n,r){return null!=b?r(b):n}a.abortMaybe=function(b){null!=
b&&b.abort();return null};a.andThen=function(b,n){return null!=b?n(b):null};a.applySome=function(b,n){return null!=b?n(b):null};a.assumeNonNull=function(b){return b};a.destroyMaybe=function(b){null!=b&&b.destroy();return null};a.disposeMaybe=function(b){null!=b&&b.dispose();return null};a.filterNones=function(b){return b.filter(n=>null!=n)};a.forEachSome=function(b,n){for(const r of b)c(r,null,n)};a.get=function(b,...n){let r=0;for(;r<n.length&&b;)b=b[n[r++]];return b};a.isNone=function(b){return null==
b};a.isSome=function(b){return null!=b};a.isUndefined=function(b){return void 0===b};a.mapMany=function(b,n){const r=[];for(const k of b)r.push(c(k,null,n));return r};a.mapOr=c;a.mapSome=function(b,n){const r=[];b.forEach(k=>{k=n(k);null!=k&&r.push(k)});return r};a.mapSomeFirst=function(b,n){for(const r of b)if(b=n(r),null!=b)return b;return null};a.none=null;a.nullifyNonnullableForDispose=function(b){return null};a.releaseMaybe=function(b){null!=b&&b.release();return null};a.removeMaybe=function(b){null!=
b&&b.remove();return null};a.unwrap=function(b){return b};a.unwrapOr=function(b,n){return null!=b?b:"function"===typeof n?n():n};a.unwrapOrThrow=function(b,n){if(null==b)throw Error(n);return b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/string":function(){define(["exports","./object"],function(a,c){function b(r){return null==r?"":r}const n=/\{([^\}]+)\}/g;a.escapeRegExpString=function(r,k){return r.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,d=>k&&-1!==k.indexOf(d)?d:`\\${d}`)};
a.numericHash=function(r){let k=0;for(let d=0;d<r.length;d++)k=(k<<5)-k+r.charCodeAt(d),k|=0;return k};a.replace=function(r,k){return r.replace(n,"object"===typeof k?(d,h)=>b(c.getDeepValue(h,k)):(d,h)=>b(k(h)))};a.stripHTML=function(r){return(new DOMParser).parseFromString(r||"","text/html").body.innerText||""};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),
function(a,c,b,n,r,k){function d(t){let p=0;var q=t;if(b.isLongFormType(t))return b.ensureLongFormType(t);for(;Array.isArray(q)&&1===q.length&&"string"!==typeof q[0]&&"number"!==typeof q[0];)q=q[0],p++;return b.isOneOf(q)?0===p?b.ensureOneOf(q):b.ensureNArrayTyped(b.ensureOneOf(q),p):1===p?b.ensureArray(q):1<p?b.ensureNArray(q,p):t.from?t.from:b.ensureType(t)}function h(t,p){return q=>{q=+t(q);null!=p.step&&(q=Math.round(q/p.step)*p.step);null!=p.min&&(q=Math.max(p.min,q));null!=p.max&&(q=Math.min(p.max,
q));return q}}const m=c.getLogger("esri.core.accessorSupport.decorators.property");a.ensureRange=h;a.property=function(t={}){return(p,q,l)=>{if(p===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${p.name}.${q}. Accessor does not support static properties.`);const g=r.getOwnPropertyMetadata(p,q);l&&(l.get||l.set?(g.get=l.get||g.get,g.set=l.set||g.set):"value"in l&&("value"in t&&m.warn(`@property() will redefine the value of "${q}" on "${p.constructor.name}" already defined in the metadata`,
t),g.value=t.value=l.value));null!=t.readOnly&&(g.readOnly=t.readOnly);if(p=t.aliasOf){const e="string"===typeof p?p:p.source;p="string"===typeof p?null:!0===p.overridable;let f;g.dependsOn=[e];g.get=function(){let u=n.get(this,e);if("function"===typeof u){f||(f=e.split(".").slice(0,-1).join("."));const w=n.get(this,f);w&&(u=u.bind(w))}return u};g.readOnly||(g.set=p?function(u){void 0!==u?this._override(q,u):this._clearOverride(q)}:function(u){k.set(this,e,u)})}p=t.type;l=t.types;g.cast||(p?g.cast=
d(p):l&&(Array.isArray(l)?g.cast=b.ensureArrayTyped(b.ensureOneOfType(l[0])):g.cast=b.ensureOneOfType(l)));t.range&&(g.cast=h(g.cast,t.range));r.mergeProperty(g,t)}};a.propertyJSONMeta=function(t,p,q){t=r.getOwnPropertyMetadata(t,q);t.json||(t.json={});t=t.json;void 0!==p&&(t.origins||(t.origins={}),t.origins[p]||(t.origins[p]={}),t=t.origins[p]);return t};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger"],
function(a,c,b){function n(G){return null==G?G:new Date(G)}function r(G){return null==G?G:!!G}function k(G){return null==G?G:G.toString()}function d(G){if(null==G)return G;G=parseFloat(G);return isNaN(G)?0:G}function h(G){return null==G?G:Math.round(parseFloat(G))}function m(G){return G&&G.constructor&&void 0!==G.constructor.__accessorMetadata__}function t(G,H){return null!=H&&G&&!(H instanceof G)}function p(G){return G&&G.Type?"function"===typeof G.Type?G.Type:G.Type.base:null}function q(G,H){var I;
(I=!H||!H.constructor)||(I=H.constructor,I=!(I&&"isCollection"in I));if(I)return l(G,H)?H:new G(H);I=p(G.prototype.itemType);const K=p(H.constructor.prototype.itemType);if(!I)return H;if(!K)return new G(H);if(I===K)return H;if(I.prototype.isPrototypeOf(K.prototype))return new G(H);l(G,H);return H}function l(G,H){return m(H)?(C.error("Accessor#set","Assigning an instance of '"+(H.declaredClass||"unknown")+"' which is not a subclass of '"+e(G)+"'"),!0):!1}function g(G,H){return null==H?H:G&&"isCollection"in
G?q(G,H):t(G,H)?l(G,H)?H:new G(H):H}function e(G){return G&&G.prototype&&G.prototype.declaredClass||"unknown"}function f(G){switch(G){case Number:return d;case z:return h;case Boolean:return r;case String:return k;case Date:return n;default:return g.bind(null,G)}}function u(G,H){const I=f(G);return 1===arguments.length?I:I(H)}function w(G,H,I){return 1===arguments.length?w.bind(null,G):H?Array.isArray(H)?H.map(K=>G(K,I)):[G(H,I)]:H}function D(G,H,I){return 0!==H&&Array.isArray(I)?I.map(K=>D(G,H-1,
K)):G(I)}function v(G,H,I){if(2===arguments.length)return v.bind(null,G,H);if(!I)return I;I=D(G,H,I);let K=H;for(var L=I;0<K&&Array.isArray(L);)K--,L=L[0];if(void 0!==L)for(L=0;L<K;L++)I=[I];return I}function y(G,H){if(2===arguments.length)return y(G).call(null,H);const I=new Set,K=G.filter(U=>"function"!==typeof U),L=G.filter(U=>"function"===typeof U);for(const U of G)"string"!==typeof U&&"number"!==typeof U||I.add(U);let T=null,O=null;return(U,W)=>{if(null==U)return U;const S=typeof U,N="string"===
S||"number"===S;if(N&&(I.has(U)||L.some(P=>"string"===S&&P===String||"number"===S&&P===Number))||"object"===S&&L.some(P=>!t(U,P)))return U;N&&K.length?(T||(T=K.map(P=>"string"===typeof P?`'${P}'`:`${P}`).join(", ")),C.error("Accessor#set",`'${U}' is not a valid value for this property, only the following values are valid: ${T}`)):"object"===typeof U&&L.length?(O||(O=L.map(P=>e(P)).join(", ")),C.error("Accessor#set",`'${U}' is not a valid value for this property, value must be one of ${O}`)):C.error("Accessor#set",
`'${U}' is not a valid value for this property`);W&&(W.valid=!1);return null}}function A(G,H){if(2===arguments.length)return A(G).call(null,H);const I={},K=[],L=[];for(const O in G.typeMap){const U=G.typeMap[O];I[O]=u(U);K.push(e(U));L.push(O)}const T="string"===typeof G.key?O=>O[G.key]:G.key;return O=>{if(G.base&&!t(G.base,O)||null==O)return O;var U=T(O)||G.defaultKeyValue;const W=I[U];if(!W)return C.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${K.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${L.join("', '")}'`})`),
null;if(!t(G.typeMap[U],O))return O;if("string"===typeof G.key&&!m(O)){U={};for(const S in O)S!==G.key&&(U[S]=O[S]);return W(U)}return W(O)}}function E(G){switch(G.type){case "native":return u(G.value);case "array":return w(E(G.value));case "one-of":return x(G);default:return null}}function x(G){let H=null;return(I,K)=>{if(B(I,G))return I;null==H&&(H=F(G));C.error("Accessor#set",`Invalid property value, value needs to be of type ${H}`);K&&(K.valid=!1);return null}}function F(G){switch(G.type){case "native":switch(G.value){case Number:return"number";
case String:return"string";case Boolean:return"boolean";case z:return"integer";case Date:return"date";default:return e(G.value)}case "array":return`array of ${F(G.value)}`;case "one-of":return G=G.values.map(H=>F(H)),`one of ${G.slice(0,G.length-1)} or ${G[G.length-1]}`}return"unknown"}function B(G,H){if(null==G)return!0;switch(H.type){case "native":switch(H.value){case Number:case z:return"number"===typeof G;case Boolean:return"boolean"===typeof G;case String:return"string"===typeof G}return G instanceof
H.value;case "array":return Array.isArray(G)?!G.some(I=>!B(I,H.value)):!1;case "one-of":return H.values.some(I=>B(G,I))}}const C=b.getLogger("esri.core.Accessor");let z=function(){};a.Integer=z;a.default=u;a.ensureArray=function(G,H){return 1===arguments.length?w(u.bind(null,G)):w(u.bind(null,G),H)};a.ensureArrayTyped=w;a.ensureBoolean=r;a.ensureClass=g;a.ensureDate=n;a.ensureInteger=h;a.ensureLongFormType=E;a.ensureNArray=function(G,H,I){return 2===arguments.length?v(u.bind(null,G),H):v(u.bind(null,
G),H,I)};a.ensureNArrayTyped=v;a.ensureNumber=d;a.ensureOneOf=y;a.ensureOneOfType=A;a.ensureString=k;a.ensureType=u;a.isClassedType=m;a.isLongFormType=function(G){if(!(G&&"type"in G))return!1;switch(G.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(G){return Array.isArray(G)?!G.some(H=>{H=typeof H;return!("string"===H||"number"===H||"function"===H&&1<G.length)}):!1};a.requiresType=t;a.types={native(G){return{type:"native",value:G}},array(G){return{type:"array",
value:G}},oneOf(G){return{type:"one-of",values:G}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,c){function b(d,h){d="?"===d[d.length-1]?d.slice(0,-1):d;if(null!=h.getItemAt||Array.isArray(h)){var m=parseInt(d,10);if(!isNaN(m))return Array.isArray(h)?h[m]:h.getItemAt(m)}m=c.getProperties(h);return c.isPropertyDeclared(m,d)?m.get(d):h[d]}function n(d,h,m){if(null==d)return d;if((d=b(h[m],d))||!(m<h.length-1))return m===
h.length-1?d:n(d,h,m+1)}function r(d,h,m=0){return"string"===typeof h&&-1===h.indexOf(".")?b(h,d):n(d,c.pathToArray(h),m)}function k(d,h){return r(d,h)}a.default=k;a.exists=function(d,h){return void 0!==r(h,d)};a.get=k;a.valueOf=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/utils":function(){define(["exports","../lang","../maybe","../handleUtils"],function(a,c,b,n){function r(t){return t?t.__accessor__?t.__accessor__:t.propertyInvalidated?t:null:null}function k(t,
p,q){return p?Object.keys(p).reduce(function(l,g){let e=null;var f="merge";q&&(e=q.path?`${q.path}.${g}`:g,f=q.policy(e));if("replace"===f)return l[g]=p[g],l;if(void 0===l[g])return l[g]=c.clone(p[g]),l;let u=l[g];f=p[g];if(u===f)return l;if(Array.isArray(f)||Array.isArray(l))u=u?Array.isArray(u)?l[g]=u.concat():l[g]=[u]:l[g]=[],f&&(Array.isArray(f)||(f=[f]),f.forEach(w=>{-1===u.indexOf(w)&&u.push(w)}));else if(f&&"object"===typeof f)if(q){const w=q.path;q.path=b.assumeNonNull(e);l[g]=k(u,f,q);q.path=
w}else l[g]=k(u,f,null);else if(!l.hasOwnProperty(g)||p.hasOwnProperty(g))l[g]=f;return l},t||{}):t}function d(t){return Array.isArray(t)?t:t.split(".")}function h(t){return-1<t.indexOf(",")?t.split(",").map(p=>p.trim()):[t.trim()]}function m(t){if(Array.isArray(t)){const p=[];for(const q of t)p.push(...h(q));return p}return h(t)}a.getDependsInfo=function(t,p){const q=r(t);return q?q.getDependsInfo(t,p,""):""};a.getProperties=r;a.isPropertyDeclared=function(t,p){return null!=t&&t.metadatas&&null!=
t.metadatas[p]};a.merge=function(t,p,q){return q?k(t,p,{policy:q,path:""}):k(t,p,null)};a.once=function(t){let p=!1;return()=>{p||(p=!0,t())}};a.parse=function(t,p,q,l){p=m(p);return 1!==p.length?(p=p.map(g=>l(t,g,q)),n.handlesGroup(p)):l(t,p[0],q)};a.parseConditionalPath=function(t){if(-1===t.indexOf("?"))return null;t=d(t);const p=Array(t.length);for(let q=0;q<t.length;q++){const l=t[q];p[q]="?"===l[l.length-1];p[q]&&(t[q]=l.slice(0,-1))}return{fullPath:t.join("."),conditional:p}};a.pathToArray=
d;a.pathToStringOrArray=function(t){return!t||"string"===typeof t&&-1===t.indexOf(".")?t:d(t)};a.splitPath=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/handleUtils":function(){define(["exports","./maybe"],function(a,c){function b(n){return{remove:()=>{n&&(n(),n=void 0)}}}a.asyncHandle=function(n,r){let k=!1,d=null;n.then(h=>{k?h.remove():d=h});return b(()=>{k=!0;c.isSome(d)?d.remove():c.isSome(r)&&(r.abort(),r=null)})};a.destroyHandle=function(n){return b(c.isSome(n)?()=>n.destroy():
void 0)};a.handlesGroup=function(n){return b(()=>n.forEach(r=>c.isSome(r)&&r.remove()))};a.makeHandle=b;a.refHandle=function(n){return b(()=>{const r=n();c.isSome(r)&&r.remove()})};a.timeoutHandle=function(n,r){const k=setTimeout(n,r);return b(()=>clearTimeout(k))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","../maybe","./utils"],function(a,c,b,n){function r(q){let l=q.constructor.__accessorMetadata__;var g=Object.prototype.hasOwnProperty.call(q.constructor,
"__accessorMetadata__");if(!l)l=new m({}),Object.defineProperty(q.constructor,"__accessorMetadata__",{value:l,enumerable:!1,configurable:!0,writable:!0});else if(!g){g=Object.create(l.properties);const e=l.autoDestroy;for(const f in g)g[f]=c.clone(g[f]);l=new m(g);l.autoDestroy=e;Object.defineProperty(q.constructor,"__accessorMetadata__",{value:l,enumerable:!1,configurable:!0,writable:!0})}return b.assumeNonNull(q.constructor.__accessorMetadata__)}function k(q){return r(q).properties}function d(q){return t.test(q)?
"replace":"merge"}function h(q){return p.test(q)?d(q.slice(11)):"merge"}let m=function(q){this.autoDestroy=!1;this.properties=q};const t=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,p=/^properties\./;a.ClassMetadata=m;a.getOwnClassMetadata=r;a.getOwnPropertiesMetadata=k;a.getOwnPropertyMetadata=function(q,l){q=k(q);let g=q[l];g||(g=q[l]={});return g};a.merge=function(q,l){return n.merge(q,l,h)};a.mergeProperty=function(q,l){return n.merge(q,l,d)};a.setPropertyMetadata=function(q,
l,g){k(q)[l]=g};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/set":function(){define(["exports","../has","../Logger","./get"],function(a,c,b,n){function r(k,d,h){if(k&&d)if("object"===typeof d)for(var m of Object.getOwnPropertyNames(d))r(k,m,d[m]);else-1!==d.indexOf(".")?(d=d.split("."),m=d.splice(d.length-1,1)[0],r(n.get(k,d),m,h)):k[d]=h}b.getLogger("esri.core.accessorSupport.set");a.default=r;a.set=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,c,b){function n(h){const m="__accessorMetadata__"in h?c.ensureType(h):h;return function(...t){t.push(m);if("number"===typeof t[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return r.apply(this,t)}}function r(h,m,t,p){b.getOwnPropertyMetadata(h,m).cast=p}function k(h){return function(m,t){b.getOwnPropertyMetadata(m,h).cast=m[t]}}const d=Object.prototype.toString;a.cast=function(...h){if(3!==h.length||"string"!==typeof h[1]){if(1===
h.length&&"[object Function]"===d.call(h[0]))return n(h[0]);if(1===h.length&&"string"===typeof h[0])return k(h[0])}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/jsonMap":function(){define(["exports"],function(a){let c=function(){function b(r,k={ignoreUnknown:!1}){this.jsonToAPI=r;this.options=k;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(r);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=d=>this.fromJSON(d);
this.write=(d,h,m)=>{d=this.toJSON(d);void 0!==d&&(h[m]=d)};this.write.isJSONMapWriter=!0}var n=b.prototype;n.toJSON=function(r){return this.apiToJSON.hasOwnProperty(r)?this.apiToJSON[r]:this.options.ignoreUnknown?void 0:r};n.fromJSON=function(r){return this.jsonToAPI.hasOwnProperty(r)?this.jsonToAPI[r]:this.options.ignoreUnknown?void 0:r};n.invertMap=function(r){const k={};for(const d in r)k[r[d]]=d;return k};n.getKeysSorted=function(r){const k=[];for(const d in r)k.push(d);k.sort();return k};return b}();
a.JSONMap=c;a.default=c;a.strict=function(){return function(b){return new c(b,{ignoreUnknown:!0})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/subclass":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../has","../metadata","../extensions"],function(a,c,b,n,r){function k(t,p){return null==p.get?function(){return this.__accessor__.getterStatic(t)}:function(){return this.__accessor__.getterComputed(t)}}function d(t){var p=t.prototype,
q=p.declaredClass;p=n.getOwnClassMetadata(p).properties;r.processClassMetadatas(p,q);q={};for(const l of Object.getOwnPropertyNames(p)){const g=p[l];q[l]={enumerable:!0,configurable:!0,get:k(l,g),set(e){const f=this.__accessor__;if(void 0===f)Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:e});else if(!Object.isFrozen(this)){if(f.initialized&&g.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${l}' of ${this.declaredClass}`);if(2===f.lifecycle&&
g.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${l}' of ${this.declaredClass}`);f.set(l,e)}}}}Object.defineProperties(t.prototype,q)}const h=new Set,m=new Set;a.processClass=d;a.subclass=function(t){return p=>{p.prototype.declaredClass=t;r.processPrototypeMetadatas(n.getOwnClassMetadata(p.prototype).properties,t);d(p);const q=[],l=[];for(var g=p.prototype;g;)g.hasOwnProperty("initialize")&&!h.has(g.initialize)&&(h.add(g.initialize),q.push(g.initialize)),
g.hasOwnProperty("destroy")&&!m.has(g.destroy)&&(m.add(g.destroy),l.push(g.destroy)),g=Object.getPrototypeOf(g);h.clear();m.clear();g=function(e){function f(...u){var w=e.call(this,...u)||this;if(w.constructor===f&&"function"===typeof w.postscript){q.length&&Object.defineProperty(c._assertThisInitialized(w),"initialize",{enumerable:!1,configurable:!0,value(){for(let D=q.length-1;0<=D;D--)q[D].call(this)}});if(l.length){let D=!1;Object.defineProperty(c._assertThisInitialized(w),"destroy",{enumerable:!1,
configurable:!0,value(){if(!D){D=!0;for(let v=0;v<l.length;v++)l[v].call(this)}}})}w.postscript(...u)}return w}c._inheritsLoose(f,e);return f}(p);g.__accessorMetadata__=n.getOwnClassMetadata(p.prototype);g.prototype.declaredClass=t;return g}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions":function(){define(["exports","./extensions/serializableProperty"],function(a,c){const b=[c.SerializablePropertyExtension];a.instanceCreated=function(n,r){const k=Object.getOwnPropertyNames(r);
for(const d of b)d.instanceCreated&&d.instanceCreated(n,r,k)};a.processClassMetadatas=function(n,r){for(const k of b)if(k.processClassPropertyMetadata)for(const d in n)k.processClassPropertyMetadata(d,n[d],n,r)};a.processPrototypeMetadatas=function(n,r){for(const k of b)if(k.processPrototypePropertyMetadata)for(const d in n)k.processPrototypePropertyMetadata(d,n[d],n,r)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,c,b,n,r,k){function d(m,t,p){let q=m&&m.json;m&&m.json&&m.json.origins&&p&&(m=m.json.origins[p.origin])&&("any"===t||t in m)&&(q=m);return q}const h={processPrototypePropertyMetadata(m,t){if(r.process(t)){b.process(t);if(t.type)if(t.type){m=0;for(var p=t.type;Array.isArray(p)&&!c.isOneOf(p);)p=p[0],m++;m={type:p,ndimArray:m}}else m=void 0;else if(t.types){m=0;for(p=t.types;Array.isArray(p);)p=p[0],m++;m={types:p,ndimArray:m}}else m=void 0;if(t.json.origins)for(const q in t.json.origins)p=
t.json.origins[q],n.create(m,p,!1),k.create(m,p);n.create(m,t.json,!0);k.create(m,t.json)}}};a.SerializablePropertyExtension=h;a.default=h;a.originSpecificPropertyDefinition=d;a.originSpecificReadPropertyDefinition=function(m,t){return d(m,"read",t)};a.originSpecificWritePropertyDefinition=function(m,t){return d(m,"write",t)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=
function(c){if(c.json&&c.json.origins){const b=c.json.origins;c={"web-document":["web-scene","web-map"]};for(const n in c)if(b[n]){const r=b[n];c[n].forEach(k=>{b[k]=r});delete b[n]}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../object ../../../Logger ../../metadata ../../../Warning ./type".split(" "),function(a,c,b,n,r,k){function d(w){var D;const v=null!=(D=w.ndimArray)?D:0;if(1<v)return p(w);
if(1===v)return q(w);if("type"in w&&l(w.type)){var y,A;D=null==(y=w.type.prototype)?void 0:null==(A=y.itemType)?void 0:A.Type;const E=q("function"===typeof D?{type:D}:{types:D});return(x,F,B)=>(x=E(x,F,B))?new w.type(x):x}return h(w)}function h(w){return"type"in w?m(w.type):f(w.types)}function m(w){return w.prototype.read?(D,v,y)=>{if(null==D)return D;v=typeof D;if("object"!==v)u.error(`Expected JSON value of type 'object' to deserialize type '${w.prototype.declaredClass}', but got '${v}'`);else return v=
new w,v.read(D,y),v}:w.fromJSON}function t(w,D,v,y){return 0!==y&&Array.isArray(D)?D.map(A=>t(w,A,v,y-1)):w(D,void 0,v)}function p(w){var D;const v=h(w),y=t.bind(null,v),A=null!=(D=w.ndimArray)?D:0;return(E,x,F)=>{if(null==E)return E;E=y(E,F,A);x=A;for(F=E;0<x&&Array.isArray(F);)x--,F=F[0];if(void 0!==F)for(F=0;F<x;F++)E=[E];return E}}function q(w){const D=h(w);return(v,y,A)=>{if(null==v)return v;if(Array.isArray(v)){y=[];for(const E of v)v=D(E,void 0,A),void 0!==v&&y.push(v);return y}A=D(v,void 0,
A);return void 0!==A?[A]:void 0}}function l(w){return k.isCollection(w)?(w=w.prototype.itemType)&&w.Type?"function"===typeof w.Type?g(w.Type):e(w.Type):!1:!1}function g(w){return Array.isArray(w)?!1:!!w&&w.prototype&&("read"in w.prototype||"fromJSON"in w||l(w))}function e(w){for(const D in w.typeMap)if(!g(w.typeMap[D]))return!1;return!0}function f(w){var D;let v=null;const y=null!=(D=w.errorContext)?D:"type";return(A,E,x)=>{if(null==A)return A;E=typeof A;if("object"!==E)u.error(`Expected JSON value of type 'object' to deserialize, but got '${E}'`);
else{if(!v){E={};for(const G in w.typeMap){var F,B;const H=w.typeMap[G];var C=n.getOwnClassMetadata(H.prototype);if("function"===typeof w.key)continue;C=C.properties[w.key];if(!C)continue;null!=(F=C.json)&&F.type&&Array.isArray(C.json.type)&&1===C.json.type.length&&"string"===typeof C.json.type[0]&&(E[C.json.type[0]]=H);C=null==(B=C.json)?void 0:B.write;if(!C||!C.writer){E[G]=H;continue}var z=C.target;z="string"===typeof z?z:w.key;const I={};C.writer(G,I,z);I[z]&&(E[I[z]]=H)}v=E}F=w.key;if("string"===
typeof F){if(B=(F=A[F])?v[F]:w.defaultKeyValue?w.typeMap[w.defaultKeyValue]:void 0)return F=new B,F.read(A,x),F;F=`Type '${F||"unknown"}' is not supported`;x&&x.messages&&A&&x.messages.push(new r(`${y}:unsupported`,F,{definition:A,context:x}));u.error(F)}}}}const u=b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(w,D,v){var y,A;!w||!v&&!D.read||null!=(y=D.read)&&y.reader||!1===(null==(A=D.read)?void 0:A.enabled)||(v="types"in w?e(w.types):g(w.type),
v&&c.setDeepValue("read.reader",d(w),D))};a.createTypeReader=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,c){c=function(b){function n(r,k,d){var h=b.call(this,r,k,d)||this;return a._assertThisInitialized(h)instanceof n?h:new n(r,k,d)}a._inheritsLoose(n,b);return n}(c);c.prototype.type="warning";return c})},"esri/core/Message":function(){define(["./object"],function(a){function c(b,n){return b.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,
function(r,k){if(""===k)return"$";r=a.getDeepValue(k,n);r=null==r?"":r;if("undefined"===typeof r)throw Error(`could not find key "${k}" in template`);return r.toString()})}return function(){function b(n,r,k){this.name=n;this.details=k;this.message=void 0;this instanceof b&&(this.message=r&&c(r,k)||"")}b.prototype.toString=function(){return"["+this.name+"]: "+this.message};return b}()})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=
function(c){return!!c&&c.prototype&&c.prototype.declaredClass&&0===c.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function c(r){r.name&&(r.read?"object"===typeof r.read?void 0===r.read.source&&(r.read.source=r.name):r.read={source:r.name}:r.read={source:r.name},r.write?"object"===typeof r.write?void 0===r.write.target&&(r.write.target=
r.name):r.write={target:r.name}:r.write={target:r.name})}function b(r){"boolean"===typeof r.read?r.read={enabled:r.read}:"function"===typeof r.read?r.read={enabled:!0,reader:r.read}:r.read&&"object"===typeof r.read&&void 0===r.read.enabled&&(r.read.enabled=!0)}function n(r){"boolean"===typeof r.write?r.write={enabled:r.write}:"function"===typeof r.write?r.write={enabled:!0,writer:r.write}:r.write&&"object"===typeof r.write&&void 0===r.write.enabled&&(r.write.enabled=!0)}a.process=function(r){r.json||
(r.json={});b(r.json);n(r.json);c(r.json);if(r.json.origins)for(const k in r.json.origins)b(r.json.origins[k]),n(r.json.origins[k]),c(r.json.origins[k]);return!0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../object","./type"],function(a,c,b){function n(t,p,q,l){c.setDeepValue(q,r(t,l),p)}function r(t,p){return t&&"function"===typeof t.write?t.write({},p):t&&"function"===typeof t.toJSON?
t.toJSON():"number"===typeof t?k(t):t}function k(t){return-Infinity===t?-Number.MAX_VALUE:Infinity===t?Number.MAX_VALUE:isNaN(t)?null:t}function d(t,p,q,l){null===t?t=null:t&&"function"===typeof t.map?(t=t.map(g=>r(g,l)),"function"===typeof t.toArray&&(t=t.toArray())):t=[r(t,l)];c.setDeepValue(q,t,p)}function h(t,p,q){return 0!==q&&Array.isArray(t)?t.map(l=>h(l,p,q-1)):r(t,p)}function m(t){return function(p,q,l,g){if(null===p)p=null;else{p=h(p,g,t);g=t;for(var e=p;0<g&&Array.isArray(e);)g--,e=e[0];
if(void 0!==e)for(e=0;e<g;e++)p=[p]}c.setDeepValue(l,p,q)}}a.create=function(t,p){var q;if(p.write&&!p.write.writer&&(!1!==p.write.enabled||p.write.overridePolicy)){var l=null!=(q=null==t?void 0:t.ndimArray)?q:0;t&&(1===l||"type"in t&&b.isCollection(t.type))?p.write.writer=d:p.write.writer=1<l?m(l):n}};a.numberToJSON=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/urlUtils":function(){define("exports ./global ../config ./maybe ./Logger ./Error".split(" "),function(a,c,b,n,r,k){function d(Q){const Y=
{path:null,query:null},aa=new ia(Q),fa=Q.indexOf("?");null===aa.query?Y.path=Q:(Y.path=Q.substring(0,fa),Y.query=h(aa.query));aa.fragment&&(Y.hash=aa.fragment,null===aa.query&&(Y.path=Y.path.substring(0,Y.path.length-(aa.fragment.length+1))));return Y}function h(Q){var Y=Q.split("\x26");Q={};for(const fa of Y){if(!fa)continue;var aa=fa.indexOf("\x3d");0>aa?(Y=decodeURIComponent(fa),aa=""):(Y=decodeURIComponent(fa.slice(0,aa)),aa=decodeURIComponent(fa.slice(aa+1)));let ka=Q[Y];"string"===typeof ka&&
(ka=Q[Y]=[ka]);Array.isArray(ka)?ka.push(aa):Q[Y]=aa}return Q}function m(Q){return Q&&"object"===typeof Q&&"toJSON"in Q&&"function"===typeof Q.toJSON}function t(Q,Y){return Q?Y&&"function"===typeof Y?Object.keys(Q).map(aa=>encodeURIComponent(aa)+"\x3d"+encodeURIComponent(Y(aa,Q[aa]))).join("\x26"):Object.keys(Q).map(aa=>{const fa=Q[aa];if(null==fa)return"";const ka=encodeURIComponent(aa)+"\x3d";return(aa=Y&&Y[aa])?ka+encodeURIComponent(aa(fa)):Array.isArray(fa)?fa.map(la=>m(la)?ka+encodeURIComponent(JSON.stringify(la)):
ka+encodeURIComponent(la)).join("\x26"):m(fa)?ka+encodeURIComponent(JSON.stringify(fa)):ka+encodeURIComponent(fa)}).filter(aa=>aa).join("\x26"):""}function p(Q){const Y=Q.indexOf("?");-1!==Y?(ta.path=Q.slice(0,Y),ta.query=Q.slice(Y+1)):(ta.path=Q,ta.query=null);return ta}function q(Q){Q=p(Q).path;Q&&"/"===Q[Q.length-1]||(Q=`${Q}/`);Q=I(Q,!0);return Q=Q.toLowerCase()}function l(Q){const Y=U.proxyRules;Q=q(Q);for(let aa=0;aa<Y.length;aa++)if(0===Q.indexOf(Y[aa].urlPrefix))return Y[aa]}function g(Q){Q=
u(Q);const Y=Q.indexOf("/sharing");return 0<Y?Q.substring(0,Y):Q.replace(/\/+$/,"")}function e(Q,Y,aa=!1){Q=T(Q);Y=T(Y);return!aa&&Q.scheme!==Y.scheme||null==Q.host||null==Y.host?!1:Q.host.toLowerCase()===Y.host.toLowerCase()&&Q.port===Y.port}function f(Q,Y=ma,aa){return B(Q)?aa&&aa.preserveProtocolRelative?Q:"http"===ha.scheme&&ha.authority===D(Q).slice(2)?`http:${Q}`:`https:${Q}`:C(Q)?Q:n.assumeNonNull(w("/"===Q[0]?K(Y):Y,Q))}function u(Q){Q=Q.trim();Q=f(Q);if(/^https?:\/\//i.test(Q)){const Y=p(Q);
Q=Y.path.replace(/\/{2,}/g,"/");Q=Q.replace("/","//");Y.query&&(Q+=`?${Y.query}`)}Q=Q.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return Q=L(Q)}function w(...Q){var Y=Q.filter(n.isSome);if(Y&&Y.length){Q=[];if(v(Y[0])){var aa=Y[0],fa=aa.indexOf("//");-1!==fa&&(Q.push(aa.slice(0,fa+1)),P.test(Y[0])&&(Q[0]+="/"),Y[0]=aa.slice(fa+2))}else"/"===Y[0][0]&&Q.push("");Y=Y.reduce((ka,la)=>la?ka.concat(la.split("/")):ka,[]);for(aa=0;aa<Y.length;aa++)fa=Y[aa],".."===fa&&0<Q.length&&".."!==Q[Q.length-
1]?Q.pop():(!fa&&aa===Y.length-1||fa&&("."!==fa||0===Q.length))&&Q.push(fa);return Q.join("/")}}function D(Q,Y=!1){if(y(Q)||A(Q))return null;var aa=Q.indexOf("://");if(-1===aa&&B(Q))aa=2;else if(-1!==aa)aa+=3;else return null;aa=Q.indexOf("/",aa);-1!==aa&&(Q=Q.slice(0,aa));Y&&(Q=I(Q,!0));return Q}function v(Q){return B(Q)||C(Q)}function y(Q){return null!=Q&&"blob:"===Q.slice(0,5)}function A(Q){return"data:"===Q.slice(0,5)}function E(Q){Q=x(Q);if(!Q||!Q.isBase64)return null;Q=atob(Q.data);const Y=
new Uint8Array(Q.length);for(let aa=0;aa<Q.length;aa++)Y[aa]=Q.charCodeAt(aa);return Y.buffer}function x(Q){Q=Q.match(Z);if(!Q)return null;const [,Y,aa,fa]=Q;return{mediaType:Y,isBase64:!!aa,data:fa}}function F(Q){const Y=E(Q);if(!Y)return null;Q=x(Q);return new Blob([Y],{type:Q.mediaType})}function B(Q){return null!=Q&&void 0!==Q&&"/"===Q[0]&&"/"===Q[1]}function C(Q){return W.test(Q)}function z(Q){return S.test(Q)||"http"===ha.scheme&&B(Q)}function G(Q){return B(Q)?`https:${Q}`:Q.replace(S,"https:")}
function H(){return"https"===ha.scheme}function I(Q,Y=!1){if(B(Q))return Q.slice(2);Q=Q.replace(W,"");Y&&1<Q.length&&"/"===Q[0]&&"/"===Q[1]&&(Q=Q.slice(2));return Q}function K(Q){var Y=Q.indexOf("//");Y=Q.indexOf("/",Y+2);return-1===Y?Q:Q.slice(0,Y)}function L(Q){const Y=U.httpsDomains;if(!z(Q))return Q;const aa=Q.indexOf("/",7);let fa;fa=-1===aa?Q:Q.slice(0,aa);fa=fa.toLowerCase().slice(7);if(J.test(fa))if(fa.endsWith(":80"))fa=fa.slice(0,-3),Q=Q.replace(":80","");else return Q;if("http"===ha.scheme&&
fa===ha.authority&&!M.test(Q))return Q;if(H()&&fa===ha.authority||Y&&Y.some(ka=>fa===ka||fa.endsWith(`.${ka}`))||H()&&!l(Q))Q=G(Q);return Q}function T(Q){if("string"===typeof Q)return new ia(f(Q));Q.scheme||(Q.scheme=ha.scheme);return Q}const O=r.getLogger("esri.core.urlUtils"),U=b.request,W=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,S=/^\s*http:/i,N=/^\s*https:/i,P=/^\s*file:/i,J=/:\d+$/,M=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,R=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,X=
/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/;let ia=function(){function Q(Y=""){this.uri=Y;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;Y=n.assumeNonNull(this.uri.match(R));this.scheme=Y[2]||(Y[1]?"":null);this.authority=Y[4]||(Y[3]?"":null);this.path=Y[5];this.query=Y[7]||(Y[6]?"":null);this.fragment=Y[9]||(Y[8]?"":null);null!=this.authority&&(Y=n.assumeNonNull(this.authority.match(X)),this.user=Y[3]||null,this.password=
Y[4]||null,this.host=Y[6]||Y[7],this.port=Y[9]||null)}Q.prototype.toString=function(){return this.uri};return Q}();const ha=new ia(b.applicationUrl),ja={},ma=(()=>{var Q=n.assumeNonNull(ha.path);Q=Q.substring(0,Q.lastIndexOf(Q.split("/")[Q.split("/").length-1]));return`${`${ha.scheme}://${ha.host}${null!=ha.port?`:${ha.port}`:""}`}${Q}`})(),ta={path:"",query:""},Z=/^data:(.*?)(;base64)?,(.*)$/,V=/.*?\.([^\/]*)$/,ba=/(^data:image\/svg|\.svg$)/i;a.Url=ia;a.addProxy=function(Q){var Y=l(Q),aa=void 0;
if(Y){var fa=p(Y.proxyUrl);aa=fa.path;fa=fa.query?h(fa.query):null}aa&&(Y=d(Q),Q=aa+"?"+Y.path,(aa=t({...fa,...Y.query}))&&(Q=`${Q}?${aa}`));return Q};a.addProxyRule=function(Q){Q={proxyUrl:Q.proxyUrl,urlPrefix:q(Q.urlPrefix)};const Y=U.proxyRules,aa=Q.urlPrefix;let fa=Y.length;for(let ka=0;ka<Y.length;ka++){const la=Y[ka].urlPrefix;if(0===aa.indexOf(la)){if(aa.length===la.length)return-1;fa=ka;break}0===la.indexOf(aa)&&(fa=ka+1)}Y.splice(fa,0,Q);return fa};a.addQueryParameter=function(Q,Y,aa){Q=
d(Q);const fa=Q.query||{};fa[Y]=String(aa);return`${Q.path}?${t(fa)}`};a.addQueryParameters=function(Q,Y){Q=d(Q);const aa=Q.query||{};for(const fa in Y)aa[fa]=Y[fa];return(Y=t(aa))?`${Q.path}?${Y}`:Q.path};a.appBaseUrl=ma;a.appUrl=ha;a.changeDomain=function(Q,Y,aa){if(!(Y&&aa&&Q&&v(Q)))return Q;const fa=Q.indexOf("//");var ka=Q.indexOf("/",fa+2);const la=Q.indexOf(":",fa+2);ka=Math.min(0>ka?Q.length:ka,0>la?Q.length:la);if(Q.slice(fa+2,ka).toLowerCase()!==Y.toLowerCase())return Q;Y=Q.slice(0,fa+2);
Q=Q.slice(ka);return`${Y}${aa}${Q}`};a.dataComponents=x;a.dataToArrayBuffer=E;a.dataToBlob=F;a.downloadDataAsFile=function(Q,Y){a:{var aa=document.createElement("a");if("download"in aa){var fa=null;if(c.URL&&c.URL.createObjectURL){fa=F(Q);if(!fa){aa=!1;break a}fa=c.URL.createObjectURL(fa)}aa.download=Y;aa.href=fa||Q;aa.style.display="none";document.body.appendChild(aa);aa.click();document.body.removeChild(aa);fa&&c.URL.revokeObjectURL(fa);aa=void 0}else aa=!1}aa||window.navigator.msSaveOrOpenBlob&&
window.navigator.msSaveOrOpenBlob(F(Q),Y)};a.getFilename=function(Q,Y){if(!Q)return"";Q=d(Q).path.replace(/\/+$/,"");Q=Q.substring(Q.lastIndexOf("/")+1);if(null==Y||!Y.length)return Q;Y=new RegExp(`\.(${Y.join("|")})$`,"ig");return Q.replace(Y,"")};a.getInterceptor=function(Q){const Y=fa=>null==fa||fa instanceof RegExp&&fa.test(Q)||"string"===typeof fa&&Q.startsWith(fa),aa=U.interceptors;if(aa)for(const fa of aa)if(Array.isArray(fa.urls)){if(fa.urls.some(Y))return fa}else if(Y(fa.urls))return fa;
return null};a.getOrigin=D;a.getPathExtension=function(Q){return n.isNone(Q)?null:(Q=Q.match(V))?Q[1]:null};a.getProxyRule=l;a.getProxyUrl=function(Q=!1){let Y,aa=U.proxyUrl;if("string"===typeof Q){if(Y=N.test(Q)||"https"===ha.scheme&&B(Q),Q=l(Q))aa=Q.proxyUrl}else Y=!!Q;if(!aa)throw O.warn("esri/config: esriConfig.request.proxyUrl is not set."),new k("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");Y&&H()&&(aa=G(aa));return d(aa)};a.hasProtocol=C;a.hasSameOrigin=e;
a.hasSamePortal=function(Q,Y){Q=g(Q);Y=g(Y);return I(Q)===I(Y)};a.isAbsolute=v;a.isAppHTTPS=H;a.isBlobProtocol=y;a.isDataProtocol=A;a.isProtocolRelative=B;a.isSVG=function(Q){return ba.test(Q)};a.isTrustedServer=function(Q){if("string"===typeof Q)if(v(Q))Q=T(Q);else return!0;if(e(Q,ha))return!0;const Y=U.trustedServers||[];for(let fa=0;fa<Y.length;fa++){var aa=Y[fa];ja[aa]||(C(aa)||B(aa)?ja[aa]=[new ia(f(aa))]:ja[aa]=[new ia(`http://${aa}`),new ia(`https://${aa}`)]);aa=ja[aa];for(let ka=0;ka<aa.length;ka++)if(e(Q,
aa[ka]))return!0}return!1};a.join=w;a.makeAbsolute=f;a.makeData=function(Q){return Q.isBase64?`data:${Q.mediaType};base64,${Q.data}`:`data:${Q.mediaType},${Q.data}`};a.makeRelative=function(Q,Y=ma,aa){if(!v(Q))return Q;var fa=u(Q),ka=fa.toLowerCase();Y=u(Y).toLowerCase().replace(/\/+$/,"");if((aa=aa?u(aa).toLowerCase().replace(/\/+$/,""):null)&&0!==Y.indexOf(aa))return Q;var la=ka.indexOf("//")+2;la=ka.indexOf("/",la);var oa=-1===la?ka.length:la;for(la=-1;ka.slice(0,oa+1)===Y.slice(0,oa)+"/";){la=
oa+1;if(oa===ka.length)break;var ra=ka;oa+=1;oa=ra.indexOf("/",oa);oa=-1===oa?ra.length:oa}if(-1===la||aa&&la<aa.length)return Q;Q=fa.slice(la);fa=Y.slice(la-1).replace(/[^/]+/g,"").length;if(0<fa)for(ka=0;ka<fa;ka++)Q=`../${Q}`;else Q=`./${Q}`;return Q};a.normalize=u;a.objectToQuery=t;a.queryToObject=h;a.removeFile=function(Q){let Y=0;if(v(Q)){var aa=Q.indexOf("//");-1!==aa&&(Y=aa+2)}aa=Q.lastIndexOf("/");return aa<Y?Q:Q.slice(0,aa+1)};a.removeQueryParameter=function(Q,Y){const {path:aa,query:fa}=
d(Q);if(!fa)return Q;delete fa[Y];return(Q=t(fa))?`${aa}?${Q}`:aa};a.removeQueryParameters=function(Q,Y){Q=d(Q);const aa=Object.keys(Q.query||{});0<aa.length&&Y&&Y.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${aa.join(", ")}.`);return Q.path};a.removeTrailingSlash=function(Q){return Q.replace(/\/+$/,"")};a.toHTTP=function(Q){return B(Q)?`http:${Q}`:Q.replace(N,"http:")};a.toHTTPS=G;a.trustedServersUrlCache=ja;a.urlToObject=d;
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers","./lang","./Logger","./Message"],function(a,c,b,n){n=function(r){function k(d,h,m){var t=r.call(this,d,h,m)||this;return a._assertThisInitialized(t)instanceof k?t:new k(d,h,m)}a._inheritsLoose(k,r);k.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(d,h)=>{if(h&&"object"===typeof h&&
"function"===typeof h.toJSON)return h;try{return c.clone(h)}catch(m){return"[object]"}}))}}catch(d){throw b.getLogger("esri.core.Error").error(d),d;}return{name:this.name,message:this.message,details:this.details}};k.fromJSON=function(d){return new k(d.name,d.message,d.details)};return k}(n);n.prototype.type="error";return n})},"esri/core/uuid":function(){define(["exports","./global"],function(a,c){const b=c.crypto||c.msCrypto;a.generateUUID=function(){const n=b.getRandomValues(new Uint16Array(8));
n[3]=n[3]&4095|16384;n[4]=n[4]&16383|32768;return n[0].toString(16)+n[1].toString(16)+"-"+n[2].toString(16)+"-"+n[3].toString(16)+"-"+n[4].toString(16)+"-"+n[5].toString(16)+n[6].toString(16)+n[7].toString(16)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/resourceExtension":function(){define(["exports","../../core/urlUtils"],function(a,c){const b={},n=b["text/plain"],r={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",
txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const k in r)b[r[k]]=k;a.getResourceContentExtension=function(k){k instanceof Blob?k=k.type:(k=c.getPathExtension(k.url),k=r[k]||"text/plain");return b[k]||n};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./Logger ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/set ./accessorSupport/decorators/property ./deprecate ./accessorSupport/decorators/subclass ./accessorSupport/Properties ./accessorSupport/watch".split(" "),
function(a,c,b,n,r,k,d,h,m,t){function p(q){if(null==q)return{value:q};if(Array.isArray(q))return{type:[q[0]],value:null};switch(typeof q){case "object":return q.constructor&&q.constructor.__accessorMetadata__||q instanceof Date?{type:q.constructor,value:q}:q;case "boolean":return{type:Boolean,value:q};case "string":return{type:String,value:q};case "number":return{type:Number,value:q};case "function":return{type:q,value:null}}}return function(){function q(...g){if(this.constructor===q)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new m(this)});0<g.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,g))}q.createSubclass=function(g={}){if(Array.isArray(g))throw Error("Multi-inheritance unsupported since 4.16");const {properties:e,declaredClass:f,constructor:u}=g;delete g.declaredClass;delete g.properties;delete g.constructor;const w=this;let D=function(v){function y(...A){var E=v.call(this,...A)||this;E.inherited=null;u&&
u.apply(a._assertThisInitialized(E),A);return E}a._inheritsLoose(y,v);return y}(w);n.getOwnClassMetadata(D.prototype);for(const v in g){const y=g[v];D.prototype[v]="function"===typeof y?function(...A){const E=this.inherited;this.inherited=function(...F){if(w.prototype[v])return w.prototype[v].apply(this,F)};let x=void 0;try{x=y.apply(this,A)}catch(F){throw this.inherited=E,F;}this.inherited=E;return x}:g[v]}for(const v in e)g=p(e[v]),k.property(g)(D.prototype,v);return h.subclass(f)(D)};var l=q.prototype;
l.postscript=function(g){const e=this.__accessor__;g=e.ctorArgs||g;e.initialize();g&&(this.set(g),e.ctorArgs=null);e.constructed();this.initialize()};l.initialize=function(){};l.destroy=function(){this.destroyed||(t.removeTarget(this),this.__accessor__.destroy())};l.commitProperty=function(g){this.get(g)};l.get=function(g){return b.get(this,g)};l.hasOwnProperty=function(g){return this.__accessor__?this.__accessor__.has(g):Object.prototype.hasOwnProperty.call(this,g)};l.isInstanceOf=function(g){d.deprecatedFunction(c.getLogger(this.declaredClass),
"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"});return this instanceof g};l.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};l.set=function(g,e){r.set(this,g,e);return this};l.watch=function(g,e,f){return t.watch(this,g,e,f)};l._clearOverride=function(g){return this.__accessor__.clearOverride(g)};l._override=function(g,e){return this.__accessor__.override(g,e)};l._isOverridden=function(g){return this.__accessor__.isOverridden(g)};l.notifyChange=function(g){this.__accessor__.propertyInvalidated(g)};
l._get=function(g){return this.__accessor__.internalGet(g)};l._set=function(g,e){this.__accessor__.internalSet(g,e);return this};a._createClass(q,[{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return q}()})},"esri/core/deprecate":function(){define(["exports",
"./has"],function(a,c){function b(k,d,h=!1){h&&r.has(d)||(h&&r.add(d),k.warn(`\ud83d\uded1 DEPRECATED - ${d}`))}function n(k,d,h={}){if(c("esri-deprecation-warnings")){const {replacement:m,version:t,see:p,warnOnce:q}=h;m&&(d+=`\n\t\ud83d\udee0\ufe0f Replacement: ${m}`);t&&(d+=`\n\t\u2699\ufe0f Version: ${t}`);p&&(d+=`\n\t\ud83d\udd17 See ${p} for more details.`);b(k,d,q)}}const r=new Set;a.deprecated=n;a.deprecatedFunction=function(k,d,h={}){if(c("esri-deprecation-warnings")){const {moduleName:m}=
h;n(k,`Function: ${(m?m+"::":"")+d+"()"}`,h)}};a.deprecatedModule=function(k,d,h={}){c("esri-deprecation-warnings")&&n(k,`Module: ${d}`,h)};a.deprecatedProperty=function(k,d,h={}){if(c("esri-deprecation-warnings")){const {moduleName:m}=h;n(k,`Property: ${(m?m+"::":"")+d}`,h)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ./utils ./PropertyOrigin ../ObjectPool ./Property ./Store ./tracking".split(" "),
function(a,c,b,n,r,k,d,h,m,t){n.getLogger("esri.core.accessorSupport.Properties");c=function(){function q(g){this.host=g;this.properties=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=0;this.store=new m.Store;this._origin=6;const e=this.host.constructor.__accessorMetadata__,f=e.properties;for(const u in f){const w=new h.Property(g,u,f[u]);this.properties.set(u,w)}this.metadatas=f;this._autoDestroy=e.autoDestroy}var l=q.prototype;l.initialize=function(){this.lifecycle=1};l.constructed=
function(){this.lifecycle=2};l.destroy=function(){this.destroyed=!0;if(this._autoDestroy)for(const [e,f]of this.properties){var g=this.internalGet(e);g&&g&&"function"===typeof g.destroy&&(g.destroy(),~f.flags&8&&this._internalSet(f,null));f.destroy()}else for([,g]of this.properties)g.destroy()};l.get=function(g){return this.properties.get(g).metadata.get?this.getterComputed(g):this.getterStatic(g)};l.getterStatic=function(g){const e=this.properties.get(g);if(void 0!==e)return t.trackAccess(e),this.store.has(g)?
this.store.get(g):e.metadata.value};l.getterComputed=function(g){const e=this.properties.get(g);t.trackAccess(e);const f=this.store;var u=e.flags;const w=this.store.get(g);if(u&4||f.has(g)&&(~u&1||h.isInvalidating()))return w;e.flags|=4;const D=e.metadata.get;u&64?u=t.runTracked(e,D,this.host):(t.trackExplicitDependencies(this.host,e),u=D.call(this.host));f.set(g,u,1);g=this.store.get(g);g===w?e.flags&=-2:e.commit();e.flags&=-5;return g};l.originOf=function(g){const e=this.store.originOf(g);return void 0===
e&&(g=this.properties.get(g),void 0!==g&&g.flags&16)?"defaults":k.idToName(e)};l.has=function(g){return this.properties.has(g)?this.store.has(g):!1};l.keys=function(){return[...this.properties.keys()]};l.internalGet=function(g){const e=this.properties.get(g);if(void 0!==e)return this.store.has(g)?this.store.get(g):e.metadata.value};l.internalSet=function(g,e){g=this.properties.get(g);void 0!==g&&this._internalSet(g,e)};l.getDependsInfo=function(g,e,f){const u=this.properties.get(e);if(void 0===u)return"";
const w=new Set;var D=t.runTracked({onObservableAccessed:y=>w.add(y),onTrackingEnd:()=>{}},()=>{var y;return null==(y=u.metadata.get)?void 0:y.call(g)}),v=g.declaredClass.split(".").pop();e=`${f}${v}.${e}: ${D}\n`;if(0===w.size)return e;f+="  ";for(const y of w){if(!(y instanceof h.Property))continue;D=y.host;v=y.propertyName;const A=r.getProperties(D);e=A?e+A.getDependsInfo(D,v,f):e+`${f}${v}: undefined\n`}return e};l.setAtOrigin=function(g,e,f){g=this.properties.get(g);if(void 0!==g)return this._setAtOrigin(g,
e,f)};l.isOverridden=function(g){g=this.properties.get(g);return void 0!==g&&!!(g.flags&2)};l.clearOverride=function(g){g=this.properties.get(g);void 0!==g&&g.flags&2&&(g.flags&=-3,g.invalidate())};l.override=function(g,e){g=this.properties.get(g);if(!(void 0===g||null==e&&g.flags&8)){var f=g.metadata.cast;if(f){e=this._cast(f,e);const {valid:u,value:w}=e;p.release(e);if(!u)return;e=w}g.flags|=2;this._internalSet(g,e)}};l.set=function(g,e){g=this.properties.get(g);if(!(void 0===g||null==e&&g.flags&
8)){var f=g.metadata.cast;if(f){e=this._cast(f,e);const {valid:u,value:w}=e;p.release(e);if(!u)return;e=w}(f=g.metadata.set)?f.call(this.host,e):this._internalSet(g,e)}};l.setDefaultOrigin=function(g){this._origin=k.nameToId(g)};l.getDefaultOrigin=function(){return k.idToName(this._origin)};l.propertyInvalidated=function(g){g=this.properties.get(g);void 0!==g&&g.invalidate()};l.propertyCommitted=function(g){g=this.properties.get(g);void 0!==g&&g.commit()};l._internalSet=function(g,e){this._setAtOrigin(g,
e,0!==this.lifecycle?this._origin:0)};l._setAtOrigin=function(g,e,f){const u=this.store,w=g.propertyName;u.has(w,f)&&b.equals(e,u.get(w))&&~g.flags&2&&f===u.originOf(w)||(h.startInvalidating(),g.invalidate(),h.stopInvalidating(),u.set(w,e,f),g.commit(),t.initializeDependencyTracking(this.host,g))};l._cast=function(g,e){const f=p.acquire();f.valid=!0;f.value=e;g&&(f.value=g.call(this.host,e,f));return f};a._createClass(q,[{key:"initialized",get:function(){return 0!==this.lifecycle}}]);return q}();
n=function(){function q(){this.value=null;this.valid=!0}var l=q.prototype;l.acquire=function(){this.valid=!0};l.release=function(){this.value=null};return q}();const p=new d(n);return c})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,c){function b(r){switch(r){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function n(r){switch(r){case 0:return"defaults";
case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}return c.assumeNonNull(void 0)}a.OriginIdNum=7;a.idToName=n;a.idToReadableName=function(r){return n(r)};a.idToWritableName=function(r){return n(r)};a.nameToId=b;a.readableNameToId=function(r){return b(r)};a.writableNameToId=function(r){return b(r)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ObjectPool":function(){define(function(){let a=function(){function c(n,
r,k,d=1,h=0){this.ctor=n;this.acquireFunction=r;this.releaseFunction=k;this.allocationSize=d;this._pool=Array(h);this._initialSize=h;if(this.ctor)for(n=0;n<h;n++)this._pool[n]=new this.ctor;this.allocationSize=Math.max(d,1)}var b=c.prototype;b.destroy=function(){this.prune(0)};b.acquire=function(...n){if(c.test.disabled)var r=new this.ctor;else{if(0===this._pool.length){r=this.allocationSize;for(let k=0;k<r;k++)this._pool[k]=new this.ctor}r=this._pool.pop()}this.acquireFunction?this.acquireFunction(r,
...n):r&&r.acquire&&"function"===typeof r.acquire&&r.acquire(...n);return r};b.release=function(n){n&&!c.test.disabled&&(this.releaseFunction?this.releaseFunction(n):n&&n.release&&"function"===typeof n.release&&n.release(),this._pool.push(n))};b.prune=function(n=this._initialSize){if(!(n>=this._pool.length)){for(let r=n;r<this._pool.length;++r)this._dispose(this._pool[r]);this._pool.length=n}};b._dispose=function(n){n.dispose&&"function"===typeof n.dispose&&n.dispose()};return c}();a.test={disabled:!1};
return a})},"esri/core/accessorSupport/Property":function(){define(["exports","./tracking/ObservationHandle"],function(a,c){let b=!1,n=function(){function r(d,h,m){this.host=d;this.propertyName=h;this.metadata=m;this.flags=1;this._accessed=this._observers=null;this._handles=[];this.flags=1|(m.nonNullable?8:0)|(m.hasOwnProperty("value")?16:0)|(void 0===m.get?32:0)|(void 0===m.dependsOn?64:0)}var k=r.prototype;k.destroy=function(){this._accessed&&(this._accessed.clear(),this._accessed=null);this._observers&&
(this._observers.clear(),this._observers=null);this._clearObservationHandles()};k.onObservableAccessed=function(d){d!==this&&(null===this._accessed&&(this._accessed=new Set),this._accessed.add(d))};k.onTrackingEnd=function(){this._clearObservationHandles();this.flags|=32;const d=this._accessed;if(null!==d){var h=this._handles;for(const m of d)h.push(m.observe(this));d.clear()}};k.observe=function(d){null===this._observers&&(this._observers=new Set);return new c.ObservationHandle(this._observers.add(d),
d)};k.notify=function(){~this.flags&2&&(this.flags|=1);this._notifyObservers()};k.invalidate=function(){this.notify()};k.commit=function(){this.flags&=-2;this._notifyObservers()};k._notifyObservers=function(){if(null!==this._observers){var d=this._observers.size,h=Array(d);--d;for(var m of this._observers)h[d--]=m;for(m=!b;h.length;)if(d=h.pop(),void 0!==d.flags){if(~d.flags&2&&(d.flags|=1),null!==d._observers)for(const t of d._observers)h.push(t)}else m&&d.notify()}};k._clearObservationHandles=function(){for(const d of this._handles)d.remove();
this._handles.length=0};return r}();a.Property=n;a.isInvalidating=function(){return b};a.startInvalidating=function(){b=!0};a.stopInvalidating=function(){b=!1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports"],function(a){let c=function(){function b(n,r){this._observers=n;this._observer=r}b.prototype.remove=function(){this._observers.delete(this._observer)};return b}();a.ObservationHandle=c;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang"],function(a,c){let b=function(){function n(){this._values=new Map}var r=n.prototype;r.clone=function(k){const d=new n;this._values.forEach((h,m)=>{k&&k.has(m)||d.set(m,c.clone(h))});return d};r.get=function(k){return this._values.get(k)};r.originOf=function(){return 6};r.keys=function(){return[...this._values.keys()]};r.set=function(k,d){this._values.set(k,d)};r.delete=function(k){this._values.delete(k)};
r.has=function(k){return this._values.has(k)};r.forEach=function(k){this._values.forEach(k)};return n}();a.Store=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils"],function(a,c,b,n){function r(u){if(void 0!==q)q.onObservableAccessed(u)}function k(u,w,D){const v=g;g=!0;q=u;p.push(u);u=null;try{u=w.call(D)}catch(y){e&&l.error(y)}d();g=v;return u}function d(){const u=p.pop();q=0<p.length?p[p.length-1]:
void 0;if(void 0!==u)u.onTrackingEnd()}function h(u,w){if(!(w.flags&32)){var D=e;e=!1;w.flags&64?k(w,w.metadata.get,u):m(u,w);e=D}}function m(u,w){w.flags&128||(w.flags|=128,k(w,()=>{var D=w.metadata.dependsOn||f;for(const v of D)if("string"===typeof v&&-1===v.indexOf("."))t(u,v,!1);else{D=n.pathToArray(v);for(let y=0,A=u;y<D.length&&null!=A&&"object"===typeof A;++y)A=t(A,D[y],y!==D.length-1)}}),w.flags&=-129)}function t(u,w,D){w="?"===w[w.length-1]?w.slice(0,-1):w;if(null!=u.getItemAt||Array.isArray(u)){var v=
parseInt(w,10);if(!isNaN(v))return Array.isArray(u)?u[v]:u.getItemAt(v)}v=n.getProperties(u);if(v=null==v?void 0:v.properties.get(w))r(v),h(u,v);return D?u[w]:void 0}let p=[],q=void 0;const l=b.getLogger("esri.core.Accessor");let g=!1,e=!1;const f=[];a.initializeDependencyTracking=h;a.resetGlobalTarget=function(){p=[]};a.runTracked=function(u,w,D){if(g)return k(u,w,D);q=u;p.push(u);u=w.call(D);d();return u};a.runTrackedNoThrow=k;a.trackAccess=r;a.trackExplicitDependencies=m;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/accessorSupport/watch":function(){define("exports ../lang ./utils ./get ../ArrayPool ../ReentrantObjectPool ../scheduling ./trackingUtils".split(" "),function(a,c,b,n,r,k,d,h){function m(y){u.has(y)?w.splice(w.indexOf(y),1):u.add(y);w.push(y);D||(D=d.schedule(p))}function t(y){if(!y.removed){var {callback:A,path:E,oldValue:x,target:F}=y,B=y.getValue();c.equals(x,B)||(y.oldValue=B,A.call(F,B,x,E,F))}}function p(){let y=10;for(;D&&y--;){D=null;const E=w;w=f.acquire();
u.clear();const x=f.acquire();for(const F of E){var A=F.uid;t(F);A===F.uid&&F.removed&&x.push(F)}for(A=0;A<w.length;A++){const F=w[A];F.removed&&(x.push(F),u.delete(F),w.splice(A,1),--A)}for(A=0;A<x.length;A++)e.pool.release(x[A]);f.release(E);f.release(x);v.forEach(F=>F())}}function q(y,A,E){let x=b.parse(y,A,E,(F,B,C)=>{let z,G,H=h.reactionAsync(()=>n.valueOf(F,B),(I,K)=>{F.__accessor__.destroyed||z&&z.uid!==G?x.remove():(z||(z=e.pool.acquire(F,B,I,C,K),G=z.uid),m(z))});return{remove:b.once(function(){H.remove();
z&&(z.uid!==G||z.removed||(z.removed=!0,m(z)),z=null);x=H=null})}});return x}function l(y,A,E){const x=b.parse(y,A,E,(F,B,C)=>{let z=!1;return h.reaction(()=>n.valueOf(F,B),(G,H)=>{F.__accessor__.destroyed?x.remove():z||(z=!0,c.equals(H,G)||C.call(F,G,H,B,F),z=!1)})});return x}function g(y,A,E,x=!1){return!y.__accessor__||y.__accessor__.destroyed?{remove(){}}:x?l(y,A,E):q(y,A,E)}let e=function(){function y(){this.uid=0;this.getValue=this.callback=this.oldValue=this.path=this.target=null;this.removed=
!1;this.propertyPath=null}var A=y.prototype;A.acquire=function(E,x,F,B,C){this.target=E;this.path=x;this.oldValue=F;this.callback=B;this.getValue=C;this.propertyPath=b.pathToStringOrArray(x);this.uid=++y.uid;this.removed=!1};A.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++y.uid;this.removed=!0};return y}();e.pool=new k.ReentrantObjectPool(e);e.uid=0;const f=new r,u=new Set;let w=f.acquire(),D;const v=new Set;a.afterDispatch=function(y){v.add(y);
return{remove(){v.delete(y)}}};a.default=g;a.dispatch=p;a.dispatchTarget=function(y){const A=f.copy(w);for(let E=0;E<A.length;E++){const x=A[E];x.target===y&&(t(x),u.delete(x),w.splice(w.indexOf(x),1))}};a.isValueInUse=function(y){return w.some(A=>A.oldValue===y)};a.removeTarget=function(y){for(let A=0;A<w.length;A++){const E=w[A];E.target===y&&(E.removed=!0)}};a.watch=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function c(k){k.length=
0}const b=Array.prototype.splice;let n=function(){function k(h=50,m=50){this._pool=new a(Array,void 0,c,m,h)}var d=k.prototype;d.acquire=function(){return this._pool.acquire()};d.copy=function(h){const m=this.acquire();h.unshift(0,0);b.apply(m,h);h.splice(0,2);return m};d.release=function(h){this._pool.release(h)};d.prune=function(){this._pool.prune(0)};k.acquire=function(){return r.acquire()};k.copy=function(h){return r.copy(h)};k.release=function(h){return r.release(h)};k.prune=function(){r.prune()};
return k}();const r=new n(100);return n})},"esri/core/ReentrantObjectPool":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,c,b,n){n=function(r){function k(){var h=r.apply(this,arguments)||this;h._set=new Set;return h}c._inheritsLoose(k,r);var d=k.prototype;d.destroy=function(){r.prototype.destroy.call(this);this._set=b.nullifyNonnullableForDispose(this._set)};d.acquire=function(...h){h=r.prototype.acquire.call(this,...h);this._set.delete(h);
return h};d.release=function(h){h&&!this._set.has(h)&&(r.prototype.release.call(this,h),this._set.add(h))};d._dispose=function(h){this._set.delete(h);r.prototype._dispose.call(this,h)};return k}(n);a.ReentrantObjectPool=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/scheduling":function(){define("exports ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils".split(" "),function(a,c,b,n,r,k){function d(){const x=performance.now();v=null;v=0<u.length?requestAnimationFrame(d):
null;D.executeFrameTasks(x)}function h(){u.forAll(x=>{x.removed&&y.push(x)});u.removeUnorderedMany(y.data,y.length);y.clear()}function m(){for(;f.length;){const x=c.assumeNonNull(f.shift());x.isActive&&x.callback()}D.willDispatch=!1}let t=function(x){this.phases=x;this.paused=!1;this.ticks=-1;this.removed=!1},p=function(){function x(F){this.callback=F;this.isActive=!0}x.prototype.remove=function(){this.isActive=!1};return x}(),q=0,l=0;const g={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},
e=["prepare","preRender","render","postRender","update"],f=[],u=new r;let w=function(){function x(B){this._task=B}var F=x.prototype;F.remove=function(){this._task.removed=!0};F.pause=function(){this._task.paused=!0};F.resume=function(){this._task.paused=!1};return x}();const D={frameTasks:u,willDispatch:!1,clearFrameTasks:function(x=!1){u.forAll(F=>{F.removed=!0});x&&h()},dispatch:m,executeFrameTasks:function(x){const F=x-q;q=x;const B=0<l?l:1E3/60,C=Math.max(0,F-B);for(let z=0;z<e.length;z++){const G=
performance.now(),H=e[z];u.forAll(I=>{var K;I.paused||I.removed||(0===z&&I.ticks++,I.phases[H]&&(g.time=x,g.deltaTime=0===I.ticks?0:F,g.elapsedFrameTime=performance.now()-x,g.frameDuration=B-C,null==(K=I.phases[H])?void 0:K.call(I,g)))});A[z].record(performance.now()-G)}h();E.record(performance.now()-x)}};let v=null;const y=new r,A=e.map(x=>new n(x)),E=new n("total");a.FrameTaskHandle=w;a.addFrameTask=function(x){x=new t(x);u.push(x);null==v&&(q=performance.now(),v=requestAnimationFrame(d));return new w(x)};
a.debug=D;a.performanceInfo=A;a.performanceTotal=E;a.schedule=function(x){x=new p(x);f.push(x);D.willDispatch||(D.willDispatch=!0,b(m));return x};a.setFrameDuration=function(x){l=Math.max(0,x)};a.waitTicks=function(x=1,F){const B=k.createResolver(),C=()=>{k.isAborted(F)?B.reject(k.createAbortError()):0===x?B():(--x,b(()=>C()))};C();return B.promise};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/nextTick":function(){define(["./global"],function(a){function c(k){n.push(k);1===n.length&&
b(()=>{for(var d of r)d();d=n.slice();n.length=0;for(const h of d)h()})}const b=function(){return a.queueMicrotask?a.queueMicrotask:k=>{a.Promise.resolve().then(k)}}(),n=[];let r=[];(function(k){k.before=function(d){r.push(d);return{remove(){r=r.filter(h=>h!==d)}}}})(c||(c={}));return c})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function c(b,n=29){this.name=b;this._counter=0;this._items=Array(n)}c.prototype.record=function(b){this._items[++this._counter%
this._items.length]=b};a._createClass(c,[{key:"median",get:function(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((b,n)=>b+n,0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]);return c}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./arrayUtils","./HeapSort"],function(a,c,b){function n(r){r.data.length>1.5*r.length&&(r.data.length=
Math.floor(1.1*r.length))}return function(){function r(d){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new c.PositionHint;d&&(d.initialSize&&(this.data=Array(d.initialSize)),d.allocator&&(this._allocator=d.allocator),void 0!==d.deallocator&&(this._deallocator=d.deallocator),d.shrink&&(this._shrink=()=>n(this)))}var k=r.prototype;k.toArray=function(){return this.data.slice(0,this.length)};k.getItemAt=function(d){if(!(0>d||d>=this._length))return this.data[d]};
k.clear=function(){this.length=0};k.prune=function(){this.clear();this.data=[]};k.push=function(d){this.data[this._length++]=d};k.pushArray=function(d,h=d.length){for(let m=0;m<h;m++)this.data[this._length++]=d[m]};k.fill=function(d,h){for(let m=0;m<h;m++)this.data[this._length++]=d};k.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const d=this.data[this._length];++this._length;return d};k.unshift=function(d){this.data.unshift(d);this._length++;
n(this)};k.pop=function(){if(0!==this.length){var d=this.data[this.length-1];--this.length;this._shrink();return d}};k.remove=function(d){const h=c.indexOf(this.data,d,this.length,this._hint);if(-1!==h)return this.data.splice(h,1),--this.length,d};k.removeUnordered=function(d){d=c.removeUnordered(this.data,d,this.length,this._hint);void 0!==d&&--this.length;this._shrink();return d};k.removeUnorderedIndex=function(d){if(!(d>=this.length||0>d))return this.swapElements(d,this.length-1),this.pop()};k.removeUnorderedMany=
function(d,h=d.length,m){this.length=c.removeUnorderedMany(this.data,d,this.length,h,this._hint,m);this._shrink()};k.front=function(){if(0!==this.length)return this.data[0]};k.back=function(){if(0!==this.length)return this.data[this.length-1]};k.swapElements=function(d,h){d>=this.length||h>=this.length||d===h||([this.data[d],this.data[h]]=[this.data[h],this.data[d]])};k.sort=function(d){b.sort(this.data,0,this.length,d)};k.iterableSort=function(d){return b.iterableSort(this.data,0,this.length,d)};
k.some=function(d,h){for(let m=0;m<this.length;++m)if(d.call(h,this.data[m],m,this.data))return!0;return!1};k.filterInPlace=function(d,h){let m=0;for(let t=0;t<this._length;++t){const p=this.data[t];d.call(h,p,t,this.data)&&(this.data[t]=this.data[m],this.data[m]=p,m++)}if(this._deallocator)for(d=m;d<this._length;d++)this.data[d]=this._deallocator(this.data[d]);this._length=m;this._shrink();return this};k.forAll=function(d,h){const m=this.length,t=this.data;for(let p=0;p<m;++p)d.call(h,t[p],p,t)};
k.map=function(d,h){const m=Array(this.length);for(let t=0;t<this.length;++t)m[t]=d.call(h,this.data[t],t,this.data);return m};k.reduce=function(d,h){for(let m=0;m<this.length;++m)h=d(h,this.data[m],m,this.data);return h};k.has=function(d){const h=this.length,m=this.data;for(let t=0;t<h;++t)if(m[t]===d)return!0;return!1};a._createClass(r,[{key:"length",get:function(){return this._length},set:function(d){if(d>this._length)if(this._allocator)for(;this._length<d;)this.data[this._length++]=this._allocator(this.data[this._length]);
else this._length=d;else{if(this._deallocator)for(let h=d;h<this._length;++h)this.data[h]=this._deallocator(this.data[h]);this._length=d;this._shrink()}}}]);return r}()})},"esri/core/arrayUtils":function(){define(["exports","./maybe","./RandomLCG"],function(a,c,b){function n(l){return l}function r(l,g=n){if(l&&0!==l.length){var e=l[0],f=g(e);for(let u=1;u<l.length;++u){const w=l[u],D=Number(g(w));D>f&&(f=D,e=w)}return e}}function k(l,g,e,f){f=f||t;var u=Math.max(0,f.last-10);for(let w=u;w<e;++w)if(l[w]===
g)return f.last=w;e=Math.min(u,e);for(u=0;u<e;++u)if(l[u]===g)return f.last=u;return-1}function d(l){return l?(q.seed=l,()=>q.getFloat()):Math.random}const h=!!Array.prototype.fill;let m=function(){this.last=0};const t=new m,p=new Set,q=new b;a.PositionHint=m;a.binaryFindClosest=function(l,g,e){if(l&&0!==l.length){var f=l.length-1,u=l[0];if(g<=e(u))return u;u=l[f];if(g>=e(u))return u;var w=0;u=0;for(var D=f;w<D;){u=w+Math.floor((D-w)/2);const y=l[u],A=e(y);if(A===g)return y;if(g<A){if(0<u){D=l[u-
1];var v=e(D);if(g>v)return g-v>=A-g?y:D}D=u}else{if(u<f&&(w=l[u+1],v=e(w),g<v))return g-A>=v-g?w:y;w=u+1}}return l[u]}};a.binaryIndexOf=function(l,g,e){const f=l.length;let u=0;for(var w=f-1;u<w;){const D=u+Math.floor((w-u)/2);g>l[D]?u=D+1:w=D}w=l[u];return e?g>=l[f-1]?-1:w===g?u:u-1:w===g?u:-1};a.constant=function(l,g){if(h)return Array(l).fill(g);const e=Array(l);for(let f=0;f<l;f++)e[f]=g;return e};a.difference=function(l,g,e){let f,u;e?(f=g.filter(w=>!l.some(D=>e(D,w))),u=l.filter(w=>!g.some(D=>
e(D,w)))):(f=g.filter(w=>!l.includes(w)),u=l.filter(w=>!g.includes(w)));return{added:f,removed:u}};a.equals=function(l,g,e){if(c.isNone(l)&&c.isNone(g))return!0;if(c.isNone(l)||c.isNone(g)||l.length!==g.length)return!1;if(e)for(let f=0;f<l.length;f++){if(!e(l[f],g[f]))return!1}else for(e=0;e<l.length;e++)if(l[e]!==g[e])return!1;return!0};a.first=function(l){if(l)return 0<l.length?l[0]:void 0};a.flatten=function(l){return l.reduce((g,e)=>g.concat(e||[]),[])};a.indexOf=k;a.intersect=function(l,g,e){return l&&
g?e?l.filter(function(f){return-1<g.findIndex(function(u){return e(f,u)})}):l.filter(function(f){return-1<g.indexOf(f)}):[]};a.isArrayLike=function(l){return l&&"number"===typeof l.length};a.last=function(l){if(l){var g=l.length;return 0<g?l[g-1]:void 0}};a.max=r;a.min=function(l,g=n){return r(l,e=>-g(e))};a.pickRandom=function(l,g,e){const f=l.length;if(g>=f)return l.slice(0);e=d(e);const u=new Set,w=[];for(;w.length<g;){const D=Math.floor(e()*f);u.has(D)||(u.add(D),w.push(l[D]))}return w};a.range=
function(l,g){void 0===g&&(g=l,l=0);const e=Array(g-l);for(let f=l;f<g;f++)e[f-l]=f;return e};a.remove=function(l,g){const e=l.indexOf(g);return-1!==e?(l.splice(e,1),g):null};a.removeUnordered=function(l,g,e,f){const u=null==e?l.length:e;f=k(l,g,u,f);if(-1!==f)return l[f]=l[u-1],null==e&&l.pop(),g};a.removeUnorderedMany=function(l,g,e=l.length,f=g.length,u,w){if(0===f||0===e)return e;p.clear();for(let D=0;D<f;++D)p.add(g[D]);u=u||t;g=Math.max(0,u.last-10);for(f=g;f<e;++f)if(p.has(l[f])&&(w&&w.push(l[f]),
p.delete(l[f]),l[f]=l[e-1],--e,--f,0===p.size||0===e))return p.clear(),e;for(f=0;f<g;++f)if(p.has(l[f])&&(w&&w.push(l[f]),p.delete(l[f]),l[f]=l[e-1],--e,--f,0===p.size||0===e))return p.clear(),e;p.clear();return e};a.shuffle=function(l,g){g=d(g);for(let e=l.length-1;0<e;e--){const f=Math.floor(g()*(e+1)),u=l[e];l[e]=l[f];l[f]=u}return l};a.splitIntoChunks=function(l,g){const e=l.length;if(0===e)return[];const f=[];for(let u=0;u<e;u+=g)f.push(l.slice(u,u+g));return f};a.unique=function(l,g){return g?
l.filter((e,f,u)=>u.findIndex(g.bind(null,e))===f):l.filter((e,f,u)=>u.indexOf(e)===f)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let c=function(){function b(r=1){this._seed=r}var n=b.prototype;n.getInt=function(){return this._seed=(b._a*this._seed+b._c)%b._m};n.getFloat=function(){return this.getInt()/(b._m-1)};n.getIntRange=function(r,k){return Math.round(this.getFloatRange(r,k))};n.getFloatRange=
function(r,k){k-=r;const d=this.getInt()/b._m;return r+d*k};a._createClass(b,[{key:"seed",set:function(r){this._seed=null==r?Math.random()*b._m:r}}]);return b}();c._m=2147483647;c._a=48271;c._c=0;return c})},"esri/core/HeapSort":function(){define(function(){var a;(function(c){const b=(r,k,d,h)=>{let m=k;const t=d>>>1,p=r[m-1];for(;k<=t;){k=m<<1;k<d&&0>h(r[k-1],r[k])&&++k;const q=r[k-1];if(0>=h(q,p))break;r[m-1]=q;m=k}r[m-1]=p},n=(r,k)=>r<k?-1:r>k?1:0;c.sort=function(r,k,d,h){void 0===k&&(k=0);void 0===
d&&(d=r.length);void 0===h&&(h=n);for(var m=d>>>1;m>k;m--)b(r,m,d,h);m=k+1;for(--d;d>k;d--){const t=r[k];r[k]=r[d];r[d]=t;b(r,m,d,h)}};c.iterableSort=function*(r,k,d,h){void 0===k&&(k=0);void 0===d&&(d=r.length);void 0===h&&(h=n);for(var m=d>>>1;m>k;m--)b(r,m,d,h),yield;m=k+1;for(--d;d>k;d--){const t=r[k];r[k]=r[d];r[d]=t;b(r,m,d,h);yield}}})(a||(a={}));return a})},"esri/core/promiseUtils":function(){define("exports ./maybe ./Logger ./Error ./clock ./events".split(" "),function(a,c,b,n,r,k){function d(D){return new Promise((v,
y)=>{try{D(v,y)}catch(A){Promise.resolve().then(()=>y(A))}})}function h(D="Aborted"){return new n("AbortError",D)}function m(){return new AbortController}function t(D){if(q(D))throw h();}function p(D){return c.isSome(D)?"aborted"in D?D:D.signal:D}function q(D){D=p(D);return c.isSome(D)&&D.aborted}function l(D,v){D=p(D);if(!c.isNone(D))if(D.aborted)v();else return k.once(D,"abort",()=>v())}function g(D){return D&&"AbortError"===D.name}function e(){let D=null;const v=new Promise((y,A)=>{D={promise:void 0,
resolve:y,reject:A}});D.promise=v;return D}function f(D){if(D){if("function"!==typeof D.forEach){const v=Object.keys(D),y=v.map(A=>D[A]);return f(y).then(A=>{const E={};v.forEach((x,F)=>E[x]=A[F]);return E})}return d(v=>{const y=[];let A=D.length;0===A&&v(y);D.forEach(E=>{const x={promise:E||Promise.resolve(E)};y.push(x);x.promise.then(F=>{x.value=F}).catch(F=>{x.error=F}).then(()=>{--A;0===A&&v(y)})})})}}function u(D,v,y){const A=m();l(y,()=>A.abort());return new Promise((E,x)=>{let F=setTimeout(()=>
{F=0;E(v)},D);l(A,()=>{F&&(clearTimeout(F),x(h()))})})}function w(D){return D&&"object"===typeof D&&"then"in D&&"function"===typeof D.then?D:Promise.resolve(D)}a.after=u;a.all=function(D){return Promise.all(D)};a.always=function(D,v){return D.then(v,v)};a.create=d;a.createAbortController=m;a.createAbortError=h;a.createDeferred=e;a.createResolver=function(){let D,v;const y=new Promise((E,x)=>{D=E;v=x}),A=E=>{D(E)};A.resolve=E=>D(E);A.reject=E=>v(E);A.timeout=(E,x)=>r["default"].setTimeout(()=>A.reject(x),
E);A.promise=y;return A};a.createTask=function(D){let v=m();D=D(v.signal);let y={promise:D,finished:!1,abort:()=>{v&&(v.abort(),v=null)}};const A=()=>{y&&(y.finished=!0,y=null);v=null};D.then(A,A);return y};a.debounce=function(D,v=-1){let y,A,E,x,F=null;const B=(...C)=>{if(y){A=C;x&&x.reject(h());x=e();C=c.assumeNonNull(x.promise);if(F){var z=F;F=null;z.abort()}return C}E=x||e();x=null;if(0<v){const H=m(),I=y=w(D(...C,H.signal));u(v).then(()=>{y===I&&(x?H.abort():F=H)})}else y=1,y=w(D(...C));C=()=>
{const H=A;A=E=y=F=null;null!=H&&B(...H)};z=y;const G=E;z.then(C,C);z.then(G.resolve,G.reject);return c.assumeNonNull(G.promise)};return B};a.eachAlways=f;a.eachAlwaysValues=function(D){return f(D).then(v=>v.filter(y=>!!y.value).map(y=>y.value))};a.filter=function(D,v){const y=D.slice();return Promise.all(D.map((A,E)=>v(A,E))).then(A=>y.filter((E,x)=>A[x]))};a.ignoreAbortErrors=function(D){return D.catch(v=>{if(!g(v))throw v;})};a.isAbortError=g;a.isAborted=q;a.isPromiseLike=function(D){return D&&
"function"===typeof D.then};a.logOnError=function(D,v=b.getLogger("esri")){return D.catch(y=>{g(y)||v.error(y)})};a.onAbort=l;a.onAbortOrThrow=function(D,v){D=p(D);if(!c.isNone(D))return t(D),k.once(D,"abort",()=>v(h()))};a.reject=function(D){return Promise.reject(D)};a.resolve=function(D){return Promise.resolve(D)};a.throwIfAbortError=function(D){if(g(D))throw D;};a.throwIfAborted=t;a.throwIfNotAbortError=function(D){if(!g(D))throw D;};a.timeout=function(D,v,y,A){const E=y&&"abort"in y?y:null;null!=
A||E||(A=y);let x=setTimeout(()=>{x=0;E&&E.abort()},v);const F=()=>{throw A||new n("promiseUtils:timeout","The wrapped promise did not resolve within "+v+" ms");};return D.then(B=>{if(0===x)throw F();clearTimeout(x);return B},B=>{clearTimeout(x);throw 0===x?F():B;})};a.when=w;a.whenOrAbort=function(D,v){const y=p(v);return c.isNone(y)?D:new Promise((A,E)=>{let x=l(v,()=>E(h()));const F=()=>x=c.removeMaybe(x);D.then(F,F);D.then(A,E)})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/clock":function(){define(["exports",
"./global"],function(a,c){function b(n){return{setTimeout:(r,k)=>{const d=n.setTimeout(r,k);return{remove:()=>n.clearTimeout(d)}}}}c=b(c);a.default=c;a.wrap=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/events":function(){define(["exports"],function(a){function c(r){return r&&("function"===typeof r.on||"function"===typeof r.addEventListener)}function b(r,k,d){if(!c(r))throw new TypeError("target is not a Evented or EventTarget object");if("on"in r)return r.on(k,d);if(Array.isArray(k)){const h=
k.slice();for(const m of h)r.addEventListener(m,d);return{remove(){for(const m of h)r.removeEventListener(m,d)}}}r.addEventListener(k,d);return{remove(){r.removeEventListener(k,d)}}}const n={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:r}){return n[r]||r};a.ieKeyNormalizationMap=n;a.isEventTarget=c;a.on=b;a.once=
function(r,k,d){if(!c(r))throw new TypeError("target is not a Evented or EventTarget object");if("once"in r)return r.once(k,d);const h=b(r,k,m=>{h.remove();d.call(r,m)});return{remove(){h.remove()}}};a.pausable=function(r,k,d){let h=!1;const m=b(r,k,t=>{h||d.call(r,t)});return{resume(){h=!1},pause(){h=!0},remove(){m.remove()}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","./tracking","./tracking/SimpleTrackingTarget"],
function(a,c,b){function n(k,d,h=r){let m=new b.SimpleTrackingTarget(function(){if(m&&!p){var q=t;m.clear();p=!0;t=c.runTracked(m,k);p=!1;d(t,q)}}),t=null,p=!1;p=!0;t=c.runTracked(m,k);p=!1;h.runImmediately&&d(t,t);return{remove:function(){m&&(m.destroy(),t=m=null)}}}const r={runImmediately:!1};a.autorun=function(k){let d=new b.SimpleTrackingTarget(function(){d&&!h&&(d.clear(),h=!0,c.runTracked(d,k),h=!1)}),h=!1;h=!0;c.runTracked(d,k);h=!1;return{remove:function(){d&&(d.destroy(),d=null)}}};a.reaction=
n;a.reactionAsync=function(k,d){function h(){if(!m)return null;m.clear();return t=c.runTracked(m,k)}let m=new b.SimpleTrackingTarget(function(){d(t,h)}),t=null;h();return{remove:function(){m&&(m.destroy(),m=null);t=null}}};a.reactionInit=function(k,d){return n(k,d,{runImmediately:!0})};a.when=function(k,d){return n(()=>k(),h=>{h&&d()},{runImmediately:!0})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){let c=
function(){function b(r){this.notify=r;this._accessed=new Set;this._handles=[]}var n=b.prototype;n.destroy=function(){this._accessed.clear();this.clear()};n.onObservableAccessed=function(r){this._accessed.add(r)};n.onTrackingEnd=function(){for(const r of this._accessed)this._handles.push(r.observe(this));this._accessed.clear()};n.clear=function(){for(const r of this._handles)r.remove();this._handles.length=0};return b}();a.SimpleTrackingTarget=c;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./handleUtils","./accessorSupport/decorators/subclass","./Accessor"],function(a,c,b,n,r){let k=function(){function d(){this._emitter=new d.EventEmitter(this)}var h=d.prototype;h.emit=function(m,t){return this._emitter.emit(m,t)};h.on=function(m,t){return this._emitter.on(m,t)};h.once=function(m,t){return this._emitter.once(m,t)};h.hasEventListener=function(m){return this._emitter.hasEventListener(m)};
return d}();(function(d){let h=function(){function t(q=null){this.target=q;this._listenersMap=null}var p=t.prototype;p.clear=function(){this._listenersMap&&this._listenersMap.clear()};p.emit=function(q,l){q=this._listenersMap&&this._listenersMap.get(q);if(!q)return!1;const g=this.target||this;[...q].forEach(e=>{e.call(g,l)});return 0<q.length};p.on=function(q,l){if(Array.isArray(q)){var g=q.map(e=>this.on(e,l));return b.handlesGroup(g)}if(-1<q.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");
this._listenersMap||(this._listenersMap=new Map);g=this._listenersMap.get(q)||[];g.push(l);this._listenersMap.set(q,g);return{remove:()=>{const e=this._listenersMap&&this._listenersMap.get(q)||[],f=e.indexOf(l);0<=f&&e.splice(f,1)}}};p.once=function(q,l){const g=this.on(q,e=>{g.remove();l.call(null,e)});return g};p.hasEventListener=function(q){q=this._listenersMap&&this._listenersMap.get(q);return null!=q&&0<q.length};return t}();d.EventEmitter=h;d.EventedMixin=t=>{t=function(p){function q(){var g=
p.apply(this,arguments)||this;g._emitter=new h;return g}a._inheritsLoose(q,p);var l=q.prototype;l.destroy=function(){this._emitter.clear()};l.emit=function(g,e){return this._emitter.emit(g,e)};l.on=function(g,e){return this._emitter.on(g,e)};l.once=function(g,e){return this._emitter.once(g,e)};l.hasEventListener=function(g){return this._emitter.hasEventListener(g)};return q}(t);return t=c.__decorate([n.subclass("esri.core.Evented")],t)};let m=function(t){function p(){var l=t.apply(this,arguments)||
this;l._emitter=new k.EventEmitter(a._assertThisInitialized(l));return l}a._inheritsLoose(p,t);var q=p.prototype;q.emit=function(l,g){return this._emitter.emit(l,g)};q.on=function(l,g){return this._emitter.on(l,g)};q.once=function(l,g){return this._emitter.once(l,g)};q.hasEventListener=function(l){return this._emitter.hasEventListener(l)};return p}(r);m=c.__decorate([n.subclass("esri.core.Evented")],m);d.EventedAccessor=m})(k||(k={}));return k})},"esri/Basemap":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/lang ./core/maybe ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/promiseUtils ./core/JSONSupport ./geometry/SpatialReference ./core/Collection ./core/collectionUtils ./core/Loadable ./portal/Portal ./core/loadAll ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B){var C;let z=0;const G=d.getLogger("esri.Basemap");n=C=function(H){function I(L){var T=H.call(this,L)||this;T.id=null;T.portalItem=null;T.spatialReference=null;T.thumbnailUrl=null;T.title="Basemap";T.id=Date.now().toString(16)+"-basemap-"+z++;T.baseLayers=new D;T.referenceLayers=new D;const O=U=>{U.parent&&U.parent!==c._assertThisInitialized(T)&&"remove"in U.parent&&U.parent.remove(U);U.parent=c._assertThisInitialized(T);"elevation"===U.type&&
G.error(`Layer '${U.title}, id:${U.id}' of type '${U.type}' is not supported as a basemap layer and will therefore be ignored.`)};T.baseLayers.on("after-add",U=>O(U.item));T.referenceLayers.on("after-add",U=>O(U.item));T.baseLayers.on("after-remove",U=>{U.item.parent=null});T.referenceLayers.on("after-remove",U=>{U.item.parent=null});return T}c._inheritsLoose(I,H);var K=I.prototype;K.initialize=function(){this.when().catch(L=>{G.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,
L)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};K.destroy=function(){var L,T=this.baseLayers.removeAll();for(const O of T)O.destroy();T=this.referenceLayers.removeAll();for(const O of T)O.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();null==(L=this.portalItem)?void 0:L.destroy();this.portalItem=null};K.normalizeCtorArgs=function(L){L&&"resourceInfo"in L&&(this._set("resourceInfo",L.resourceInfo),L={...L},delete L.resourceInfo);return L};K._writeBaseLayers=
function(L,T,O){const U=[];L&&(O={...O,layerContainerType:"basemap"},this.baseLayers.forEach(W=>{W=B.getLayerJSON(W,O.webmap?O.webmap.getLayerJSONFromResourceInfo(W):null,O);k.isSome(W)&&U.push(W)}),this.referenceLayers.forEach(W=>{W=B.getLayerJSON(W,O.webmap?O.webmap.getLayerJSONFromResourceInfo(W):null,O);k.isSome(W)&&(W.isReference=!0,U.push(W))}));T.baseMapLayers=U};K.writeTitle=function(L,T){T.title=L||"Basemap"};K.load=function(L){this.addResolvingPromise(this._loadFromSource(L));return Promise.resolve(this)};
K.loadAll=function(){return E.loadAll(this,L=>{L(this.baseLayers,this.referenceLayers)})};K.clone=function(){const L={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(L.loadStatus="loaded");return(new C({resourceInfo:this.resourceInfo})).set(L)};K.read=function(L,T){this.resourceInfo||this._set("resourceInfo",{data:L,context:T});H.prototype.read.call(this,L,T)};K.write=function(L,T){L=L||{};T&&T.origin||
(T={origin:"web-map",...T});H.prototype.write.call(this,L,T);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(L.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(O=>{O=r.clone(O);O.url&&l.isProtocolRelative(O.url)&&(O.url=`https:${O.url}`);O.templateUrl&&l.isProtocolRelative(O.templateUrl)&&(O.templateUrl=`https:${O.templateUrl}`);return O}));return L};K._loadFromSource=async function(L){const {resourceInfo:T,portalItem:O}=this;f.throwIfAborted(L);const U=[];T?(U.push(this._loadLayersFromJSON(T.data,
T.context?T.context.url:null,L)),T.data.id&&!T.data.title&&U.push(F.getBasemapTitle(T.data.id).then(W=>{W&&this.read({title:W},T.context)}))):O&&U.push(this._loadFromItem(O,L));await Promise.all(U)};K._loadLayersFromJSON=async function(L,T,O){var U=this.resourceInfo&&this.resourceInfo.context;const W=this.portalItem&&this.portalItem.portal||U&&U.portal||null,S=U&&"web-scene"===U.origin?"web-scene":"web-map",{populateOperationalLayers:N}=await new Promise(function(P,J){a(["./layers/support/layersCreator"],
P,J)});U=[];f.throwIfAborted(O);L.baseMapLayers&&Array.isArray(L.baseMapLayers)&&(T={context:{origin:S,url:T,portal:W,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},O=N(this.baseLayers,L.baseMapLayers.filter(P=>!P.isReference),T),U.push(O),L=N(this.referenceLayers,L.baseMapLayers.filter(P=>P.isReference),T),U.push(L));await f.eachAlways(U)};K._loadFromItem=async function(L,T){const O=await (await L.load(T)).fetchData("json",T),U=l.urlToObject(L.itemUrl);this._set("resourceInfo",
{data:O.baseMap,context:{origin:"web-map",portal:L.portal||A.getDefault(),url:U}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:O.spatialReference},this.resourceInfo.context);this.read({title:L.title,thumbnailUrl:L.thumbnailUrl},{origin:"portal-item",portal:L.portal||A.getDefault(),url:U});return this._loadLayersFromJSON(this.resourceInfo.data,U,T)};I.fromId=function(L){return(L=F.esriBasemapDefinitions[L])?C.fromJSON(L):null};c._createClass(I,[{key:"baseLayers",
set:function(L){this._set("baseLayers",v.referenceSetter(L,this._get("baseLayers")))}},{key:"referenceLayers",set:function(L){this._set("referenceLayers",v.referenceSetter(L,this._get("referenceLayers")))}}]);return I}(u.JSONSupportMixin(y));b.__decorate([m.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(H,I,K,L){this._writeBaseLayers(H,I,L)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:D}},writer(H,I,K,L){this._writeBaseLayers(H,I,L)}}}}}})],n.prototype,
"baseLayers",null);b.__decorate([m.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],n.prototype,"id",void 0);b.__decorate([m.property({type:x})],n.prototype,"portalItem",void 0);b.__decorate([m.property()],n.prototype,"referenceLayers",null);b.__decorate([m.property({readOnly:!0})],n.prototype,"resourceInfo",void 0);b.__decorate([m.property({type:w})],n.prototype,"spatialReference",void 0);b.__decorate([m.property()],n.prototype,"thumbnailUrl",void 0);b.__decorate([m.property({type:String,
json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],n.prototype,"title",void 0);b.__decorate([q.writer("title")],n.prototype,"writeTitle",null);return n=C=b.__decorate([p.subclass("esri.Basemap")],n)})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","../../object","./property"],function(a,c,b){a.writer=function(n,r,k){let d,h;void 0===r?(h=n,d=[void 0]):"string"!==typeof r?(h=n,d=[void 0],k=r):(h=r,d=Array.isArray(n)?n:[n]);return(m,t)=>{const p=m.constructor.prototype;
d.forEach(q=>{q=b.propertyJSONMeta(m,q,h);q.write&&"object"!==typeof q.write&&(q.write={});k&&c.setDeepValue("write.target",k,q);c.setDeepValue("write.writer",p[t],q)})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/decorators/subclass ./Accessor ./accessorSupport/read ./accessorSupport/write".split(" "),function(a,c,b,n,r,k,d){const h=m=>{m=function(t){function p(...l){return t.call(this,
...l)||this}c._inheritsLoose(p,t);var q=p.prototype;q.read=function(l,g){k.read(this,l,g)};q.write=function(l={},g){return d.write(this,l,g)};q.toJSON=function(l){return this.write({},l)};p.fromJSON=function(l,g){if(l){if(l.declaredClass)throw Error("JSON object is already hydrated");var e=new this;e.read(l,g);l=e}else l=null;return l};return p}(m);m=b.__decorate([n.subclass("esri.core.JSONSupport")],m);m.prototype.toJSON.isDefaultToJSON=!0;return m};a.JSONSupport=function(m){function t(){return m.apply(this,
arguments)||this}c._inheritsLoose(t,m);return t}(h(r));a.JSONSupport=b.__decorate([n.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=h;a.isJSONSupport=function(m){return m&&"read"in m&&"write"in m&&"toJSON"in m};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/read":function(){define(["exports","./utils","./get","./extensions/serializableProperty"],function(a,c,b,n){function r(d,h,m=k){if(h&&"object"===typeof h){var t=c.getProperties(d),p=t.metadatas,
q={};for(const A of Object.getOwnPropertyNames(h)){var l=q,g=p,e=A,f=h,u=m,w=n.originSpecificReadPropertyDefinition(g[e],u);w&&(!w.read||!1!==w.read.enabled&&!w.read.source)&&(l[e]=!0);for(const E of Object.getOwnPropertyNames(g)){w=n.originSpecificReadPropertyDefinition(g[E],u);a:{var D=e;var v=f;if(w&&w.read&&!1!==w.read.enabled&&w.read.source){w=w.read.source;if("string"===typeof w){if(w===D||-1<w.indexOf(".")&&0===w.indexOf(D)&&b.exists(w,v)){D=!0;break a}}else for(const x of w)if(x===D||-1<x.indexOf(".")&&
0===x.indexOf(D)&&b.exists(x,v)){D=!0;break a}D=!1}else D=!1}D&&(l[E]=!0)}}t.setDefaultOrigin(m.origin);for(var y of Object.getOwnPropertyNames(q))g=(g=(l=n.originSpecificReadPropertyDefinition(p[y],m).read)&&l.source)&&"string"===typeof g?b.valueOf(h,g):h[y],l&&l.reader&&(g=l.reader.call(d,g,h,m)),void 0!==g&&t.set(y,g);if(!m||!m.ignoreDefaults)for(const A of Object.getOwnPropertyNames(p))q[A]||(y=d,h=A,p=t,l=m,g=(g=n.originSpecificPropertyDefinition(p.metadatas[h],"any",l))&&g.default,void 0!==
g&&(y="function"===typeof g?g.call(y,h,l):g,void 0!==y&&p.set(h,y)));t.setDefaultOrigin("user")}}const k={origin:"service"};a.default=r;a.read=r;a.readLoadable=function(d,h,m,t=k){var p;h={...t,messages:[]};m(h);null==(p=h.messages)?void 0:p.forEach(q=>{"warning"!==q.type||d.loaded?t&&t.messages&&t.messages.push(q):d.loadWarnings.push(q)})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/write":function(){define("exports ../Logger ./utils ./extensions/serializableProperty ../Error ./PropertyOrigin ../arrayUtils".split(" "),
function(a,c,b,n,r,k,d){function h(q,l,g,e,f){var u,w;const D={};null==(u=l.write)?void 0:null==(w=u.writer)?void 0:w.call(q,e,D,g,f);return D}function m(q,l,g,e,f,u){if(!e||!e.write)return!1;var w=q.get(g);if(!f&&e.write.overridePolicy){var D=e.write.overridePolicy.call(q,w,g,u);void 0!==D&&(f=D)}f||(f=e.write);if(!f||!1===f.enabled)return!1;if((null===w&&!f.allowNull||void 0===w)&&f.isRequired)return(l=new r("web-document-write:property-required",`Missing value for required property '${g}' on '${q.declaredClass}'`,
{propertyName:g,target:q}),u)&&u.messages?u.messages.push(l):l&&!u&&p.error(l.name,l.message),!1;if(void 0===w||null===w&&!f.allowNull)return!1;D=e.default;void 0===D?w=!1:null!=e.defaultEquals?w=e.defaultEquals(w):"function"===typeof D?Array.isArray(w)?(q=D.call(q,g,u),w=d.equals(q,w)):w=!1:w=D===w;return w?!1:void 0!==e.default?!0:!f.ignoreOrigin&&u&&u.origin&&l.store.originOf(g)<k.nameToId(u.origin)?!1:!0}function t(q,l,g){if(q&&"function"===typeof q.toJSON&&(!q.toJSON.isDefaultToJSON||!q.write))return b.merge(l,
q.toJSON());const e=b.getProperties(q),f=e.metadatas;for(const D in f){const v=n.originSpecificWritePropertyDefinition(f[D],g);if(!m(q,e,D,v,void 0,g))continue;const y=q.get(D),A=h(q,v,v.write&&"string"===typeof v.write.target?v.write.target:D,y,g);if(0<Object.keys(A).length){var u,w;l=b.merge(l,A);null!=g&&null!=(u=g.resources)&&null!=(w=u.pendingOperations)&&w.length&&Promise.all(g.resources.pendingOperations).then(()=>b.merge(l,A));g&&g.writtenProperties&&g.writtenProperties.push({target:q,propName:D,
oldOrigin:k.idToReadableName(e.store.originOf(D)),newOrigin:g.origin})}}return l}const p=c.getLogger("esri.core.accessorSupport.write");a.default=t;a.willPropertyWrite=function(q,l,g,e){const f=b.getProperties(q),u=n.originSpecificWritePropertyDefinition(f.metadatas[l],e);return u?m(q,f,l,u,g,e):!1};a.write=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/JSONSupport ./support/spatialReferenceUtils".split(" "),
function(a,c,b,n,r,k,d,h,m){var t;h=t=function(p){function q(g){g=p.call(this,g)||this;g.latestWkid=null;g.wkid=null;g.wkt=null;g.vcsWkid=null;g.latestVcsWkid=null;g.imageCoordinateSystem=null;return g}a._inheritsLoose(q,p);q.fromJSON=function(g){if(!g)return null;if(g.wkid){if(102100===g.wkid)return t.WebMercator;if(4326===g.wkid)return t.WGS84}const e=new t;e.read(g);return e};var l=q.prototype;l.normalizeCtorArgs=function(g){return g&&"object"===typeof g?g:{["string"===typeof g?"wkt":"wkid"]:g}};
l.writeWkt=function(g,e){this.wkid||(e.wkt=g)};l.clone=function(){if(this===t.WGS84)return t.WGS84;if(this===t.WebMercator)return t.WebMercator;const g=new t;null!=this.wkid?(g.wkid=this.wkid,null!=this.latestWkid&&(g.latestWkid=this.latestWkid),null!=this.vcsWkid&&(g.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(g.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(g.wkt=this.wkt);this.imageCoordinateSystem&&(g.imageCoordinateSystem=b.clone(this.imageCoordinateSystem));return g};l.equals=function(g){if(null==
g)return!1;if(this.imageCoordinateSystem||g.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==g.imageCoordinateSystem)return!1;const {id:e,referenceServiceName:f}=g.imageCoordinateSystem,{geodataXform:u}=g.imageCoordinateSystem,w=this.imageCoordinateSystem;return null==e||u?JSON.stringify(w)===JSON.stringify(g.imageCoordinateSystem):f?w.id===e&&w.referenceServiceName===f:w.id===e}return m.equals(this,g)};l.toJSON=function(g){return this.write(void 0,g)};a._createClass(q,[{key:"isWGS84",
get:function(){return m.isWGS84(this)}},{key:"isWebMercator",get:function(){return m.isWebMercator(this)}},{key:"isGeographic",get:function(){return m.isGeographic(this)}},{key:"isWrappable",get:function(){return m.isWrappable(this)}}]);return q}(h.JSONSupport);h.GCS_NAD_1927=null;h.WGS84=null;h.WebMercator=null;c.__decorate([r.property({readOnly:!0})],h.prototype,"isWGS84",null);c.__decorate([r.property({readOnly:!0})],h.prototype,"isWebMercator",null);c.__decorate([r.property({readOnly:!0})],h.prototype,
"isGeographic",null);c.__decorate([r.property({readOnly:!0})],h.prototype,"isWrappable",null);c.__decorate([r.property({type:n.Integer,json:{write:!0}})],h.prototype,"latestWkid",void 0);c.__decorate([r.property({type:n.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],h.prototype,"wkid",void 0);c.__decorate([r.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],
h.prototype,"wkt",void 0);c.__decorate([d.writer("wkt"),d.writer("web-scene","wkt")],h.prototype,"writeWkt",null);c.__decorate([r.property({type:n.Integer,json:{write:!0}})],h.prototype,"vcsWkid",void 0);c.__decorate([r.property({type:n.Integer,json:{write:!0}})],h.prototype,"latestVcsWkid",void 0);c.__decorate([r.property()],h.prototype,"imageCoordinateSystem",void 0);h=t=c.__decorate([k.subclass("esri.geometry.SpatialReference")],h);h.prototype.toJSON.isDefaultToJSON=!0;h.GCS_NAD_1927=new h({wkid:4267,
wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});h.WGS84=new h(m.WGS84);h.WebMercator=new h(m.WebMercator);Object.freeze&&(Object.freeze(h.GCS_NAD_1927),Object.freeze(h.WGS84),Object.freeze(h.WebMercator));return h})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/maybe","../../core/string","./WKIDUnitConversion"],function(a,c,b,n){function r(e){return m(e)&&
null!=e.wkid&&!0===t[e.wkid]}function k(e){return 104971===e||104905===e}function d(e){return m(e)&&null!=e.wkid&&k(e.wkid)}function h(e){return m(e)&&null!=e.wkid&&104903===e.wkid}function m(e){return c.isSome(e)&&(null!=e.wkid&&2E3<=e.wkid||null!=e.wkt)}const t={102113:!0,102100:!0,3857:!0,3785:!0},p={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},q=[-2.0037508342788905E7,2.0037508342788905E7],l=[-2.0037508342787E7,2.0037508342787E7],g={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:q,origin:l,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:q,origin:l,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:q,origin:l,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:q,origin:l,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};b={wkid:4326,wkt:b.replace(g[4326].wkTemplate,{Central_Meridian:"0.0"})};a.WGS84=b;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(e,f){return c.isNone(e)||c.isNone(f)?!1:e===f?!0:null!=e.wkid||null!=f.wkid?e.wkid===f.wkid||r(e)&&r(f)||null!=f.latestWkid&&e.wkid===f.latestWkid||null!=e.latestWkid&&f.wkid===e.latestWkid:e.wkt&&f.wkt?e.wkt.toUpperCase()===f.wkt.toUpperCase():!1};a.getInfo=function(e){return m(e)&&e.wkid?g[e.wkid]:null};a.isCGCS2000=function(e){return m(e)&&4490===
e.wkid};a.isEarth=function(e){return!(d(e)||h(e))};a.isGeographic=function(e){return m(e)?e.wkid?null==n[e.wkid]:e.wkt?!!/^\s*GEOGCS/i.test(e.wkt):!1:!1};a.isMars=d;a.isMoon=h;a.isValid=m;a.isWGS84=function(e){return m(e)&&4326===e.wkid};a.isWKIDFromMars=k;a.isWKIDFromMoon=function(e){return 104903===e};a.isWebMercator=r;a.isWrappable=function(e){return m(e)&&null!=e.wkid&&!0===p[e.wkid]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;
const c={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,
2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,
3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,
3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,
3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,
5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,
6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,
6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,
6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,
6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,
7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,
7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,
8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,
8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,
8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9367:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,
24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,
32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,
103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,
103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,
103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,
103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)c[a]=0;for(a=2056;2065>=a;a++)c[a]=0;for(a=2067;2135>=a;a++)c[a]=0;for(a=2137;2154>=a;a++)c[a]=0;for(a=2161;2170>=a;a++)c[a]=0;for(a=2172;2193>=a;a++)c[a]=
0;for(a=2195;2198>=a;a++)c[a]=0;for(a=2200;2203>=a;a++)c[a]=0;for(a=2205;2217>=a;a++)c[a]=0;for(a=2222;2224>=a;a++)c[a]=1;for(a=2225;2250>=a;a++)c[a]=2;for(a=2251;2253>=a;a++)c[a]=1;for(a=2257;2264>=a;a++)c[a]=2;for(a=2274;2279>=a;a++)c[a]=2;for(a=2280;2282>=a;a++)c[a]=1;for(a=2283;2289>=a;a++)c[a]=2;for(a=2290;2292>=a;a++)c[a]=0;for(a=2308;2313>=a;a++)c[a]=0;for(a=2315;2491>=a;a++)c[a]=0;for(a=2494;2866>=a;a++)c[a]=0;for(a=2867;2869>=a;a++)c[a]=1;for(a=2870;2888>=a;a++)c[a]=2;for(a=2891;2895>=a;a++)c[a]=
2;for(a=2896;2898>=a;a++)c[a]=1;for(a=2902;2908>=a;a++)c[a]=2;for(a=2915;2920>=a;a++)c[a]=2;for(a=2921;2923>=a;a++)c[a]=1;for(a=2924;2930>=a;a++)c[a]=2;for(a=2931;2962>=a;a++)c[a]=0;for(a=2964;2968>=a;a++)c[a]=2;for(a=2969;2973>=a;a++)c[a]=0;for(a=2975;2991>=a;a++)c[a]=0;for(a=2995;3051>=a;a++)c[a]=0;for(a=3054;3079>=a;a++)c[a]=0;for(a=3081;3088>=a;a++)c[a]=0;for(a=3092;3101>=a;a++)c[a]=0;for(a=3106;3138>=a;a++)c[a]=0;for(a=3146;3151>=a;a++)c[a]=0;for(a=3153;3166>=a;a++)c[a]=0;for(a=3168;3172>=a;a++)c[a]=
0;for(a=3174;3203>=a;a++)c[a]=0;for(a=3294;3358>=a;a++)c[a]=0;for(a=3367;3403>=a;a++)c[a]=0;for(a=3408;3416>=a;a++)c[a]=0;for(a=3417;3438>=a;a++)c[a]=2;for(a=3441;3446>=a;a++)c[a]=2;for(a=3447;3450>=a;a++)c[a]=0;for(a=3451;3459>=a;a++)c[a]=2;for(a=3460;3478>=a;a++)c[a]=0;for(a=3554;3559>=a;a++)c[a]=0;for(a=3560;3570>=a;a++)c[a]=2;for(a=3571;3581>=a;a++)c[a]=0;for(a=3594;3597>=a;a++)c[a]=0;for(a=3601;3604>=a;a++)c[a]=0;for(a=3637;3639>=a;a++)c[a]=0;for(a=3665;3667>=a;a++)c[a]=0;for(a=3693;3695>=a;a++)c[a]=
0;for(a=3701;3727>=a;a++)c[a]=0;for(a=3728;3739>=a;a++)c[a]=2;for(a=3740;3751>=a;a++)c[a]=0;for(a=3753;3760>=a;a++)c[a]=2;for(a=3761;3773>=a;a++)c[a]=0;for(a=3775;3777>=a;a++)c[a]=0;for(a=3779;3781>=a;a++)c[a]=0;for(a=3783;3785>=a;a++)c[a]=0;for(a=3788;3791>=a;a++)c[a]=0;for(a=3797;3802>=a;a++)c[a]=0;for(a=3814;3816>=a;a++)c[a]=0;for(a=3825;3829>=a;a++)c[a]=0;for(a=3832;3841>=a;a++)c[a]=0;for(a=3844;3852>=a;a++)c[a]=0;for(a=3873;3885>=a;a++)c[a]=0;for(a=3890;3893>=a;a++)c[a]=0;for(a=3907;3912>=a;a++)c[a]=
0;for(a=3942;3950>=a;a++)c[a]=0;for(a=3968;3970>=a;a++)c[a]=0;for(a=3973;3976>=a;a++)c[a]=0;for(a=3986;3989>=a;a++)c[a]=0;for(a=3994;3997>=a;a++)c[a]=0;for(a=4048;4051>=a;a++)c[a]=0;for(a=4056;4063>=a;a++)c[a]=0;for(a=4093;4096>=a;a++)c[a]=0;for(a=4390;4398>=a;a++)c[a]=0;for(a=4399;4413>=a;a++)c[a]=2;for(a=4418;4433>=a;a++)c[a]=2;for(a=4455;4457>=a;a++)c[a]=2;for(a=4484;4489>=a;a++)c[a]=0;for(a=4491;4554>=a;a++)c[a]=0;for(a=4568;4589>=a;a++)c[a]=0;for(a=4652;4656>=a;a++)c[a]=0;for(a=4766;4800>=a;a++)c[a]=
0;for(a=5014;5016>=a;a++)c[a]=0;for(a=5069;5072>=a;a++)c[a]=0;for(a=5105;5130>=a;a++)c[a]=0;for(a=5173;5188>=a;a++)c[a]=0;for(a=5253;5259>=a;a++)c[a]=0;for(a=5269;5275>=a;a++)c[a]=0;for(a=5292;5311>=a;a++)c[a]=0;for(a=5329;5331>=a;a++)c[a]=0;for(a=5343;5349>=a;a++)c[a]=0;for(a=5355;5357>=a;a++)c[a]=0;for(a=5387;5389>=a;a++)c[a]=0;for(a=5459;5463>=a;a++)c[a]=0;for(a=5479;5482>=a;a++)c[a]=0;for(a=5518;5520>=a;a++)c[a]=0;for(a=5530;5539>=a;a++)c[a]=0;for(a=5550;5552>=a;a++)c[a]=0;for(a=5562;5583>=a;a++)c[a]=
0;for(a=5623;5625>=a;a++)c[a]=2;for(a=5631;5639>=a;a++)c[a]=0;for(a=5649;5653>=a;a++)c[a]=0;for(a=5663;5680>=a;a++)c[a]=0;for(a=5682;5685>=a;a++)c[a]=0;for(a=5875;5877>=a;a++)c[a]=0;for(a=5896;5899>=a;a++)c[a]=0;for(a=5921;5940>=a;a++)c[a]=0;for(a=6050;6125>=a;a++)c[a]=0;for(a=6244;6275>=a;a++)c[a]=0;for(a=6328;6348>=a;a++)c[a]=0;for(a=6350;6356>=a;a++)c[a]=0;for(a=6366;6372>=a;a++)c[a]=0;for(a=6381;6387>=a;a++)c[a]=0;for(a=6393;6404>=a;a++)c[a]=0;for(a=6480;6483>=a;a++)c[a]=0;for(a=6511;6514>=a;a++)c[a]=
0;for(a=6579;6581>=a;a++)c[a]=0;for(a=6619;6624>=a;a++)c[a]=0;for(a=6625;6627>=a;a++)c[a]=2;for(a=6628;6632>=a;a++)c[a]=0;for(a=6634;6637>=a;a++)c[a]=0;for(a=6669;6692>=a;a++)c[a]=0;for(a=6707;6709>=a;a++)c[a]=0;for(a=6720;6723>=a;a++)c[a]=0;for(a=6732;6738>=a;a++)c[a]=0;for(a=6931;6933>=a;a++)c[a]=0;for(a=6956;6959>=a;a++)c[a]=0;for(a=7005;7007>=a;a++)c[a]=0;for(a=7057;7070>=a;a++)c[a]=2;for(a=7074;7082>=a;a++)c[a]=0;for(a=7109;7118>=a;a++)c[a]=0;for(a=7119;7127>=a;a++)c[a]=1;for(a=7374;7376>=a;a++)c[a]=
0;for(a=7528;7586>=a;a++)c[a]=0;for(a=7587;7645>=a;a++)c[a]=2;for(a=7692;7696>=a;a++)c[a]=0;for(a=7755;7787>=a;a++)c[a]=0;for(a=7791;7795>=a;a++)c[a]=0;for(a=7799;7801>=a;a++)c[a]=0;for(a=7803;7805>=a;a++)c[a]=0;for(a=7825;7831>=a;a++)c[a]=0;for(a=7845;7859>=a;a++)c[a]=0;for(a=8013;8032>=a;a++)c[a]=0;for(a=8065;8068>=a;a++)c[a]=1;for(a=8518;8529>=a;a++)c[a]=2;for(a=8533;8536>=a;a++)c[a]=2;for(a=8538;8540>=a;a++)c[a]=2;for(a=8677;8679>=a;a++)c[a]=0;for(a=8836;8840>=a;a++)c[a]=0;for(a=8857;8859>=a;a++)c[a]=
0;for(a=8908;8910>=a;a++)c[a]=0;for(a=9154;9159>=a;a++)c[a]=0;for(a=9205;9218>=a;a++)c[a]=0;for(a=9271;9273>=a;a++)c[a]=0;for(a=9295;9297>=a;a++)c[a]=0;for(a=20002;20032>=a;a++)c[a]=0;for(a=20062;20092>=a;a++)c[a]=0;for(a=20135;20138>=a;a++)c[a]=0;for(a=20248;20258>=a;a++)c[a]=0;for(a=20348;20358>=a;a++)c[a]=0;for(a=20436;20440>=a;a++)c[a]=0;for(a=20822;20824>=a;a++)c[a]=0;for(a=20934;20936>=a;a++)c[a]=0;for(a=21035;21037>=a;a++)c[a]=0;for(a=21095;21097>=a;a++)c[a]=0;for(a=21148;21150>=a;a++)c[a]=
0;for(a=21413;21423>=a;a++)c[a]=0;for(a=21453;21463>=a;a++)c[a]=0;for(a=21473;21483>=a;a++)c[a]=0;for(a=21780;21782>=a;a++)c[a]=0;for(a=21891;21894>=a;a++)c[a]=0;for(a=21896;21899>=a;a++)c[a]=0;for(a=22171;22177>=a;a++)c[a]=0;for(a=22181;22187>=a;a++)c[a]=0;for(a=22191;22197>=a;a++)c[a]=0;for(a=22234;22236>=a;a++)c[a]=0;for(a=22521;22525>=a;a++)c[a]=0;for(a=22991;22994>=a;a++)c[a]=0;for(a=23028;23038>=a;a++)c[a]=0;for(a=23830;23853>=a;a++)c[a]=0;for(a=23866;23872>=a;a++)c[a]=0;for(a=23877;23884>=
a;a++)c[a]=0;for(a=23886;23894>=a;a++)c[a]=0;for(a=23946;23948>=a;a++)c[a]=0;for(a=24311;24313>=a;a++)c[a]=0;for(a=24342;24347>=a;a++)c[a]=0;for(a=24370;24374>=a;a++)c[a]=10;for(a=24375;24381>=a;a++)c[a]=0;for(a=24718;24721>=a;a++)c[a]=0;for(a=24817;24821>=a;a++)c[a]=0;for(a=24877;24882>=a;a++)c[a]=0;for(a=24891;24893>=a;a++)c[a]=0;for(a=25391;25395>=a;a++)c[a]=0;for(a=25828;25838>=a;a++)c[a]=0;for(a=26191;26195>=a;a++)c[a]=0;for(a=26391;26393>=a;a++)c[a]=0;for(a=26701;26722>=a;a++)c[a]=0;for(a=26729;26799>=
a;a++)c[a]=2;for(a=26801;26803>=a;a++)c[a]=2;for(a=26811;26813>=a;a++)c[a]=2;for(a=26847;26870>=a;a++)c[a]=2;for(a=26891;26899>=a;a++)c[a]=0;for(a=26901;26923>=a;a++)c[a]=0;for(a=26929;26946>=a;a++)c[a]=0;for(a=26948;26998>=a;a++)c[a]=0;for(a=27037;27040>=a;a++)c[a]=0;for(a=27205;27232>=a;a++)c[a]=0;for(a=27258;27260>=a;a++)c[a]=0;for(a=27391;27398>=a;a++)c[a]=0;for(a=27561;27564>=a;a++)c[a]=0;for(a=27571;27574>=a;a++)c[a]=0;for(a=27581;27584>=a;a++)c[a]=0;for(a=27591;27594>=a;a++)c[a]=0;for(a=28191;28193>=
a;a++)c[a]=0;for(a=28348;28358>=a;a++)c[a]=0;for(a=28402;28432>=a;a++)c[a]=0;for(a=28462;28492>=a;a++)c[a]=0;for(a=29118;29122>=a;a++)c[a]=0;for(a=29168;29172>=a;a++)c[a]=0;for(a=29177;29185>=a;a++)c[a]=0;for(a=29187;29195>=a;a++)c[a]=0;for(a=29900;29903>=a;a++)c[a]=0;for(a=30161;30179>=a;a++)c[a]=0;for(a=30491;30494>=a;a++)c[a]=0;for(a=30729;30732>=a;a++)c[a]=0;for(a=31251;31259>=a;a++)c[a]=0;for(a=31265;31268>=a;a++)c[a]=0;for(a=31275;31279>=a;a++)c[a]=0;for(a=31281;31297>=a;a++)c[a]=0;for(a=31461;31469>=
a;a++)c[a]=0;for(a=31491;31495>=a;a++)c[a]=0;for(a=31917;31922>=a;a++)c[a]=0;for(a=31965;32E3>=a;a++)c[a]=0;for(a=32001;32003>=a;a++)c[a]=2;for(a=32005;32031>=a;a++)c[a]=2;for(a=32033;32060>=a;a++)c[a]=2;for(a=32064;32067>=a;a++)c[a]=2;for(a=32074;32077>=a;a++)c[a]=2;for(a=32081;32086>=a;a++)c[a]=0;for(a=32107;32130>=a;a++)c[a]=0;for(a=32133;32158>=a;a++)c[a]=0;for(a=32164;32167>=a;a++)c[a]=2;for(a=32180;32199>=a;a++)c[a]=0;for(a=32201;32260>=a;a++)c[a]=0;for(a=32301;32360>=a;a++)c[a]=0;for(a=32601;32662>=
a;a++)c[a]=0;for(a=32664;32667>=a;a++)c[a]=2;for(a=32701;32761>=a;a++)c[a]=0;for(a=53001;53004>=a;a++)c[a]=0;for(a=53008;53019>=a;a++)c[a]=0;for(a=53021;53032>=a;a++)c[a]=0;for(a=53034;53037>=a;a++)c[a]=0;for(a=53042;53046>=a;a++)c[a]=0;for(a=53074;53080>=a;a++)c[a]=0;for(a=54001;54004>=a;a++)c[a]=0;for(a=54008;54019>=a;a++)c[a]=0;for(a=54021;54032>=a;a++)c[a]=0;for(a=54034;54037>=a;a++)c[a]=0;for(a=54042;54046>=a;a++)c[a]=0;for(a=54048;54053>=a;a++)c[a]=0;for(a=54074;54080>=a;a++)c[a]=0;for(a=54098;54101>=
a;a++)c[a]=0;for(a=102001;102040>=a;a++)c[a]=0;for(a=102042;102063>=a;a++)c[a]=0;for(a=102065;102067>=a;a++)c[a]=0;for(a=102070;102117>=a;a++)c[a]=0;for(a=102122;102216>=a;a++)c[a]=0;for(a=102221;102377>=a;a++)c[a]=0;for(a=102382;102388>=a;a++)c[a]=0;for(a=102389;102398>=a;a++)c[a]=2;for(a=102399;102444>=a;a++)c[a]=0;for(a=102445;102447>=a;a++)c[a]=2;for(a=102448;102458>=a;a++)c[a]=0;for(a=102459;102468>=a;a++)c[a]=2;for(a=102469;102499>=a;a++)c[a]=0;for(a=102500;102519>=a;a++)c[a]=1;for(a=102520;102524>=
a;a++)c[a]=0;for(a=102525;102529>=a;a++)c[a]=2;for(a=102530;102588>=a;a++)c[a]=0;for(a=102590;102598>=a;a++)c[a]=0;for(a=102601;102603>=a;a++)c[a]=0;for(a=102605;102628>=a;a++)c[a]=0;for(a=102629;102646>=a;a++)c[a]=2;for(a=102648;102700>=a;a++)c[a]=2;for(a=102701;102703>=a;a++)c[a]=0;for(a=102707;102730>=a;a++)c[a]=2;for(a=102733;102758>=a;a++)c[a]=2;for(a=102767;102900>=a;a++)c[a]=0;for(a=102965;102969>=a;a++)c[a]=0;for(a=102971;102973>=a;a++)c[a]=0;for(a=102975;102989>=a;a++)c[a]=0;for(a=102990;102992>=
a;a++)c[a]=1;for(a=102997;103002>=a;a++)c[a]=0;for(a=103003;103008>=a;a++)c[a]=2;for(a=103009;103011>=a;a++)c[a]=0;for(a=103012;103014>=a;a++)c[a]=2;for(a=103019;103021>=a;a++)c[a]=0;for(a=103022;103024>=a;a++)c[a]=2;for(a=103029;103031>=a;a++)c[a]=0;for(a=103032;103034>=a;a++)c[a]=2;for(a=103065;103068>=a;a++)c[a]=0;for(a=103074;103076>=a;a++)c[a]=0;for(a=103077;103079>=a;a++)c[a]=1;for(a=103080;103082>=a;a++)c[a]=0;for(a=103083;103085>=a;a++)c[a]=2;for(a=103090;103093>=a;a++)c[a]=0;for(a=103097;103099>=
a;a++)c[a]=0;for(a=103100;103102>=a;a++)c[a]=2;for(a=103107;103109>=a;a++)c[a]=0;for(a=103110;103112>=a;a++)c[a]=2;for(a=103113;103116>=a;a++)c[a]=0;for(a=103117;103120>=a;a++)c[a]=2;for(a=103153;103157>=a;a++)c[a]=0;for(a=103158;103162>=a;a++)c[a]=2;for(a=103163;103165>=a;a++)c[a]=0;for(a=103166;103168>=a;a++)c[a]=1;for(a=103169;103171>=a;a++)c[a]=2;for(a=103186;103188>=a;a++)c[a]=0;for(a=103189;103191>=a;a++)c[a]=2;for(a=103192;103195>=a;a++)c[a]=0;for(a=103196;103199>=a;a++)c[a]=2;for(a=103200;103224>=
a;a++)c[a]=0;for(a=103225;103227>=a;a++)c[a]=1;for(a=103232;103237>=a;a++)c[a]=0;for(a=103238;103243>=a;a++)c[a]=2;for(a=103244;103246>=a;a++)c[a]=0;for(a=103247;103249>=a;a++)c[a]=2;for(a=103254;103256>=a;a++)c[a]=0;for(a=103257;103259>=a;a++)c[a]=2;for(a=103264;103266>=a;a++)c[a]=0;for(a=103267;103269>=a;a++)c[a]=2;for(a=103300;103375>=a;a++)c[a]=0;for(a=103381;103383>=a;a++)c[a]=0;for(a=103384;103386>=a;a++)c[a]=1;for(a=103387;103389>=a;a++)c[a]=0;for(a=103390;103392>=a;a++)c[a]=2;for(a=103397;103399>=
a;a++)c[a]=0;for(a=103400;103471>=a;a++)c[a]=2;for(a=103476;103478>=a;a++)c[a]=0;for(a=103479;103481>=a;a++)c[a]=2;for(a=103486;103488>=a;a++)c[a]=0;for(a=103489;103491>=a;a++)c[a]=2;for(a=103492;103495>=a;a++)c[a]=0;for(a=103496;103499>=a;a++)c[a]=2;for(a=103528;103543>=a;a++)c[a]=0;for(a=103544;103548>=a;a++)c[a]=2;for(a=103549;103551>=a;a++)c[a]=0;for(a=103552;103554>=a;a++)c[a]=1;for(a=103555;103557>=a;a++)c[a]=2;for(a=103558;103560>=a;a++)c[a]=0;for(a=103571;103573>=a;a++)c[a]=0;for(a=103574;103576>=
a;a++)c[a]=2;for(a=103577;103580>=a;a++)c[a]=0;for(a=103581;103583>=a;a++)c[a]=2;for(a=103595;103694>=a;a++)c[a]=0;for(a=103696;103699>=a;a++)c[a]=0;for(a=103700;103793>=a;a++)c[a]=2;for(a=103794;103872>=a;a++)c[a]=0;for(a=103900;103971>=a;a++)c[a]=2;return c})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./lang ./maybe ./accessorSupport/ensureType ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./ObjectPool ./accessorSupport/tracking ./ArrayPool ./scheduling ./Evented ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){function g(C){return C?C instanceof B?C.toArray():C.length?Array.prototype.slice.apply(C):[]:[]}function e(C){if(C&&C.length)return C[0]}function f(C,z,G,H){z&&z.forEach((I,K,L)=>{C.push(I);f(C,G.call(H,I,K,L),G,H)})}var u;let w=function(){function C(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var z=C.prototype;z.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};z.reset=function(G){this.defaultPrevented=
!1;this.item=G};return C}();const D=new h(w,void 0,C=>{C.item=null;C.target=null;C.defaultPrevented=!1;C.cancellable=!1}),v=()=>{},y=new Set,A=new Set,E=new Set,x=new Map;let F=0,B=u=function(C){function z(H){H=C.call(this,H)||this;H._chgListeners=[];H._notifications=null;H._timer=null;H._observable=new l.SimpleObservable;H.length=0;H._items=[];Object.defineProperty(a._assertThisInitialized(H),"uid",{value:F++});return H}a._inheritsLoose(z,C);z.isCollection=function(H){return null!=H&&H instanceof
u};var G=z.prototype;G.normalizeCtorArgs=function(H){return H?Array.isArray(H)||H instanceof u?{items:H}:H:{}};G[Symbol.iterator]=function*(){yield*this.items};G.hasEventListener=function(H){return"change"===H?0<this._chgListeners.length:this._emitter.hasEventListener(H)};G.on=function(H,I){if("change"===H){const K=this._chgListeners,L={removed:!1,callback:I};K.push(L);this._notifications&&this._notifications.push({listeners:K.slice(),items:this._items.slice(),changes:[]});return{remove(){this.remove=
v;L.removed=!0;K.splice(K.indexOf(L),1)}}}return this._emitter.on(H,I)};G.once=function(H,I){const K=this.on(H,I);return{remove(){K.remove()}}};G.add=function(H,I){m.trackAccess(this._observable);if(this._emitBeforeChanges(1))return this;I=this.getNextIndex(null!=I?I:null);this._splice(I,0,H);this._emitAfterChanges(1);return this};G.addMany=function(H,I=this._items.length){m.trackAccess(this._observable);if(!H||!H.length||this._emitBeforeChanges(1))return this;I=this.getNextIndex(I);this._splice(I,
0,...g(H));this._emitAfterChanges(1);return this};G.removeAll=function(){m.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(2))return[];const H=this._splice(0,this.length)||[];this._emitAfterChanges(2);return H};G.clone=function(){m.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(b.clone)})};G.concat=function(...H){m.trackAccess(this._observable);H=H.map(g);return this._createNewInstance({items:this._items.concat(...H)})};G.drain=function(H,
I){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(2)){var K=n.assumeNonNull(this._splice(0,this.length)),L=K.length;for(let T=0;T<L;T++)H.call(I,K[T],T,K);this._emitAfterChanges(2)}};G.every=function(H,I){m.trackAccess(this._observable);return this._items.every(H,I)};G.filter=function(H,I){m.trackAccess(this._observable);let K;K=2===arguments.length?this._items.filter(H,I):this._items.filter(H);return this._createNewInstance({items:K})};G.find=function(H,I){m.trackAccess(this._observable);
return this._items.find(H,I)};G.findIndex=function(H,I){m.trackAccess(this._observable);return this._items.findIndex(H,I)};G.flatten=function(H,I){m.trackAccess(this._observable);const K=[];f(K,this,H,I);return new u(K)};G.forEach=function(H,I){m.trackAccess(this._observable);return this._items.forEach(H,I)};G.getItemAt=function(H){m.trackAccess(this._observable);return this._items[H]};G.getNextIndex=function(H){m.trackAccess(this._observable);const I=this.length;H=null==H?I:H;0>H?H=0:H>I&&(H=I);
return H};G.includes=function(H,I=0){m.trackAccess(this._observable);return this._items.includes(H,I)};G.indexOf=function(H,I=0){m.trackAccess(this._observable);return this._items.indexOf(H,I)};G.join=function(H=","){m.trackAccess(this._observable);return this._items.join(H)};G.lastIndexOf=function(H,I=this.length-1){m.trackAccess(this._observable);return this._items.lastIndexOf(H,I)};G.map=function(H,I){m.trackAccess(this._observable);H=this._items.map(H,I);return new u({items:H})};G.reorder=function(H,
I=this.length-1){m.trackAccess(this._observable);const K=this.indexOf(H);if(-1!==K){0>I?I=0:I>=this.length&&(I=this.length-1);if(K!==I){if(this._emitBeforeChanges(4))return H;this._splice(K,1);this._splice(I,0,H);this._emitAfterChanges(4)}return H}};G.pop=function(){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(2)){var H=e(this._splice(this.length-1,1));this._emitAfterChanges(2);return H}};G.push=function(...H){m.trackAccess(this._observable);if(this._emitBeforeChanges(1))return this.length;
this._splice(this.length,0,...H);this._emitAfterChanges(1);return this.length};G.reduce=function(H,I){m.trackAccess(this._observable);const K=this._items;return 2===arguments.length?K.reduce(H,I):K.reduce(H)};G.reduceRight=function(H,I){m.trackAccess(this._observable);const K=this._items;return 2===arguments.length?K.reduceRight(H,I):K.reduceRight(H)};G.remove=function(H){m.trackAccess(this._observable);return this.removeAt(this.indexOf(H))};G.removeAt=function(H){m.trackAccess(this._observable);
if(!(0>H||H>=this.length||this._emitBeforeChanges(2)))return H=e(this._splice(H,1)),this._emitAfterChanges(2),H};G.removeMany=function(H){m.trackAccess(this._observable);if(!H||!H.length||this._emitBeforeChanges(2))return[];H=H instanceof u?H.toArray():H;const I=this._items,K=[],L=H.length;for(let W=0;W<L;W++){var T=I.indexOf(H[W]);if(-1<T){{var O=W+1;var U=T+1;const S=Math.min(H.length-O,I.length-U);let N=0;for(;N<S&&H[O+N]===I[U+N];)N++;O=N}O=1+O;(T=this._splice(T,O))&&0<T.length&&K.push.apply(K,
T);W+=O-1}}this._emitAfterChanges(2);return K};G.reverse=function(){m.trackAccess(this._observable);if(this._emitBeforeChanges(4))return this;const H=this._splice(0,this.length);H&&(H.reverse(),this._splice(0,0,...H));this._emitAfterChanges(4);return this};G.shift=function(){m.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(2)){var H=e(this._splice(0,1));this._emitAfterChanges(2);return H}};G.slice=function(H=0,I=this.length){m.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(H,
I)})};G.some=function(H,I){m.trackAccess(this._observable);return this._items.some(H,I)};G.sort=function(H){m.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(4))return this;const I=n.assumeNonNull(this._splice(0,this.length));arguments.length?I.sort(H):I.sort();this._splice(0,0,...I);this._emitAfterChanges(4);return this};G.splice=function(H,I,...K){m.trackAccess(this._observable);const L=(I?2:0)|(K.length?1:0);if(this._emitBeforeChanges(L))return[];H=this._splice(H,I,...K)||
[];this._emitAfterChanges(L);return H};G.toArray=function(){m.trackAccess(this._observable);return this._items.slice()};G.toJSON=function(){m.trackAccess(this._observable);return this.toArray()};G.toLocaleString=function(){m.trackAccess(this._observable);return this._items.toLocaleString()};G.toString=function(){m.trackAccess(this._observable);return this._items.toString()};G.unshift=function(...H){m.trackAccess(this._observable);if(!H.length||this._emitBeforeChanges(1))return this.length;this._splice(0,
0,...H);this._emitAfterChanges(1);return this.length};G._createNewInstance=function(H){return new this.constructor(H)};G._splice=function(H,I,...K){const L=this._items;var T=this.constructor.prototype.itemType;let O=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=p.schedule(()=>this._dispatchChange()));if(I){O=L.splice(H,I);if(this.hasEventListener("before-remove")){var U=
D.acquire();U.target=this;U.cancellable=!0;for(let N=0,P=O.length;N<P;N++)I=O[N],U.reset(I),this.emit("before-remove",U),U.defaultPrevented&&(O.splice(N,1),L.splice(H,0,I),H+=1,--N,--P);D.release(U)}this.length=this._items.length;if(this.hasEventListener("after-remove")){I=D.acquire();I.target=this;I.cancellable=!1;U=O.length;for(let N=0;N<U;N++)I.reset(O[N]),this.emit("after-remove",I);D.release(I)}}if(K&&K.length){if(T){I=[];for(var W of K)K=T.ensureType(W),null==K&&null!=W||I.push(K);K=I}T=this.hasEventListener("before-add");
W=this.hasEventListener("after-add");I=H===this.length;if(T||W){var S=D.acquire();S.target=this;S.cancellable=!0;U=D.acquire();U.target=this;U.cancellable=!1;for(const N of K)T?(S.reset(N),this.emit("before-add",S),S.defaultPrevented||(I?L.push(N):L.splice(H++,0,N),this._set("length",L.length),W&&(U.reset(N),this.emit("after-add",U)))):(I?L.push(N):L.splice(H++,0,N),this._set("length",L.length),U.reset(N),this.emit("after-add",U));D.release(U);D.release(S)}else{if(I)for(S of K)L.push(S);else L.splice(H,
0,...K);this._set("length",L.length)}}(K&&K.length||O&&O.length)&&this._notifyChangeEvent(K,O);return O};G._emitBeforeChanges=function(H){let I=!1;if(this.hasEventListener("before-changes")){const K=D.acquire();K.target=this;K.cancellable=!0;K.type=H;this.emit("before-changes",K);I=K.defaultPrevented;D.release(K)}return I};G._emitAfterChanges=function(H){if(this.hasEventListener("after-changes")){const I=D.acquire();I.target=this;I.cancellable=!1;I.type=H;this.emit("after-changes",I);D.release(I)}this._observable.notify()};
G._notifyChangeEvent=function(H,I){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:H,removed:I})};G._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var H=this._notifications;this._notifications=null;for(const I of H){H=I.changes;y.clear();A.clear();E.clear();for(const {added:W,removed:S}of H){if(W)if(0===E.size&&0===A.size)for(const N of W)y.add(N);else for(const N of W)A.has(N)?
(E.add(N),A.delete(N)):E.has(N)||y.add(N);if(S)if(0===E.size&&0===y.size)for(const N of S)A.add(N);else for(const N of S)y.has(N)?y.delete(N):(E.delete(N),A.add(N))}const K=t.acquire();y.forEach(W=>{K.push(W)});const L=t.acquire();A.forEach(W=>{L.push(W)});const T=this._items,O=I.items,U=t.acquire();E.forEach(W=>{O.indexOf(W)!==T.indexOf(W)&&U.push(W)});if(I.listeners&&(K.length||L.length||U.length)){H={target:this,added:K,removed:L,moved:U};const W=I.listeners.length;for(let S=0;S<W;S++){const N=
I.listeners[S];N.removed||N.callback.call(this,H)}}t.release(K);t.release(L);t.release(U)}y.clear();A.clear();E.clear()}};a._createClass(z,[{key:"items",get:function(){m.trackAccess(this._observable);return this._items},set:function(H){this._emitBeforeChanges(1)||(this._splice(0,this.length,...g(H)),this._emitAfterChanges(1))}}]);return z}(q.EventedAccessor);B.ofType=C=>{if(!C)return u;if(x.has(C))return x.get(C);var z=null;if("function"===typeof C)z=C.prototype.declaredClass;else if(C.base)z=C.base.prototype.declaredClass;
else for(var G in C.typeMap){const H=C.typeMap[G].prototype.declaredClass;z=z?z+` | ${H}`:H}G=function(H){function I(){return H.apply(this,arguments)||this}a._inheritsLoose(I,H);return I}(u);G=c.__decorate([d.subclass(`esri.core.Collection<${z}>`)],G);z={Type:C,ensureType:"function"===typeof C?r.ensureType(C):r.ensureOneOfType(C)};Object.defineProperty(G.prototype,"itemType",{value:z});x.set(C,G);return G};c.__decorate([k.property()],B.prototype,"length",void 0);c.__decorate([k.property()],B.prototype,
"items",null);return B=u=c.__decorate([d.subclass("esri.core.Collection")],B)})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","./ObservationHandle"],function(a,c){let b=function(){function n(){this._observers=new Set}var r=n.prototype;r.observe=function(k){return new c.ObservationHandle(this._observers.add(k),k)};r.notify=function(){var k=this._observers;const d=this._observers.size,h=Array(d);let m=0;for(const t of k)h[m++]=t;for(k=0;k<d;k++)h[k].notify()};return n}();
a.SimpleObservable=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(a,c){a.castForReferenceSetter=function(b){return b};a.referenceSetter=function(b,n,r=c){n||(n=new r);if(n===b)return n;n.removeAll();b&&(Array.isArray(b)||"items"in b&&Array.isArray(b.items))?n.addMany(b):b&&n.add(b);return n};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Loadable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/decorators/property ./Warning ./accessorSupport/decorators/subclass ./Error ./promiseUtils ./Promise".split(" "),
function(a,c,b,n,r,k,d,h){const m=t=>{t=function(p){function q(...g){var e=p.call(this,...g)||this;e._loadController=null;e.loadError=null;e.loadStatus="not-loaded";e._set("loadWarnings",[]);e.addResolvingPromise(new Promise(f=>{const u=e.load.bind(a._assertThisInitialized(e));e.load=w=>{const D=new Promise((v,y)=>{const A=d.onAbortOrThrow(w,y);e.destroyed&&y(new k("load:instance-destroyed",`Instance of '${e.declaredClass||e.constructor.name}' is already destroyed`,{instance:a._assertThisInitialized(e)}));
e._promiseProps.when(v,y).finally(()=>{A&&A.remove()})});if("not-loaded"===e.loadStatus){e._set("loadStatus","loading");const v=e._loadController=d.createAbortController();u({signal:v.signal});d.onAbort(v.signal,()=>{e._promiseProps.abort()})}f();return D}}));e.when(()=>{e._set("loadStatus","loaded");e._loadController=null},f=>{e._set("loadStatus","failed");e._set("loadError",f);e._loadController=null});return e}a._inheritsLoose(q,p);var l=q.prototype;l.load=function(){return null};l.cancelLoad=function(){var g;
if(this.isFulfilled())return this;this._set("loadError",new k("load:cancelled","Cancelled"));null==(g=this._loadController)?void 0:g.abort();return this};a._createClass(q,[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return q}(t);c.__decorate([b.property({readOnly:!0})],t.prototype,"loaded",null);c.__decorate([b.property({readOnly:!0})],t.prototype,"loadError",void 0);c.__decorate([b.property()],t.prototype,
"loadStatus",void 0);c.__decorate([b.property({type:[n],readOnly:!0})],t.prototype,"loadWarnings",null);return t=c.__decorate([r.subclass("esri.core.Loadable")],t)};h=function(t){function p(){return t.apply(this,arguments)||this}a._inheritsLoose(p,t);return p}(m(h.EsriPromise));h=c.__decorate([r.subclass("esri.core.Loadable")],h);(function(t){t.LoadableMixin=m;t.isLoadable=function(p){return!(!p||!p.load)}})(h||(h={}));return h})},"esri/core/Promise":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./maybe ./accessorSupport/decorators/subclass ./promiseUtils ./Accessor".split(" "),
function(a,c,b,n,r,k,d){let h=function(){function t(q){this.instance=q;this._resolver=k.createDeferred();this._status=0;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=1;this._cleanUp()},()=>{this._status=2;this._cleanUp()})}var p=t.prototype;p.addResolvingPromise=function(q){this._resolvingPromises.push(q);this._tryResolve()};p.isResolved=function(){return 1===this._status};p.isRejected=function(){return 2===this._status};p.isFulfilled=function(){return 0!==this._status};
p.abort=function(){this._resolver.reject(k.createAbortError())};p.when=function(q,l){return this._resolver.promise.then(q,l)};p._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};p._tryResolve=function(){if(!this.isFulfilled()){var q=k.createDeferred(),l=[...this._resolvingPromises,n.assumeNonNull(q.promise)],g=this._allPromise=Promise.all(l);g.then(()=>{this.isFulfilled()||this._allPromise!==g||this._resolver.resolve(this.instance)},e=>{this.isFulfilled()||this._allPromise!==
g||k.isAbortError(e)||this._resolver.reject(e)});q.resolve()}};return t}();const m=t=>{t=function(p){function q(...g){g=p.call(this,...g)||this;g._promiseProps=new h(c._assertThisInitialized(g));g.addResolvingPromise(Promise.resolve());return g}c._inheritsLoose(q,p);var l=q.prototype;l.isResolved=function(){return this._promiseProps.isResolved()};l.isRejected=function(){return this._promiseProps.isRejected()};l.isFulfilled=function(){return this._promiseProps.isFulfilled()};l.when=function(g,e){return(new Promise((f,
u)=>{this._promiseProps.when(f,u)})).then(g,e)};l.catch=function(g){return this.when(null,g)};l.addResolvingPromise=function(g){g&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in g?g.when():g)};return q}(t);return t=b.__decorate([r.subclass("esri.core.Promise")],t)};a.EsriPromise=function(t){function p(){return t.apply(this,arguments)||this}c._inheritsLoose(p,t);return p}(m(d));a.EsriPromise=b.__decorate([r.subclass("esri.core.Promise")],a.EsriPromise);
a.EsriPromiseMixin=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/Portal":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../config ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/promiseUtils ../core/JSONSupport ../geometry/Extent ../intl/locale ../kernel ../request ../intl ../core/Loadable ./PortalQueryParams ./PortalQueryResult ./PortalUser".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C){function z(K){return Object.freeze({__proto__:null,"default":K})}var G;let H;const I={PortalGroup:()=>new Promise(function(K,L){a(["./PortalGroup"],function(T){K(z(T))},L)}),PortalItem:()=>new Promise(function(K,L){a(["./PortalItem"],function(T){K(z(T))},L)}),PortalUser:()=>new Promise(function(K,L){a(["./PortalUser"],function(T){K(z(T))},L)})};n=G=function(K){function L(O){O=K.call(this,O)||this;O.access=null;O.allSSL=!1;O.authMode=
"auto";O.authorizedCrossOriginDomains=null;O.basemapGalleryGroupQuery=null;O.bingKey=null;O.canListApps=!1;O.canListData=!1;O.canListPreProvisionedItems=!1;O.canProvisionDirectPurchase=!1;O.canSearchPublic=!0;O.canShareBingPublic=!1;O.canSharePublic=!1;O.canSignInArcGIS=!1;O.canSignInIDP=!1;O.colorSetsGroupQuery=null;O.commentsEnabled=!1;O.created=null;O.culture=null;O.customBaseUrl=null;O.defaultBasemap=null;O.defaultExtent=null;O.defaultVectorBasemap=null;O.description=null;O.eueiEnabled=null;O.featuredGroups=
null;O.featuredItemsGroupQuery=null;O.galleryTemplatesGroupQuery=null;O.livingAtlasGroupQuery=null;O.hasCategorySchema=!1;O.helperServices=null;O.homePageFeaturedContent=null;O.homePageFeaturedContentCount=null;O.httpPort=null;O.httpsPort=null;O.id=null;O.ipCntryCode=null;O.isPortal=!1;O.isReadOnly=!1;O.layerTemplatesGroupQuery=null;O.maxTokenExpirationMinutes=null;O.modified=null;O.name=null;O.portalHostname=null;O.portalMode=null;O.portalProperties=null;O.region=null;O.rotatorPanels=null;O.showHomePageDescription=
!1;O.sourceJSON=null;O.supportsHostedServices=!1;O.symbolSetsGroupQuery=null;O.templatesGroupQuery=null;O.units=null;O.url=r.portalUrl;O.urlKey=null;O.user=null;O.useStandardizedQuery=!1;O.useVectorBasemaps=!1;O.vectorBasemapGalleryGroupQuery=null;return O}c._inheritsLoose(L,K);var T=L.prototype;T.normalizeCtorArgs=function(O){return"string"===typeof O?{url:O}:O};T.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=
null)};T.readAuthorizedCrossOriginDomains=function(O){if(O)for(const U of O)-1===r.request.trustedServers.indexOf(U)&&r.request.trustedServers.push(U);return O};T.readDefaultBasemap=function(O){return O?(O=H.fromJSON(O),O.portalItem={portal:this},O):null};T.readDefaultVectorBasemap=function(O){return O?(O=H.fromJSON(O),O.portalItem={portal:this},O):null};T.readUrlKey=function(O){return O?O.toLowerCase():O};T.readUser=function(O){let U=null;O&&(U=C.fromJSON(O),U.portal=this);return U};T.load=function(O){const U=
(new Promise(function(W,S){a(["../Basemap"],function(N){W(z(N))},S)})).then(({default:W})=>{u.throwIfAborted(O);H=W}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,O)).then(W=>{if(y.id){const S=y.id;this.credential=S.findCredential(this.restUrl);this.credential||this.authMode!==G.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=S.on("credential-create",()=>{S.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=W;this.read(W)});this.addResolvingPromise(U);
return Promise.resolve(this)};T.createClosestFacilityTask=async function(){await this.load();const O=this._getHelperServiceUrl("closestFacility");return new (await new Promise(function(U,W){a(["../tasks/ClosestFacilityTask"],function(S){U(z(S))},W)})).default(O)};T.createElevationLayers=async function(){await this.load();const O=this._getHelperService("defaultElevationLayers"),U=(await new Promise(function(W,S){a(["../layers/ElevationLayer"],function(N){W(z(N))},S)})).default;return O?O.map(W=>new U({id:W.id,
url:W.url})):[]};T.createGeometryService=async function(){await this.load();const O=this._getHelperServiceUrl("geometry");return new (await new Promise(function(U,W){a(["../tasks/GeometryService"],function(S){U(z(S))},W)})).default({url:O})};T.createPrintTask=async function(){await this.load();const O=this._getHelperServiceUrl("printTask");return new (await new Promise(function(U,W){a(["../tasks/PrintTask"],function(S){U(z(S))},W)})).default(O)};T.createRouteTask=async function(){await this.load();
const O=this._getHelperServiceUrl("route");return new (await new Promise(function(U,W){a(["../tasks/RouteTask"],function(S){U(z(S))},W)})).default(O)};T.createServiceAreaTask=async function(){await this.load();const O=this._getHelperServiceUrl("serviceArea");return new (await new Promise(function(U,W){a(["../tasks/ServiceAreaTask"],function(S){U(z(S))},W)})).default(O)};T.fetchBasemaps=function(O,U){const W=new F;W.query=O||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);
W.disableExtraQuery=!0;return this.queryGroups(W,U).then(S=>{W.num=100;W.query='type:"Web Map" -type:"Web Application"';return S.total?(S=S.results[0],W.sortField=S.sortField||"name",W.sortOrder=S.sortOrder||"desc",S.queryItems(W,U)):null}).then(S=>S&&S.total?S.results.filter(N=>"Web Map"===N.type).map(N=>new H({portalItem:N})):[])};T.fetchCategorySchema=function(O){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",O).then(U=>U.categorySchema):u.isAborted(O)?
Promise.reject(u.createAbortError()):Promise.resolve([])};T.fetchFeaturedGroups=function(O){const U=this.featuredGroups,W=new F;W.num=100;W.sortField="title";if(U&&U.length){const S=[];for(const N of U)S.push(`(title:"${N.title}" AND owner:${N.owner})`);W.query=S.join(" OR ");return this.queryGroups(W,O).then(N=>N.results)}return u.isAborted(O)?Promise.reject(u.createAbortError()):Promise.resolve([])};T.fetchRegions=function(O){const U=this.user&&this.user.culture||this.culture||v.getLocale();return this._request(this.restUrl+
"/portals/regions",{...O,query:{culture:U}})};L.getDefault=function(){if(!G._default||G._default.destroyed)G._default=new G;return G._default};T.queryGroups=function(O,U){return this._queryPortal("/community/groups",O,"PortalGroup",U)};T.queryItems=function(O,U){return this._queryPortal("/search",O,"PortalItem",U)};T.queryUsers=function(O,U){O.sortField||(O.sortField="username");return this._queryPortal("/community/users",O,"PortalUser",U)};T.toJSON=function(){throw new l("internal:not-yet-implemented",
"Portal.toJSON is not yet implemented");};L.fromJSON=function(O){if(!O)return null;if(O.declaredClass)throw Error("JSON object is already hydrated");return new G({sourceJSON:O})};T._getHelperService=function(O){const U=this.helperServices&&this.helperServices[O];if(!U)throw new l("portal:service-not-found",`The \`helperServices\` do not include an entry named "${O}"`);return U};T._getHelperServiceUrl=function(O){const U=this._getHelperService(O);if(!U.url)throw new l("portal:service-url-not-found",
`The \`helperServices\` entry "${O}" does not include a \`url\` value`);return U.url};T._fetchSelf=function(O=this.authMode,U=!1,W){const S=this.restUrl+"/portals/self";O={authMode:O,query:{culture:v.getLocale().toLowerCase()},...W};"auto"===O.authMode&&(O.authMode="no-prompt");U&&(O.query.default=!0);return this._request(S,O)};T._queryPortal=function(O,U,W,S){const N=h.ensureType(F,U),P=J=>this._request(this.restUrl+O,{...N.toRequestOptions(this),...S}).then(M=>{const R=N.clone();R.start=M.nextStart;
return new B({nextQueryParams:R,queryParams:N,total:M.total,results:G._resultsToTypedArray(J,{portal:this},M,S)})}).then(M=>Promise.all(M.results.map(R=>"function"===typeof R.when?R.when():M)).then(()=>M,R=>{u.throwIfAbortError(R);return M}));return W&&I[W]?I[W]().then(({default:J})=>{u.throwIfAborted(S);return P(J)}):P()};T._signIn=function(){if(this.authMode===G.AUTH_MODE_ANONYMOUS)return Promise.reject(new l("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===
this.loadStatus)return Promise.reject(this.loadError);const O=U=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return U||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=U;return this._fetchSelf("immediate")});if(this.user&&this.credential===U)return null;this.credential=U;return this._fetchSelf("immediate")}).then(W=>{W&&(this.sourceJSON=W,this.read(W))});return y.id?y.id.getCredential(this.restUrl).then(U=>
O(U)):O(this.credential)};T._normalizeSSL=function(O){return O.replace(/^http:/i,"https:").replace(":7080",":7443")};T._normalizeUrl=function(O){const U=this.credential&&this.credential.token;return this._normalizeSSL(U?O+(-1<O.indexOf("?")?"\x26":"?")+"token\x3d"+U:O)};T._requestToTypedArray=function(O,U,W){return this._request(O,U).then(S=>{const N=G._resultsToTypedArray(W,{portal:this},S);return Promise.all(N.map(P=>"function"===typeof P.when?P.when():S)).then(()=>N,()=>N)})};T._request=function(O,
U={}){const W={f:"json",...U.query},{authMode:S=this.authMode===G.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:N=null,cacheBust:P=!1,method:J="auto",responseType:M="json",signal:R}=U;U={authMode:S,body:N,cacheBust:P,method:J,query:W,responseType:M,timeout:0,signal:R};return A(this._normalizeSSL(O),U).then(X=>X.data)};L._resultsToTypedArray=function(O,U,W,S){if(W){const N=k.isSome(S)?S.signal:null;W=W.listings||W.notifications||W.userInvitations||W.tags||W.items||W.groups||W.comments||W.provisions||
W.results||W.relatedItems||W;if(O||U)W=W.map(P=>{P=Object.assign(O?O.fromJSON(P):P,U);"function"===typeof P.load&&P.load(N);return P})}else W=[];return W};c._createClass(L,[{key:"extraQuery",get:function(){const O=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!O?` AND orgid:${this.id}`:null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"restUrl",get:function(){let O=this.url;if(O){const U=O.indexOf("/sharing");O=0<U?O.substring(0,U):this.url.replace(/\/+$/,
"");O+="/sharing/rest"}return O}},{key:"thumbnailUrl",get:function(){const O=this.restUrl,U=this.thumbnail;return O&&U?this._normalizeSSL(O+"/portals/self/resources/"+U):null}}]);return L}(w.JSONSupportMixin(x));n.AUTH_MODE_ANONYMOUS="anonymous";n.AUTH_MODE_AUTO="auto";n.AUTH_MODE_IMMEDIATE="immediate";b.__decorate([m.property()],n.prototype,"access",void 0);b.__decorate([m.property()],n.prototype,"allSSL",void 0);b.__decorate([m.property()],n.prototype,"authMode",void 0);b.__decorate([m.property()],
n.prototype,"authorizedCrossOriginDomains",void 0);b.__decorate([p.reader("authorizedCrossOriginDomains")],n.prototype,"readAuthorizedCrossOriginDomains",null);b.__decorate([m.property()],n.prototype,"basemapGalleryGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"bingKey",void 0);b.__decorate([m.property()],n.prototype,"canListApps",void 0);b.__decorate([m.property()],n.prototype,"canListData",void 0);b.__decorate([m.property()],n.prototype,"canListPreProvisionedItems",void 0);b.__decorate([m.property()],
n.prototype,"canProvisionDirectPurchase",void 0);b.__decorate([m.property()],n.prototype,"canSearchPublic",void 0);b.__decorate([m.property()],n.prototype,"canShareBingPublic",void 0);b.__decorate([m.property()],n.prototype,"canSharePublic",void 0);b.__decorate([m.property()],n.prototype,"canSignInArcGIS",void 0);b.__decorate([m.property()],n.prototype,"canSignInIDP",void 0);b.__decorate([m.property()],n.prototype,"colorSetsGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"commentsEnabled",
void 0);b.__decorate([m.property({type:Date})],n.prototype,"created",void 0);b.__decorate([m.property()],n.prototype,"credential",void 0);b.__decorate([m.property()],n.prototype,"culture",void 0);b.__decorate([m.property()],n.prototype,"currentVersion",void 0);b.__decorate([m.property()],n.prototype,"customBaseUrl",void 0);b.__decorate([m.property()],n.prototype,"defaultBasemap",void 0);b.__decorate([p.reader("defaultBasemap")],n.prototype,"readDefaultBasemap",null);b.__decorate([m.property({type:D})],
n.prototype,"defaultExtent",void 0);b.__decorate([m.property()],n.prototype,"defaultVectorBasemap",void 0);b.__decorate([p.reader("defaultVectorBasemap")],n.prototype,"readDefaultVectorBasemap",null);b.__decorate([m.property()],n.prototype,"description",void 0);b.__decorate([m.property()],n.prototype,"eueiEnabled",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"extraQuery",null);b.__decorate([m.property()],n.prototype,"featuredGroups",void 0);b.__decorate([m.property()],n.prototype,
"featuredItemsGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"galleryTemplatesGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"livingAtlasGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"hasCategorySchema",void 0);b.__decorate([m.property()],n.prototype,"helpBase",void 0);b.__decorate([m.property()],n.prototype,"helperServices",void 0);b.__decorate([m.property()],n.prototype,"helpMap",void 0);b.__decorate([m.property()],n.prototype,"homePageFeaturedContent",void 0);
b.__decorate([m.property()],n.prototype,"homePageFeaturedContentCount",void 0);b.__decorate([m.property()],n.prototype,"httpPort",void 0);b.__decorate([m.property()],n.prototype,"httpsPort",void 0);b.__decorate([m.property()],n.prototype,"id",void 0);b.__decorate([m.property()],n.prototype,"ipCntryCode",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"isOrganization",null);b.__decorate([m.property()],n.prototype,"isPortal",void 0);b.__decorate([m.property()],n.prototype,"isReadOnly",
void 0);b.__decorate([m.property()],n.prototype,"layerTemplatesGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"maxTokenExpirationMinutes",void 0);b.__decorate([m.property({type:Date})],n.prototype,"modified",void 0);b.__decorate([m.property()],n.prototype,"name",void 0);b.__decorate([m.property()],n.prototype,"portalHostname",void 0);b.__decorate([m.property()],n.prototype,"portalMode",void 0);b.__decorate([m.property()],n.prototype,"portalProperties",void 0);b.__decorate([m.property()],
n.prototype,"region",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"restUrl",null);b.__decorate([m.property()],n.prototype,"rotatorPanels",void 0);b.__decorate([m.property()],n.prototype,"showHomePageDescription",void 0);b.__decorate([m.property()],n.prototype,"sourceJSON",void 0);b.__decorate([m.property()],n.prototype,"staticImagesUrl",void 0);b.__decorate([m.property()],n.prototype,"stylesGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"supportsHostedServices",void 0);
b.__decorate([m.property()],n.prototype,"symbolSetsGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"templatesGroupQuery",void 0);b.__decorate([m.property()],n.prototype,"thumbnail",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"thumbnailUrl",null);b.__decorate([m.property()],n.prototype,"units",void 0);b.__decorate([m.property()],n.prototype,"url",void 0);b.__decorate([m.property()],n.prototype,"urlKey",void 0);b.__decorate([p.reader("urlKey")],n.prototype,"readUrlKey",
null);b.__decorate([m.property()],n.prototype,"user",void 0);b.__decorate([p.reader("user")],n.prototype,"readUser",null);b.__decorate([m.property()],n.prototype,"useStandardizedQuery",void 0);b.__decorate([m.property()],n.prototype,"useVectorBasemaps",void 0);b.__decorate([m.property()],n.prototype,"vectorBasemapGalleryGroupQuery",void 0);return n=G=b.__decorate([q.subclass("esri.portal.Portal")],n)})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","../../object","./property"],
function(a,c,b){a.reader=function(n,r,k){let d,h;void 0===r||Array.isArray(r)?(h=n,k=r,d=[void 0]):(h=r,d=Array.isArray(n)?n:[n]);return(m,t)=>{const p=m.constructor.prototype;d.forEach(q=>{q=b.propertyJSONMeta(m,q,h);q.read&&"object"!==typeof q.read&&(q.read={});c.setDeepValue("read.reader",p[t],q);k&&(q.read.source=(q.read.source||[]).concat(k))})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/string ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/spatialReferenceUtils ./SpatialReference ./Geometry ./support/webMercatorUtils ./Point ./support/contains ./support/intersects".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){function y(E,x,F){return null==x?F:null==F?x:E(x,F)}var A;b=A=function(E){function x(...B){B=E.call(this,...B)||this;B.type="extent";B.xmin=0;B.ymin=0;B.mmin=void 0;B.zmin=void 0;B.xmax=0;B.ymax=0;B.mmax=void 0;B.zmax=void 0;return B}a._inheritsLoose(x,E);var F=x.prototype;F.normalizeCtorArgs=function(B,C,z,G,H){return!B||"esri.geometry.SpatialReference"!==B.declaredClass&&null==B.wkid?"object"===typeof B?(B.spatialReference=null==B.spatialReference?
e.WGS84:B.spatialReference,B):{xmin:B,ymin:C,xmax:z,ymax:G,spatialReference:null==H?e.WGS84:H}:{spatialReference:B,xmin:0,ymin:0,xmax:0,ymax:0}};x.fromBounds=function(B,C){return new A({xmin:B[0],ymin:B[1],xmax:B[2],ymax:B[3],spatialReference:C})};F.centerAt=function(B){const C=this.center;return null!=B.z&&this.hasZ?this.offset(B.x-C.x,B.y-C.y,B.z-C.z):this.offset(B.x-C.x,B.y-C.y)};F.clone=function(){const B=new A;B.xmin=this.xmin;B.ymin=this.ymin;B.xmax=this.xmax;B.ymax=this.ymax;B.spatialReference=
this.spatialReference;null!=this.zmin&&(B.zmin=this.zmin,B.zmax=this.zmax);null!=this.mmin&&(B.mmin=this.mmin,B.mmax=this.mmax);return B};F.contains=function(B){if(!B)return!1;const C=this.spatialReference,z=B.spatialReference;C&&z&&!C.equals(z)&&u.canProject(C,z)&&(B=C.isWebMercator?u.geographicToWebMercator(B):u.webMercatorToGeographic(B,!0));return"point"===B.type?D.extentContainsPoint(this,B):"extent"===B.type?D.extentContainsExtent(this,B):!1};F.equals=function(B){if(!B)return!1;const C=this.spatialReference,
z=B.spatialReference;C&&z&&!C.equals(z)&&u.canProject(C,z)&&(B=C.isWebMercator?u.geographicToWebMercator(B):u.webMercatorToGeographic(B,!0));return this.xmin===B.xmin&&this.ymin===B.ymin&&this.zmin===B.zmin&&this.mmin===B.mmin&&this.xmax===B.xmax&&this.ymax===B.ymax&&this.zmax===B.zmax&&this.mmax===B.mmax};F.expand=function(B){B=.5*(1-B);var C=this.width*B;const z=this.height*B;this.xmin+=C;this.ymin+=z;this.xmax-=C;this.ymax-=z;this.hasZ&&(C=(this.zmax-this.zmin)*B,this.zmin+=C,this.zmax-=C);this.hasM&&
(B*=this.mmax-this.mmin,this.mmin+=B,this.mmax-=B);return this};F.intersects=function(B){if(n.isNone(B))return!1;"mesh"===B.type&&(B=B.extent);const C=this.spatialReference,z=B.spatialReference;C&&z&&!C.equals(z)&&u.canProject(C,z)&&(B=C.isWebMercator?u.geographicToWebMercator(B):u.webMercatorToGeographic(B,!0));return v.getExtentIntersector(B.type)(this,B)};F.normalize=function(){const B=this._normalize(!1,!0);return Array.isArray(B)?B:[B]};F.offset=function(B,C,z){this.xmin+=B;this.ymin+=C;this.xmax+=
B;this.ymax+=C;null!=z&&(this.zmin+=z,this.zmax+=z);return this};F.shiftCentralMeridian=function(){return this._normalize(!0)};F.union=function(B){this.xmin=Math.min(this.xmin,B.xmin);this.ymin=Math.min(this.ymin,B.ymin);this.xmax=Math.max(this.xmax,B.xmax);this.ymax=Math.max(this.ymax,B.ymax);if(this.hasZ||B.hasZ)this.zmin=y(Math.min,this.zmin,B.zmin),this.zmax=y(Math.max,this.zmax,B.zmax);if(this.hasM||B.hasM)this.mmin=y(Math.min,this.mmin,B.mmin),this.mmax=y(Math.max,this.mmax,B.mmax);return this};
F.intersection=function(B){if(!this.intersects(B))return null;this.xmin=Math.max(this.xmin,B.xmin);this.ymin=Math.max(this.ymin,B.ymin);this.xmax=Math.min(this.xmax,B.xmax);this.ymax=Math.min(this.ymax,B.ymax);if(this.hasZ||B.hasZ)this.zmin=y(Math.max,this.zmin,B.zmin),this.zmax=y(Math.min,this.zmax,B.zmax);if(this.hasM||B.hasM)this.mmin=y(Math.max,this.mmin,B.mmin),this.mmax=y(Math.min,this.mmax,B.mmax);return this};F.toJSON=function(B){return this.write(null,B)};F._shiftCM=function(B=g.getInfo(this.spatialReference)){if(!B||
!this.spatialReference)return this;const C=this.spatialReference,z=this._getCM(B);if(z){const G=C.isWebMercator?u.webMercatorToGeographic(z):z;this.xmin-=z.x;this.xmax-=z.x;C.isWebMercator||(G.x=this._normalizeX(G.x,B).x);this.spatialReference=new e(r.replace(C.isWGS84?B.altTemplate:B.wkTemplate,{Central_Meridian:G.x}))}return this};F._getCM=function(B){let C=null;const [z,G]=B.valid;B=this.xmin;const H=this.xmax;B>=z&&B<=G&&H>=z&&H<=G||(C=this.center);return C};F._normalize=function(B,C,z){const G=
this.spatialReference;if(!G)return this;z=z||g.getInfo(G);if(!z)return this;const H=this._getParts(z).map(L=>L.extent);if(2>H.length)return H[0]||this;if(2<H.length)return B?this._shiftCM(z):this.set({xmin:z.valid[0],xmax:z.valid[1]});if(B)return this._shiftCM(z);if(C)return H;let I=!0,K=!0;H.forEach(L=>{L.hasZ||(I=!1);L.hasM||(K=!1)});return{rings:H.map(L=>{const T=[[L.xmin,L.ymin],[L.xmin,L.ymax],[L.xmax,L.ymax],[L.xmax,L.ymin],[L.xmin,L.ymin]];if(I){var O=(L.zmax-L.zmin)/2;for(let U=0;U<T.length;U++)T[U].push(O)}if(K)for(L=
(L.mmax-L.mmin)/2,O=0;O<T.length;O++)T[O].push(L);return T}),hasZ:I,hasM:K,spatialReference:G}};F._getParts=function(B){let C=this.cache._parts;if(!C){C=[];const {ymin:O,ymax:U,spatialReference:W}=this;var z=this.width,G=this.xmin,H=this.xmax;B=B||g.getInfo(W);const [S,N]=B.valid;var I=this._normalizeX(this.xmin,B);var K=I.x,L=I.frameId;I=this._normalizeX(this.xmax,B);B=I.x;I=I.frameId;var T=K===B&&0<z;if(z>2*N){z=new A(G<H?K:B,O,N,U,W);G=new A(S,O,G<H?B:K,U,W);H=new A(0,O,N,U,W);K=new A(S,O,0,U,
W);B=[];T=[];z.contains(H)&&B.push(L);z.contains(K)&&T.push(L);G.contains(H)&&B.push(I);G.contains(K)&&T.push(I);for(let P=L+1;P<I;P++)B.push(P),T.push(P);C.push({extent:z,frameIds:[L]},{extent:G,frameIds:[I]},{extent:H,frameIds:B},{extent:K,frameIds:T})}else K>B||T?C.push({extent:new A(K,O,N,U,W),frameIds:[L]},{extent:new A(S,O,B,U,W),frameIds:[I]}):C.push({extent:new A(K,O,B,U,W),frameIds:[L]});this.cache._parts=C}I=this.hasZ;z=this.hasM;if(I||z)for(L={},I&&(L.zmin=this.zmin,L.zmax=this.zmax),z&&
(L.mmin=this.mmin,L.mmax=this.mmax),I=0;I<C.length;I++)C[I].extent.set(L);return C};F._normalizeX=function(B,C){const [z,G]=C.valid;C=2*G;var H=0;B>G?(H=Math.ceil(Math.abs(B-G)/C),B-=H*C):B<z&&(H=Math.ceil(Math.abs(B-z)/C),B+=H*C,H=-H);return{x:B,frameId:H}};a._createClass(x,[{key:"cache",get:function(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");
this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}},{key:"center",get:function(){const B=new w({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(B.z=.5*(this.zmin+this.zmax));this.hasM&&(B.m=.5*(this.mmin+this.mmax));return B}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},
{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return x}(f);c.__decorate([h.property({readOnly:!0})],b.prototype,"cache",null);c.__decorate([h.property({readOnly:!0})],b.prototype,"center",null);c.__decorate([h.property({readOnly:!0})],b.prototype,"extent",null);c.__decorate([h.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);c.__decorate([h.property({readOnly:!0,
json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);c.__decorate([h.property({readOnly:!0})],b.prototype,"height",null);c.__decorate([h.property({readOnly:!0})],b.prototype,"width",null);c.__decorate([h.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);c.__decorate([h.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);c.__decorate([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],
b.prototype,"mmin",void 0);c.__decorate([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);c.__decorate([h.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);c.__decorate([h.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);c.__decorate([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",
void 0);c.__decorate([h.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);b=A=c.__decorate([t.subclass("esri.geometry.Extent")],b);b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./SpatialReference".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){b=function(e){function f(...w){w=e.call(this,...w)||this;w.type=null;w.hasM=!1;w.hasZ=!1;w.spatialReference=g.WGS84;return w}a._inheritsLoose(f,e);var u=f.prototype;u.readSpatialReference=function(w,D){if(w instanceof g)return w;if(null!=w){const v=new g;v.read(w,D);return v}return w};u.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};u.clearCache=function(){this.notifyChange("cache")};u.getCacheValue=function(w){return this.cache[w]};
u.setCacheValue=function(w,D){this.cache[w]=D};a._createClass(f,[{key:"cache",get:function(){this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){return null}}]);return f}(l.JSONSupport);c.__decorate([k.property()],b.prototype,"type",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"cache",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"extent",null);c.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(e){return{enabled:e}}}}})],b.prototype,
"hasM",void 0);c.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(e){return{enabled:e}}}}})],b.prototype,"hasZ",void 0);c.__decorate([k.property({type:g,json:{write:!0}})],b.prototype,"spatialReference",void 0);c.__decorate([h.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=c.__decorate([m.subclass("esri.geometry.Geometry")],b)})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","./spatialReferenceUtils","../SpatialReference",
"./Ellipsoid"],function(a,c,b,n,r){function k(p,q,l,g,e){e.spatialReference=l;if("x"in p&&"x"in e)[e.x,e.y]=q(p.x,p.y,t,g);else if("xmin"in p&&"xmin"in e)[e.xmin,e.ymin]=q(p.xmin,p.ymin,t,g),[e.xmax,e.ymax]=q(p.xmax,p.ymax,t,g);else if("paths"in p&&"paths"in e||"rings"in p&&"rings"in e){p="paths"in p?p.paths:p.rings;l=[];for(let u=0;u<p.length;u++){const w=p[u];var f=[];l.push(f);for(let D=0;D<w.length;D++)f.push(q(w[D][0],w[D][1],[0,0],g)),2<w[D].length&&f[D].push(w[D][2]),3<w[D].length&&f[D].push(w[D][3])}"paths"in
e?e.paths=l:e.rings=l}else if("points"in p&&"points"in e){p=p.points;l=[];for(f=0;f<p.length;f++)l[f]=q(p[f][0],p[f][1],[0,0],g),2<p[f].length&&l[f].push(p[f][2]),3<p[f].length&&l[f].push(p[f][3]);e.points=l}return e}function d(p,q){const l=p&&(null!=p.wkid||null!=p.wkt?p:p.spatialReference),g=q&&(null!=q.wkid||null!=q.wkt?q:q.spatialReference);return p&&"type"in p&&"mesh"===p.type||q&&"type"in q&&"mesh"===q.type||!l||!g?!1:b.equals(g,l)?!0:b.isWebMercator(g)&&b.isWGS84(l)||b.isWebMercator(l)&&b.isWGS84(g)}
function h(p,q,l=[0,0]){89.99999<q?q=89.99999:-89.99999>q&&(q=-89.99999);q*=.017453292519943;l[0]=.017453292519943*p*r.earth.radius;l[1]=r.earth.halfSemiMajorAxis*Math.log((1+Math.sin(q))/(1-Math.sin(q)));return l}function m(p,q,l=[0,0],g=!1){p=p/r.earth.radius*57.29577951308232;l[0]=g?p:p-360*Math.floor((p+180)/360);l[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*q/r.earth.radius)));return l}const t=[0,0];a.canProject=d;a.geographicToWebMercator=function(p,q=!1,l=c.clone(p)){return k(p,
h,n.WebMercator,q,l)};a.lngLatToXY=h;a.project=function(p,q){const l=p&&p.spatialReference;q=q&&(null!=q.wkid||null!=q.wkt?q:q.spatialReference);return d(l,q)?b.equals(l,q)?c.clone(p):b.isWebMercator(q)?k(p,h,n.WebMercator,!1,c.clone(p)):b.isWGS84(q)?k(p,m,n.WGS84,!1,c.clone(p)):null:null};a.webMercatorToGeographic=function(p,q=!1,l=c.clone(p)){return k(p,m,n.WGS84,q,l)};a.x2lon=function(p){return p/r.earth.radius};a.xyToLngLat=m;a.y2lat=function(p){return Math.PI/2-2*Math.atan(Math.exp(-1*p/r.earth.radius))};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,c){let b=function(){function d(h,m,t,p){this.semiMajorAxis=h;this.flattening=m;this.outerAtmosphereRimWidth=t;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=
1/(1-this.flattening)-1;this.eccentricitySquared=p?p:2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}c._createClass(d,[{key:"radius",get:function(){return this.semiMajorAxis}}]);return d}();const n=new b(6378137,1/298.257223563,3E5,.006694379990137799),r=new b(3396190,.005886007555525457,23E4),k=new b(1737400,0,0);a.Ellipsoid=b;a.earth=n;a.mars=r;a.moon=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/spatialReferenceUtils ./SpatialReference ./Geometry ./support/offset ./support/pointUtils ./support/webMercatorUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){function y(F){return F&&("esri.geometry.SpatialReference"===F.declaredClass||null!=F.wkid)}var A;const E=[0,0],x=n.getLogger("esri.geometry.Point");b=A=function(F){function B(...z){z=F.call(this,...z)||this;z.x=0;z.y=0;z.z=void 0;z.m=void 0;z.type="point";return z}a._inheritsLoose(B,F);B.copy=function(z,G){G._set("x",z._get("x"));G._set("y",z._get("y"));G._set("z",z._get("z"));G._set("m",z._get("m"));z=z._get("spatialReference");G._set("spatialReference",
Object.isFrozen(z)?z:z.clone())};var C=B.prototype;C.normalizeCtorArgs=function(z,G,H,I,K){let L;if(Array.isArray(z))L=z,K=G,z=L[0],G=L[1],H=L[2],I=L[3];else if(z&&"object"===typeof z){if(L=z,z=null!=L.x?L.x:L.longitude,G=null!=L.y?L.y:L.latitude,H=L.z,I=L.m,(K=L.spatialReference)&&"esri.geometry.SpatialReference"!==K.declaredClass&&(K=new f(K)),null!=L.longitude||null!=L.latitude)null==L.longitude?x.warn(".longitude\x3d","Latitude was defined without longitude"):null==L.latitude?x.warn(".latitude\x3d",
"Longitude was defined without latitude"):!L.declaredClass&&K&&K.isWebMercator&&(G=v.lngLatToXY(L.longitude,L.latitude,E),z=G[0],G=G[1])}else y(H)?(K=H,H=null):y(I)&&(K=I,I=null);z={x:z,y:G};null==z.x&&null!=z.y?x.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==z.y&&null!=z.x&&x.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=K&&(z.spatialReference=K);null!=H&&(z.z=H);null!=I&&(z.m=I);return z};C.writeX=function(z,G,H){G[H]=isNaN(z)?"NaN":z};C.readX=
function(z){return"string"===typeof z?NaN:z};C.clone=function(){const z=new A;z.x=this.x;z.y=this.y;z.z=this.z;z.m=this.m;z.spatialReference=this.spatialReference;return z};C.copy=function(z){A.copy(z,this);return this};C.equals=function(z){if(!z)return!1;const {x:G,y:H,z:I,m:K,spatialReference:L}=this,{z:T,m:O}=z;let {x:U,y:W,spatialReference:S}=z;if(!L.equals(S))if(L.isWebMercator&&S.isWGS84)[U,W]=v.lngLatToXY(U,W),S=L;else if(L.isWGS84&&S.isWebMercator)[U,W]=v.xyToLngLat(U,W),S=L;else return!1;
return G===U&&H===W&&I===T&&K===O&&L.wkid===S.wkid};C.offset=function(z,G,H){return w.offsetPoint(this,z,G,H)};C.normalize=function(){if(!this.spatialReference)return this;var z=e.getInfo(this.spatialReference);if(!z)return this;let G=this.x;const [H,I]=z.valid;z=2*I;let K;G>I?(K=Math.ceil(Math.abs(G-I)/z),G-=K*z):G<H&&(K=Math.ceil(Math.abs(G-H)/z),G+=K*z);this._set("x",G);return this};C.distance=function(z){return D.distance(this,z)};C.toArray=function(){const z=this.hasZ,G=this.hasM;return z&&G?
[this.x,this.y,this.z,this.m]:z?[this.x,this.y,this.z]:G?[this.x,this.y,this.m]:[this.x,this.y]};C.toJSON=function(z){return this.write(null,z)};a._createClass(B,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(z){const G=void 0!==this._get("m");z!==G&&(this._set("m",z?0:void 0),this._set("hasM",z))}},{key:"hasZ",
get:function(){return void 0!==this.z},set:function(z){const G=void 0!==this._get("z");z!==G&&(this._set("z",z?0:void 0),this._set("hasZ",z))}},{key:"latitude",get:function(){const {spatialReference:z,x:G,y:H}=this;if(z){if(z.isWebMercator)return v.xyToLngLat(G,H,E)[1];if(z.isGeographic)return H}return null},set:function(z){const {spatialReference:G,x:H}=this;G&&(G.isWebMercator?this._set("y",v.lngLatToXY(H,z,E)[1]):G.isGeographic&&this._set("y",z),this._set("latitude",z))}},{key:"longitude",get:function(){const {x:z,
y:G,spatialReference:H}=this;if(H){if(H.isWebMercator)return v.xyToLngLat(z,G,E)[0];if(H.isGeographic)return z}return NaN},set:function(z){const {y:G,spatialReference:H}=this;H&&(H.isWebMercator?this._set("x",v.lngLatToXY(z,G,E)[0]):H.isGeographic&&this._set("x",z),this._set("longitude",z))}}]);return B}(u);c.__decorate([k.property({readOnly:!0})],b.prototype,"cache",null);c.__decorate([k.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);c.__decorate([k.property({type:Boolean,
json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);c.__decorate([k.property({type:Number})],b.prototype,"latitude",null);c.__decorate([k.property({type:Number})],b.prototype,"longitude",null);c.__decorate([k.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),d.cast(F=>isNaN(F)?F:r.ensureNumber(F))],b.prototype,"x",void 0);c.__decorate([p.writer("x")],b.prototype,"writeX",null);c.__decorate([m.reader("x")],b.prototype,"readX",null);
c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);c.__decorate([k.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0);c.__decorate([k.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);b=A=c.__decorate([t.subclass("esri.geometry.Point")],b);b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/offset":function(){define(["exports"],function(a){a.offsetCoordsX=
function(c,b){c[0]+=b;return c};a.offsetPoint=function(c,b,n,r){c.x+=b;c.y+=n;null!=r&&null!=c.z&&(c.z+=r);return c};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=function(c,b){const n=c.x-b.x,r=c.y-b.y;c=c.hasZ&&b.hasZ?c.z-b.z:0;return Math.sqrt(n*n+r*r+c*c)};a.squareDistance=function(c,b){const n=c.x-b.x,r=c.y-b.y;c=c.hasZ&&b.hasZ?c.z-b.z:0;return n*n+r*r+c*c};Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/geometry/support/contains":function(){define(["exports"],function(a){function c(d,h){return b(d,h[0],h[1])}function b(d,h,m,t){return h>=d.xmin&&h<=d.xmax&&m>=d.ymin&&m<=d.ymax?null!=t&&d.hasZ?t>=d.zmin&&t<=d.zmax:!0:!1}function n(d,h){if(d=d.rings)if(Array.isArray(d[0][0])){var m=!1;for(let t=0,p=d.length;t<p;t++)m=r(m,d[t],h);h=m}else h=r(!1,d,h);else h=!1;return h}function r(d,h,m){const [t,p]=m;m=0;for(let q=0,l=h.length;q<l;q++){m++;m===l&&(m=0);const [g,e]=h[q],[f,u]=h[m];(e<p&&u>=p||
u<p&&e>=p)&&g+(p-e)/(u-e)*(f-g)<t&&(d=!d)}return d}const k=[0,0];a.extentContainsCoords2D=c;a.extentContainsCoords3D=function(d,h){return b(d,h[0],h[1],h[2])};a.extentContainsExtent=function(d,h){const {xmin:m,ymin:t,zmin:p,xmax:q,ymax:l,zmax:g}=h;return d.hasZ&&h.hasZ?b(d,m,t,p)&&b(d,m,l,p)&&b(d,q,l,p)&&b(d,q,t,p)&&b(d,m,t,g)&&b(d,m,l,g)&&b(d,q,l,g)&&b(d,q,t,g):b(d,m,t)&&b(d,m,l)&&b(d,q,l)&&b(d,q,t)};a.extentContainsMultipoint=function(d,h){if(!h.points||h.points.length)return!1;for(const m of h.points)if(!c(d,
m))return!1;return!0};a.extentContainsPoint=function(d,h){return b(d,h.x,h.y,h.z)};a.polygonContainsCoords=n;a.polygonContainsPoint=function(d,h){k[1]=h.y;k[0]=h.x;return n(d,k)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/intersects":function(){define(["exports","./contains"],function(a,c){function b(u,w){return c.extentContainsPoint(u,w)}function n(u,w){var D=u.hasZ&&w.hasZ;if(u.xmin<=w.xmin){var v=w.xmin;if(u.xmax<v)return!1}else if(v=u.xmin,w.xmax<v)return!1;if(u.ymin<=
w.ymin){if(v=w.ymin,u.ymax<v)return!1}else if(v=u.ymin,w.ymax<v)return!1;if(D&&w.hasZ)if(u.zmin<=w.zmin){if(D=w.zmin,u.zmax<D)return!1}else if(D=u.zmin,w.zmax<D)return!1;return!0}function r(u,w){const {points:D,hasZ:v}=w;w=v?c.extentContainsCoords3D:c.extentContainsCoords2D;for(const y of D)if(w(u,y))return!0;return!1}function k(u,w){t[0]=u.xmin;t[1]=u.ymax;p[0]=u.xmax;p[1]=u.ymax;q[0]=u.xmin;q[1]=u.ymin;l[0]=u.xmax;l[1]=u.ymin;for(var D of g)if(c.polygonContainsCoords(w,D))return!0;for(const v of w.rings)if(v.length){w=
v[0];if(c.extentContainsCoords2D(u,w))return!0;for(D=1;D<v.length;D++){const y=v[D];if(c.extentContainsCoords2D(u,y)||h(w,y,e))return!0;w=y}}return!1}function d(u,w){t[0]=u.xmin;t[1]=u.ymax;p[0]=u.xmax;p[1]=u.ymax;q[0]=u.xmin;q[1]=u.ymin;l[0]=u.xmax;l[1]=u.ymin;w=w.paths;for(const D of w){if(!w.length)continue;let v=D[0];if(c.extentContainsCoords2D(u,v))return!0;for(let y=1;y<D.length;y++){const A=D[y];if(c.extentContainsCoords2D(u,A)||h(v,A,e))return!0;v=A}}return!1}function h(u,w,D){for(let v=0;v<
D.length;v++)if(m(u,w,D[v][0],D[v][1]))return!0;return!1}function m(u,w,D,v,y){const [A,E]=u,[x,F]=w,[B,C]=D,[z,G]=v;var H=z-B;u=A-B;w=x-A;const I=G-C;D=E-C;v=F-E;const K=I*w-H*v;if(0===K)return!1;H=(H*D-I*u)/K;u=(w*D-v*u)/K;return 0<=H&&1>=H&&0<=u&&1>=u?(y&&(y[0]=A+H*(x-A),y[1]=E+H*(F-E)),!0):!1}const t=[0,0],p=[0,0],q=[0,0],l=[0,0],g=[t,p,q,l],e=[[q,t],[t,p],[p,l],[l,q]],f=[0,0];a.extentIntersectsExtent=n;a.extentIntersectsMultipoint=r;a.extentIntersectsPoint=b;a.extentIntersectsPolygon=k;a.extentIntersectsPolyline=
d;a.getExtentIntersector=function(u){switch(u){case "esriGeometryEnvelope":case "extent":return n;case "esriGeometryMultipoint":case "multipoint":return r;case "esriGeometryPoint":case "point":return b;case "esriGeometryPolygon":case "polygon":return k;case "esriGeometryPolyline":case "polyline":return d;case "mesh":return n}};a.isSelfIntersecting=function(u){for(let F=0;F<u.length;F++){const B=u[F];for(var w=0;w<B.length-1;w++){var D=B[w],v=B[w+1];for(var y=F+1;y<u.length;y++)for(var A=0;A<u[y].length-
1;A++){var E=u[y][A],x=u[y][A+1];if(m(D,v,E,x,f)&&!(f[0]===D[0]&&f[1]===D[1]||f[0]===E[0]&&f[1]===E[1]||f[0]===v[0]&&f[1]===v[1]||f[0]===x[0]&&f[1]===x[1]))return!0}}w=B.length;if(!(4>=w))for(D=0;D<w-3;D++)for(v=w-1,0===D&&(v=w-2),y=B[D],A=B[D+1],E=D+2;E<v;E++){x=B[E];const C=B[E+1];if(m(y,A,x,C,f)&&!(f[0]===y[0]&&f[1]===y[1]||f[0]===x[0]&&f[1]===x[1]||f[0]===A[0]&&f[1]===A[1]||f[0]===C[0]&&f[1]===C[1]))return!0}}return!1};a.segmentIntersects=m;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/intl/locale":function(){define(["exports","../core/global"],function(a,c){function b(){var e,f;return null!=(e=null!=p?p:null==(f=c.navigator)?void 0:f.language)?e:"en"}function n(){void 0===t&&(t=b());return t}function r(){var e;const f=null!=(e=m)?e:b();t!==f&&(t=f,[...g].forEach(u=>{u.call(null,f)}),[...l].forEach(u=>{u.call(null,f)}))}var k,d,h;let m=void 0,t=void 0;const p=null!=(k=null==(d=c.esriConfig)?void 0:d.locale)?k:null==(h=c.dojoConfig)?void 0:h.locale,q={he:!0,ar:!0},l=[],g=[];
null==c.addEventListener?void 0:c.addEventListener("languagechange",r);a.beforeLocaleChange=function(e){g.push(e);return{remove(){l.splice(g.indexOf(e),1)}}};a.getDefaultLocale=b;a.getLocale=n;a.onLocaleChange=function(e){l.push(e);return{remove(){l.splice(l.indexOf(e),1)}}};a.prefersRTL=function(e=n()){e=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(e);e=null==e?void 0:e[1].toLowerCase();return void 0!==e&&(q[e]||!1)};a.setLocale=function(e){m=e?e:void 0;r()};Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/kernel":function(){define(["require","exports","./core/has","./support/revision","./core/urlUtils"],function(a,c,b,n,r){b("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript ${"4.19"} [Date: ${n.buildDate}, Revision: ${n.commitHash.slice(0,8)}]`),(b("edge")||b("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"));c.buildDate=n.buildDate;c.revision=n.commitHash;c.addTokenParameter=function(k){const d=c.id&&c.id.findCredential(k);return d&&d.token?
r.addQueryParameter(k,"token",d.token):k};c.setId=function(k){c.id=k};c.version="4.19";c.workerMessages={request(k,d){return(new Promise(function(h,m){a(["./request"],function(t){h(Object.freeze({__proto__:null,"default":t}))},m)})).then(({default:h})=>{const m=k.options||{};m.responseType="array-buffer";m.signal=null==d?void 0:d.signal;return h(k.url,m)}).then(h=>({result:{data:h.data,ssl:h.ssl},transferList:[h.data]}))}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/support/revision":function(){define(["exports"],
function(a){a.buildDate="20210506";a.commitHash="b02ca94fa7b6dac5fa148245a7cdc7caae582829";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/request":function(){define("require ./core/global ./core/has ./core/lang ./config ./core/maybe ./core/Error ./core/urlUtils ./core/promiseUtils ./kernel ./support/apiKeyUtils ./support/requestUtils".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q){async function l(O,U){var W=h.isDataProtocol(O);const S=h.isBlobProtocol(O);S||W||(O=h.normalize(O));const N=
{url:O,requestOptions:{...k.unwrap(U)}};let P=h.getInterceptor(O);if(P){O=await A(P,N);if(null!=O)return{data:O,getHeader:T,requestOptions:N.requestOptions,url:N.url};P.after||P.error||(P=null)}O=N.url;U=N.requestOptions;if("image"===U.responseType){if(b("host-webworker")||b("host-node"))throw f("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),N);}else if(W)throw f("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+
U.responseType),N);if("head"===U.method){if(U.body)throw f("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),N);if(W||S)throw f("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),N);}await u();if(z)return z.execute(O,U);const J=m.createAbortController();m.onAbort(U,()=>J.abort());W=await F({controller:J,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:P,params:N,redoRequest:!1,useIdentity:G.useIdentity,
useProxy:!1,useSSL:!1,withCredentials:!1});P&&P.after&&P.after(W);return W}function g(O){h.isBlobProtocol(O)||h.isDataProtocol(O)||(O=h.getOrigin(O))&&-1===l._corsServers.indexOf(O)&&l._corsServers.push(O)}function e(O){O=h.getOrigin(O);return!O||O.endsWith(".arcgis.com")||-1!==l._corsServers.indexOf(O)||h.isTrustedServer(O)}function f(O,U,W,S){let N="Error";const P={url:W.url,requestOptions:W.requestOptions,getHeader:T,ssl:!1};if(U instanceof d)return U.details?(U.details=n.clone(U.details),U.details.url=
W.url,U.details.requestOptions=W.requestOptions):U.details=P,U;if(U){W=S&&(R=>S.headers.get(R));const J=S&&S.status,M=U.message;M&&(N=M);W&&(P.getHeader=W);P.httpStatus=(null!=U.httpCode?U.httpCode:U.code)||J||0;P.subCode=U.subcode;P.messageCode=U.messageCode;P.messages="string"===typeof U.details?[U.details]:U.details}return m.isAbortError(U)?m.createAbortError():new d(O,N,P)}async function u(){b("host-webworker")?z||(z=await new Promise(function(O,U){a(["./core/workers/request"],O,U)})):l._abortableFetch||
(l._abortableFetch=c.fetch.bind(c))}async function w(){t.id||await new Promise(function(O,U){a(["./identity/IdentityManager"],function(W){O(Object.freeze({__proto__:null,"default":W}))},U)})}async function D(O){const U=O.params.url,W=O.params.requestOptions,S=O.controller.signal,N=W.body;let P=null,J=null,M=null;H&&"HTMLFormElement"in c&&(N instanceof FormData?P=N:N instanceof HTMLFormElement&&(J=N,P=new FormData(J)));"string"===typeof N&&(M=N);O.fetchOptions={cache:W.cacheBust&&!l._abortableFetch.polyfill?
"no-cache":"default",credentials:"same-origin",headers:W.headers||{},method:"head"===W.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:S};if(P||M)O.fetchOptions.body=P||M;"anonymous"===W.authMode&&(O.useIdentity=!1);O.hasToken=!!(/token=/i.test(U)||W.query&&W.query.token||P&&P.get&&P.get("token")||J&&J.elements.token);!O.hasToken&&r.apiKey&&p.supportsApiKey(U)&&(W.query||(W.query={}),W.query.token=r.apiKey,O.hasToken=!0);if(O.useIdentity&&!O.hasToken&&!O.credentialToken&&!v(U)&&!m.isAborted(S)){let R;
"immediate"===W.authMode?(await w(),R=await t.id.getCredential(U,{signal:S}),O.credential=R):"no-prompt"===W.authMode?(await w(),R=await t.id.getCredential(U,{prompt:!1,signal:S}).catch(()=>{}),O.credential=R):t.id&&(R=t.id.findCredential(U));R&&(O.credentialToken=R.token,O.useSSL=!!R.ssl)}}function v(O){return L.some(U=>U.test(O))}async function y(O){let U=O.params.url;const W=O.params.requestOptions,S=O.fetchOptions,N=h.isBlobProtocol(U)||h.isDataProtocol(U),P=W.responseType||"json",J=N?0:null!=
W.timeout?W.timeout:G.timeout;var M=!1;if(!N){O.useSSL&&(U=h.toHTTPS(U));W.cacheBust&&"default"===S.cache&&(U=h.addQueryParameter(U,"request.preventCache",Date.now()));var R={...W.query};O.credentialToken&&(R.token=O.credentialToken);M=h.objectToQuery(R);b("esri-url-encodes-apostrophe")&&(M=M.replace(/'/g,"%27"));const ma=U.length+1+M.length;M="delete"===W.method||"post"===W.method||"put"===W.method||!!W.body||ma>G.maxUrlLength;const ta=W.useProxy||!!h.getProxyRule(U);if(ta){const Z=h.getProxyUrl(U);
var X=Z.path;!M&&X.length+1+ma>G.maxUrlLength&&(M=!0);Z.query&&(R={...Z.query,...R})}if("HEAD"===S.method&&(M||ta)){if(M){if(ma>G.maxUrlLength)throw f("request:invalid-parameters",Error("URL exceeds maximum length"),O.params);throw f("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),O.params);}if(ta)throw f("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),O.params);}M?(S.method="delete"===W.method?"DELETE":"put"===W.method?"PUT":"POST",
W.body?U=h.addQueryParameters(U,R):(S.body=h.objectToQuery(R),S.headers["Content-Type"]="application/x-www-form-urlencoded")):U=h.addQueryParameters(U,R);ta&&(O.useProxy=!0,U=`${X}?${U}`);R.token&&H&&S.body instanceof FormData&&(X=S.body,X.set?X.set("token",R.token):X.append("token",R.token));W.hasOwnProperty("withCredentials")?O.withCredentials=W.withCredentials:h.hasSameOrigin(U,h.appUrl)||(h.isTrustedServer(U)?O.withCredentials=!0:t.id&&(R=t.id.findServerInfo(U))&&R.webTierAuth&&(O.withCredentials=
!0));O.withCredentials&&(S.credentials="include")}R=0;let ia=!1;0<J&&(R=setTimeout(()=>{ia=!0;O.controller.abort()},J));let ha,ja;try{if("image"!==W.responseType||"default"!==S.cache||"GET"!==S.method||M||E(W.headers)||!N&&!O.useProxy&&G.proxyUrl&&!e(U)){if(ha=await l._abortableFetch(U,S),O.useProxy||g(U),ha.ok&&"HEAD"!==S.method){switch(P){case "array-buffer":ja=await ha.arrayBuffer();break;case "blob":case "image":ja=await ha.blob();break;default:ja=await ha.text()}R&&(clearTimeout(R),R=0);if("json"===
P||"xml"===P||"document"===P)if(ja)switch(P){case "json":ja=JSON.parse(ja);break;case "xml":ja=x(ja,"application/xml");break;case "document":ja=x(ja,"text/html")}else ja=null;if(ja){if("array-buffer"===P||"blob"===P){const ma=ha.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(ma)&&750>=ja["blob"===P?"size":"byteLength"])try{const ta=await (new Response(ja)).json();ta.error&&(ja=ta)}catch{}}"image"===P&&ja instanceof Blob&&(ja=await C(URL.createObjectURL(ja),O,!0))}}}else ja=await C(U,
O)}catch(ma){if("AbortError"===ma.name){if(ia)throw Error("Timeout exceeded");throw m.createAbortError("Request canceled");}if(!ha&&ma instanceof TypeError&&G.proxyUrl&&!W.body&&"delete"!==W.method&&"head"!==W.method&&"post"!==W.method&&"put"!==W.method&&!O.useProxy)O.redoRequest=!0,h.addProxyRule({proxyUrl:G.proxyUrl,urlPrefix:h.removeFile(h.urlToObject(U).path)});else throw ma;}finally{R&&clearTimeout(R)}return[ha,ja]}async function A(O,U){if(null!=O.responseData)return O.responseData;O.headers&&
(U.requestOptions.headers={...U.requestOptions.headers,...O.headers});O.query&&(U.requestOptions.query={...U.requestOptions.query,...O.query});if(O.before){let W,S;try{S=await O.before(U)}catch(N){W=f("request:interceptor",N,U)}if(S instanceof Error||S instanceof d)W=f("request:interceptor",S,U);if(W)throw O.error&&O.error(W),W;return S}}function E(O){if(O)for(const U of Object.getOwnPropertyNames(O))if(O[U])return!0;return!1}function x(O,U){let W;try{W=(new DOMParser).parseFromString(O,U)}catch{}if(!W||
W.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return W}async function F(O){await D(O);let U;try{do[U,W]=await y(O);while(!await B(O,U,W))}catch(P){var W=f("request:server",P,O.params,U);W.details.ssl=O.useSSL;O.interceptor&&O.interceptor.error&&O.interceptor.error(W);throw W;}var S=O.params.url;/\/sharing\/rest\/(accounts|portals)\/self/i.test(S)&&!O.hasToken&&!O.credentialToken&&W&&W.user&&W.user.username&&!h.isTrustedServer(S)&&(S=h.getOrigin(S,!0))&&G.trustedServers.push(S);
if((S=O.credential)&&t.id){var N=t.id.findServerInfo(S.server);if(N=N&&N.owningSystemUrl)N=N.replace(/\/?$/,"/sharing"),(S=t.id.findCredential(N,S.userId))&&-1===t.id._getIdenticalSvcIdx(N,S)&&S.resources.unshift(N)}return{data:W,getHeader:U?P=>U.headers.get(P):T,requestOptions:O.params.requestOptions,ssl:O.useSSL,url:O.params.url}}async function B(O,U,W){if(O.redoRequest)return O.redoRequest=!1;if(!U)return!0;if(!U.ok)throw Error(`Unable to load ${U.url} status: ${U.status}`);let S;W&&W.error&&(S=
Object.assign(Error(),W.error));let N,P,J;S&&(N=Number(S.code),P=S.hasOwnProperty("subcode")?Number(S.subcode):null,J=(J=S.messageCode)&&J.toUpperCase());U=O.params.requestOptions.authMode;if(403===N&&(4===P||S.message&&-1<S.message.toLowerCase().indexOf("ssl")&&-1===S.message.toLowerCase().indexOf("permission"))){if(!O.useSSL)return O.useSSL=!0,!1}else if(!O.hasToken&&O.useIdentity&&("no-prompt"!==U||498===N)&&-1!==I.indexOf(N)&&!v(O.params.url)&&(403!==N||-1===K.indexOf(J)&&(null==P||2===P&&O.credentialToken))){await w();
try{const M=await t.id.getCredential(O.params.url,{error:f("request:server",S,O.params),prompt:"no-prompt"!==U,signal:O.controller.signal,token:O.credentialToken});O.credential=M;O.credentialToken=M.token;O.useSSL=O.useSSL||M.ssl;return!1}catch(M){if("no-prompt"===U)return O.credential=null,O.credentialToken=null,!1;S=M}}if(S)throw S;return!0}function C(O,U,W=!1){const S=U.controller.signal,N=new Image;N.crossOrigin=U.withCredentials?"use-credentials":"anonymous";N.alt="";N.src=O;return q.loadImageAsync(N,
O,W,S)}let z;const G=r.request,H="FormData"in c,I=[499,498,403,401],K=["COM_0056","COM_0057","SB_0008"],L=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],T=()=>null;l._abortableFetch=null;l._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return l})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,c){const b=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];
a.isApiKey=function(n){return n&&4<n.length&&n.startsWith("AAPK")};a.supportsApiKey=function(n){const r=c.getOrigin(n,!0);return r&&r.endsWith(".arcgis.com")&&!b.includes(r)&&!n.endsWith("/sharing/rest/generateToken")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/requestUtils":function(){define(["exports","../core/has","../core/maybe","../core/promiseUtils"],function(a,c,b,n){function r(){try{return new DOMException("Aborted","AbortError")}catch{const k=Error();k.name="AbortError";
return k}}a.loadImageAsync=function(k,d,h=!1,m){return new Promise((t,p)=>{if(n.isAborted(m))p(r());else{var q=()=>{e();p(Error(`Unable to load ${d}`))},l=()=>{const f=k;e();t(f)},g=()=>{if(k){var f=k;e();f.src="";p(r())}},e=()=>{c("esri-image-decode")||(k.removeEventListener("error",q),k.removeEventListener("load",l));k=l=q=null;b.isSome(m)&&m.removeEventListener("abort",g);g=null;h&&URL.revokeObjectURL(d)};b.isSome(m)&&m.addEventListener("abort",g);c("esri-image-decode")?k.decode().then(l,q):(k.addEventListener("error",
q),k.addEventListener("load",l))}})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl":function(){define("exports ./intl/locale ./intl/date ./intl/number ./intl/substitute ./intl/messages ./intl/t9n ./assets".split(" "),function(a,c,b,n,r,k,d,h){k.registerMessageBundleLoader(d.createJSONLoader({pattern:"esri/",location:h.getAssetUrl}));a.getLocale=c.getLocale;a.onLocaleChange=c.onLocaleChange;a.prefersRTL=c.prefersRTL;a.setLocale=c.setLocale;a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;
a.formatDate=b.formatDate;a.convertNumberFormatToIntlOptions=n.convertNumberFormatToIntlOptions;a.formatNumber=n.formatNumber;a.substitute=r.substitute;a.fetchMessageBundle=k.fetchMessageBundle;a.normalizeMessageBundleLocale=k.normalizeMessageBundleLocale;a.registerMessageBundleLoader=k.registerMessageBundleLoader;a.createJSONLoader=d.createJSONLoader;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale"],function(a,c,b){function n(e){e=
e||g;if(!l.has(e)){var f=b.getLocale();f=q[b.getLocale()]||f;l.set(e,new Intl.DateTimeFormat(f,e))}return l.get(e)}var r={year:"numeric",month:"numeric",day:"numeric"},k={year:"numeric",month:"long",day:"numeric"},d={year:"numeric",month:"short",day:"numeric"};const h={year:"numeric",month:"long",weekday:"long",day:"numeric"},m={hour:"numeric",minute:"numeric"},t={...m,second:"numeric"},p={"short-date":r,"short-date-short-time":{...r,...m},"short-date-short-time-24":{...r,...m,hour12:!1},"short-date-long-time":{...r,
...t},"short-date-long-time-24":{...r,...t,hour12:!1},"short-date-le":r,"short-date-le-short-time":{...r,...m},"short-date-le-short-time-24":{...r,...m,hour12:!1},"short-date-le-long-time":{...r,...t},"short-date-le-long-time-24":{...r,...t,hour12:!1},"long-month-day-year":k,"long-month-day-year-short-time":{...k,...m},"long-month-day-year-short-time-24":{...k,...m,hour12:!1},"long-month-day-year-long-time":{...k,...t},"long-month-day-year-long-time-24":{...k,...t,hour12:!1},"day-short-month-year":d,
"day-short-month-year-short-time":{...d,...m},"day-short-month-year-short-time-24":{...d,...m,hour12:!1},"day-short-month-year-long-time":{...d,...t},"day-short-month-year-long-time-24":{...d,...t,hour12:!1},"long-date":h,"long-date-short-time":{...h,...m},"long-date-short-time-24":{...h,...m,hour12:!1},"long-date-long-time":{...h,...t},"long-date-long-time-24":{...h,...t,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},
"short-time":m,"long-time":t};c=c.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",
longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",
longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});r=c.apiValues;k=c.toJSON.bind(c);d=c.fromJSON.bind(c);const q={ar:"ar-u-nu-latn-ca-gregory"};let l=new WeakMap,g=p["short-date-short-time"];b.beforeLocaleChange(()=>{l=new WeakMap;g=p["short-date-short-time"]});a.convertDateFormatToIntlOptions=
function(e){return p[e]||null};a.dateFormats=r;a.dictionary=c;a.formatDate=function(e,f){return n(f).format(e)};a.fromJSON=d;a.getDateTimeFormatter=n;a.toJSON=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/number":function(){define(["exports","../core/maybe","./locale"],function(a,c,b){function n(h){const m=h||d;if(!k.has(m)){var t=b.getLocale();t=r[b.getLocale()]||t;k.set(m,new Intl.NumberFormat(t,h))}return c.assumeNonNull(k.get(m))}const r={ar:"ar-u-nu-latn"};let k=new WeakMap,
d={};b.beforeLocaleChange(()=>{k=new WeakMap;d={}});a.convertNumberFormatToIntlOptions=function(h={}){const m={};null!=h.digitSeparator&&(m.useGrouping=h.digitSeparator);null!=h.places&&(m.minimumFractionDigits=m.maximumFractionDigits=h.places);return m};a.formatNumber=function(h,m){return n(m).format(h)};a.getFormatter=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/substitute":function(){define("exports ../core/object ../core/string ../core/Logger ./date ./number".split(" "),function(a,
c,b,n,r,k){function d(m){switch(typeof m){case "string":return m;case "number":return k.formatNumber(m);case "boolean":return""+m;default:return m instanceof Date?r.formatDate(m):""}}const h=n.getLogger("esri.intl");a.substitute=function(m,t,p={}){const {format:q={}}=p;return b.replace(m,l=>{{const f=l.indexOf(":");if(-1===f)var g=l.trim();else{g=l.slice(0,f).trim();var e=l.slice(f+1).trim()}if(g)if(l=c.getDeepValue(g,t),null==l)e="";else if(g=q[e]||q[g])b:switch(g.type){case "date":e=r.formatDate(l,
g.intlOptions);break b;case "number":e=k.formatNumber(l,g.intlOptions);break b;default:h.warn("missing format descriptor for key {key}"),e=d(l)}else if(e)b:switch(e.toLowerCase()){case "dateformat":e=r.formatDate(l);break b;case "numberformat":e=k.formatNumber(l);break b;default:h.warn(`inline format is unsupported since 4.12: ${e}`),e=/^(dateformat|datestring)/i.test(e)?r.formatDate(l):/^numberformat/i.test(e)?k.formatNumber(l):d(l)}else e=d(l);else e=""}return e})};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/intl/messages":function(){define(["exports","../core/Error","../core/promiseUtils","./locale"],function(a,c,b,n){async function r(l,g){const e=[];for(const f of m)if(k(f.pattern,l))try{return await f.fetchMessageBundle(l,g)}catch(u){e.push(u)}if(e.length)throw new c("intl:message-bundle-error",`Errors occurred while loading "${l}"`,{errors:e});throw new c("intl:no-message-bundle-loader",`No loader found for message bundle "${l}"`);}function k(l,g){return"string"===typeof l?g.startsWith(l):
l.test(g)}const d=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,h=new Set("ar bs ca cs da de el en es et fi fr he hi hr hu id it ja ko lt lv nb nl pl pt-BR pt-PT ro ru sk sl sr sv th tr uk vi zh-CN zh-HK zh-TW".split(" ")),m=[],t=new Map;n.beforeLocaleChange(()=>{t.clear()});const p=new (function(){function l(){this._numLoading=0}var g=l.prototype;g.waitForAll=async function(){this._dfd&&await this._dfd.promise};g.add=function(e){this._increase();e.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()};
g._increase=function(){this._numLoading++;this._dfd||(this._dfd=b.createDeferred())};g._decrease=function(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return l}()),q={cache:t,loaders:m};a.fetchMessageBundle=async function(l){const g=n.getLocale();t.has(l)||t.set(l,r(l,g));l=t.get(l);await p.add(l);return l};a.normalizeMessageBundleLocale=function(l){if(!d.test(l))return null;const [,g,e]=d.exec(l);l=g+(e?"-"+e.toUpperCase():
"");return h.has(l)?l:h.has(g)?g:null};a.registerMessageBundleLoader=function(l){if(!m.includes(l)){for(const g of t.keys())k(l.pattern,g)&&t.delete(g);m.unshift(l)}};a.test=q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/intl/t9n":function(){define("exports ../core/global ../core/maybe ../core/Error ./messages ../request".split(" "),function(a,c,b,n,r,k){async function d(p,q,l,g){var e=q.exec(l);if(!e)throw new n("esri-intl:invalid-bundle",`Bundle id "${l}" is not compatible with the pattern "${q}"`);
q=e[1]?`${e[1]}/`:"";e=e[2];const f=r.normalizeMessageBundleLocale(g);g=`${q}${e}.json`;q=f?`${q}${e}_${f}.json`:g;let u;try{u=await h(p(q))}catch(w){if(q===g)throw new n("intl:unknown-bundle",`Bundle "${l}" cannot be loaded`,{error:w});try{u=await h(p(g))}catch(D){throw new n("intl:unknown-bundle",`Bundle "${l}" cannot be loaded`,{error:D});}}return u}async function h(p){if(b.isSome(t.fetchBundleAsset))return t.fetchBundleAsset(p);p=await k(p,{responseType:"text"});return JSON.parse(p.data)}let m=
function(){function p({base:q="",pattern:l,location:g=new URL(window.location.href)}){let e;e="string"===typeof g?f=>(new URL(f,new URL(g,c.location))).href:g instanceof URL?f=>(new URL(f,g)).href:g;this.pattern="string"===typeof l?new RegExp(`^${l}`):l;this.getAssetUrl=e;q=q?q.endsWith("/")?q:q+"/":"";this.matcher=new RegExp(`^${q}(?:(.*)\/)?(.*)$`)}p.prototype.fetchMessageBundle=function(q,l){return d(this.getAssetUrl,this.matcher,q,l)};return p}();const t={};a.JSONLoader=m;a.createJSONLoader=function(p){return new m(p)};
a.test=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/assets":function(){define("exports ./config ./core/Logger ./core/Error ./core/urlUtils ./request".split(" "),function(a,c,b,n,r,k){function d(m){if(!c.assetsPath)throw h.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new n("assets:path-not-set","config.assetsPath is not set");return r.join(c.assetsPath,m)}const h=b.getLogger("esri.assets");a.fetchAsset=function(m,
t){return k(d(m),t)};a.getAssetUrl=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/PortalQueryParams":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/Accessor ../geometry/SpatialReference ../geometry/support/webMercatorUtils ../geometry/Extent".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;const w=new h.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});b=u=function(D){function v(A){A=D.call(this,A)||this;A.categories=null;A.disableExtraQuery=!1;A.extent=null;A.num=10;A.query=null;A.sortField=null;A.start=1;return A}a._inheritsLoose(v,D);var y=v.prototype;y.clone=function(){return new u({categories:this.categories?n.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,
extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};y.toRequestOptions=function(A,E){let x;this.categories&&(x=this.categories.map(C=>Array.isArray(C)?JSON.stringify(C):C));let F;if(this.extent){var B=e.project(this.extent,g.WGS84);B&&(F=`${B.xmin},${B.ymin},${B.xmax},${B.ymax}`)}B=this.query;!this.disableExtraQuery&&A.extraQuery&&(B="("+B+")"+A.extraQuery);A={categories:x,bbox:F,q:B,num:this.num,sortField:null,
sortOrder:null,start:this.start};this.sortField&&(A.sortField=this.sortField.split(",").map(C=>w.toJSON(C.trim())).join(","),A.sortOrder=this.sortOrder);return{query:{...E,...A}}};a._createClass(v,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(A){"asc"!==A&&"desc"!==A||this._set("sortOrder",A)}}]);return v}(l);c.__decorate([d.property()],b.prototype,"categories",void 0);c.__decorate([d.property()],b.prototype,"disableExtraQuery",void 0);c.__decorate([d.property({type:f})],
b.prototype,"extent",void 0);c.__decorate([d.property()],b.prototype,"num",void 0);c.__decorate([d.property()],b.prototype,"query",void 0);c.__decorate([d.property()],b.prototype,"sortField",void 0);c.__decorate([d.property()],b.prototype,"sortOrder",null);c.__decorate([d.property()],b.prototype,"start",void 0);return b=u=c.__decorate([m.subclass("esri.portal.PortalQueryParams")],b)})},"esri/portal/PortalQueryResult":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,e)||this;e.nextQueryParams=null;e.queryParams=null;e.results=null;e.total=null;return e}a._inheritsLoose(g,l);return g}(q);c.__decorate([k.property()],b.prototype,"nextQueryParams",void 0);c.__decorate([k.property()],b.prototype,"queryParams",void 0);c.__decorate([k.property()],b.prototype,"results",void 0);c.__decorate([k.property()],b.prototype,"total",void 0);return b=c.__decorate([h.subclass("esri.portal.PortalQueryResult")],
b)})},"esri/portal/PortalUser":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/JSONSupport ./PortalFolder ./PortalGroup".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;n=u=function(w){function D(...y){y=w.call(this,
...y)||this;y.access=null;y.created=null;y.culture=null;y.description=null;y.email=null;y.fullName=null;y.modified=null;y.orgId=null;y.portal=null;y.preferredView=null;y.privileges=null;y.region=null;y.role=null;y.roleId=null;y.sourceJSON=null;y.units=null;y.username=null;y.userType=null;return y}c._inheritsLoose(D,w);var v=D.prototype;v.addItem=function(y){const A=y&&y.item;var E=y&&y.data;y=y&&y.folder;const x={method:"post"};A&&(x.query=A.createPostQuery(),null!=E&&("string"===typeof E?x.query.text=
E:"object"===typeof E&&(x.query.text=JSON.stringify(E))));E=this.userContentUrl;y&&(E+="/"+("string"===typeof y?y:y.id));return this.portal._request(E+"/addItem",x).then(F=>{A.id=F.id;A.portal=this.portal;return A.loaded?A.reload():A.load()})};v.deleteItem=function(y){let A=this.userContentUrl;y.ownerFolder&&(A+="/"+y.ownerFolder);return this.portal._request(A+`/items/${y.id}/delete`,{method:"post"}).then(()=>{y.id=null;y.portal=null})};v.deleteItems=function(y){const A=this.userContentUrl+"/deleteItems";
var E=y.map(x=>x.id);return E.length?(E={method:"post",query:{items:E.join(",")}},this.portal._request(A,E).then(()=>{y.forEach(x=>{x.id=null;x.portal=null})})):Promise.resolve(void 0)};v.fetchFolders=function(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(y=>y&&y.folders?y.folders.map(A=>{A=e.fromJSON(A);A.portal=this.portal;return A}):[])};v.fetchGroups=function(){return this.portal._request(this.url).then(y=>y&&y.groups?y.groups.map(A=>{A=f.fromJSON(A);A.portal=this.portal;
return A}):[])};v.fetchItems=function(y){y||(y={});let A=this.userContentUrl;y.folder&&(A+="/"+y.folder.id);let E;return(new Promise(function(x,F){a(["./PortalItem"],function(B){x(Object.freeze({__proto__:null,"default":B}))},F)})).then(({default:x})=>{E=x;return this.portal._request(A,{query:{folders:!1,num:y.num||10,start:y.start||1,sortField:y.sortField||"created",sortOrder:y.sortOrder||"asc"}})}).then(x=>{let F;return x&&x.items?(F=x.items.map(B=>{B=E.fromJSON(B);B.portal=this.portal;return B}),
Promise.all(F.map(B=>B.load())).catch(B=>B).then(()=>({items:F,nextStart:x.nextStart,total:x.total}))):{items:[],nextStart:-1,total:0}})};v.fetchTags=function(){return this.portal._request(this.url+"/tags").then(y=>y.tags)};v.getThumbnailUrl=function(y){let A=this.thumbnailUrl;A&&y&&(A+=`&w=${y}`);return A};v.queryFavorites=function(y){return this.favGroupId?(this._favGroup||(this._favGroup=new f({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(y)):Promise.reject(new t("internal:unknown",
"Unknown internal error",{internalError:"Unknown favGroupId"}))};v.toJSON=function(){throw new t("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};D.fromJSON=function(y){if(!y)return null;if(y.declaredClass)throw Error("JSON object is already hydrated");const A=new u;A.sourceJSON=y;A.read(y);return A};c._createClass(D,[{key:"thumbnailUrl",get:function(){const y=this.url,A=this.thumbnail;return y&&A?this.portal._normalizeUrl(`${y}/info/${A}?f=json`):null}},{key:"userContentUrl",
get:function(){const y=this.get("portal.restUrl");return y?`${y}/content/users/${this.username}`:null}},{key:"url",get:function(){const y=this.get("portal.restUrl");return y?`${y}/community/users/${this.username}`:null}}]);return D}(g.JSONSupport);b.__decorate([d.property()],n.prototype,"access",void 0);b.__decorate([d.property({type:Date})],n.prototype,"created",void 0);b.__decorate([d.property()],n.prototype,"culture",void 0);b.__decorate([d.property()],n.prototype,"description",void 0);b.__decorate([d.property()],
n.prototype,"email",void 0);b.__decorate([d.property()],n.prototype,"favGroupId",void 0);b.__decorate([d.property()],n.prototype,"fullName",void 0);b.__decorate([d.property({type:Date})],n.prototype,"modified",void 0);b.__decorate([d.property()],n.prototype,"orgId",void 0);b.__decorate([d.property()],n.prototype,"portal",void 0);b.__decorate([d.property()],n.prototype,"preferredView",void 0);b.__decorate([d.property()],n.prototype,"privileges",void 0);b.__decorate([d.property()],n.prototype,"region",
void 0);b.__decorate([d.property()],n.prototype,"role",void 0);b.__decorate([d.property()],n.prototype,"roleId",void 0);b.__decorate([d.property()],n.prototype,"sourceJSON",void 0);b.__decorate([d.property()],n.prototype,"thumbnail",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,"thumbnailUrl",null);b.__decorate([d.property()],n.prototype,"units",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,"userContentUrl",null);b.__decorate([d.property({readOnly:!0})],n.prototype,"url",
null);b.__decorate([d.property()],n.prototype,"username",void 0);b.__decorate([d.property()],n.prototype,"userType",void 0);return n=u=b.__decorate([m.subclass("esri.portal.PortalUser")],n)})},"esri/portal/PortalFolder":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.created=null;f.id=null;f.portal=null;f.title=null;f.username=null;return f}a._inheritsLoose(e,g);e.prototype.toJSON=function(){throw new m("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};a._createClass(e,[{key:"url",get:function(){const f=this.get("portal.restUrl");return f?`${f}/content/users/${this.username}/${this.id}`:null}}]);return e}(l.JSONSupport);c.__decorate([k.property({type:Date})],
b.prototype,"created",void 0);c.__decorate([k.property()],b.prototype,"id",void 0);c.__decorate([k.property()],b.prototype,"portal",void 0);c.__decorate([k.property()],b.prototype,"title",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"url",null);c.__decorate([k.property()],b.prototype,"username",void 0);return b=c.__decorate([h.subclass("esri.portal.PortalFolder")],b)})},"esri/portal/PortalGroup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/JSONSupport ./PortalQueryParams".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){b=function(e){function f(w){w=e.call(this,w)||this;w.access=null;w.created=null;w.description=null;w.id=null;w.isInvitationOnly=!1;w.modified=null;w.owner=null;w.portal=null;w.snippet=null;w.sortField=null;w.sortOrder=null;w.tags=null;w.title=null;return w}a._inheritsLoose(f,e);var u=f.prototype;u.fetchCategorySchema=function(w){return this.portal._request(this.url+"/categorySchema",w).then(D=>{D=D.categorySchema||[];return D.some(v=>"contentCategorySetsGroupQuery.LivingAtlas"===
v.source)?this._fetchCategorySchemaSet("LivingAtlas",w):D})};u.fetchMembers=function(w){return this.portal._request(this.url+"/users",w)};u.getThumbnailUrl=function(w){let D=this.thumbnailUrl;D&&w&&(D+=`&w=${w}`);return D};u.toJSON=function(){throw new m("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};u.queryItems=function(w,D){w=r.ensureType(g,w);if(5<parseFloat(this.portal.currentVersion))return w=w||new g,this.portal._queryPortal(`/content/groups/${this.id}/search`,
w,"PortalItem",D);w=w?w.clone():new g;w.query="group:"+this.id+(w.query?" "+w.query:"");return this.portal.queryItems(w,D)};u._fetchCategorySchemaSet=function(w,D){return this.portal._fetchSelf(this.portal.authMode,!0,D).then(v=>{if(v=v.contentCategorySetsGroupQuery){const y=new g;y.disableExtraQuery=!0;y.num=1;y.query=v;return this.portal.queryGroups(y,D)}throw new m("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(v=>{if(v.total){v=v.results[0];const y=
new g;y.num=1;y.query=`typekeywords:"${w}"`;return v.queryItems(y,D)}throw new m("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(v=>v.total?v.results[0].fetchData("json",D).then(y=>(y=y&&y.categorySchema)&&y.length?y:[]):[])};a._createClass(f,[{key:"thumbnailUrl",get:function(){const w=this.url,D=this.thumbnail;return w&&D?this.portal._normalizeUrl(`${w}/info/${D}?f=json`):null}},{key:"url",get:function(){const w=this.get("portal.restUrl");return w?w+"/community/groups/"+
this.id:null}}]);return f}(l.JSONSupport);c.__decorate([k.property()],b.prototype,"access",void 0);c.__decorate([k.property({type:Date})],b.prototype,"created",void 0);c.__decorate([k.property()],b.prototype,"description",void 0);c.__decorate([k.property()],b.prototype,"id",void 0);c.__decorate([k.property()],b.prototype,"isInvitationOnly",void 0);c.__decorate([k.property({type:Date})],b.prototype,"modified",void 0);c.__decorate([k.property()],b.prototype,"owner",void 0);c.__decorate([k.property()],
b.prototype,"portal",void 0);c.__decorate([k.property()],b.prototype,"snippet",void 0);c.__decorate([k.property()],b.prototype,"sortField",void 0);c.__decorate([k.property()],b.prototype,"sortOrder",void 0);c.__decorate([k.property()],b.prototype,"tags",void 0);c.__decorate([k.property()],b.prototype,"thumbnail",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"thumbnailUrl",null);c.__decorate([k.property()],b.prototype,"title",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,
"url",null);return b=c.__decorate([h.subclass("esri.portal.PortalGroup")],b)})},"esri/core/loadAll":function(){define(["exports","./maybe","./Collection","./Loadable","./asyncUtils"],function(a,c,b,n,r){async function k(h,m){await h.load();return d(h,m)}async function d(h,m){const t=[],p=(...l)=>{for(const g of l)c.isNone(g)||(Array.isArray(g)?p(...g):b.isCollection(g)?g.forEach(e=>p(e)):n.isLoadable(g)&&t.push(g))};m(p);let q=null;await r.map(t,async l=>{!1!==(await r.result("loadAll"in l&&"function"===
typeof l.loadAll?l.loadAll():l.load())).ok||q||(q=l)});if(q)throw q.loadError;return h}a.default=k;a.loadAll=k;a.loadAllChildren=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/asyncUtils":function(){define(["exports","./promiseUtils"],function(a,c){a.assertResult=function(b){if(!0===b.ok)return b.value;throw b.error;};a.forEach=function(b,n,r){return c.eachAlways(b.map((k,d)=>n.apply(r,[k,d])))};a.map=function(b,n,r){return c.eachAlways(b.map((k,d)=>n.apply(r,[k,d]))).then(k=>k.map(d=>
d.value))};a.result=function(b){return b.then(n=>({ok:!0,value:n})).catch(n=>({ok:!1,error:n}))};a.resultOrAbort=function(b){return b.then(n=>({ok:!0,value:n})).catch(n=>{c.throwIfAbortError(n);return{ok:!1,error:n}})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/PortalItem":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/JSONSupport ../geometry/Extent ../assets ../core/Loadable ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E){var x;n=x=function(F){function B(z){z=F.call(this,z)||this;z.access=null;z.accessInformation=null;z.applicationProxies=null;z.avgRating=null;z.categories=null;z.created=null;z.culture=null;z.description=null;z.extent=null;z.groupCategories=null;z.id=null;z.itemControl=null;z.licenseInfo=null;z.modified=null;z.name=null;z.numComments=null;z.numRatings=null;z.numViews=null;z.owner=null;z.ownerFolder=null;z.portal=null;z.screenshots=null;z.size=
null;z.snippet=null;z.sourceJSON=null;z.tags=null;z.title=null;z.type=null;z.typeKeywords=null;z.url=null;return z}c._inheritsLoose(B,F);B.from=function(z){return h.ensureClass(x,z)};var C=B.prototype;C.destroy=function(){this.portal=null};C.readExtent=function(z){return z&&z.length?new w(z[0][0],z[0][1],z[1][0],z[1][1]):null};C.load=function(z){this.portal||(this.portal=y.getDefault());const G=this.portal.load(z).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,
{signal:k.isSome(z)?z.signal:null}):{}).then(H=>{this.sourceJSON=H;this.read(H)});this.addResolvingPromise(G);return Promise.resolve(this)};C.addRating=function(z){const G={method:"post",query:{}};z instanceof E&&(z=z.rating);isNaN(z)||"number"!==typeof z||(G.query.rating=z);return this.portal._request(this.itemUrl+"/addRating",G).then(()=>new E({rating:z,created:new Date}))};C.clone=function(){const z={access:this.access,accessInformation:this.accessInformation,applicationProxies:r.clone(this.applicationProxies),
avgRating:this.avgRating,categories:r.clone(this.categories),created:r.clone(this.created),culture:this.culture,description:this.description,extent:r.clone(this.extent),groupCategories:r.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:r.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:r.clone(this.screenshots),
size:this.size,snippet:this.snippet,tags:r.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:r.clone(this.typeKeywords),url:this.url};this.loaded&&(z.loadStatus="loaded");return(new x({sourceJSON:this.sourceJSON})).set(z)};C.createPostQuery=function(){const z=this.toJSON();for(const G in z)"tags"===G&&null!==z[G]&&(z[G]=z[G].join(", ")),"typeKeywords"===G&&null!==z[G]&&(z[G]=z[G].join(", ")),"extent"===G&&z[G]&&(z[G]=JSON.stringify(z[G]));return z};C.deleteRating=
function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})};C.fetchData=function(z="json",G){return this.portal._request(this.itemUrl+"/data",{responseType:z,...G})};C.fetchRating=function(z){return this.portal._request(this.itemUrl+"/rating",z).then(G=>null!=G.rating?(G.created=new Date(G.created),new E(G)):null)};C.fetchRelatedItems=function(z,G){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:z,...G},x)};C.getThumbnailUrl=function(z){let G=
this.thumbnailUrl;G&&z&&(G+=`&w=${z}`);return G};C.reload=function(){return this.portal._request(this.itemUrl,{cacheBust:!0}).then(z=>{this.sourceJSON=z;this.read(z);return this})};C.update=function(z){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const G=z&&z.data,H={method:"post"};H.query=this.createPostQuery();for(const I in H.query)null===H.query[I]&&(H.query[I]="");H.query.clearEmptyFields=!0;null!=G&&("string"===typeof G?H.query.text=G:"object"===typeof G&&(H.query.text=
JSON.stringify(G)));return this.portal._request(`${this.userItemUrl}/update`,H).then(()=>this.reload())}):Promise.reject(new l("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};C.updateThumbnail=function(z){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const G=z.thumbnail,H=z.filename,I={method:"post"};if("string"===typeof G)g.isDataProtocol(G)?I.query={data:G}:I.query={url:g.makeAbsolute(G)},k.isSome(H)&&(I.query.filename=H);else{const K=new FormData;
k.isSome(H)?K.append("file",G,H):K.append("file",G);I.body=K}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,I).then(()=>this.reload())}):Promise.reject(new l("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};C.fetchResources=async function(z={},G){return(await new Promise(function(H,I){a(["./support/resourceUtils"],H,I)})).fetchResources(this,z,G)};C.addResource=async function(z,G,H){const I=await new Promise(function(K,L){a(["./support/resourceUtils"],
K,L)});z.portalItem=this;return I.addOrUpdateResource(z,"add",G,H)};C.removeResource=async function(z,G){const H=await new Promise(function(I,K){a(["./support/resourceUtils"],I,K)});if(z.portalItem&&z.portalItem.itemUrl!==this.itemUrl)throw new l("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return H.removeResource(this,z,G)};C.removeAllResources=async function(z){return(await new Promise(function(G,H){a(["./support/resourceUtils"],
G,H)})).removeAllResources(this,z)};C.resourceFromPath=function(z){return new A({portalItem:this,path:z})};C.toJSON=function(){var z=this.extent;z={created:this.created&&this.created.getTime(),description:this.description,extent:z&&[[z.xmin,z.ymin],[z.xmax,z.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,
url:this.url};return r.fixJson(z)};B.fromJSON=function(z){if(!z)return null;if(z.declaredClass)throw Error("JSON object is already hydrated");return new x({sourceJSON:z})};C._getPostQuery=function(){const z=this.toJSON();for(const G in z)"tags"===G&&null!==z[G]&&(z[G]=z[G].join(", ")),"typeKeywords"===G&&null!==z[G]&&(z[G]=z[G].join(", ")),"extent"===G&&z[G]&&(z[G]=JSON.stringify(z[G]));return z};c._createClass(B,[{key:"displayName",get:function(){const z=this.type,G=this.typeKeywords||[];let H=z;
"Feature Service"===z||"Feature Collection"===z?H=-1<G.indexOf("Table")?"Table":-1<G.indexOf("Route Layer")?"Route Layer":-1<G.indexOf("Markup")?"Markup":"Feature Layer":"Image Service"===z?H=-1<G.indexOf("Elevation 3D Layer")?"Elevation Layer":-1<G.indexOf("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===z?H="Scene Layer":"Scene Package"===z?H="Scene Layer Package":"Stream Service"===z?H="Feature Layer":"Geoprocessing Service"===z&&this.portal&&this.portal.isPortal?H=-1<G.indexOf("Web Tool")?
"Tool":"Geoprocessing Service":"Geocoding Service"===z?H="Locator":"Geoenrichment Service"===z?H="GeoEnrichment Service":"Microsoft Powerpoint"===z?H="Microsoft PowerPoint":"GeoJson"===z?H="GeoJSON":"Globe Service"===z?H="Globe Layer":"Vector Tile Service"===z?H="Tile Layer":"netCDF"===z?H="NetCDF":"Map Service"===z?H=-1===G.indexOf("Spatiotemporal")&&(-1<G.indexOf("Hosted Service")||-1<G.indexOf("Tiled"))&&-1===G.indexOf("Relational")?"Tile Layer":"Map Image Layer":z&&-1<z.toLowerCase().indexOf("add in")?
H=z.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===z?H="Big Data File Share":"Compact Tile Package"===z&&(H="Tile Package (tpkx)");return H}},{key:"iconUrl",get:function(){var z=this.type&&this.type.toLowerCase()||"";const G=this.typeKeywords||[];let H=!1,I=!1,K=!1,L=!1,T=!1,O=!1;0<z.indexOf("service")||"feature collection"===z||"kml"===z||"wms"===z||"wmts"===z||"wfs"===z?(H=-1<G.indexOf("Hosted Service"),"feature service"===z||"feature collection"===z||"kml"===z||"wfs"===z?(I=-1<G.indexOf("Table"),
K=-1<G.indexOf("Route Layer"),L=-1<G.indexOf("Markup"),T=-1!==G.indexOf("Spatiotemporal"),O=-1!==G.indexOf("UtilityNetwork"),z=T&&I?"spatiotemporaltable":I?"table":K?"routelayer":L?"markup":T?"spatiotemporal":H?"featureshosted":O?"utilitynetwork":"features"):z="map service"===z||"wms"===z||"wmts"===z?H||-1<G.indexOf("Tiled")||"wmts"===z?"maptiles":"mapimages":"scene service"===z?-1<G.indexOf("Line")?"sceneweblayerline":-1<G.indexOf("3DObject")?"sceneweblayermultipatch":-1<G.indexOf("Point")?"sceneweblayerpoint":
-1<G.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<G.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<G.indexOf("Polygon")?"sceneweblayerpolygon":-1<G.indexOf("Building")?"sceneweblayerbuilding":"sceneweblayer":"image service"===z?-1<G.indexOf("Elevation 3D Layer")?"elevationlayer":-1<G.indexOf("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===z?"streamlayer":"vector tile service"===z?"vectortile":"datastore catalog service"===z?"datastorecollection":"geocoding service"===z?"geocodeservice":
"geoprocessing service"===z?-1<G.indexOf("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"layers"):z="web map"===z||"cityengine web scene"===z?"maps":"web scene"===z?-1<G.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===z||"mobile application"===z||"application"===z||"operation view"===z||"desktop application"===z?"apps":"map document"===z||"map package"===z||"published map"===z||"scene document"===z||"globe document"===z||"basemap package"===
z||"mobile basemap package"===z||"mobile map package"===z||"project package"===z||"project template"===z||"pro map"===z||"layout"===z||"layer"===z&&-1<G.indexOf("ArcGIS Pro")||"explorer map"===z&&G.indexOf("Explorer Document")?"mapsgray":"service definition"===z||"csv"===z||"shapefile"===z||"cad drawing"===z||"geojson"===z||"360 vr experience"===z||"netcdf"===z||"administrative report"===z?"datafiles":"explorer add in"===z||"desktop add in"===z||"windows viewer add in"===z||"windows viewer configuration"===
z?"appsgray":"arcgis pro add in"===z||"arcgis pro configuration"===z?"addindesktop":"rule package"===z||"file geodatabase"===z||"sqlite geodatabase"===z||"csv collection"===z||"kml collection"===z||"windows mobile package"===z||"map template"===z||"desktop application template"===z||"gml"===z||"arcpad package"===z||"code sample"===z||"form"===z||"document link"===z||"earth configuration"===z||"operations dashboard add in"===z||"rules package"===z||"image"===z||"workflow manager package"===z||"explorer map"===
z&&-1<G.indexOf("Explorer Mapping Application")||-1<G.indexOf("Document")?"datafilesgray":"network analysis service"===z||"geoprocessing service"===z||"geodata service"===z||"geometry service"===z||"geoprocessing package"===z||"locator package"===z||"geoprocessing sample"===z||"workflow manager service"===z?"toolsgray":"layer"===z||"layer package"===z||"explorer layer"===z?"layersgray":"scene package"===z?"scenepackage":"mobile scene package"===z?"mobilescenepackage":"tile package"===z||"compact tile package"===
z?"tilepackage":"task file"===z?"taskfile":"report template"===z?"report-template":"statistical data collection"===z?"statisticaldatacollection":"insights workbook"===z?"workbook":"insights model"===z?"insightsmodel":"insights page"===z?"insightspage":"insights theme"===z?"insightstheme":"hub initiative"===z?"hubinitiative":"hubpage"===z?"hubpage":"hub event"===z?"hubevent":"hub site application"===z?"hubsite":"relational database connection"===z?"relationaldatabaseconnection":"big data file share"===
z?"datastorecollection":"image collection"===z?"imagecollection":"style"===z?"style":"desktop style"===z?"desktopstyle":"dashboard"===z?"dashboard":"raster function template"===z?"rasterprocessingtemplate":"vector tile package"===z?"vectortilepackage":"ortho mapping project"===z?"orthomappingproject":"ortho mapping template"===z?"orthomappingtemplate":"solution"===z?"solutions":"geopackage"===z?"geopackage":"deep learning package"===z?"deeplearningpackage":"real time analytic"===z?"realtimeanalytics":
"big data analytic"===z?"bigdataanalytics":"feed"===z?"feed":"excalibur imagery project"===z?"excaliburimageryproject":"notebook"===z?"notebook":"storymap"===z?"storymap":"survey123 add in"===z?"survey123addin":"mission"===z?"mission":"mission report"===z?"missionreport":"quickcapture project"===z?"quickcaptureproject":"pro report"===z?"proreport":"urban model"===z?"urbanmodel":"web experience"===z?"experiencebuilder":"web experience template"===z?"webexperiencetemplate":"workflow"===z?"workflow":
"insights script"===z?"insightsscript":"kernel gateway connection"===z?"kernelgatewayconnection":"hub initiative template"===z?"hubinitiativetemplate":"storymap theme"===z?"storymaptheme":"knowledge graph"===z?"knowledgegraph":"maps";return z?D.getAssetUrl("esri/images/portal/"+z+"16.png"):null}},{key:"isLayer",get:function(){return-1<"Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;WMTS;WMS".split(";").indexOf(this.type)}},{key:"itemUrl",
get:function(){const z=this.get("portal.restUrl");return z?z+"/content/items/"+this.id:null}},{key:"thumbnailUrl",get:function(){const z=this.itemUrl,G=this.thumbnail;return z&&G?this.portal._normalizeUrl(`${z}/info/${G}?f=json`):null}},{key:"userItemUrl",get:function(){const z=this.get("portal.restUrl");if(!z)return null;const G=this.owner||this.get("portal.user.username");return G?`${z}/content/users/${this.ownerFolder?`${G}/${this.ownerFolder}`:G}/items/${this.id}`:null}}]);return B}(u.JSONSupportMixin(v));
b.__decorate([m.property({type:["private","shared","org","public"]})],n.prototype,"access",void 0);b.__decorate([m.property()],n.prototype,"accessInformation",void 0);b.__decorate([m.property({json:{read:{source:"appProxies"}}})],n.prototype,"applicationProxies",void 0);b.__decorate([m.property()],n.prototype,"avgRating",void 0);b.__decorate([m.property()],n.prototype,"categories",void 0);b.__decorate([m.property({type:Date})],n.prototype,"created",void 0);b.__decorate([m.property()],n.prototype,
"culture",void 0);b.__decorate([m.property()],n.prototype,"description",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"displayName",null);b.__decorate([m.property({type:w})],n.prototype,"extent",void 0);b.__decorate([p.reader("extent")],n.prototype,"readExtent",null);b.__decorate([m.property()],n.prototype,"groupCategories",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"iconUrl",null);b.__decorate([m.property()],n.prototype,"id",void 0);b.__decorate([m.property({readOnly:!0})],
n.prototype,"isLayer",null);b.__decorate([m.property()],n.prototype,"itemControl",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"itemUrl",null);b.__decorate([m.property()],n.prototype,"licenseInfo",void 0);b.__decorate([m.property({type:Date})],n.prototype,"modified",void 0);b.__decorate([m.property()],n.prototype,"name",void 0);b.__decorate([m.property()],n.prototype,"numComments",void 0);b.__decorate([m.property()],n.prototype,"numRatings",void 0);b.__decorate([m.property()],n.prototype,
"numViews",void 0);b.__decorate([m.property()],n.prototype,"owner",void 0);b.__decorate([m.property()],n.prototype,"ownerFolder",void 0);b.__decorate([m.property({type:y})],n.prototype,"portal",void 0);b.__decorate([m.property()],n.prototype,"screenshots",void 0);b.__decorate([m.property()],n.prototype,"size",void 0);b.__decorate([m.property()],n.prototype,"snippet",void 0);b.__decorate([m.property()],n.prototype,"sourceJSON",void 0);b.__decorate([m.property()],n.prototype,"tags",void 0);b.__decorate([m.property()],
n.prototype,"thumbnail",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"thumbnailUrl",null);b.__decorate([m.property()],n.prototype,"title",void 0);b.__decorate([m.property()],n.prototype,"type",void 0);b.__decorate([m.property()],n.prototype,"typeKeywords",void 0);b.__decorate([m.property()],n.prototype,"url",void 0);b.__decorate([m.property({readOnly:!0})],n.prototype,"userItemUrl",null);return n=x=b.__decorate([q.subclass("esri.portal.PortalItem")],n)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){const f=k.getLogger("esri.portal.PortalItemResource");n=function(u){function w(v){v=u.call(this,v)||this;v.portalItem=null;return v}c._inheritsLoose(w,u);var D=w.prototype;D.normalizeCtorArgs=function(v){return v&&v.portalItem&&v.path?{...v,path:this.normalizePath(v.path,v.portalItem)}:v};D._castPath=function(v){return this.normalizePath(v,this.portalItem)};D.fetch=function(v="json",y){const A=this.url;if(r.isNone(A))throw new p("portal-item-resource:fetch",
"Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(A,{responseType:v,signal:r.get(y,"signal")})};D.update=async function(v,y){return(await new Promise(function(A,E){a(["./support/resourceUtils"],A,E)})).addOrUpdateResource(this,"update",v,y)};D.hasPath=function(){return r.isSome(this.path)};D.normalizePath=function(v,y){if(r.isNone(v))return v;v=v.replace(/^\/+/,"");r.isSome(y)&&q.isAbsolute(v)&&(v=q.makeRelative(v,y.itemUrl));return v.replace(/^\/+/,
"").replace(/^(\.\/)?resources\//,"")};c._createClass(w,[{key:"path",set:function(v){r.isSome(v)&&q.isAbsolute(v)?f.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",v)}},{key:"url",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?`./resources/${this.path}`:null}}]);return w}(e);b.__decorate([d.property()],n.prototype,
"portalItem",void 0);b.__decorate([d.property({type:String,value:null})],n.prototype,"path",null);b.__decorate([h.cast("path")],n.prototype,"_castPath",null);b.__decorate([d.property({type:String,readOnly:!0})],n.prototype,"url",null);b.__decorate([d.property({type:String,readOnly:!0})],n.prototype,"itemRelativeUrl",null);return n=b.__decorate([t.subclass("esri.portal.PortalItemResource")],n)})},"esri/portal/PortalRating":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ./support/resourceExtension ../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,e)||this;e.created=null;e.rating=null;return e}a._inheritsLoose(g,l);return g}(q);c.__decorate([k.property()],b.prototype,"created",void 0);c.__decorate([k.property()],b.prototype,"rating",void 0);return b=c.__decorate([h.subclass("esri.portal.PortalRating")],b)})},"esri/support/basemapDefinitions":function(){define(["exports","../intl/messages","../assets"],function(a,c,b){a.esriBasemapDefinitions={streets:{id:"streets",
get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray.jpg")},
baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",
get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",
isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",
get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",
title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",
get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",
layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},
title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",
title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},
title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",
title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",
layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",
title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},
"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",
url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};
a.getBasemapTitle=async function(n){if(n){var r=-1<n.indexOf("-vector")?n.slice(0,n.indexOf("-vector")):n,k=await c.fetchMessageBundle("esri/t9n/basemaps");return k[n]||k[r]}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/lang ../../core/object ../../core/maybe ../../core/accessorSupport/extensions/serializableProperty/writer ../../core/Error".split(" "),function(a,c,b,n,r,k){function d(p){return!("feature"!==p.type||p.url||
!p.source||"memory"!==p.source.type)}function h(p,q){"maxScale"in p&&(q.maxScale=r.numberToJSON(p.maxScale));"minScale"in p&&(q.minScale=r.numberToJSON(p.minScale))}const m=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile".split(" ")),t=new Set("csv feature geo-rss group imagery imagery-tile kml map-image map-notes tile unknown unsupported vector-tile web-tile".split(" "));a.disableRestrictedWriting=function(p){m.add(p);t.add(p)};a.enableRestrictedWriting=
function(p){m.delete(p);t.delete(p)};a.getLayerJSON=function(p,q,l){if(!("write"in p&&p.write))return l&&l.messages&&l.messages.push(new k("layer:unsupported",`Layers (${p.title}, ${p.id}) of type '${p.declaredClass}' cannot be persisted`,{layer:p})),null;if(l.restrictedWebMapWriting){var g="basemap"===l.layerContainerType?m:"operational-layers"===l.layerContainerType?t:null;g=n.isSome(g)?g.has(p.type)&&!d(p):!0}else g=!0;if(g)return q={},p.write(q,l)?q:null;if(n.isSome(q)&&(l=q=c.clone(q),d(p)?(g=
(g=b.getDeepValue("featureCollection.layers",l))&&g[0]&&g[0].layerDefinition)&&h(p,g):"stream"===p.type?(g=l.layerDefinition=l.layerDefinition||{},h(p,g)):"group"!==p.type&&h(p,l),"blendMode"in p&&(l.blendMode=p.blendMode,"normal"===l.blendMode&&delete l.blendMode),l.opacity=r.numberToJSON(p.opacity),l.title=p.title||"Layer",l.visibility=p.visible,"legendEnabled"in p&&"wmts"!==p.type))if(d(p)){if(l=l.featureCollection)l.showLegend=p.legendEnabled}else l.showLegend=p.legendEnabled;return q};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/Ground":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/compilerUtils ./core/lang ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/Error ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/promiseUtils ./core/JSONSupport ./core/Collection ./Color ./webdoc/support/opacityUtils ./core/collectionUtils ./core/Loadable ./core/loadAll ./ground/NavigationConstraint".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F){function B(G){return"elevation"===G.type||G&&"createElevationSampler"in G}var C;const z=d.getLogger("esri.Ground");n=C=function(G){function H(K){var L=G.call(this,K)||this;L.opacity=1;L.surfaceColor=null;L.navigationConstraint=null;L.layers=new D;L.layers.on("after-add",T=>{T=T.item;T.parent&&T.parent!==c._assertThisInitialized(L)&&"remove"in T.parent&&T.parent.remove(T);T.parent=c._assertThisInitialized(L);"elevation"!==T.type&&"base-elevation"!==
T.type&&z.error(`Layer '${T.title}, id:${T.id}' of type '${T.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)});L.layers.on("after-remove",T=>{T.item.parent=null});return L}c._inheritsLoose(H,G);var I=H.prototype;I.initialize=function(){this.when().catch(K=>{z.error("#load()","Failed to load ground",K)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};I.destroy=function(){const K=this.layers.removeAll();
for(const L of K)L.destroy();this.layers.destroy()};I.normalizeCtorArgs=function(K){K&&"resourceInfo"in K&&(this._set("resourceInfo",K.resourceInfo),K={...K},delete K.resourceInfo);return K};I.writeLayers=function(K,L,T,O){const U=[];K&&(O={...O,layerContainerType:"ground"},K.forEach(W=>{if("write"in W){const S={};r.typeCast(W)().write(S,O)&&U.push(S)}else O&&O.messages&&O.messages.push(new l("layer:unsupported",`Layers (${W.title}, ${W.id}) of type '${W.declaredClass}' cannot be persisted in the ground`,
{layer:W}))}));L.layers=U};I.load=function(K){this.addResolvingPromise(this._loadFromSource(K));return Promise.resolve(this)};I.loadAll=function(){return x.loadAll(this,K=>{K(this.layers)})};I.queryElevation=async function(K,L){await this.load({signal:null==L?void 0:L.signal});var {ElevationQuery:T}=await new Promise(function(U,W){a(["./layers/support/ElevationQuery"],U,W)});u.throwIfAborted(L);T=new T;const O=this.layers.filter(B).toArray();return T.queryAll(O,K,L)};I.createElevationSampler=async function(K,
L){await this.load({signal:null==L?void 0:L.signal});var {ElevationQuery:T}=await new Promise(function(U,W){a(["./layers/support/ElevationQuery"],U,W)});u.throwIfAborted(L);T=new T;const O=this.layers.filter(B).toArray();return T.createSamplerAll(O,K,L)};I.clone=function(){const K={opacity:this.opacity,surfaceColor:k.clone(this.surfaceColor),navigationConstraint:k.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(K.loadStatus="loaded");return(new C({resourceInfo:this.resourceInfo})).set(K)};
I.read=function(K,L){this.resourceInfo||this._set("resourceInfo",{data:K,context:L});G.prototype.read.call(this,K,L)};I._loadFromSource=function(K){const L=this.resourceInfo;return L?this._loadLayersFromJSON(L.data,L.context,K):Promise.resolve(null)};I._loadLayersFromJSON=function(K,L,T){const O=L&&L.origin||"web-scene",U=L&&L.portal||null,W=L&&L.url||null;return(new Promise(function(S,N){a(["./layers/support/layersCreator"],S,N)})).then(({populateOperationalLayers:S})=>{u.throwIfAborted(T);const N=
[];K.layers&&Array.isArray(K.layers)&&N.push(S(this.layers,K.layers,{context:{origin:O,url:W,portal:U,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));return u.eachAlways(N)}).then(()=>{})};c._createClass(H,[{key:"layers",set:function(K){this._set("layers",A.referenceSetter(K,this._get("layers")))}}]);return H}(w.JSONSupportMixin(E));b.__decorate([m.property({json:{read:!1}})],n.prototype,"layers",null);b.__decorate([q.writer("layers")],n.prototype,"writeLayers",
null);b.__decorate([m.property({readOnly:!0})],n.prototype,"resourceInfo",void 0);b.__decorate([m.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:h.Integer,read:{reader:y.transparencyToOpacity,source:"transparency"},write:{writer:(G,H)=>{H.transparency=y.opacityToTransparency(G)},target:"transparency"}}})],n.prototype,"opacity",void 0);b.__decorate([m.property({type:v,json:{type:[h.Integer],write:(G,H)=>{H.surfaceColor=G.toJSON().slice(0,3)}}})],n.prototype,"surfaceColor",void 0);
b.__decorate([m.property({type:F.NavigationConstraint,json:{write:!0}})],n.prototype,"navigationConstraint",void 0);return n=C=b.__decorate([p.subclass("esri.Ground")],n)})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,c){a.neverReached=function(b){};a.neverReachedSilent=function(b){};a.tuple=(...b)=>b;a.typeCast=function(b){return()=>b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers","./core/maybe",
"./core/accessorSupport/ensureType","./colorUtils","./core/mathUtils"],function(a,c,b,n,r){function k(m){return r.clamp(b.ensureInteger(m),0,255)}function d(m,t,p){m=Number(m);return isNaN(m)?p:m<t?t:m>p?p:m}let h=function(){function m(p){this.b=this.g=this.r=255;this.a=1;p&&this.setColor(p)}m.blendColors=function(p,q,l,g=new m){g.r=Math.round(p.r+(q.r-p.r)*l);g.g=Math.round(p.g+(q.g-p.g)*l);g.b=Math.round(p.b+(q.b-p.b)*l);g.a=p.a+(q.a-p.a)*l;return g._sanitize()};m.fromRgb=function(p,q){var l=p.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);
if(l){p=l[2].split(/\s*,\s*/);l=l[1];if("rgb"===l&&3===p.length||"rgba"===l&&4===p.length)return l=p[0],"%"===l.charAt(l.length-1)?(l=p.map(g=>2.56*parseFloat(g)),4===p.length&&(l[3]=parseFloat(p[3])),m.fromArray(l,q)):m.fromArray(p.map(g=>parseFloat(g)),q);if("hsl"===l&&3===p.length||"hsla"===l&&4===p.length)return m.fromArray(n.hsla2rgba(parseFloat(p[0]),parseFloat(p[1])/100,parseFloat(p[2])/100,parseFloat(p[3])),q)}return null};m.fromHex=function(p,q=new m){if(4!==p.length&&7!==p.length||"#"!==
p[0])return null;const l=4===p.length?4:8,g=(1<<l)-1;let e=Number("0x"+p.substr(1));if(isNaN(e))return null;["b","g","r"].forEach(f=>{const u=e&g;e>>=l;q[f]=4===l?17*u:u});q.a=1;return q};m.fromArray=function(p,q=new m){q._set(Number(p[0]),Number(p[1]),Number(p[2]),Number(p[3]));isNaN(q.a)&&(q.a=1);return q._sanitize()};m.fromString=function(p,q){const l=n.getNamedColor(p);return l&&m.fromArray(l,q)||m.fromRgb(p,q)||m.fromHex(p,q)};m.fromJSON=function(p){return p&&new m([p[0],p[1],p[2],p[3]/255])};
m.toUnitRGB=function(p){return c.isSome(p)?[p.r/255,p.g/255,p.b/255]:null};m.toUnitRGBA=function(p){return c.isSome(p)?[p.r/255,p.g/255,p.b/255,null!=p.a?p.a:1]:null};var t=m.prototype;t.setColor=function(p){if("string"===typeof p)m.fromString(p,this);else if(Array.isArray(p))m.fromArray(p,this);else{var q,l,g,e;this._set(null!=(q=p.r)?q:0,null!=(l=p.g)?l:0,null!=(g=p.b)?g:0,null!=(e=p.a)?e:1);p instanceof m||this._sanitize()}return this};t.toRgb=function(){return[this.r,this.g,this.b]};t.toRgba=
function(){return[this.r,this.g,this.b,this.a]};t.toHex=function(){const p=this.r.toString(16),q=this.g.toString(16),l=this.b.toString(16);return`#${2>p.length?"0"+p:p}${2>q.length?"0"+q:q}${2>l.length?"0"+l:l}`};t.toCss=function(p=!1){const q=this.r+", "+this.g+", "+this.b;return p?`rgba(${q}, ${this.a})`:`rgb(${q})`};t.toString=function(){return this.toCss(!0)};t.toJSON=function(){return this.toArray()};t.toArray=function(p=0){const q=k(this.r),l=k(this.g),g=k(this.b);return 0===p||1!==this.a?[q,
l,g,k(255*this.a)]:[q,l,g]};t.clone=function(){return new m(this.toRgba())};t.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};t._sanitize=function(){this.r=Math.round(d(this.r,0,255));this.g=Math.round(d(this.g,0,255));this.b=Math.round(d(this.b,0,255));this.a=d(this.a,0,1);return this};t._set=function(p,q,l,g){this.r=p;this.g=q;this.b=l;this.a=g};a._createClass(m,[{key:"isBright",get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return m}();h.prototype.declaredClass=
"esri.Color";return h})},"esri/colorUtils":function(){define(["exports"],function(a){function c(r){var k;return null!=(k=n[r.toLowerCase()])?k:null}function b(r,k,d){0>d&&++d;1<d&&--d;const h=6*d;return 1>h?r+(k-r)*h:1>2*d?k:2>3*d?r+(k-r)*(2/3-d)*6:r}const n={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,
255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,
60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,
0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,
230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,
255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,
1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,
96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};a.getNamedColor=c;a.getNamedColorCopy=function(r){return(r=c(r))?
[...r]:r};a.hex2rgba=function(r){var k=5<r.length;const d=k?8:4,h=(1<<d)-1,m=k?1:17;k=k?9===r.length:5===r.length;r=Number("0x"+r.substr(1));if(isNaN(r))return null;const t=[0,0,0,1];k&&(k=r&h,r>>=d,t[3]=m*k/255);k=r&h;r>>=d;t[2]=m*k;k=r&h;r>>=d;t[1]=m*k;k=r&h;r>>=d;t[0]=m*k;return t};a.hsla2rgba=function(r,k,d,h=1){r=(r%360+360)%360/360;k=.5>=d?d*(k+1):d+k-d*k;d=2*d-k;return[Math.round(256*b(d,k,r+1/3)),Math.round(256*b(d,k,r)),Math.round(256*b(d,k,r-1/3)),h]};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/core/mathUtils":function(){define(["exports"],function(a){function c(q,l,g){return q<l?l:q>g?g:q}function b(q,l,g){return Math.min(Math.max(q,l),g)}function n(q,l,g){return q+(l-q)*g}function r(q){k[0]=q;return k[0]}const k=new Float32Array(1),d=Number.isFinite||function(q){return"number"===typeof q&&window.isFinite(q)},h=Number.isNaN||function(q){return q!==q},m=Math.sign||function(q){return+(0<q)-+(0>q)||+q},t=Math.log2||function(q){return Math.log(q)/Math.LN2},p=r(3.4028234663852886E38);
a.NUMBER_MAX_FLOAT32=p;a.acosClamped=function(q){return Math.acos(c(q,-1,1))};a.asinClamped=function(q){return Math.asin(c(q,-1,1))};a.clamp=c;a.clampFloat32=function(q){return r(Math.max(-p,Math.min(q,p)))};a.deg2rad=function(q){return q*Math.PI/180};a.floatEqualAbsolute=function(q,l,g=1E-6){return h(q)||h(l)?!1:(q>l?q-l:l-q)<=g};a.floatEqualRelative=function(q,l,g=1E-6){if(h(q)||h(l))return!1;if(q===l)return!0;const e=Math.abs(q-l),f=Math.abs(q),u=Math.abs(l);if(0===q||0===l||1E-12>f&&1E-12>u){if(e>
.01*g)return!1}else if(e/(f+u)>g)return!1;return!0};a.glClamp=b;a.isFinite=d;a.isNaN=h;a.isPowerOfTwo=function(q){return 0===(q&q-1)};a.lerp=n;a.log2=t;a.nextHighestPowerOfTen=function(q){return 10**Math.ceil(Math.LOG10E*Math.log(q))};a.nextHighestPowerOfTwo=function(q){--q;for(let l=1;32>l;l<<=1)q|=q>>l;return q+1};a.nextPowerOfTwo=function(q){q--;q|=q>>1;q|=q>>2;q|=q>>4;q|=q>>8;q|=q>>16;q++;return q};a.rad2deg=function(q){return 180*q/Math.PI};a.reciprocalClamped=function(q,l=1E-6){return(0>q?-1:
1)/Math.max(Math.abs(q),l)};a.scale=function(q,l,g,e,f){return n(e,f,(q-l)/(g-l))};a.sign=m;a.smoothstep=function(q,l,g){q=b((g-q)/(l-q),0,1);return q*q*(3-2*q)};a.step=function(q,l){return l<q?0:1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,c){a.opacityToTransparency=function(b){b=c.ensureInteger(100*(1-b));return Math.max(0,Math.min(b,100))};a.transparencyToOpacity=function(b){return Math.max(0,
Math.min(1-b/100,1))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),function(a,c,b,
n,r,k,d,h,m,t,p,q,l){var g;a.NavigationConstraint=g=function(e){function f(u){u=e.call(this,u)||this;u.type="none";return u}c._inheritsLoose(f,e);f.prototype.clone=function(){return new g({type:this.type})};return f}(l.JSONSupport);b.__decorate([h.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=g=b.__decorate([m.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","./property","../../jsonMap"],function(a,c,b){a.enumeration=function(n,r={ignoreUnknown:!0}){n=n instanceof b.JSONMap?n:new b.JSONMap(n,r);n={type:null!=r&&r.ignoreUnknown?n.apiValues:String,readOnly:null==r?void 0:r.readOnly,json:{type:n.jsonValues,read:null!=r&&r.readOnly?!1:{reader:n.read},write:{writer:n.write}}};void 0!==(null==r?void 0:r.default)&&(n.json.default=r.default);return c.property(n)};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/CollectionFlattener":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./Collection ./Handles".split(" "),function(a,c,b,n,r,k){let d=function(h){function m(p){p=h.call(this,p)||this;p._handles=new k;p.root=null;return p}a._inheritsLoose(m,h);var t=m.prototype;t.initialize=function(){this._handles.add(this.rootCollectionNames.map(p=>this.watch("root."+p,()=>this.updateCollections(),
!0)));this.updateCollections()};t.destroy=function(){this.root=null;this.refresh();this._handles.destroy();this._handles=null};t.updateCollections=function(){this._collections=this.rootCollectionNames.map(p=>this.get("root."+p)).filter(p=>null!=p);this.refresh()};t.refresh=function(){const p=this._handles;p.remove("collections");const q=[];let l=0;for(const g of this._collections)l=this._processCollection(q,l,g);this.splice(l,this.length);for(const g of q)p.add(g.on("after-changes",()=>this.refresh()),
"collections")};t._createNewInstance=function(p){return new r(p)};t._processCollection=function(p,q,l){if(!l)return q;p.push(l);l.forEach(g=>{if(g){if(!this.itemFilterFunction||this.itemFilterFunction(g)){const e=this.indexOf(g,q);0<=e?e!==q&&this.reorder(g,q):this.add(g,q);++q}this.getChildrenFunction&&(q=this._processCollection(p,q,this.getChildrenFunction(g)))}});return q};return m}(r);c.__decorate([b.property()],d.prototype,"rootCollectionNames",void 0);c.__decorate([b.property()],d.prototype,
"root",void 0);c.__decorate([b.property()],d.prototype,"getChildrenFunction",void 0);c.__decorate([b.property()],d.prototype,"itemFilterFunction",void 0);return d=c.__decorate([n.subclass("esri.core.CollectionFlattener")],d)})},"esri/core/Handles":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./maybe ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./Accessor ./Collection".split(" "),function(a,c,b,n,r,k,d){k=function(h){function m(p){p=h.call(this,
p)||this;p._groups=new Map;return p}a._inheritsLoose(m,h);var t=m.prototype;t.destroy=function(){this.removeAll()};t.add=function(p,q){if(!this._isHandle(p)&&!Array.isArray(p)&&!d.isCollection(p))return this;const l=this._getOrCreateGroup(q);Array.isArray(p)||d.isCollection(p)?p.forEach(g=>this._isHandle(g)&&l.push(g)):l.push(p);this.notifyChange("size");return this};t.forEach=function(p,q){if("function"===typeof p)this._groups.forEach(l=>l.forEach(p));else{const l=this._getGroup(p);l&&q&&l.forEach(q)}};
t.has=function(p){return this._groups.has(this._ensureGroupKey(p))};t.remove=function(p){if(Array.isArray(p)||d.isCollection(p))return p.forEach(this.remove,this),this;if(!this.has(p))return this;const q=this._getGroup(p);for(let l=0;l<q.length;l++)q[l].remove();this._deleteGroup(p);this.notifyChange("size");return this};t.removeAll=function(){this._groups.forEach(p=>{for(let q=0;q<p.length;q++)p[q].remove()});this._groups.clear();this.notifyChange("size");return this};t._isHandle=function(p){return p&&
!!p.remove};t._getOrCreateGroup=function(p){if(this.has(p))return this._getGroup(p);const q=[];this._groups.set(this._ensureGroupKey(p),q);return q};t._getGroup=function(p){return b.assumeNonNull(this._groups.get(this._ensureGroupKey(p)))};t._deleteGroup=function(p){return this._groups.delete(this._ensureGroupKey(p))};t._ensureGroupKey=function(p){return p||"_default_"};a._createClass(m,[{key:"size",get:function(){let p=0;this._groups.forEach(q=>{p+=q.length});return p}}]);return m}(k);c.__decorate([n.property({readOnly:!0})],
k.prototype,"size",null);return k=c.__decorate([r.subclass("esri.core.Handles")],k)})},"esri/support/basemapUtils":function(){define("exports ../core/Logger ../core/accessorSupport/ensureType ../core/urlUtils ../core/Collection ./basemapDefinitions ../Basemap".split(" "),function(a,c,b,n,r,k,d){function h(E,x){var F;let B;if("string"===typeof E){if(!(E in k.esriBasemapDefinitions))return x=Object.keys(k.esriBasemapDefinitions).map(C=>`"${C}"`).join(", "),y.warn(`Unable to find basemap definition for: ${E}. Try one of these: ${x}`),
null;x&&(B=x[E]);B||(B=d.fromId(E),x&&(x[E]=B))}else B=b.ensureType(d,E);null!=(F=B)&&F.destroyed&&(y.warn("The provided basemap is already destroyed",{basemap:B}),B=null);return B}function m(E,x){const F=new r;E.forEach(B=>{const C=x.find(z=>D(g(B),g(z)))||B;F.some(z=>z===C)?F.push(B):F.push(C)});return F}function t(E){if(p(E.url))return!0;if("vector-tile"===E.type)for(const x in E.sourceNameToSource){const F=E.sourceNameToSource[x];if(p(null==F?void 0:F.sourceUrl))return!0}return!1}function p(E){if(!E)return!1;
E=new n.Url(n.makeAbsolute(E));return A.test(E.authority)}function q(E){return E?!E.loaded&&E.resourceInfo?e(E.resourceInfo.data):{baseLayers:l(E.baseLayers),referenceLayers:l(E.referenceLayers)}:null}function l(E){return(r.isCollection(E)?E.toArray():E).map(g)}function g(E){return{type:E.type,url:v("urlTemplate"in E&&E.urlTemplate||E.url||"styleUrl"in E&&E.styleUrl),minScale:"minScale"in E&&null!=E.minScale?E.minScale:0,maxScale:"maxScale"in E&&null!=E.maxScale?E.maxScale:0,opacity:null!=E.opacity?
E.opacity:1,visible:null!=E.visible?!!E.visible:!0}}function e(E){return E?{baseLayers:f(E.baseMapLayers.filter(x=>!x.isReference)),referenceLayers:f(E.baseMapLayers.filter(x=>x.isReference))}:null}function f(E){return E.map(x=>{{let F;switch(x.layerType){case "VectorTileLayer":F="vector-tile";break;case "ArcGISTiledMapServiceLayer":F="tile";break;default:F="unknown"}x={type:F,url:v(x.templateUrl||x.urlTemplate||x.styleUrl||x.url),minScale:null!=x.minScale?x.minScale:0,maxScale:null!=x.maxScale?x.maxScale:
0,opacity:null!=x.opacity?x.opacity:1,visible:null!=x.visibility?!!x.visibility:!0}}return x})}function u(E,x,F){return null!=E!==(null!=x)?"not-equal":E?w(E.baseLayers,x.baseLayers)?w(E.referenceLayers,x.referenceLayers)?"equal":F.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function w(E,x){if(E.length!==x.length)return!1;for(let F=0;F<E.length;F++)if(!D(E[F],x[F]))return!1;return!0}function D(E,x){return E.type===x.type&&E.url===x.url&&E.minScale===x.minScale&&E.maxScale===
x.maxScale&&E.visible===x.visible&&E.opacity===x.opacity}function v(E){return E?n.normalize(E).replace(/^\s*https?:/i,"").toLowerCase():""}const y=c.getLogger("esri.support.basemapUtils"),A=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(E,x=null){E=h(E);if(!E)return null;const F=new d({id:E.id,title:E.title,baseLayers:E.baseLayers.slice(),referenceLayers:E.referenceLayers.slice()});x&&(F.baseLayers=m(F.baseLayers,x.baseLayers),F.referenceLayers=m(F.referenceLayers,
x.referenceLayers));F.load().catch(()=>{});F.portalItem=E.portalItem;return F};a.contentEquals=function(E,x){if(E===x)return!0;E=q(E);x=q(x);return"equal"===u(E,x,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(E){for(const x in E){const F=E[x];!1===(null==F?void 0:F.destroyed)&&F.destroy();delete E[x]}};a.ensureType=h;a.getWellKnownBasemapId=function(E){let x=null;E=q(E);const F=!E.baseLayers.length;for(const C in k.esriBasemapDefinitions){var B=e(k.esriBasemapDefinitions[C]);
B=u(E,B,{mustMatchReferences:F});if("equal"===B){x=C;break}"base-layers-equal"===B&&(x=C)}return x};a.hasDeveloperBasemapLayer=function(E){return!(null==E||!E.baseLayers.concat(E.referenceLayers).some(t))};a.isDeveloperBasemapLayer=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/groundUtils":function(){define(["exports","../core/Logger","../core/accessorSupport/ensureType","../Ground"],function(a,c,b,n){const r=c.getLogger("esri.support.groundUtils"),k={"world-elevation":{id:"worldElevation",
url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(d){let h;"string"===typeof d?d in k?h=new n({resourceInfo:{data:{layers:[k[d]]}}}):r.warn(`Unable to find ground definition for: ${d}. Try "world-elevation"`):
h=b.ensureType(n,d);return h};a.groundElevationLayers=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/LayersMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/Collection ../core/collectionUtils ../layers/Layer".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){function u(D,v,y){if(D)for(let E=0,x=D.length;E<x;E++){var A=D.getItemAt(E);if(A[v]===y||A&&"group"===A.type&&(A=u(A.layers,v,y)))return A}}const w=r.getLogger("esri.support.LayersMixin");a.LayersMixin=D=>{D=function(v){function y(...E){var x=v.call(this,...E)||this;x.layers=new g;x.layers.on("before-add",F=>{F=F.item;F.parent&&"remove"in F.parent&&F.parent.remove(F)});x.layers.on("after-add",F=>{F=F.item;F.parent=c._assertThisInitialized(x);x.layerAdded(F);
"elevation"!==F.type&&"base-elevation"!==F.type||w.error(`Layer 'title:${F.title}, id:${F.id}' of type '${F.type}' is not supported as an operational layer and will therefore be ignored.`)});x.layers.on("after-remove",F=>{F=F.item;F.parent=null;x.layerRemoved(F)});return x}c._inheritsLoose(y,v);var A=y.prototype;A.destroy=function(){const E=this.layers.removeAll();for(const x of E)this.layerRemoved(x),x.destroy();this.layers.destroy()};A.add=function(E,x){const F=this.layers;x=F.getNextIndex(x);E instanceof
f?E.parent===this?this.reorder(E,x):F.add(E,x):l.isPromiseLike(E)?E.then(B=>{this.destroyed||this.add(B,x)}):w.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")};A.addMany=function(E,x){const F=this.layers;x=F.getNextIndex(x);E.slice().forEach(B=>{B.parent===this?this.reorder(B,x):(F.add(B,x),x+=1)})};A.findLayerById=function(E){return u(this.layers,"id",E)};A.findLayerByUid=function(E){return u(this.layers,"uid",E)};A.remove=function(E){return this.layers.remove(E)};
A.removeMany=function(E){return this.layers.removeMany(E)};A.removeAll=function(){return this.layers.removeAll()};A.reorder=function(E,x){return this.layers.reorder(E,x)};A.layerAdded=function(E){};A.layerRemoved=function(E){};c._createClass(y,[{key:"layers",set:function(E){this._set("layers",e.referenceSetter(E,this._get("layers")))}}]);return y}(D);b.__decorate([d.property()],D.prototype,"layers",null);return D=b.__decorate([m.subclass("esri.support.LayersMixin")],D)};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/layers/Layer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../config ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../geometry/SpatialReference ../geometry/Extent ../geometry ../core/Evented ../core/Identifiable ../request ../core/Loadable".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A){let E=0;const x=k.getLogger("esri.layers.Layer");n=function(F){function B(){var z=F.apply(this,arguments)||this;z.attributionDataUrl=null;z.fullExtent=new u(-180,-90,180,90,f.WGS84);z.id=Date.now().toString(16)+"-layer-"+E++;z.legendEnabled=!0;z.listMode="show";z.opacity=1;z.parent=null;z.popupEnabled=!0;z.attributionVisible=!0;z.spatialReference=f.WGS84;z.title=null;z.type=null;z.url=null;z.visible=!0;return z}c._inheritsLoose(B,F);B.fromArcGISServerUrl=
async function(z){z="string"===typeof z?{url:z}:z;const G=await new Promise(function(H,I){a(["./support/arcgisLayers"],H,I)});try{return await G.fromUrl(z)}catch(H){throw x.error("#fromArcGISServerUrl({ url: '"+z.url+"'})","Failed to create layer from arcgis server url",H),H;}};B.fromPortalItem=async function(z){z="portalItem"in z?z:{portalItem:z};const G=await new Promise(function(H,I){a(["../portal/support/portalLayers"],H,I)});try{return await G.fromItem(z)}catch(H){throw z=z&&z.portalItem,x.error("#fromPortalItem()",
"Failed to create layer from portal item (portal: '"+(z&&z.portal&&z.portal.url||r.portalUrl)+"', id: '"+(z&&z.id||"unset")+"')",H),H;}};var C=B.prototype;C.initialize=function(){this.when().catch(z=>{if(!e.isAbortError(z)){var G,H;k.getLogger(this.declaredClass).error("#load()",`Failed to load layer (title: '${null!=(G=this.title)?G:"no title"}', id: '${null!=(H=this.id)?H:"no id"}')`,{error:z})}})};C.destroy=function(){if(this.parent){const z=this.parent;"layers"in z&&z.layers.includes(this)?z.layers.remove(this):
"tables"in z&&z.tables.includes(this)?z.tables.remove(this):"baseLayers"in z&&z.baseLayers.includes(this)?z.baseLayers.remove(this):"baseLayers"in z&&z.referenceLayers.includes(this)&&z.referenceLayers.remove(this)}};C.fetchAttributionData=async function(){const z=this.attributionDataUrl;if(this.hasAttributionData&&z)return(await y(z,{query:{f:"json"},responseType:"json"})).data;throw new p("layer:no-attribution-data","Layer does not have attribution data");};c._createClass(B,[{key:"hasAttributionData",
get:function(){return null!=this.attributionDataUrl}},{key:"parsedUrl",get:function(){const z=this.url;return z?q.urlToObject(z):null}}]);return B}(D.EventedMixin(v.IdentifiableMixin(A)));b.__decorate([h.property({type:String})],n.prototype,"attributionDataUrl",void 0);b.__decorate([h.property({type:u})],n.prototype,"fullExtent",void 0);b.__decorate([h.property({readOnly:!0})],n.prototype,"hasAttributionData",null);b.__decorate([h.property({type:String})],n.prototype,"id",void 0);b.__decorate([h.property({type:Boolean,
nonNullable:!0})],n.prototype,"legendEnabled",void 0);b.__decorate([h.property({type:["show","hide","hide-children"]})],n.prototype,"listMode",void 0);b.__decorate([h.property({type:Number,range:{min:0,max:1},nonNullable:!0})],n.prototype,"opacity",void 0);b.__decorate([h.property()],n.prototype,"parent",void 0);b.__decorate([h.property({readOnly:!0})],n.prototype,"parsedUrl",null);b.__decorate([h.property({type:Boolean})],n.prototype,"popupEnabled",void 0);b.__decorate([h.property({type:Boolean})],
n.prototype,"attributionVisible",void 0);b.__decorate([h.property({type:f})],n.prototype,"spatialReference",void 0);b.__decorate([h.property({type:String})],n.prototype,"title",void 0);b.__decorate([h.property({type:String,readOnly:!0,json:{read:!1}})],n.prototype,"type",void 0);b.__decorate([h.property()],n.prototype,"url",void 0);b.__decorate([h.property({type:Boolean,nonNullable:!0})],n.prototype,"visible",void 0);return n=b.__decorate([t.subclass("esri.layers.Layer")],n)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/SpatialReference ./geometry/Geometry ./geometry/Point ./geometry/Extent ./geometry/Multipoint ./geometry/Polygon ./geometry/Polyline ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p){const q={base:n,key:"type",typeMap:{extent:k,multipoint:d,point:r,polyline:m,polygon:h}};c=c.ensureOneOfType(q);a.SpatialReference=b;a.BaseGeometry=n;a.Point=r;a.Extent=k;a.Multipoint=d;a.Polygon=h;a.Polyline=m;a.featureGeometryTypeKebabDictionary=t.featureGeometryTypeKebabDictionary;a.isFeatureGeometryType=t.isFeatureGeometryType;a.typeKebabDictionary=t.typeKebabDictionary;a.fromJSON=p.fromJSON;a.ensureType=c;a.geometryTypes=q;a.isGeometry=function(l){return l instanceof
n};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Geometry ./Point ./Extent ./support/zmUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){function w(v){return(y,A)=>null==y?A:null==A?y:v(y,A)}var D;b=D=function(v){function y(...E){E=v.call(this,...E)||this;E.points=[];E.type="multipoint";return E}a._inheritsLoose(y,v);var A=y.prototype;A.normalizeCtorArgs=function(E,x){if(!E&&!x)return null;const F={};Array.isArray(E)?(F.points=E,F.spatialReference=x):!E||"esri.geometry.SpatialReference"!==E.declaredClass&&null==E.wkid?(E.points&&(F.points=E.points),E.spatialReference&&(F.spatialReference=
E.spatialReference),E.hasZ&&(F.hasZ=E.hasZ),E.hasM&&(F.hasM=E.hasM)):F.spatialReference=E;if(E=F.points&&F.points[0])void 0===F.hasZ&&void 0===F.hasM?(F.hasZ=2<E.length,F.hasM=!1):void 0===F.hasZ?F.hasZ=3<E.length:void 0===F.hasM&&(F.hasM=3<E.length);return F};A.writePoints=function(E,x){x.points=n.clone(this.points)};A.addPoint=function(E){u.updateSupportFromPoint(this,E);Array.isArray(E)?this.points.push(E):this.points.push(E.toArray());this.notifyChange("points");return this};A.clone=function(){const E=
{points:n.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(E.hasZ=!0);this.hasM&&(E.hasM=!0);return new D(E)};A.getPoint=function(E){if(!this._validateInputs(E))return null;E=this.points[E];const x={x:E[0],y:E[1],spatialReference:this.spatialReference};let F=2;this.hasZ&&(x.z=E[2],F=3);this.hasM&&(x.m=E[F]);return new e(x)};A.removePoint=function(E){if(!this._validateInputs(E))return null;E=new e(this.points.splice(E,1)[0],this.spatialReference);this.notifyChange("points");return E};
A.setPoint=function(E,x){if(!this._validateInputs(E))return this;u.updateSupportFromPoint(this,x);Array.isArray(x)||(x=x.toArray());this.points[E]=x;this.notifyChange("points");return this};A.toJSON=function(E){return this.write(null,E)};A._validateInputs=function(E){return null!=E&&0<=E&&E<this.points.length};a._createClass(y,[{key:"cache",get:function(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",
get:function(){const E=this.points;if(!E.length)return null;const x=new f,F=this.hasZ,B=this.hasM,C=F?3:2;var z=E[0];const G=w(Math.min),H=w(Math.max);let [I,K]=z,[L,T]=z,O,U,W,S;for(let N=0,P=E.length;N<P;N++){z=E[N];const [J,M]=z;I=G(I,J);K=G(K,M);L=H(L,J);T=H(T,M);if(F&&2<z.length){const R=z[2];O=G(O,R);W=H(W,R)}B&&z.length>C&&(z=z[C],U=G(U,z),S=H(S,z))}x.xmin=I;x.ymin=K;x.xmax=L;x.ymax=T;x.spatialReference=this.spatialReference;F?(x.zmin=O,x.zmax=W):(x.zmin=null,x.zmax=null);B?(x.mmin=U,x.mmax=
S):(x.mmin=null,x.mmax=null);return x}}]);return y}(g);c.__decorate([d.property({readOnly:!0})],b.prototype,"cache",null);c.__decorate([d.property()],b.prototype,"extent",null);c.__decorate([d.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);c.__decorate([t.writer("points")],b.prototype,"writePoints",null);b=D=c.__decorate([m.subclass("esri.geometry.Multipoint")],b);b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/zmUtils":function(){define(["exports"],
function(a){a.updateSupportFromPoint=function(c,b,n=!1){let {hasM:r,hasZ:k}=c;Array.isArray(b)?4!==b.length||r||k?3===b.length&&n&&!r?(k=!0,r=!1):3===b.length&&r&&k&&(k=r=!1):k=r=!0:(k=!k&&b.hasZ&&(!r||b.hasM),r=!r&&b.hasM&&(!k||b.hasZ));c.hasZ=k;c.hasM=r};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./SpatialReference ./Geometry ./support/webMercatorUtils ./Point ./support/contains ./support/intersects ./Extent ./support/zmUtils ./support/coordsUtils ./support/centroid ./support/extentUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x){var F;b=F=function(B){function C(...G){G=B.call(this,...G)||this;G.rings=[];G.type="polygon";return G}a._inheritsLoose(C,B);C.fromExtent=function(G){var H=G.clone().normalize();G=G.spatialReference;let I=!1,K=!1;H.map(L=>{L.hasZ&&(I=!0);L.hasM&&(K=!0)});H={rings:H.map(function(L){const T=[[L.xmin,L.ymin],[L.xmin,L.ymax],[L.xmax,L.ymax],[L.xmax,L.ymin],[L.xmin,L.ymin]];if(I&&L.hasZ){var O=L.zmin+.5*(L.zmax-L.zmin);for(let U=0;U<T.length;U++)T[U].push(O)}if(K&&
L.hasM)for(L=L.mmin+.5*(L.mmax-L.mmin),O=0;O<T.length;O++)T[O].push(L);return T}),spatialReference:G};I&&(H.hasZ=!0);K&&(H.hasM=!0);return new F(H)};var z=C.prototype;z.normalizeCtorArgs=function(G,H){let I=null,K,L,T=null;G&&!Array.isArray(G)?(I=G.rings?G.rings:null,H||(G.spatialReference?H=G.spatialReference:G.rings||(H=G)),K=G.hasZ,L=G.hasM):I=G;I=I||[];H=H||g.WGS84;I.length&&I[0]&&null!=I[0][0]&&"number"===typeof I[0][0]&&(I=[I]);if(T=I[0]&&I[0][0])void 0===K&&void 0===L?(K=2<T.length,L=!1):void 0===
K?K=!L&&3<T.length:void 0===L&&(L=!K&&3<T.length);return{rings:I,spatialReference:H,hasZ:K,hasM:L}};z.writeRings=function(G,H){H.rings=n.clone(this.rings)};z.addRing=function(G){if(G){var H=this.rings,I=H.length;if(Array.isArray(G[0]))H[I]=G.concat();else{const K=[];for(let L=0,T=G.length;L<T;L++)K[L]=G[L].toArray();H[I]=K}this.notifyChange("rings");return this}};z.clone=function(){const G=new F;G.spatialReference=this.spatialReference;G.rings=n.clone(this.rings);G.hasZ=this.hasZ;G.hasM=this.hasM;
return G};z.contains=function(G){if(!G)return!1;f.canProject(G,this.spatialReference)&&(G=f.project(G,this.spatialReference));return w.polygonContainsPoint(this,G)};z.isClockwise=function(G){G=Array.isArray(G[0])?G:G.map(H=>this.hasZ?this.hasM?[H.x,H.y,H.z,H.m]:[H.x,H.y,H.z]:[H.x,H.y]);return A.isClockwise(G,this.hasM,this.hasZ)};z.getPoint=function(G,H){if(!this._validateInputs(G,H))return null;G=this.rings[G][H];H=this.hasZ;const I=this.hasM;return H&&!I?new u(G[0],G[1],G[2],void 0,this.spatialReference):
I&&!H?new u(G[0],G[1],void 0,G[2],this.spatialReference):H&&I?new u(G[0],G[1],G[2],G[3],this.spatialReference):new u(G[0],G[1],this.spatialReference)};z.insertPoint=function(G,H,I){if(!this._validateInputs(G,H,!0))return this;y.updateSupportFromPoint(this,I);Array.isArray(I)||(I=I.toArray());this.rings[G].splice(H,0,I);this.notifyChange("rings");return this};z.removePoint=function(G,H){if(!this._validateInputs(G,H))return null;G=new u(this.rings[G].splice(H,1)[0],this.spatialReference);this.notifyChange("rings");
return G};z.removeRing=function(G){if(!this._validateInputs(G,null))return null;G=this.rings.splice(G,1)[0];const H=this.spatialReference;G=G.map(I=>new u(I,H));this.notifyChange("rings");return G};z.setPoint=function(G,H,I){if(!this._validateInputs(G,H))return this;y.updateSupportFromPoint(this,I);Array.isArray(I)||(I=I.toArray());this.rings[G][H]=I;this.notifyChange("rings");return this};z._validateInputs=function(G,H,I=!1){return null==G||0>G||G>=this.rings.length||null!=H&&(G=this.rings[G],I&&
(0>H||H>G.length)||!I&&(0>H||H>=G.length))?!1:!0};z.toJSON=function(G){return this.write(null,G)};a._createClass(C,[{key:"cache",get:function(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"centroid",get:function(){const G=E.polygonCentroid(this);if(!G||isNaN(G[0])||isNaN(G[1])||this.hasZ&&isNaN(G[2]))return null;const H=new u;H.x=G[0];H.y=G[1];H.spatialReference=this.spatialReference;this.hasZ&&(H.z=G[2]);
return H}},{key:"extent",get:function(){const {spatialReference:G}=this;var H=x.getPolygonExtent(this);if(!H)return null;H=new v(H);H.spatialReference=G;return H}},{key:"isSelfIntersecting",get:function(){return D.isSelfIntersecting(this.rings)}}]);return C}(e);c.__decorate([d.property({readOnly:!0})],b.prototype,"cache",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"centroid",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"extent",null);c.__decorate([d.property({readOnly:!0})],
b.prototype,"isSelfIntersecting",null);c.__decorate([d.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);c.__decorate([t.writer("rings")],b.prototype,"writeRings",null);b=F=c.__decorate([m.subclass("esri.geometry.Polygon")],b);b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/coordsUtils":function(){define(["exports","./spatialReferenceUtils"],function(a,c){function b(d,h){const m=h[0]-d[0],t=h[1]-d[1];return 2<d.length&&2<h.length?(d=d[2]-
h[2],Math.sqrt(m*m+t*t+d*d)):Math.sqrt(m*m+t*t)}function n(d,h,m){const t=d[0]+m*(h[0]-d[0]),p=d[1]+m*(h[1]-d[1]);return 2<d.length&&2<h.length?[t,p,d[2]+m*(h[2]-d[2])]:[t,p]}function r(d,h,m){const t=d.length;let p=0,q=0,l=0;for(let g=0;g<t;g++){const e=d[g],f=d[(g+1)%t];let u=2;p+=e[0]*f[1]-f[0]*e[1];2<e.length&&2<f.length&&m&&(q+=e[0]*f[2]-f[0]*e[2],u=3);e.length>u&&f.length>u&&h&&(l+=e[0]*f[u]-f[0]*e[u])}return 0>=p&&0>=q&&0>=l}function k(d,h){if(h=c.getInfo(h)){var m=h.valid[0],t=h.valid[1],
p=t-m;for(const q of d){let l=Infinity,g=-Infinity;q.forEach(e=>{let f=e[0];for(;f<m;)f+=p;for(;f>t;)f-=p;l=Math.min(l,f);g=Math.max(g,f);e[0]=f});d=g-l;p-d<d&&q.forEach(e=>{0>e[0]&&(e[0]+=p)})}}}a.closeRings=function(d){if("rings"in d)for(const h of d.rings)3>h.length||h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]||h.push([h[0][0],h[0][1]])};a.closeRingsAndFixWinding=function(d){if("rings"in d){for(var h of d.rings)3>h.length||h[0][0]===h[h.length-1][0]&&h[0][1]===h[h.length-1][1]||h.push([h[0][0],
h[0][1]]);if(0<d.rings.length&&!r(d.rings[0],d.hasM,d.hasZ))for(h=0;h<d.rings.length;++h)d.rings[h]=d.rings[h].reverse()}};a.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(d,h,m,t){let p=Infinity,q=-Infinity;d.forEach(g=>{let e=g.pos[0];for(;e<h;)e+=t;for(;e>m;)e-=t;p=Math.min(p,e);q=Math.max(q,e);g.unnormalizedPos[0]=e;g.unnormalizedPos[1]=g.pos[1];2<g.pos.length&&(g.unnormalizedPos[2]=g.pos[2]);3<g.pos.length&&(g.unnormalizedPos[3]=g.pos[3])});const l=q-p;t-l<l&&d.forEach(g=>{0>g.unnormalizedPos[0]&&
(g.unnormalizedPos[0]+=t)})};a.geometryToCoordinates=function(d){if(!d)return null;if(Array.isArray(d))return d;const h=d.hasZ,m=d.hasM;if("point"===d.type)return m&&h?[d.x,d.y,d.z,d.m]:h?[d.x,d.y,d.z]:m?[d.x,d.y,d.m]:[d.x,d.y];if("polygon"===d.type)return d.rings.slice(0);if("polyline"===d.type)return d.paths.slice(0);if("multipoint"===d.type)return d.points.slice(0);if("extent"===d.type){d=d.clone().normalize();if(!d)return null;let t=!1,p=!1;d.forEach(q=>{q.hasZ&&(t=!0);q.hasM&&(p=!0)});return d.map(q=>
{const l=[[q.xmin,q.ymin],[q.xmin,q.ymax],[q.xmax,q.ymax],[q.xmax,q.ymin],[q.xmin,q.ymin]];if(t&&q.hasZ){var g=.5*(q.zmax-q.zmin);for(let e=0;e<l.length;e++)l[e].push(g)}if(p&&q.hasM)for(q=.5*(q.mmax-q.mmin),g=0;g<l.length;g++)l[g].push(q);return l})}return null};a.getLength=b;a.getMidpoint=function(d,h){return n(d,h,.5)};a.getPathLength=function(d){const h=d.length;let m=0;for(let t=0;t<h-1;++t)m+=b(d[t],d[t+1]);return m};a.getPointOnPath=function(d,h){if(0>=h)return d[0];const m=d.length;let t=
0;for(let p=0;p<m-1;++p){const q=b(d[p],d[p+1]);if(h-t<q)return n(d[p],d[p+1],(h-t)/q);t+=q}return d[m-1]};a.getRingArea=function(d){const h=d.length;let m=0;for(let t=0;t<h;t++){const p=d[t],q=d[(t+1)%h];m+=p[0]*q[1]-q[0]*p[1]}return m};a.isClockwise=r;a.projectPointOnLine=function(d,h,m,t){const [p,q]=h,[l,g]=m[t],[e,f]=m[t+1];h=e-l;m=f-g;t=Math.min(1,Math.max(0,((p-l)*h+(q-g)*m)/(h*h+m*m)));d[0]=l+h*t;d[1]=g+m*t;return d};a.unnormalizeGeometryOnDatelineCrossing=function(d){if("polygon"!==d.type&&
"polyline"!==d.type)return d;k("polygon"===d.type?d.rings:d.paths,d.spatialReference);return d};a.unnormalizeVerticesOnDatelineCrossing=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/centroid":function(){define(["exports","./coordsUtils"],function(a,c){function b(k,d){if(!k||!k.length)return null;const h=[],m=[],t=d?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let q=0,l=k.length;q<l;q++){var p=n(k[q],d,t);p&&m.push(p)}m.sort((q,
l)=>{let g=q[2]-l[2];0===g&&d&&(g=q[4]-l[4]);return g});m.length&&(p=6*m[0][2],h[0]=m[0][0]/p,h[1]=m[0][1]/p,d&&(p=6*m[0][4],h[2]=0!==p?m[0][3]/p:0),h[0]<t[0]||h[0]>t[1]||h[1]<t[2]||h[1]>t[3]||d&&(h[2]<t[4]||h[2]>t[5]))&&(h.length=0);if(!h.length)if(k=k[0]&&k[0].length?r(k[0],d):null)h[0]=k[0],h[1]=k[1],d&&2<k.length&&(h[2]=k[2]);else return null;return h}function n(k,d,h){let m=0,t=0,p=0,q=0,l=0;for(let g=0;g<k.length;g++){const e=k[g],[f,u,w]=e,D=k[(g+1)%k.length],[v,y,A]=D;let E=f*y-v*u;q+=E;m+=
(f+v)*E;t+=(u+y)*E;d&&2<e.length&&2<D.length&&(E=f*A-v*w,p+=(w+A)*E,l+=E);f<h[0]&&(h[0]=f);f>h[1]&&(h[1]=f);u<h[2]&&(h[2]=u);u>h[3]&&(h[3]=u);d&&(w<h[4]&&(h[4]=w),w>h[5]&&(h[5]=w))}0<q&&(q*=-1);0<l&&(l*=-1);if(!q)return null;k=[m,t,.5*q];d&&(k[3]=p,k[4]=.5*l);return k}function r(k,d){const h=d?[0,0,0]:[0,0],m=d?[0,0,0]:[0,0];let t=0,p=0,q=0,l=0;for(let e=0,f=k.length;e<f-1;e++){var g=k[e];const u=k[e+1];if(g&&u){h[0]=g[0];h[1]=g[1];m[0]=u[0];m[1]=u[1];d&&2<g.length&&2<u.length&&(h[2]=g[2],m[2]=u[2]);
const w=c.getLength(h,m);w&&(t+=w,g=c.getMidpoint(g,u),p+=w*g[0],q+=w*g[1],d&&2<g.length&&(l+=w*g[2]))}}return 0<t?d?[p/t,q/t,l/t]:[p/t,q/t]:k.length?k[0]:null}a.extentCentroid=function(k){return k?k.hasZ?[k.xmax-k.xmin/2,k.ymax-k.ymin/2,k.zmax-k.zmin/2]:[k.xmax-k.xmin/2,k.ymax-k.ymin/2]:null};a.lineCentroid=r;a.polygonCentroid=function(k){return k?b(k.rings,k.hasZ):null};a.ringsCentroid=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/extentUtils":function(){define(["exports",
"./boundsUtils"],function(a,c){function b(m,t=!1,p=!1){return t?p?{xmin:m[0],ymin:m[1],zmin:m[2],mmin:m[3],xmax:m[4],ymax:m[5],zmax:m[6],mmax:m[7]}:{xmin:m[0],ymin:m[1],zmin:m[2],xmax:m[3],ymax:m[4],zmax:m[5]}:p?{xmin:m[0],ymin:m[1],mmin:m[2],xmax:m[3],ymax:m[4],mmax:m[5]}:{xmin:m[0],ymin:m[1],xmax:m[2],ymax:m[3]}}function n(m){const {hasZ:t,hasM:p,points:q}=m;return b(c.getPointsBounds(h,q,t,p),t,p)}function r(m){const {x:t,y:p,z:q,m:l}=m;m=null!=l;return null!=q?m?{xmin:t,ymin:p,zmin:q,mmin:l,xmax:t,
ymax:p,zmax:q,mmax:l}:{xmin:t,ymin:p,zmin:q,xmax:t,ymax:p,zmax:q}:m?{xmin:t,ymin:p,mmin:l,xmax:t,ymax:p,mmax:l}:{xmin:t,ymin:p,xmax:t,ymax:p}}function k(m){const {hasZ:t,hasM:p,rings:q}=m;return(m=c.getRingsOrPathsBounds(h,q,t,p))?b(m,t,p):null}function d(m){const {hasZ:t,hasM:p,paths:q}=m;return(m=c.getRingsOrPathsBounds(h,q,t,p))?b(m,t,p):null}const h=[];a.getGeometryExtent=function(m){return m?void 0!==m.xmin&&void 0!==m.ymin&&void 0!==m.xmax&&void 0!==m.ymax?m:void 0!==m.x&&void 0!==m.y?r(m):
void 0!==m.rings?k(m):void 0!==m.paths?d(m):void 0!==m.points?n(m):null:null};a.getMultipointExtent=n;a.getPointExtent=r;a.getPolygonExtent=k;a.getPolylineExtent=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/boundsUtils":function(){define(["exports"],function(a){function c(m){return void 0!==m.xmin&&void 0!==m.ymin&&void 0!==m.xmax&&void 0!==m.ymax}function b(m){return(t,p)=>null==t?p:null==p?t:m(t,p)}function n(m,t,p,q){const l=p?3:2;if(!t.length||!t[0].length)return null;
let [g,e]=t[0][0],[f,u]=t[0][0],w=void 0,D=void 0,v=void 0;var y=void 0;for(let A=0;A<t.length;A++){const E=t[A];for(let x=0;x<E.length;x++){const F=E[x],[B,C]=F;g=d(g,B);e=d(e,C);f=h(f,B);u=h(u,C);if(p&&2<F.length){const z=F[2];w=d(w,z);D=h(D,z)}q&&F.length>l&&(y=F[l],v=d(w,y),y=h(D,y))}}if(p){if(q)return m[0]=g,m[1]=e,m[2]=w,m[3]=v,m[4]=f,m[5]=u,m[6]=D,m[7]=y,m.length=8,m;m[0]=g;m[1]=e;m[2]=w;m[3]=f;m[4]=u;m[5]=D;m.length=6;return m}if(q)return m[0]=g,m[1]=e,m[2]=v,m[3]=f,m[4]=u,m[5]=y,m.length=
6,m;m[0]=g;m[1]=e;m[2]=f;m[3]=u;m.length=4;return m}function r(m,t,p,q,l,g){p=t.xmin;q=t.xmax;const e=t.ymin,f=t.ymax;let u=t.zmin,w=t.zmax,D=t.mmin;t=t.mmax;if(l){u=u||0;w=w||0;if(g)return m[0]=p,m[1]=e,m[2]=u,m[3]=D||0,m[4]=q,m[5]=f,m[6]=w,m[7]=t||0,m;m[0]=p;m[1]=e;m[2]=u;m[3]=q;m[4]=f;m[5]=w;return m}if(g)return m[0]=p,m[1]=e,m[2]=D||0,m[3]=q,m[4]=f,m[5]=t||0,m;m[0]=p;m[1]=e;m[2]=q;m[3]=f;return m}function k(m,t,p,q,l,g){const e=p?3:2;q=q&&g;p=p&&l;if(!t.length||!t[0].length)return null;let [f,
u]=t[0],[w,D]=t[0],v=void 0,y=void 0,A=void 0;var E=void 0;for(let x=0;x<t.length;x++){const F=t[x],[B,C]=F;f=d(f,B);u=d(u,C);w=h(w,B);D=h(D,C);if(p&&2<F.length){const z=F[2];v=d(v,z);y=h(y,z)}q&&F.length>e&&(E=F[e],A=d(v,E),E=h(y,E))}if(l){v=v||0;y=y||0;if(g)return m[0]=f,m[1]=u,m[2]=v,m[3]=A||0,m[4]=w,m[5]=D,m[6]=y,m[7]=E||0,m;m[0]=f;m[1]=u;m[2]=v;m[3]=w;m[4]=D;m[5]=y;return m}if(g)return m[0]=f,m[1]=u,m[2]=A||0,m[3]=w,m[4]=D,m[5]=E||0,m;m[0]=f;m[1]=u;m[2]=w;m[3]=D;return m}const d=b(Math.min),
h=b(Math.max);a.getBoundsXY=function(m,t){if(void 0!==t.paths)return n(m,t.paths,!1,!1);if(void 0!==t.rings)return n(m,t.rings,!1,!1);if(void 0!==t.points)return k(m,t.points,!1,!1,!1,!1);if(c(t))return r(m,t);void 0!==t.x&&void 0!==t.y&&(m[0]=t.x,m[1]=t.y,m[2]=t.x,m[3]=t.y);return m};a.getBoundsXYZ=function(m,t){if(void 0!==t.paths)return n(m,t.paths,!0,!1);if(void 0!==t.rings)return n(m,t.rings,!0,!1);if(void 0!==t.points)return k(m,t.points,!0,!1,!0,!1);if(c(t))return r(m,t,!0,!1,!0,!1);void 0!==
t.x&&void 0!==t.y&&(m[0]=t.x,m[1]=t.y,m[2]=t.z,m[3]=t.x,m[4]=t.y,m[5]=t.z);return m};a.getExtentBounds=r;a.getPointsBounds=k;a.getPointsBoundsCenterX=function(m){if(!m.length||!m[0].length)return null;let [t]=m[0],[p]=m[0];for(let q=0;q<m.length;q++){const [l]=m[q];t=d(t,l);p=h(p,l)}return t+.5*(p-t)};a.getPointsBoundsWidth=function(m){if(!m.length||!m[0].length)return null;let [t]=m[0],[p]=m[0];for(let q=0;q<m.length;q++){const [l]=m[q];t=d(t,l);p=h(p,l)}return p-t};a.getRingsOrPathsBounds=n;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./SpatialReference ./Geometry ./Point ./Extent ./support/zmUtils ./support/extentUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){var v;b=v=function(y){function A(...x){x=y.call(this,...x)||this;x.paths=[];x.type="polyline";return x}a._inheritsLoose(A,y);var E=A.prototype;E.normalizeCtorArgs=function(x,F){let B=null,C,z,G=null;x&&!Array.isArray(x)?(B=x.paths?x.paths:null,F||(x.spatialReference?F=x.spatialReference:x.paths||(F=x)),C=x.hasZ,z=x.hasM):B=x;B=B||[];F=F||g.WGS84;B.length&&B[0]&&null!=B[0][0]&&"number"===typeof B[0][0]&&(B=[B]);if(G=B[0]&&B[0][0])void 0===C&&void 0===
z?(C=2<G.length,z=!1):void 0===C?C=!z&&3<G.length:void 0===z&&(z=!C&&3<G.length);return{paths:B,spatialReference:F,hasZ:C,hasM:z}};E.writePaths=function(x,F){F.paths=n.clone(this.paths)};E.addPath=function(x){if(x){var F=this.paths,B=F.length;if(Array.isArray(x[0]))F[B]=x.concat();else{const C=[];for(let z=0,G=x.length;z<G;z++)C[z]=x[z].toArray();F[B]=C}this.notifyChange("paths");return this}};E.clone=function(){const x=new v;x.spatialReference=this.spatialReference;x.paths=n.clone(this.paths);x.hasZ=
this.hasZ;x.hasM=this.hasM;return x};E.getPoint=function(x,F){if(!this._validateInputs(x,F))return null;x=this.paths[x][F];F=this.hasZ;const B=this.hasM;return F&&!B?new f(x[0],x[1],x[2],void 0,this.spatialReference):B&&!F?new f(x[0],x[1],void 0,x[2],this.spatialReference):F&&B?new f(x[0],x[1],x[2],x[3],this.spatialReference):new f(x[0],x[1],this.spatialReference)};E.insertPoint=function(x,F,B){if(!this._validateInputs(x,F,!0))return this;w.updateSupportFromPoint(this,B);Array.isArray(B)||(B=B.toArray());
this.paths[x].splice(F,0,B);this.notifyChange("paths");return this};E.removePath=function(x){if(!this._validateInputs(x,null))return null;x=this.paths.splice(x,1)[0];const F=this.spatialReference;x=x.map(B=>new f(B,F));this.notifyChange("paths");return x};E.removePoint=function(x,F){if(!this._validateInputs(x,F))return null;x=new f(this.paths[x].splice(F,1)[0],this.spatialReference);this.notifyChange("paths");return x};E.setPoint=function(x,F,B){if(!this._validateInputs(x,F))return this;w.updateSupportFromPoint(this,
B);Array.isArray(B)||(B=B.toArray());this.paths[x][F]=B;this.notifyChange("paths");return this};E._validateInputs=function(x,F,B=!1){return null==x||0>x||x>=this.paths.length||null!=F&&(x=this.paths[x],B&&(0>F||F>x.length)||!B&&(0>F||F>=x.length))?!1:!0};E.toJSON=function(x){return this.write(null,x)};a._createClass(A,[{key:"cache",get:function(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const {spatialReference:x}=
this;var F=D.getPolylineExtent(this);if(!F)return null;F=new u(F);F.spatialReference=x;return F}}]);return A}(e);c.__decorate([d.property({readOnly:!0})],b.prototype,"cache",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"extent",null);c.__decorate([d.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);c.__decorate([t.writer("paths")],b.prototype,"writePaths",null);b=v=c.__decorate([m.subclass("esri.geometry.Polyline")],b);b.prototype.toJSON.isDefaultToJSON=
!0;return b})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,c){const b=c.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});c=c.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=b;a.isFeatureGeometryType=
function(n){return"point"===n||"multipoint"===n||"polyline"===n||"polygon"===n};a.typeKebabDictionary=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Geometry ../Point ../Extent ../Multipoint ../Polygon ../Polyline".split(" "),function(a,c,b,n,r,k,d){function h(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function m(e){return void 0!==e.points}function t(e){return void 0!==e.x&&void 0!==e.y}function p(e){return void 0!==
e.paths}function q(e){return void 0!==e.rings}function l(e){return e?e instanceof c?e:t(e)?b.fromJSON(e):p(e)?d.fromJSON(e):q(e)?k.fromJSON(e):m(e)?r.fromJSON(e):h(e)?n.fromJSON(e):null:null}const g={esriGeometryPoint:b,esriGeometryPolyline:d,esriGeometryPolygon:k,esriGeometryEnvelope:n,esriGeometryMultipoint:r};a.fromJSON=l;a.fromJson=function(e){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(f){console.warn(f.stack)}return l(e)};a.getGeometryType=function(e){return e&&g[e]||
null};a.getJsonType=function(e){return e?t(e)?"esriGeometryPoint":p(e)?"esriGeometryPolyline":q(e)?"esriGeometryPolygon":h(e)?"esriGeometryEnvelope":m(e)?"esriGeometryMultipoint":null:null};a.isExtent=h;a.isMesh=function(e){return void 0!==e.vertexAttributes};a.isMultipoint=m;a.isPoint=t;a.isPolygon=q;a.isPolyline=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Identifiable":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./accessorSupport/decorators/subclass"],
function(a,c,b,n){let r=0;const k=d=>{d=function(h){function m(...t){t=h.call(this,...t)||this;Object.defineProperty(c._assertThisInitialized(t),"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+r++});return t}c._inheritsLoose(m,h);return m}(d);return d=b.__decorate([n.subclass("esri.core.Identifiable")],d)};a.Identifiable=function(d){function h(){return d.apply(this,arguments)||this}c._inheritsLoose(h,d);return h}(k(function(){return function(){}}()));a.Identifiable=b.__decorate([n.subclass("esri.core.Identifiable")],
a.Identifiable);a.IdentifiableMixin=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/TablesMixin":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ../core/collectionUtils".split(" "),function(a,c,b,
n,r,k,d,h,m,t,p,q,l,g){function e(u,w,D){if(u)for(let y=0,A=u.length;y<A;y++){var v=u.getItemAt(y);if(v[w]===D||v&&"group"===v.type&&(v=e(v.tables,w,D)))return v}}const f=r.getLogger("esri.support.TablesMixin");a.TablesMixin=u=>{u=function(w){function D(...y){var A=w.call(this,...y)||this;A.tables=new l;A.tables.on("after-add",E=>{E=E.item;E.parent&&E.parent!==c._assertThisInitialized(A)&&"tables"in E.parent&&E.parent.tables.remove(E);E.parent=c._assertThisInitialized(A);"feature"!==E.type&&f.error(`Layer 'title:${E.title}, id:${E.id}' of type '${E.type}' is not supported as a table and will therefore be ignored.`)});
A.tables.on("after-remove",E=>{E.item.parent=null});return A}c._inheritsLoose(D,w);var v=D.prototype;v.destroy=function(){const y=this.tables.removeAll();for(const A of y)A.destroy();this.tables.destroy()};v.findTableById=function(y){return e(this.tables,"id",y)};v.findTableByUid=function(y){return e(this.tables,"uid",y)};c._createClass(D,[{key:"tables",set:function(y){this._set("tables",g.referenceSetter(y,this._get("tables")))}}]);return D}(u);b.__decorate([d.property()],u.prototype,"tables",null);
return u=b.__decorate([m.subclass("esri.support.TablesMixin")],u)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Viewpoint":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/maybe ./core/Logger ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./geometry/support/jsonUtils ./geometry ./Camera".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){function u(){return{enabled:!this.camera}}var w;b=w=function(D){function v(A){A=D.call(this,A)||this;A.rotation=0;A.scale=0;A.targetGeometry=null;A.camera=null;return A}a._inheritsLoose(v,D);var y=v.prototype;y.castRotation=function(A){A%=360;0>A&&(A+=360);return A};y.clone=function(){return new w({rotation:this.rotation,scale:this.scale,targetGeometry:n.isSome(this.targetGeometry)?this.targetGeometry.clone():null,camera:n.isSome(this.camera)?this.camera.clone():
null})};return v}(l.JSONSupport);c.__decorate([k.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:u}}}}})],b.prototype,"rotation",void 0);c.__decorate([d.cast("rotation")],b.prototype,"castRotation",null);c.__decorate([k.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:u}}}}})],b.prototype,"scale",void 0);c.__decorate([k.property({types:e.geometryTypes,json:{read:g.fromJSON,
write:!0,origins:{"web-scene":{read:g.fromJSON,write:{overridePolicy:u}}}}})],b.prototype,"targetGeometry",void 0);c.__decorate([k.property({type:f,json:{write:!0}})],b.prototype,"camera",void 0);return b=w=c.__decorate([m.subclass("esri.Viewpoint")],b)})},"esri/Camera":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/jsonMap ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./geometry/Point ./core/mathUtils ./views/3d/support/mathUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w){var D;b=D=function(v){function y(...E){E=v.call(this,...E)||this;E.position=new f([0,0,0]);E.heading=0;E.tilt=0;E.fov=55;return E}a._inheritsLoose(y,v);var A=y.prototype;A.normalizeCtorArgs=function(E,x,F,B){return E&&"object"===typeof E&&("x"in E||Array.isArray(E))?(E={position:E},null!=x&&(E.heading=x),null!=F&&(E.tilt=F),null!=B&&(E.fov=B),E):E};A.writePosition=function(E,x,F,B){const C=E.clone();C.x=r.ensureNumber(E.x||0);C.y=r.ensureNumber(E.y||0);
C.z=E.hasZ?r.ensureNumber(E.z||0):E.z;x[F]=C.write(null,B)};A.readPosition=function(E,x){const F=new f;F.read(E,x);F.x=r.ensureNumber(F.x||0);F.y=r.ensureNumber(F.y||0);F.z=F.hasZ?r.ensureNumber(F.z||0):F.z;return F};A.equals=function(E){return E?this.tilt===E.tilt&&this.heading===E.heading&&this.fov===E.fov&&this.position.equals(E.position):!1};A.clone=function(){return new D({position:this.position.clone(),heading:this.heading,tilt:this.tilt,fov:this.fov})};return y}(e.JSONSupport);c.__decorate([k.property({type:f,
json:{write:{isRequired:!0}}})],b.prototype,"position",void 0);c.__decorate([p.writer("position")],b.prototype,"writePosition",null);c.__decorate([m.reader("position")],b.prototype,"readPosition",null);c.__decorate([k.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),d.cast(v=>w.cyclicalDeg.normalize(r.ensureNumber(v)))],b.prototype,"heading",void 0);c.__decorate([k.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),d.cast(v=>u.clamp(r.ensureNumber(v),-180,180))],
b.prototype,"tilt",void 0);c.__decorate([k.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"fov",void 0);return b=D=c.__decorate([t.subclass("esri.Camera")],b)})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec3f64","../../../chunks/vec3"],function(a,c,b,n){function r(e){for(const f in e){const u=e[f];u instanceof Function&&(e[f]=u.bind(e))}return e}let k=function(){function e(u,w){this.min=u;this.max=w;this.range=
w-u}var f=e.prototype;f.ndiff=function(u,w=0){return Math.ceil((u-w)/this.range)*this.range+w};f._normalize=function(u,w,D,v=0,y=!1){D-=v;D<u?D+=this.ndiff(u-D):D>w&&(D-=this.ndiff(D-w));y&&D===w&&(D=u);return D+v};f.normalize=function(u,w=0,D=!1){return this._normalize(this.min,this.max,u,w,D)};f.clamp=function(u,w=0){return c.clamp(u-w,this.min,this.max)+w};f.monotonic=function(u,w,D){return u<w?w:w+this.ndiff(u-w,D)};f.minimalMonotonic=function(u,w,D){return this._normalize(u,u+this.range,w,D)};
f.center=function(u,w,D){w=this.monotonic(u,w,D);return this.normalize((u+w)/2,D)};f.diff=function(u,w,D){return this.monotonic(u,w,D)-u};f.shortestSignedDiff=function(u,w){u=this.normalize(u);w=this.normalize(w);const D=w-u;u=w<u?this.minimalMonotonic(u,w)-u:w-this.minimalMonotonic(w,u);return Math.abs(D)<Math.abs(u)?D:u};f.contains=function(u,w,D){w=this.minimalMonotonic(u,w);D=this.minimalMonotonic(u,D);return D>u&&D<w};return e}();const d=b.create(),h=b.create(),m=r(new k(0,2*Math.PI)),t=r(new k(-Math.PI,
Math.PI)),p=r(new k(0,360)),q=b.create(),l=b.create(),g=b.create();a.Cyclical=k;a.angle=function(e,f,u){e=n.normalize(l,e);f=n.normalize(g,f);const w=c.acosClamped(n.dot(e,f));return u&&(e=n.cross(q,e,f),0>n.dot(e,u))?-w:w};a.bilerp=function(e,f,u,w,D,v){e+=(f-e)*D;return e+(u+(w-u)*D-e)*v};a.cartesianToSpherical=function(e,f){const u=n.length(e),w=c.asinClamped(e[2]/u);n.set(f,u,w,Math.atan2(e[1]/u,e[0]/u));return f};a.cosCapped=function(e,f){return e>f?Math.cos(f):Math.cos(e)};a.cyclical2PI=m;a.cyclicalDeg=
p;a.cyclicalPI=t;a.directionFromTo=function(e,f,u){const w=u[0]-f[0],D=u[1]-f[1];f=u[2]-f[2];u=w*w+D*D+f*f;if(!u)return e[0]=0,e[1]=0,e[2]=0,e;u=1/Math.sqrt(u);e[0]=w*u;e[1]=D*u;e[2]=f*u;return e};a.fovx2fovy=function(e,f,u){return 2*Math.atan(u*Math.tan(.5*e)/f)};a.fovy2fovx=function(e,f,u){return 2*Math.atan(f*Math.tan(.5*e)/u)};a.makeOrthonormal=function(e,f,u){u=u||e;const w=n.dot(e,f);n.set(u,e[0]-w*f[0],e[1]-w*f[1],e[2]-w*f[2]);n.normalize(u,u)};a.makePiecewiseLinearFunction=function(e){const f=
e.length;return function(u){if(u<=e[0][0])return e[0][1];if(u>=e[f-1][0])return e[f-1][1];let w=1;for(;u>e[w][0];)w++;const D=e[w][0];u=(D-u)/(D-e[w-1][0]);return u*e[w-1][1]+(1-u)*e[w][1]}};a.maxScale=function(e){return Math.sqrt(Math.max(Math.max(e[0]*e[0]+e[4]*e[4]+e[8]*e[8],e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),e[2]*e[2]+e[6]*e[6]+e[10]*e[10]))};a.moduloPositive=function(e,f){return(e%f+f)%f};a.planeFromPoints=function(e,f,u,w){n.subtract(d,f,e);n.subtract(h,u,e);n.cross(w,d,h);n.normalize(w,w);w[3]=
-n.dot(e,w)};a.scaleFromMatrix=function(e,f){n.set(e,Math.sqrt(f[0]*f[0]+f[4]*f[4]+f[8]*f[8]),Math.sqrt(f[1]*f[1]+f[5]*f[5]+f[9]*f[9]),Math.sqrt(f[2]*f[2]+f[6]*f[6]+f[10]*f[10]));return e};a.slerp=function(e,f,u,w=b.create()){const D=n.length(e);var v=n.length(f),y=n.dot(e,f)/(D*v);if(.9999999999999999>y){y=Math.acos(y);const A=((1-u)*D+u*v)/Math.sin(y);v=A/v*Math.sin(u*y);n.scale(l,e,A/D*Math.sin((1-u)*y));n.scale(g,f,v);return n.add(w,l,g)}return n.lerp(w,e,f,u)};a.slerpTangent=function(e,f,u,w=
b.create(),D=b.create()){const v=n.length(e),y=n.length(f);var A=n.dot(e,f)/(v*y);if(.9999999999999999>A){A=Math.acos(A);const E=Math.sin(A),x=Math.sin(u*A),F=Math.sin((1-u)*A),B=(1-u)*v+u*y;{const C=B/E,z=C/y*x;n.scale(l,e,C/v*F);n.scale(g,f,z);n.add(w,l,g)}n.scale(l,e,1/v*(-Math.cos((1-u)*A)*A*B+F*(-v+y)));n.scale(g,f,1/y*(Math.cos(u*A)*A*B+x*(-v+y)));n.add(D,l,g);n.scale(D,D,1/E);return D}n.lerp(w,e,f,u);n.subtract(D,f,e);n.normalize(D,D);return D};a.sphericalToCartesian=function(e,f){const u=
e[0],w=e[1];e=e[2];const D=Math.cos(w);n.set(f,u*D*Math.cos(e),u*D*Math.sin(e),u*Math.sin(w))};a.tangentFrame=function(e,f,u){Math.abs(e[0])>Math.abs(e[1])?n.set(f,0,1,0):n.set(f,1,0,0);n.cross(u,e,f);n.normalize(f,f);n.cross(f,u,e);n.normalize(u,u)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/vec3f64":function(){define(["exports"],function(a){function c(){return[0,0,0]}function b(w){return[w[0],w[1],w[2]]}function n(w,D,v){return[w,D,v]}function r(w){const D=c(),v=Math.min(3,
w.length);for(let y=0;y<v;++y)D[y]=w[y];return D}function k(w,D){return new Float64Array(w,D,3)}function d(){return c()}function h(){return[1,1,1]}function m(){return[1,0,0]}function t(){return[0,1,0]}function p(){return[0,0,1]}const q=c(),l=h(),g=m(),e=t(),f=p();var u=Object.freeze({__proto__:null,create:c,clone:b,fromValues:n,fromArray:r,createView:k,zeros:d,ones:h,unitX:m,unitY:t,unitZ:p,ZEROS:q,ONES:l,UNIT_X:g,UNIT_Y:e,UNIT_Z:f});a.ONES=l;a.UNIT_X=g;a.UNIT_Y=e;a.UNIT_Z=f;a.ZEROS=q;a.clone=b;a.create=
c;a.createView=k;a.fromArray=r;a.fromValues=n;a.ones=h;a.unitX=m;a.unitY=t;a.unitZ=p;a.vec3f64=u;a.zeros=d})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,c,b){function n(M){const R=M[0],X=M[1];M=M[2];return Math.sqrt(R*R+X*X+M*M)}function r(M,R){M[0]=R[0];M[1]=R[1];M[2]=R[2];return M}function k(M,R,X,ia){M[0]=R;M[1]=X;M[2]=ia;return M}function d(M,R,X){M[0]=R[0]+X[0];M[1]=R[1]+X[1];M[2]=R[2]+X[2];return M}function h(M,R,X){M[0]=R[0]-X[0];M[1]=R[1]-X[1];M[2]=
R[2]-X[2];return M}function m(M,R,X){M[0]=R[0]*X[0];M[1]=R[1]*X[1];M[2]=R[2]*X[2];return M}function t(M,R,X){M[0]=R[0]/X[0];M[1]=R[1]/X[1];M[2]=R[2]/X[2];return M}function p(M,R){M[0]=Math.ceil(R[0]);M[1]=Math.ceil(R[1]);M[2]=Math.ceil(R[2]);return M}function q(M,R){M[0]=Math.floor(R[0]);M[1]=Math.floor(R[1]);M[2]=Math.floor(R[2]);return M}function l(M,R,X){M[0]=Math.min(R[0],X[0]);M[1]=Math.min(R[1],X[1]);M[2]=Math.min(R[2],X[2]);return M}function g(M,R,X){M[0]=Math.max(R[0],X[0]);M[1]=Math.max(R[1],
X[1]);M[2]=Math.max(R[2],X[2]);return M}function e(M,R){M[0]=Math.round(R[0]);M[1]=Math.round(R[1]);M[2]=Math.round(R[2]);return M}function f(M,R,X){M[0]=R[0]*X;M[1]=R[1]*X;M[2]=R[2]*X;return M}function u(M,R,X,ia){M[0]=R[0]+X[0]*ia;M[1]=R[1]+X[1]*ia;M[2]=R[2]+X[2]*ia;return M}function w(M,R){const X=R[0]-M[0],ia=R[1]-M[1];M=R[2]-M[2];return Math.sqrt(X*X+ia*ia+M*M)}function D(M,R){const X=R[0]-M[0],ia=R[1]-M[1];M=R[2]-M[2];return X*X+ia*ia+M*M}function v(M){const R=M[0],X=M[1];M=M[2];return R*R+
X*X+M*M}function y(M,R){M[0]=-R[0];M[1]=-R[1];M[2]=-R[2];return M}function A(M,R){M[0]=1/R[0];M[1]=1/R[1];M[2]=1/R[2];return M}function E(M,R){var X=R[0];const ia=R[1],ha=R[2];X=X*X+ia*ia+ha*ha;0<X&&(X=1/Math.sqrt(X),M[0]=R[0]*X,M[1]=R[1]*X,M[2]=R[2]*X);return M}function x(M,R){return M[0]*R[0]+M[1]*R[1]+M[2]*R[2]}function F(M,R,X){const ia=R[0],ha=R[1];R=R[2];const ja=X[0],ma=X[1];X=X[2];M[0]=ha*X-R*ma;M[1]=R*ja-ia*X;M[2]=ia*ma-ha*ja;return M}function B(M,R,X,ia){const ha=R[0],ja=R[1];R=R[2];M[0]=
ha+ia*(X[0]-ha);M[1]=ja+ia*(X[1]-ja);M[2]=R+ia*(X[2]-R);return M}function C(M,R,X,ia,ha,ja){const ma=ja*ja,ta=ma*(2*ja-3)+1,Z=ma*(ja-2)+ja,V=ma*(ja-1);ja=ma*(3-2*ja);M[0]=R[0]*ta+X[0]*Z+ia[0]*V+ha[0]*ja;M[1]=R[1]*ta+X[1]*Z+ia[1]*V+ha[1]*ja;M[2]=R[2]*ta+X[2]*Z+ia[2]*V+ha[2]*ja;return M}function z(M,R,X,ia,ha,ja){var ma=1-ja,ta=ma*ma;const Z=ja*ja,V=ta*ma;ta*=3*ja;ma*=3*Z;ja*=Z;M[0]=R[0]*V+X[0]*ta+ia[0]*ma+ha[0]*ja;M[1]=R[1]*V+X[1]*ta+ia[1]*ma+ha[1]*ja;M[2]=R[2]*V+X[2]*ta+ia[2]*ma+ha[2]*ja;return M}
function G(M,R){R=R||1;const X=2*b.RANDOM()*Math.PI,ia=2*b.RANDOM()-1,ha=Math.sqrt(1-ia*ia)*R;M[0]=Math.cos(X)*ha;M[1]=Math.sin(X)*ha;M[2]=ia*R;return M}function H(M,R,X){const ia=R[0],ha=R[1];R=R[2];M[0]=X[0]*ia+X[4]*ha+X[8]*R+X[12];M[1]=X[1]*ia+X[5]*ha+X[9]*R+X[13];M[2]=X[2]*ia+X[6]*ha+X[10]*R+X[14];return M}function I(M,R,X){const ia=R[0],ha=R[1];R=R[2];M[0]=ia*X[0]+ha*X[3]+R*X[6];M[1]=ia*X[1]+ha*X[4]+R*X[7];M[2]=ia*X[2]+ha*X[5]+R*X[8];return M}function K(M,R,X){const ia=X[0],ha=X[1],ja=X[2],ma=
R[0],ta=R[1];R=R[2];let Z=ha*R-ja*ta,V=ja*ma-ia*R,ba=ia*ta-ha*ma;X=2*X[3];M[0]=ma+Z*X+2*(ha*ba-ja*V);M[1]=ta+V*X+2*(ja*Z-ia*ba);M[2]=R+ba*X+2*(ia*V-ha*Z);return M}function L(M,R,X,ia){const ha=[],ja=[];ha[0]=R[0]-X[0];ha[1]=R[1]-X[1];ha[2]=R[2]-X[2];ja[0]=ha[0];ja[1]=ha[1]*Math.cos(ia)-ha[2]*Math.sin(ia);ja[2]=ha[1]*Math.sin(ia)+ha[2]*Math.cos(ia);M[0]=ja[0]+X[0];M[1]=ja[1]+X[1];M[2]=ja[2]+X[2];return M}function T(M,R,X,ia){const ha=[],ja=[];ha[0]=R[0]-X[0];ha[1]=R[1]-X[1];ha[2]=R[2]-X[2];ja[0]=ha[2]*
Math.sin(ia)+ha[0]*Math.cos(ia);ja[1]=ha[1];ja[2]=ha[2]*Math.cos(ia)-ha[0]*Math.sin(ia);M[0]=ja[0]+X[0];M[1]=ja[1]+X[1];M[2]=ja[2]+X[2];return M}function O(M,R,X,ia){const ha=[],ja=[];ha[0]=R[0]-X[0];ha[1]=R[1]-X[1];ha[2]=R[2]-X[2];ja[0]=ha[0]*Math.cos(ia)-ha[1]*Math.sin(ia);ja[1]=ha[0]*Math.sin(ia)+ha[1]*Math.cos(ia);ja[2]=ha[2];M[0]=ja[0]+X[0];M[1]=ja[1]+X[1];M[2]=ja[2]+X[2];return M}function U(M,R){r(P,M);r(J,R);E(P,P);E(J,J);M=x(P,J);return 1<M?0:-1>M?Math.PI:Math.acos(M)}function W(M){return"vec3("+
M[0]+", "+M[1]+", "+M[2]+")"}function S(M,R){return M[0]===R[0]&&M[1]===R[1]&&M[2]===R[2]}function N(M,R){const X=M[0],ia=M[1];M=M[2];const ha=R[0],ja=R[1];R=R[2];return Math.abs(X-ha)<=b.EPSILON*Math.max(1,Math.abs(X),Math.abs(ha))&&Math.abs(ia-ja)<=b.EPSILON*Math.max(1,Math.abs(ia),Math.abs(ja))&&Math.abs(M-R)<=b.EPSILON*Math.max(1,Math.abs(M),Math.abs(R))}const P=c.create(),J=c.create();c=Object.freeze({__proto__:null,length:n,copy:r,set:k,add:d,subtract:h,multiply:m,divide:t,ceil:p,floor:q,min:l,
max:g,round:e,scale:f,scaleAndAdd:u,distance:w,squaredDistance:D,squaredLength:v,negate:y,inverse:A,normalize:E,dot:x,cross:F,lerp:B,hermite:C,bezier:z,random:G,transformMat4:H,transformMat3:I,transformQuat:K,rotateX:L,rotateY:T,rotateZ:O,angle:U,str:W,exactEquals:S,equals:N,sub:h,mul:m,div:t,dist:w,sqrDist:D,len:n,sqrLen:v});a.add=d;a.angle=U;a.bezier=z;a.ceil=p;a.copy=r;a.cross=F;a.dist=w;a.distance=w;a.div=t;a.divide=t;a.dot=x;a.equals=N;a.exactEquals=S;a.floor=q;a.hermite=C;a.inverse=A;a.len=
n;a.length=n;a.lerp=B;a.max=g;a.min=l;a.mul=m;a.multiply=m;a.negate=y;a.normalize=E;a.random=G;a.rotateX=L;a.rotateY=T;a.rotateZ=O;a.round=e;a.scale=f;a.scaleAndAdd=u;a.set=k;a.sqrDist=D;a.sqrLen=v;a.squaredDistance=D;a.squaredLength=v;a.str=W;a.sub=h;a.subtract=h;a.transformMat3=I;a.transformMat4=H;a.transformQuat=K;a.vec3=c})},"esri/chunks/common":function(){define(["exports"],function(a){function c(m){return m*k}function b(m){return m*d}function n(m,t){return Math.abs(m-t)<=1E-6*Math.max(1,Math.abs(m),
Math.abs(t))}const r=Math.random,k=Math.PI/180,d=180/Math.PI;var h=Object.freeze({__proto__:null,EPSILON:1E-6,RANDOM:r,toRadian:c,toDegree:b,equals:n});a.EPSILON=1E-6;a.RANDOM=r;a.common=h;a.equals=n;a.toDegree=b;a.toRadian=c})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w){a.OperationalLayer=D=>{D=function(v){function y(){var E=v.apply(this,arguments)||this;E.title=null;return E}c._inheritsLoose(y,v);var A=y.prototype;A.writeListMode=function(E,x,F,B){B&&"ground"===B.layerContainerType?x[F]=E:E&&f.willPropertyWrite(this,F,{},B)&&(x[F]=E)};A.writeOperationalLayerType=function(E,x,F,B){!E||B&&"tables"===B.layerContainerType||(x.layerType=E)};A.writeTitle=function(E,x){x.title=E||"Layer"};A.read=function(E,x){x&&(x.layer=this);
e.readLoadable(this,E,F=>v.prototype.read.call(this,E,F),x)};A.write=function(E,x){if(x&&x.origin){const B=`${x.origin}/${x.layerContainerType||"operational-layers"}`;var F=u.supportedTypes[B];F=F&&F[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===B&&(F=!1);if(!F)return x.messages&&x.messages.push(new p("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${B}'`,
{layer:this})),null}E=v.prototype.write.call(this,E,{...x,layer:this});x=!!x&&!!x.messages&&!!x.messages.filter(B=>B instanceof p&&"web-document-write:property-required"===B.name).length;return!this.url&&x?null:E};A.beforeSave=function(){};return y}(D);b.__decorate([d.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],D.prototype,"id",void 0);b.__decorate([d.property({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,
write:!1}}}})],D.prototype,"listMode",void 0);b.__decorate([t.writer("listMode")],D.prototype,"writeListMode",null);b.__decorate([d.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],D.prototype,"operationalLayerType",void 0);b.__decorate([t.writer("operationalLayerType")],D.prototype,"writeOperationalLayerType",null);b.__decorate([d.property(w.opacity)],D.prototype,"opacity",void 0);b.__decorate([d.property({type:String,
json:{write:{ignoreOrigin:!0,allowNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],D.prototype,"title",void 0);b.__decorate([t.writer("title")],D.prototype,"writeTitle",null);b.__decorate([d.property({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],D.prototype,"visible",void 0);return D=b.__decorate([m.subclass("esri.layers.mixins.OperationalLayer")],
D)};a.isOperationalLayer=function(D){return"operationalLayerType"in D};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){a.supportedTypes={"web-scene/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,
PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,VectorTileLayer:!0,WMS:!0,KML:!0,RasterDataLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,
ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISFeatureLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0,CSV:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,VectorTileLayer:!0,WFS:!0,SubtypeGroupLayer:!0,WMS:!0,WebTiledLayer:!0},"web-map/basemap":{ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,
BingMapsHybrid:!0},"web-map/tables":{ArcGISFeatureLayer:!0},"portal-item/operational-layers":{ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/commonProperties":function(){define("exports ../../core/accessorSupport/utils ../../chunks/persistableUrlUtils ../../core/accessorSupport/write ../../geometry/SpatialReference ../../geometry/Extent ../../webdoc/support/opacityUtils ../../TimeExtent ../../symbols/support/ElevationInfo".split(" "),
function(a,c,b,n,r,k,d,h,m){const t={type:Boolean,value:!0,json:{origins:{"web-scene":{read:{source:["id","url","layerType"],reader(v,y){if(null==y.screenSizePerspective&&"defaults"===this.originOf("screenSizePerspectiveEnabled"))c.getProperties(this).store.set("screenSizePerspectiveEnabled",!1,0);else return y.screenSizePerspective}},write:{ignoreOrigin:!0,target:"screenSizePerspective",writer(v,y,A,E){"defaults"===this.originOf("screenSizePerspectiveEnabled")&&v?y[A]=v:n.willPropertyWrite(this,
"screenSizePerspectiveEnabled",{},E)&&(y[A]=v)}}}}}},p={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(v,y){return!y.disablePopup}},write:{enabled:!0,writer(v,y,A){y[A]=!v}}}},q={type:Boolean,value:!0,json:{name:"showLabels",write:!0}};b={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:b.write}}};const l={type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}};m={value:null,type:m,json:{origins:{service:{name:"elevationInfo",
write:!0}},name:"layerDefinition.elevationInfo",write:!0}};const g={type:Number,json:{origins:{"web-document":{default:1,write:!0,read:!0},"portal-item":{write:!0}}}},e={...g,json:{...g.json,origins:{"web-document":{...g.json.origins["web-document"],write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(v,y,A){if((!A||"service"===A.origin)&&y.drawingInfo&&
void 0!==y.drawingInfo.transparency)return d.transparencyToOpacity(y.drawingInfo.transparency);if(y.layerDefinition&&y.layerDefinition.drawingInfo&&void 0!==y.layerDefinition.drawingInfo.transparency)return d.transparencyToOpacity(y.layerDefinition.drawingInfo.transparency)}}}},f={type:k,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(v,y)=>{v=k.fromJSON(v);null!=y.spatialReference&&"object"===typeof y.spatialReference&&(v.spatialReference=r.fromJSON(y.spatialReference));
return v}}}},read:!1}},u={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},w={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},D={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}};a.combinedViewLayerTimeExtentProperty={type:h,readOnly:!0,get(){var v,y;if(null==(v=this.layer)||!v.timeInfo)return null;
v=null==(y=this.view)?void 0:y.timeExtent;y=this.layer.timeExtent;y=this.layer.useViewTime?v&&y?v.intersection(y):v||y:y;if(!y||y.isEmpty)return y;y=(v=this.layer.timeOffset)?y.offset(-v.value,v.unit):y;v=this._get("timeExtent");return y.equals(v)?v:y}};a.elevationInfo=m;a.id=u;a.labelsVisible=q;a.legendEnabled=l;a.maxScale=D;a.minScale=w;a.opacity=g;a.opacityDrawingInfo=e;a.popupEnabled=p;a.readOnlyService=function(v){return{type:v,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=
f;a.screenSizePerspectiveEnabled=t;a.url=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../core/maybe","../core/urlUtils"],function(a,c,b){function n(l,g){var e=g&&g.url&&g.url.path;l&&e&&(l=b.makeAbsolute(l,e,{preserveProtocolRelative:!0}),g.portalItem&&g.readResourcePaths&&(e=b.makeRelative(l,g.portalItem.itemUrl),p.test(e)&&g.readResourcePaths.push(g.portalItem.resourceFromPath(e).path)));return m(l,g&&g.portal)}function r(l,
g,e=0){if(!l)return l;!b.isAbsolute(l)&&g&&g.blockedRelativeUrls&&g.blockedRelativeUrls.push(l);var f=b.makeAbsolute(l);if(g){var u=g.verifyItemRelativeUrls&&g.verifyItemRelativeUrls.rootPath||g.url&&g.url.path;u&&(u=m(u,g.portal),f=b.makeRelative(m(f,g.portal),u,u),f!==l&&g.verifyItemRelativeUrls&&g.verifyItemRelativeUrls.writtenUrls.push(f))}l=f;f=(f=g&&g.portal)&&!f.isPortal&&f.urlKey&&f.customBaseUrl?b.changeDomain(l,`${f.urlKey}.${f.customBaseUrl}`,f.portalHostname):l;b.isAbsolute(f)&&(f=b.normalize(f));
null!=g&&g.resources&&null!=g&&g.portalItem&&!b.isAbsolute(f)&&!b.isDataProtocol(f)&&0===e&&g.resources.toKeep.push({resource:g.portalItem.resourceFromPath(f)});return f}function k(l,g,e){return n(l,e)}function d(l,g,e,f){l=r(l,f);void 0!==l&&(g[e]=l)}function h(l){l=c.isSome(l)?l.match(t):null;return c.isSome(l)?l[1]:null}function m(l,g){if(!g||g.isPortal||!g.urlKey||!g.customBaseUrl)return l;const e=`${g.urlKey}.${g.customBaseUrl}`;return b.hasSameOrigin(b.appUrl,`${b.appUrl.scheme}://${e}`)?b.changeDomain(l,
g.portalHostname,e):b.changeDomain(l,e,g.portalHostname)}const t=/\/items\/([^\/]+)\/resources\//,p=/^\.\/resources\//;var q=Object.freeze({__proto__:null,fromJSON:n,toJSON:r,read:k,write:d,itemIdFromResourceUrl:h});a.fromJSON=n;a.itemIdFromResourceUrl=h;a.persistableUrlUtils=q;a.read=k;a.toJSON=r;a.write=d})},"esri/TimeExtent":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./layers/support/timeUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=f=function(D){function v(A){A=D.call(this,A)||this;A.end=null;A.start=null;return A}a._inheritsLoose(v,D);var y=v.prototype;y.readEnd=function(A,E){return null!=E.end?new Date(E.end):null};y.writeEnd=function(A,E){E.end=A?A.getTime():null};y.readStart=function(A,E){return null!=E.start?new Date(E.start):null};y.writeStart=function(A,E){E.start=A?A.getTime():null};y.clone=function(){return new f({end:this.end,start:this.start})};y.expandTo=function(A){if(this.isEmpty||
this.isAllTime)return this.clone();const E=this.start?e.truncateDate(this.start,A):null;A=this.end?e.offsetDate(e.truncateDate(this.end,A),1,A):null;return new f({start:E,end:A})};y.intersection=function(A){var E,x,F,B,C,z,G,H;if(!A)return this.clone();if(this.isEmpty||A.isEmpty)return f.empty;if(this.isAllTime)return A.clone();if(A.isAllTime)return this.clone();const I=null!=(E=null==(x=this.start)?void 0:x.getTime())?E:-Infinity;E=null!=(F=null==(B=this.end)?void 0:B.getTime())?F:Infinity;F=null!=
(C=null==(z=A.start)?void 0:z.getTime())?C:-Infinity;A=null!=(G=null==(H=A.end)?void 0:H.getTime())?G:Infinity;let K,L;F>=I&&F<=E?K=F:I>=F&&I<=A&&(K=I);E>=F&&E<=A?L=E:A>=I&&A<=E&&(L=A);return isNaN(K)||isNaN(L)?f.empty:(G=new f,G.start=-Infinity===K?null:new Date(K),G.end=Infinity===L?null:new Date(L),G)};y.offset=function(A,E){if(this.isEmpty||this.isAllTime)return this.clone();const x=new f,{start:F,end:B}=this;F&&(x.start=e.offsetDate(F,A,E));B&&(x.end=e.offsetDate(B,A,E));return x};y.equals=function(A){if(!A)return!1;
const E=this.start?this.start.getTime():this.start,x=this.end?this.end.getTime():this.end,F=A.start?A.start.getTime():A.start;A=A.end?A.end.getTime():A.end;return E===F&&x===A};y.union=function(A){if(!A||A.isEmpty)return this.clone();if(this.isEmpty)return A.clone();if(this.isAllTime||A.isAllTime)return u.clone();const E=this.start&&A.start?new Date(Math.min(this.start.getTime(),A.start.getTime())):null;A=this.end&&A.end?new Date(Math.max(this.end.getTime(),A.end.getTime())):null;return new f({start:E,
end:A})};a._createClass(v,[{key:"isAllTime",get:function(){return this.equals(f.allTime)}},{key:"isEmpty",get:function(){return this.equals(f.empty)}}],[{key:"allTime",get:function(){return u}},{key:"empty",get:function(){return w}}]);return v}(g.JSONSupport);c.__decorate([k.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"end",void 0);c.__decorate([h.reader("end")],b.prototype,"readEnd",null);c.__decorate([t.writer("end")],b.prototype,"writeEnd",null);c.__decorate([k.property({readOnly:!0,
json:{read:!1}})],b.prototype,"isAllTime",null);c.__decorate([k.property({readOnly:!0,json:{read:!1}})],b.prototype,"isEmpty",null);c.__decorate([k.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);c.__decorate([h.reader("start")],b.prototype,"readStart",null);c.__decorate([t.writer("start")],b.prototype,"writeStart",null);b=f=c.__decorate([m.subclass("esri.TimeExtent")],b);const u=new b,w=new b({start:void 0,end:void 0});return b})},"esri/layers/support/timeUtils":function(){define(["exports",
"../../core/has","../../core/jsonMap"],function(a,c,b){const n={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",
setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};c=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});
a.Milliseconds=function(r){return r};a.millisecondsPerTimeUnit={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.offsetDate=function(r,k,d){r=new Date(r.getTime());if(k&&d){const {getter:h,setter:m,multiplier:t}=n[d];r[m](r[h]()+k*t)}return r};a.timeUnitKebabDictionary=c;a.truncateDate=function(r,k){switch(k){case "milliseconds":return new Date(r.getTime());case "seconds":return new Date(r.getFullYear(),r.getMonth(),
r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds());case "minutes":return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes());case "hours":return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours());case "days":return new Date(r.getFullYear(),r.getMonth(),r.getDate());case "weeks":return new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay());case "months":return new Date(r.getFullYear(),r.getMonth(),1);case "years":return new Date(r.getFullYear(),0,
1);case "decades":return new Date(r.getFullYear()-r.getFullYear()%10,0,1);case "centuries":return new Date(r.getFullYear()-r.getFullYear()%100,0,1);default:return null}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){var w;b=h.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});h=new h.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});e=w=function(D){function v(){var A=D.apply(this,arguments)||this;A.offset=null;return A}a._inheritsLoose(v,D);var y=v.prototype;y.readFeatureExpressionInfo=function(A,E){if(null!=A)return A;
if(E.featureExpression&&0===E.featureExpression.value)return{expression:"0"}};y.writeFeatureExpressionInfo=function(A,E,x,F){E[x]=A.write(null,F);"0"===A.expression&&(E.featureExpression={value:0})};y.write=function(A,E){return this.offset||this.mode||this.featureExpressionInfo||this.unit?D.prototype.write.call(this,A,E):null};y.clone=function(){return new w({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};
a._createClass(v,[{key:"mode",get:function(){const {offset:A,featureExpressionInfo:E}=this;return this._isOverridden("mode")?this._get("mode"):n.isSome(A)||E?"relative-to-ground":"on-the-ground"},set:function(A){this._override("mode",A)}},{key:"unit",set:function(A){this._set("unit",A)}}]);return v}(e.JSONSupport);c.__decorate([d.property({type:f,json:{write:!0}})],e.prototype,"featureExpressionInfo",void 0);c.__decorate([m.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],
e.prototype,"readFeatureExpressionInfo",null);c.__decorate([p.writer("featureExpressionInfo",{featureExpressionInfo:{type:f},"featureExpression.value":{type:[0]}})],e.prototype,"writeFeatureExpressionInfo",null);c.__decorate([d.property({type:b.apiValues,nonNullable:!0,json:{type:b.jsonValues,read:b.read,write:{writer:b.write,isRequired:!0}}})],e.prototype,"mode",null);c.__decorate([d.property({type:Number,json:{write:!0}})],e.prototype,"offset",void 0);c.__decorate([d.property({type:u.supportedUnits,
json:{type:String,read:h.read,write:h.write}})],e.prototype,"unit",null);return e=w=c.__decorate([t.subclass("esri.layers.support.ElevationInfo")],e)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../layers/support/fieldUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(){return e.apply(this,arguments)||this}a._inheritsLoose(f,e);var u=f.prototype;u.collectRequiredFields=async function(w,D){return l.collectArcadeFieldNames(w,D,this.expression)};u.clone=function(){return new g({expression:this.expression,title:this.title})};return f}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,
"title",void 0);return b=g=c.__decorate([h.subclass("esri.layers.support.FeatureExpressionInfo")],b)})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/object ../../core/maybe ../../core/Error ./domains ../../support/arcadeOnDemand".split(" "),function(a,c,b,n,r,k,d){function h(J,M,R){if(J)for(const X of J)(J=(J=b.getDeepValue(X,M))&&"function"!==typeof J&&q(R,J))&&b.setDeepValue(X,J.name,M)}function m(J,M){if(!J||!M)return[];L.clear();t(L,J,M);return Array.from(L).sort()}
function t(J,M,R){if(R)if(M&&M.length)if(R.includes("*"))for(const {name:X}of M)J.add(X);else for(const X of R)p(J,M,X);else if(R.includes("*"))J.clear(),J.add("*");else for(const X of R)J.add(X)}function p(J,M,R){M&&M.length?(M=q(M,R))&&J.add(M.name):"string"===typeof R&&J.add(R)}function q(J,M){if("string"!==typeof M)return null;if(null!=J){M=M.toLowerCase();for(const R of J)if(R&&R.name.toLowerCase()===M)return R}return null}async function l(J,M,R){if(R){var {arcadeUtils:X}=await d.loadArcade();
R=X.extractFieldNames(R);for(const ia of R)p(J,M,ia)}}function g(J,M){for(const R of J)if(R&&R.valueType&&R.valueType===M)return R.name;return null}async function e(J,M){if(M){var {fields:R}=M;if(M=b.getDeepValue("elevationInfo.featureExpressionInfo",M))return M.collectRequiredFields(J,R)}}async function f(J,M,R){R.outStatistic.onStatisticValueExpression?l(J,M,R.outStatistic.onStatisticValueExpression):J.add(R.outStatistic.onStatisticField)}async function u(J,M){const {labelingInfo:R,fields:X}=M;
R&&R.length&&await Promise.all(R.map(ia=>w(J,X,ia)))}async function w(J,M,R){if(R){var X=R.getLabelExpression();R=R.where;"arcade"===X.type?await l(J,M,X.expression):(X=X.expression.match(/{[^}]*}/g))&&X.forEach(ia=>{p(J,M,ia.slice(1,-1))});X=/['"]+/g;R&&(R=R.split(" "),3===R.length&&p(J,M,R[0].replace(X,"")),7===R.length&&(p(J,M,R[0].replace(X,"")),p(J,M,R[4].replace(X,""))))}}function D(J){return"number"===typeof J&&!isNaN(J)&&isFinite(J)}function v(J){return null===J||D(J)}function y(J){return null===
J||T(J)}function A(J){return null!=J&&"string"===typeof J}function E(J){return null===J||A(J)}function x(){return!0}function F(J,M){let R;switch(J.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":R=J.nullable?y:T;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":R=J.nullable?v:D;break;case "string":case "esriFieldTypeString":R=J.nullable?
E:A;break;default:R=x}return 1===arguments.length?R:R(M)}function B(J){return null!=J&&U.has(J.type)}function C(J,M){return J.nullable&&null===M?null:B(J)&&!z(J.type,Number(M))?c.NumericRangeValidationError.OUT_OF_RANGE:F(J,M)?J.domain?k.validateDomainValue(J.domain,M):null:c.TypeValidationError.INVALID_TYPE}function z(J,M){return(J="string"===typeof J?G(J):J)?J.isInteger?T(M)&&M>=J.min&&M<=J.max:M>=J.min&&M<=J.max:!1}function G(J){switch(J){case "esriFieldTypeSmallInteger":case "small-integer":return W;
case "esriFieldTypeInteger":case "integer":return S;case "esriFieldTypeSingle":case "single":return N;case "esriFieldTypeDouble":case "double":return P}}function H(J,M,R){if(!M||!M.attributes||!J){if(n.isSome(R))for(var X of J)R.add(X);return!0}M=M.attributes;X=!1;for(const ia of J)if(!(ia in M))if(X=!0,n.isSome(R))R.add(ia);else break;return X}const I="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),
K=["field","normalizationField"],L=new Set,T=(()=>"isInteger"in Number?Number.isInteger:J=>"number"===typeof J&&isFinite(J)&&Math.floor(J)===J)(),O=["integer","small-integer","single","double"],U=new Set([...O,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);(c.NumericRangeValidationError||(c.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";(c.TypeValidationError||(c.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";
const W={min:-32768,max:32767,isInteger:!0},S={min:-2147483648,max:2147483647,isInteger:!0},N={min:-3.4E38,max:1.2E38,isInteger:!1},P={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};c.collectArcadeFieldNames=l;c.collectElevationFields=e;c.collectFeatureReductionFields=async function(J,M,R){M&&R&&"cluster"===R.type&&R.fields&&await Promise.all(R.fields.map(X=>f(J,M.fields,X)))};c.collectField=p;c.collectFields=t;c.collectFilterFields=async function(J,M,R){if(M&&(M.timeInfo&&n.isSome(R)&&
R.timeExtent&&t(J,M.fields,[M.timeInfo.startField,M.timeInfo.endField]),M.floorInfo&&t(J,M.fields,[M.floorInfo.floorField]),n.isSome(R)&&n.isSome(R.where)&&R.where&&"1\x3d1"!==R.where)){R=(await new Promise(function(X,ia){a(["../../core/sql/WhereClause"],X,ia)})).WhereClause.create(R.where,M.fieldsIndex);if(!R.isStandardized)throw new r("fieldUtils:collectFilterFields","Where clause is not standardized");t(J,M.fields,R.fieldNames)}};c.collectLabelingFields=u;c.doubleRange=P;c.featureHasFields=function(J,
M){return!H(J,M,null)};c.fixFields=m;c.fixRendererFields=function(J,M){if(null!=J&&null!=M)for(const R of Array.isArray(J)?J:[J])if(h(I,R,M),"visualVariables"in R&&R.visualVariables)for(const X of R.visualVariables)h(K,X,M)};c.fixTimeInfoFields=function(J,M){if(null!=J&&null!=M)if("startField"in J){var R=q(M,J.startField);M=q(M,J.endField);J.startField=R&&R.name||null;J.endField=M&&M.name||null}else R=q(M,J.startTimeField),M=q(M,J.endTimeField),J.startTimeField=R&&R.name||null,J.endTimeField=M&&M.name||
null};c.getDisplayFieldName=function({displayField:J,fields:M}){if(J)return J;if(!M||!M.length)return null;if(!(J=g(M,"name-or-title")||g(M,"unique-identifier")||g(M,"type-or-category")))a:{for(const R of M)if(R&&R.name&&(M=R.name.toLowerCase(),-1<M.indexOf("name")||-1<M.indexOf("title"))){J=R.name;break a}J=null}return J};c.getElevationFields=async function(J){if(!J)return[];const M=new Set;await e(M,J);return Array.from(M).sort()};c.getExpressionFields=async function(J,M){const R=new Set;for(const X of M)await l(R,
J.fields,X);return Array.from(R).sort()};c.getFeatureEditFields=function(J){if(!J)return[];const M="editFieldsInfo"in J&&J.editFieldsInfo;return M?m(J.fields,[M&&M.creatorField,M&&M.creationDateField,M&&M.editorField,M&&M.editDateField]):[]};c.getFeatureGeometryFields=function(J){if(!J)return[];const M=J.geometryFieldsInfo;return M?m(J.fields,[M.shapeAreaField,M.shapeLengthField]):[]};c.getField=q;c.getFieldDefaultValue=function(J){const M=J.defaultValue;if(void 0!==M&&F(J,M))return M;if(J.nullable)return null};
c.getFieldRange=function(J){const M=k.getDomainRange(J.domain);if(M)return M;if(B(J))return G(J.type)};c.getLabelingFields=async function(J){if(!J)return[];const M=new Set;await u(M,J);return Array.from(M).sort()};c.getNumericTypeForValue=function(J){if(!D(J))return null;if(T(J)){if(J>=W.min&&J<=W.max)return"esriFieldTypeSmallInteger";if(J>=S.min&&J<=S.max)return"esriFieldTypeInteger"}return J>=N.min&&J<=N.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};c.getTimeFields=async function(J){if(!J)return[];
const M="timeInfo"in J&&J.timeInfo;return M?m(J.fields,[J.trackIdField,M.startField,M.endField]):[]};c.hasField=function(J,M){if(!J||!M||"string"!==typeof M)return!1;M=M.toLowerCase();for(const R of J)if(R&&R.name.toLowerCase()===M)return!0;return!1};c.integerRange=S;c.isDateField=function(J){return null!=J&&("date"===J.type||"esriFieldTypeDate"===J.type)};c.isNumberInRange=z;c.isNumericField=B;c.isStringField=function(J){return null!=J&&("string"===J.type||"esriFieldTypeString"===J.type)};c.isValidFieldValue=
function(J,M){return null===C(J,M)};c.isValueMatchingFieldType=F;c.numericTypes=O;c.packFields=function(J,M,R=1){if(!M||!J)return[];if(M.includes("*"))return["*"];M=m(J,M);return M.length/J.length>=R?["*"]:M};c.populateMissingFields=H;c.rendererFields=I;c.sanitizeNullFieldValue=function(J){return null==J||"number"===typeof J&&isNaN(J)?null:J};c.singleRange=N;c.smallIntegerRange=W;c.unpackFieldNames=function(J,M){return n.isNone(M)||n.isNone(J)?[]:M.includes("*")?J.map(R=>R.name):M};c.validateFieldValue=
C;c.validationErrorToString=function(J,M,R){switch(J){case k.DomainValidationError.INVALID_CODED_VALUE:return`Value ${R} is not in the coded domain - field: ${M.name}, domain: ${JSON.stringify(M.domain)}`;case k.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${R} is out of the range of valid values - field: ${M.name}, domain: ${JSON.stringify(M.domain)}`;case c.TypeValidationError.INVALID_TYPE:return`Value ${R} is not a valid value for the field type - field: ${M.name}, type: ${M.type}, nullable: ${M.nullable}`;
case c.NumericRangeValidationError.OUT_OF_RANGE:{const {min:X,max:ia}=G(M.type);return`Value ${R} is out of range for the number type - field: ${M.name}, type: ${M.type}, value range is ${X} to ${ia}`}}};c.visualVariableFields=K;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./Domain ./CodedValueDomain ./InheritedDomain ./RangeDomain".split(" "),function(a,c,b,n,r,k){function d(h,m){switch(h.type){case "range":{const t="range"in
h?h.range[1]:h.maxValue;if(+m<("range"in h?h.range[0]:h.minValue)||+m>t)return a.DomainValidationError.VALUE_OUT_OF_RANGE;break}case "coded-value":case "codedValue":if(null==h.codedValues||h.codedValues.every(t=>null==t||t.code!==m))return a.DomainValidationError.INVALID_CODED_VALUE}return null}(function(h){h.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";h.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));
c={key:"type",base:b,typeMap:{range:k,"coded-value":n,inherited:r}};a.DomainBase=b;a.CodedValueDomain=n;a.InheritedDomain=r;a.RangeDomain=k;a.fromJSON=function(h){if(!h||!h.type)return null;switch(h.type){case "range":return k.fromJSON(h);case "codedValue":return n.fromJSON(h);case "inherited":return r.fromJSON(h)}return null};a.getDomainRange=function(h){if(h&&"range"===h.type)return{min:"range"in h?h.range[0]:h.minValue,max:"range"in h?h.range[1]:h.maxValue}};a.isValidDomainValue=function(h,m){return null===
d(h,m)};a.types=c;a.validateDomainValue=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=new d.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});l=function(g){function e(f){f=g.call(this,f)||this;f.name=null;f.type=null;return f}a._inheritsLoose(e,g);return e}(l.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"name",void 0);c.__decorate([h.enumeration(b)],l.prototype,"type",void 0);return l=c.__decorate([m.subclass("esri.layers.support.Domain")],l)})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./CodedValue ./Domain".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(D){D=f.call(this,D)||this;D.codedValues=null;D.type="coded-value";return D}a._inheritsLoose(u,f);var w=u.prototype;w.getName=function(D){let v=null;if(this.codedValues){const y=String(D);this.codedValues.some(A=>{String(A.code)===y&&(v=A.name);return!!v})}return v};w.clone=function(){return new e({codedValues:n.clone(this.codedValues),name:this.name})};return u}(g);c.__decorate([d.property({type:[l["default"]],json:{write:!0}})],
b.prototype,"codedValues",void 0);c.__decorate([h.enumeration({codedValue:"coded-value"})],b.prototype,"type",void 0);return b=e=c.__decorate([m.subclass("esri.layers.support.CodedValueDomain")],b)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.CodedValue=g=function(e){function f(u){u=e.call(this,u)||this;u.name=null;u.code=null;return u}c._inheritsLoose(f,e);f.prototype.clone=function(){return new g({name:this.name,code:this.code})};return f}(l.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);b.__decorate([d.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=g=b.__decorate([m.subclass("esri.layers.support.CodedValue")],
a.CodedValue);a.default=a.CodedValue;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Domain".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.type="inherited";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l};return e}(q);c.__decorate([d.enumeration({inherited:"inherited"})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.layers.support.InheritedDomain")],b)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Domain".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.maxValue=null;f.minValue=null;f.type="range";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return e}(q);c.__decorate([k.property({type:Number,json:{type:[Number],read:{source:"range",reader(g,e){return e.range&&e.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},
target:"range",writer(g,e,f){e[f]=[this.minValue||0,g]}}}})],b.prototype,"maxValue",void 0);c.__decorate([k.property({type:Number,json:{type:[Number],read:{source:"range",reader(g,e){return e.range&&e.range[0]}},write:{target:"range",writer(g,e,f){e[f]=[g,this.maxValue||0]}}}})],b.prototype,"minValue",void 0);c.__decorate([d.enumeration({range:"range"})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.layers.support.RangeDomain")],b)})},"esri/support/arcadeOnDemand":function(){define(["require",
"exports","../core/maybe","../geometry/SpatialReference","../geometry"],function(a,c,b,n,r){async function k(){d||(d=(async()=>{const m=await new Promise(function(t,p){a(["./arcadeUtils"],t,p)});await m.arcade.load();return{arcade:m.arcade,arcadeUtils:m,Dictionary:m.Dictionary,Feature:m.arcadeFeature}})());return d}let d;r=(m,t,p)=>h.create(m,t,p,null,["$feature","$view"]);let h=function(){function m(p,q,l,g,e,f,u,w){this.script=p;this.evaluate=e;this.fields=u;this._syntaxTree=g;this._arcade=q;this._arcadeDictionary=
l;this._arcadeFeature=f;this._spatialReference=w;this._referencesGeometry=q.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}m.create=async function(p,q,l,g,e,f){const {arcade:u,Feature:w,Dictionary:D}=await k(),v=n.fromJSON(q);q=u.parseScript(p,f);e=e.reduce((F,B)=>({...F,[B]:null}),{});let y=null;b.isSome(g)&&(y=new D(g),y.immutable=!0,e.$config=null);g=u.scriptUsesGeometryEngine(q)&&u.enableGeometrySupport();f=u.scriptUsesFeatureSet(q)&&
u.enableFeatureSetSupport();const A=u.scriptIsAsync(q)&&u.enableAsyncSupport();e={vars:e,spatialReference:v,useAsync:!!A};const E=new D;E.immutable=!1;E.setField("scale",0);const x=u.compileScript(q,e);await Promise.all([g,f,A]);return new m(p,u,D,q,F=>{"$view"in F&&F.$view&&(E.setField("scale",F.$view.scale),F.$view=E);y&&(F.$config=y);return x({vars:F,spatialReference:v})},new w,l,v)};var t=m.prototype;t.repurposeFeature=function(p){p.geometry&&!p.geometry.spatialReference&&(p.geometry.spatialReference=
this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(p.geometry,p.attributes,{fields:this.fields});return this._arcadeFeature};t.repurposeAdapter=function(p){this._arcadeFeature.repurposeFromAdapter(p,{fields:this.fields});return this._arcadeFeature};t.createDictionary=function(){return new this._arcadeDictionary};t.referencesMember=function(p){return this._arcade.referencesMember(this._syntaxTree,p)};t.referencesFunction=function(p){return this._arcade.referencesFunction(this._syntaxTree,
p)};t.referencesGeometry=function(){return this._referencesGeometry};t.referencesScale=function(){return this._referencesScale};t.extractFieldLiterals=function(p){return this._arcade.extractFieldLiterals(this._syntaxTree,p)};return m}();c.ArcadeExpression=h;c.createDictionaryExpression=(m,t,p,q)=>h.create(m,t,p,q,["$feature","$view"]);c.createLabelExpression=(m,t,p)=>h.create(m,t,p,null,["$feature"]);c.createRendererExpression=r;c.createVVExpression=r;c.default=h;c.loadArcade=k;Object.defineProperty(c,
"__esModule",{value:!0})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,c){const b=function(){const n=Object.keys(c.meterIn);n.sort();return n}();a.getMetersPerUnit=function(n){return 1/(c.meterIn[n]||1)};a.supportedUnits=b;a.supportsUnit=function(n){return null!=c.meterIn[n]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../geometry/support/Ellipsoid",
"../../core/unitUtils"],function(a,c,b){c={inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),
kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",c.earth.radius)};a.meterIn=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/support/WKIDUnitConversion ../geometry/support/spatialReferenceUtils ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/projectionEllipsoid".split(" "),function(a,c,b,n,r,k,d,h){function m(I){if(I=z[I])return I;throw Error("unknown measure");
}function t(I){return C[I].baseUnit}function p(I,K=null){K=K||m(I);return C[K].baseUnit===I}function q(I,K,L){if(K===L)return I;const T=m(K);if(T!==m(L))throw Error("incompatible units");I=p(K,T)?I:I*C[T].units[K].inBaseUnits;return p(L,T)?I:I/C[T].units[L].inBaseUnits}function l(I,K){return 3E3>q(I,K,"meters")?"meters":"kilometers"}function g(I,K){return 1E5>q(I,K,"meters")?"meters":"kilometers"}function e(I,K){return 1E3>q(I,K,"feet")?"feet":"miles"}function f(I,K){return 1E5>q(I,K,"feet")?"feet":
"miles"}function u(I){return B.fromJSON(I.toLowerCase())||null}function w(I,K=d.earth.metersPerDegree){return D(I,!0)||K}function D(I,K=!1){let L,T,O=null;null!=I&&("object"===typeof I?(L=I.wkid,T=I.wkt):"number"===typeof I?L=I:"string"===typeof I&&(T=I));if(L){if(r.isWKIDFromMars(L))return d.mars.metersPerDegree;if(r.isWKIDFromMoon(L))return d.moon.metersPerDegree;O=E.values[E[L]];!O&&K&&F.has(L)&&(O=y)}else T&&(-1!==T.search(/^PROJCS/i)?(I=A.exec(T))&&I[1]&&(O=parseFloat(I[1].split(",")[1])):-1!==
T.search(/^GEOCCS/i)&&(I=x.exec(T))&&I[1]&&(O=parseFloat(I[1].split(",")[1])));return O}function v(I){let K,L,T=null;null!=I&&("object"===typeof I?(K=I.wkid,L=I.wkt):"number"===typeof I?K=I:"string"===typeof I&&(L=I));K?T=E.units[E[K]]:L&&-1!==L.search(/^PROJCS/i)&&(I=A.exec(L))&&I[1]&&(T=(I=/[\\"\\']{1}([^\\"\\']+)/.exec(I[1]))&&I[1]);return T?u(T):null}const y=d.earth.radius*Math.PI/200,A=/UNIT\[([^\]]+)\]\]$/i,E=n,x=/UNIT\[([^\]]+)\]/i,F=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,
4902,37225,104139,104140]),B=b.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});
c={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};n={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},
"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(I=>I*I)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const C={length:{baseUnit:"meters",units:c},area:{baseUnit:"square-meters",units:n},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},
"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},z=function(){const I={};for(const K in C)for(const L in C[K].units)I[L]=K;return I}(),G={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",
esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},H={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",
esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};c=b.strict()(G);n=b.strict()(H);b=b.strict()({...G,...H});a.areaUnitsJSONMap=c;a.baseUnitForMeasure=t;a.baseUnitForUnit=function(I){return t(m(I))};a.convertUnit=q;a.getDefaultUnitSystem=function(I){if(!I)return null;switch(v(I)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerUnit=D;a.getMetersPerUnitForSR=w;a.getMetersPerVerticalUnitForSR=function(I){if(I&&"object"===typeof I&&!r.isEarth(I))return 1;I=w(I);return 1E5<I?1:I};a.getUnitString=v;a.getVerticalUnitStringForSR=function(I){const K=w(I),L=I instanceof k?h.getReferenceEllipsoid(I).metersPerDegree:1E5;return K>=L?"meters":v(I)};a.inchesPerMeter=39.37;a.isBaseUnit=p;a.isMeasurementSystem=function(I){return"imperial"===
I||"metric"===I};a.lengthToDegrees=function(I,K,L){return q(I,K,"meters")/(L*Math.PI/180)};a.lengthUnitsJSONMap=n;a.measureForUnit=m;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");a.preferredImperialAreaUnit=function(I,K){return 1E6>q(I,K,"square-feet")?"square-feet":
"square-miles"};a.preferredImperialLengthUnit=e;a.preferredImperialVerticalLengthUnit=f;a.preferredLengthUnit=function(I,K,L){switch(L){case "metric":return l(I,K);case "imperial":return e(I,K);default:return L}};a.preferredMetricAreaUnit=function(I,K){return 3E6>q(I,K,"square-meters")?"square-meters":"square-kilometers"};a.preferredMetricLengthUnit=l;a.preferredMetricVerticalLengthUnit=g;a.preferredVerticalLengthUnit=function(I,K,L){switch(L){case "metric":return g(I,K);case "imperial":return f(I,
K);default:return L}};a.unitFromRESTJSON=u;a.unitToRESTJSON=function(I){return B.toJSON(I)||null};a.unitsJSONMap=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./support/spatialReferenceUtils","./SpatialReference","./support/Ellipsoid"],function(a,c,b,n){function r(t){return new b({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const k=r(n.earth),d=r(n.mars),h=r(n.moon),m=new b({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${n.earth.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});a.SphericalECEFSpatialReference=k;a.SphericalPCPFMars=d;a.SphericalPCPFMoon=h;a.WGS84ECEFSpatialReference=m;a.createSphericalPCPF=r;a.getReferenceEllipsoid=function(t){return t&&(c.isMars(t)||t===d)?n.mars:t&&(c.isMoon(t)||t===h)?n.moon:n.earth};a.getReferenceEllipsoidFromWKID=function(t){return c.isWKIDFromMars(t)?n.mars:c.isWKIDFromMoon(t)?n.moon:n.earth};a.getSphericalPCPF=function(t){return t&&(c.isMars(t)||t===d)?d:t&&(c.isMoon(t)||t===h)?h:k};a.getSphericalPCPFForEllipsoid=function(t){return t&&
t===n.mars?d:t&&t===n.moon?h:k};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils ../../portal/Portal ../../portal/PortalItem".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){const v=k.getLogger("esri.layers.mixins.PortalLayer");c.PortalLayer=y=>{y=function(A){function E(){var F=A.apply(this,arguments)||this;F.resourceReferences={portalItem:null,paths:[]};return F}b._inheritsLoose(E,A);var x=E.prototype;x.destroy=function(){var F;null==(F=this.portalItem)?void 0:F.destroy();this.portalItem=null};x.readPortalItem=function(F,B,C){if(B.itemId)return new D({id:B.itemId,portal:C&&C.portal})};x.writePortalItem=function(F,B){F&&
F.id&&(B.itemId=F.id)};x.loadFromPortal=async function(F,B){if(this.portalItem&&this.portalItem.id)try{const C=await new Promise(function(z,G){a(["../../portal/support/layersLoader"],z,G)});u.throwIfAborted(B);return await C.load({instance:this,supportedTypes:F.supportedTypes,validateItem:F.validateItem,supportsData:F.supportsData},B)}catch(C){throw u.isAbortError(C)||v.warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${C}`),C;}};x.read=function(F,B){B&&
(B.layer=this);A.prototype.read.call(this,F,B)};x.write=function(F,B){const C=B&&B.portal,z=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||w.getDefault());return C&&z&&!g.hasSamePortal(z.restUrl,C.restUrl)?(B.messages&&B.messages.push(new l("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save the scene, set the layer.portalItem to null or save the scene to the same portal as the item associated with the layer`,
{layer:this})),null):A.prototype.write.call(this,F,{...B,layer:this})};b._createClass(E,[{key:"portalItem",set:function(F){F!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",F))}}]);return E}(y);n.__decorate([h.property({type:D})],y.prototype,"portalItem",null);n.__decorate([t.reader("web-document","portalItem",["itemId"])],y.prototype,"readPortalItem",null);n.__decorate([q.writer("web-document","portalItem",{itemId:{type:String}})],y.prototype,"writePortalItem",
null);n.__decorate([h.property()],y.prototype,"resourceReferences",void 0);return y=n.__decorate([p.subclass("esri.layers.mixins.PortalLayer")],y)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){a.ScaleRangeLayer=l=>{l=function(g){function e(){var f=g.apply(this,arguments)||this;f.minScale=0;f.maxScale=0;return f}c._inheritsLoose(e,g);c._createClass(e,[{key:"scaleRangeId",get:function(){return`${this.minScale},${this.maxScale}`}}]);return e}(l);b.__decorate([d.property({type:Number,nonNullable:!0,json:{write:!0}})],l.prototype,"minScale",void 0);b.__decorate([d.property({type:Number,nonNullable:!0,json:{write:!0}})],l.prototype,"maxScale",void 0);b.__decorate([d.property({readOnly:!0})],
l.prototype,"scaleRangeId",null);return l=b.__decorate([m.subclass("esri.layers.mixins.ScaleRangeLayer")],l)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){a.RefreshableLayer=l=>{l=function(g){function e(){var f=g.apply(this,arguments)||this;f.refreshInterval=0;return f}c._inheritsLoose(e,g);e.prototype.refresh=function(){this.emit("refresh")};return e}(l);b.__decorate([d.property({type:Number,cast:g=>.1<=g?g:0>=g?0:.1,json:{write:!0,origins:{"web-document":{write:!0}}}})],l.prototype,"refreshInterval",void 0);return l=b.__decorate([m.subclass("esri.layers.mixins.RefreshableLayer")],l)};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/has ../../core/promiseUtils ../../core/Collection ../../portal/PortalItem ../../renderers/support/styleUtils ./lazyLayerLoader ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers".split(" "),function(a,c,b,n,r,k,d,h,m){async function t(E,x,F){if(x){var B=[];for(const C of x)x=p(C,F),"GroupLayer"===C.layerType?B.push(e(x,C,F)):B.push(x);B=await b.eachAlways(B);for(const C of B)!C.value||
F.filter&&!F.filter(C.value)||E.add(C.value)}}async function p(E,x){const F=await l(E,x);return q(F,E,x)}async function q(E,x,F){E=new E;E.read(x,F.context);"group"===E.type&&g(x)&&await f(E,x,F.context);await k.loadStyleRenderer(E,F.context);return E}async function l(E,x){var F=x.context;switch(F.origin){case "web-scene":switch(F.layerContainerType){case "basemap":var B=D;break;case "ground":B=w;break;default:B=u}break;default:switch(F.layerContainerType){case "basemap":B=A;break;case "tables":B=
y;break;default:B=v}}var C=B;B=E.layerType||E.type;!B&&x&&x.defaultLayerType&&(B=x.defaultLayerType);x=(x=C[B])?d.layerLookupMap[x]:d.layerLookupMap.UnknownLayer;F=F&&F.portal;"Feature Collection"===E.type?E.itemId&&(F=new r({id:E.itemId,portal:F}),await F.load(),F=(await m.selectLayerClassPath(F)).className||"UnknownLayer",x=d.layerLookupMap[F]):"ArcGISFeatureLayer"===B&&(await h.isMapNotesLayer(E,F)?x=d.layerLookupMap.MapNotesLayer:await h.isRouteLayer(E,F)?x=d.layerLookupMap.RouteLayer:g(E)&&(x=
d.layerLookupMap.GroupLayer));E.wmtsInfo&&E.wmtsInfo.url&&E.wmtsInfo.layerIdentifier&&(x=d.layerLookupMap.WMTSLayer);return x()}function g(E){if("ArcGISFeatureLayer"!==E.layerType||"Feature Collection"===E.type)return!1;E=E.featureCollection;return!!(E&&E.layers&&1<E.layers.length)}async function e(E,x,F){const B=new n;x=t(B,Array.isArray(x.layers)?x.layers:[],F);E=await E;await x;if("group"===E.type)return E.layers.addMany(B),E}async function f(E,x,F){const B=await (0,d.layerLookupMap.FeatureLayer)();
x=x.featureCollection;const C=x.showLegend;x=x.layers.map(z=>{const G=new B;G.read(z,F);null!=C&&G.read({showLegend:C},F);return G});E.layers.addMany(x)}const u={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",
ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer"},w={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},D={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",
VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",DefaultTileLayer:"TileLayer"},v={ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",VectorTileLayer:"VectorTileLayer",GroupLayer:"GroupLayer",
WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",GeoRSS:"GeoRSSLayer",KML:"KMLLayer",WFS:"UnsupportedLayer",SubtypeGroupLayer:"UnsupportedLayer",WMS:"WMSLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",DefaultTileLayer:"TileLayer"},y={ArcGISFeatureLayer:"FeatureLayer"},A={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",
OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"};a.populateOperationalLayers=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../core/Warning","../../core/promiseUtils","../../core/asyncUtils"],function(a,c,b,n){a.loadStyleRenderer=async function(r,
k,d){var h=r&&r.getAtOrigin&&r.getAtOrigin("renderer",k.origin);h&&"unique-value"===h.type&&h.styleOrigin&&(h=await n.result(h.populateFromStyle()),b.throwIfAborted(d),!1===h.ok&&(d=h.error,k&&k.messages&&k.messages.push(new c("renderer:style-reference",`Failed to create unique value renderer from style reference: ${d.message}`,{error:d,context:k})),r.clear("renderer",k.origin)))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/lazyLayerLoader":function(){define(["require",
"exports"],function(a,c){function b(n){return Object.freeze({__proto__:null,"default":n})}c.layerLookupMap={BingMapsLayer:async()=>(await new Promise(function(n,r){a(["../BingMapsLayer"],function(k){n(b(k))},r)})).default,BuildingSceneLayer:async()=>(await new Promise(function(n,r){a(["../BuildingSceneLayer"],function(k){n(b(k))},r)})).default,CSVLayer:async()=>(await new Promise(function(n,r){a(["../CSVLayer"],function(k){n(b(k))},r)})).default,ElevationLayer:async()=>(await new Promise(function(n,
r){a(["../ElevationLayer"],function(k){n(b(k))},r)})).default,FeatureLayer:async()=>(await new Promise(function(n,r){a(["../FeatureLayer"],function(k){n(b(k))},r)})).default,GroupLayer:async()=>(await new Promise(function(n,r){a(["../GroupLayer"],function(k){n(b(k))},r)})).default,GeoRSSLayer:async()=>(await new Promise(function(n,r){a(["../GeoRSSLayer"],function(k){n(b(k))},r)})).default,ImageryLayer:async()=>(await new Promise(function(n,r){a(["../ImageryLayer"],function(k){n(b(k))},r)})).default,
ImageryTileLayer:async()=>(await new Promise(function(n,r){a(["../ImageryTileLayer"],function(k){n(b(k))},r)})).default,IntegratedMeshLayer:async()=>(await new Promise(function(n,r){a(["../IntegratedMeshLayer"],function(k){n(b(k))},r)})).default,KMLLayer:async()=>(await new Promise(function(n,r){a(["../KMLLayer"],function(k){n(b(k))},r)})).default,MapImageLayer:async()=>(await new Promise(function(n,r){a(["../MapImageLayer"],function(k){n(b(k))},r)})).default,MapNotesLayer:async()=>(await new Promise(function(n,
r){a(["../MapNotesLayer"],function(k){n(b(k))},r)})).default,OpenStreetMapLayer:async()=>(await new Promise(function(n,r){a(["../OpenStreetMapLayer"],function(k){n(b(k))},r)})).default,PointCloudLayer:async()=>(await new Promise(function(n,r){a(["../PointCloudLayer"],function(k){n(b(k))},r)})).default,RouteLayer:async()=>(await new Promise(function(n,r){a(["../RouteLayer"],function(k){n(b(k))},r)})).default,SceneLayer:async()=>(await new Promise(function(n,r){a(["../SceneLayer"],function(k){n(b(k))},
r)})).default,StreamLayer:async()=>(await new Promise(function(n,r){a(["../StreamLayer"],function(k){n(b(k))},r)})).default,TileLayer:async()=>(await new Promise(function(n,r){a(["../TileLayer"],function(k){n(b(k))},r)})).default,UnknownLayer:async()=>(await new Promise(function(n,r){a(["../UnknownLayer"],function(k){n(b(k))},r)})).default,UnsupportedLayer:async()=>(await new Promise(function(n,r){a(["../UnsupportedLayer"],function(k){n(b(k))},r)})).default,VectorTileLayer:async()=>(await new Promise(function(n,
r){a(["../VectorTileLayer"],function(k){n(b(k))},r)})).default,WebTileLayer:async()=>(await new Promise(function(n,r){a(["../WebTileLayer"],function(k){n(b(k))},r)})).default,WMSLayer:async()=>(await new Promise(function(n,r){a(["../WMSLayer"],function(k){n(b(k))},r)})).default,WMTSLayer:async()=>(await new Promise(function(n,r){a(["../WMTSLayer"],function(k){n(b(k))},r)})).default};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports",
"../PortalItem","./portalItemUtils"],function(a,c,b){async function n(r,k,d,h){return!r.layerType||"ArcGISFeatureLayer"!==r.layerType||r.url?!1:r.featureCollectionType&&r.featureCollectionType===d?!0:r.itemId?(r=new c({id:r.itemId,portal:k}),await r.load(),"Feature Collection"===r.type&&b.hasTypeKeyword(r,h)):!1}a.isMapNotesLayer=function(r,k){return n(r,k,"notes","Map Notes")};a.isRouteLayer=function(r,k){return n(r,k,"route","Route Layer")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/portalItemUtils":function(){define(["exports"],
function(a){function c(b,n){return b.typeKeywords?-1<b.typeKeywords.indexOf(n):!1}a.addTypeKeyword=function(b,n){if(!c(b,n)){const r=b.typeKeywords;r?r.push(n):b.typeKeywords=[n]}};a.hasTypeKeyword=c;a.removeTypeKeyword=function(b,n){if(b=b.typeKeywords)n=b.indexOf(n),-1<n&&b.splice(n,1)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/maybe ../../core/Error ../../request ../PortalItem ./portalItemUtils ../../layers/support/lazyLayerLoader".split(" "),
function(a,c,b,n,r,k,d){function h(y){switch(y.type){case "Map Service":return t(y);case "Feature Service":return p(y);case "Feature Collection":return l(y);case "Scene Service":return q(y);case "Image Service":return g(y);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};case "KML":return{className:"KMLLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};default:return Promise.reject(new b("portal:unknown-item-type",
"Unknown item type '${type}'",{type:y.type}))}}function m(y){return(0,d.layerLookupMap[y.className])().then(A=>({constructor:A,properties:y.properties}))}function t(y){return e(y).then(A=>A?{className:"TileLayer"}:{className:"MapImageLayer"})}function p(y){return f(y).then(A=>{if("object"===typeof A){const E={};null!=A.id&&(E.layerId=A.id);return{className:"FeatureLayer",properties:E}}return{className:"GroupLayer"}})}function q(y){return f(y).then(A=>{if("object"===typeof A){const E={};null!=A.id?
(E.layerId=A.id,A=`${y.url}/layers/${A.id}`):A=y.url;if(Array.isArray(y.typeKeywords)&&0<y.typeKeywords.length){const x={IntegratedMesh:"IntegratedMeshLayer","3DObject":"SceneLayer",Point:"SceneLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};for(const F of Object.keys(x))if(-1!==y.typeKeywords.indexOf(F))return{className:x[F]}}return v(A).then(x=>{let F="SceneLayer";const B={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",
Building:"BuildingSceneLayer"};x&&x.layerType&&B[x.layerType]&&(F=B[x.layerType]);return{className:F,properties:E}})}return{className:"GroupLayer"}})}async function l(y){await y.load();if(k.hasTypeKeyword(y,"Map Notes"))return{className:"MapNotesLayer"};if(k.hasTypeKeyword(y,"Route Layer"))return{className:"RouteLayer"};y=await y.fetchData();return 1===D(y)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function g(y){var A,E,x;await y.load();const F=null!=(A=null==(E=y.typeKeywords)?void 0:
E.map(B=>B.toLowerCase()))?A:[];if(-1<F.indexOf("elevation 3d layer"))return{className:"ElevationLayer"};if(-1<F.indexOf("tiled imagery"))return{className:"ImageryTileLayer"};A=await y.fetchData();A=null==A?void 0:A.layerType;return"ArcGISTiledImageServiceLayer"===A?{className:"ImageryTileLayer"}:"ArcGISImageServiceLayer"===A?{className:"ImageryLayer"}:"map"===(null==(x=(await v(y.url)).cacheType)?void 0:x.toLowerCase())?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}function e(y){return v(y.url).then(A=>
A.tileInfo)}function f(y){return!y.url||y.url.match(/\/\d+$/)?Promise.resolve({}):y.load().then(()=>y.fetchData()).then(A=>0<D(A)?u(A):v(y.url).then(u))}function u(y){return 1===D(y)?{id:c.unwrap(w(y))}:!1}function w(y){const A=y.layers;return A&&A.length?A[0].id:(y=y.tables)&&y.length?y[0].id:null}function D(y){var A,E,x,F;const B=null!=(A=null==y?void 0:null==(E=y.layers)?void 0:E.length)?A:0;y=null!=(x=null==y?void 0:null==(F=y.tables)?void 0:F.length)?x:0;return B+y}function v(y){return n(y,{responseType:"json",
query:{f:"json"}}).then(A=>A.data)}a.fromItem=function(y){!y.portalItem||y.portalItem instanceof r||(y={...y,portalItem:new r(y.portalItem)});return y.portalItem.load().then(h).then(m).then(A=>Promise.resolve(new A.constructor({portalItem:y.portalItem,...A.properties})))};a.selectLayerClassPath=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/object ../core/maybe ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/extensions/serializableProperty/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../geometry/SpatialReference ../geometry/Extent ../core/Collection ./support/fieldUtils ../PopupTemplate ../request ../symbols ../core/Handles ./Layer ../renderers/Renderer ../renderers/ClassBreaksRenderer ../renderers/UniqueValueRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/SimpleRenderer ../renderers/support/types ../renderers/support/jsonUtils ../core/MultiOriginJSONSupport ./support/arcgisLayerUrl ../geometry/HeightModelInfo ./support/commonProperties ./mixins/OperationalLayer ./support/FieldsIndex ../form/FormTemplate ../tasks/support/FeatureSet ./graphics/sources/MemorySource ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./support/TimeInfo ./mixins/TemporalLayer ./support/FeatureIndex ./support/FeatureReduction ./support/LabelClass ./support/FeatureReductionCluster ./support/FeatureReductionSelection ./support/featureReductionUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/GeometryFieldsInfo ./support/labelingInfo ./support/LayerFloorInfo ./support/Relationship ./support/source/DataLayerSource ../renderers/support/styleUtils ../support/popupUtils ../tasks/support/AttachmentQuery ../tasks/support/Query ../tasks/support/RelationshipQuery".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C,z,G,H,I,K,L,T,O,U,W,S,N,P,J,M,R,X,ia,ha,ja,ma,ta,Z,V,ba,Q,Y,aa,fa,ka,la,oa,ra,va,Aa,ya,Da,Ea,Ha,Ga,Ja,Ra,Ua,Oa,Qa,Xa){function Ba(Fa,La,ua){return!(Fa&&Fa.hasOwnProperty(La)?!Fa[La]:!ua)}function Ya(Fa,La,ua){return Fa&&Fa.hasOwnProperty(La)?Fa[La]:ua}function Va(Fa,La,ua){Fa=!(null==ua||!ua.writeLayerSchema);return{enabled:Fa,ignoreOrigin:Fa}}const cb=new t.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",
esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"}),ab={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"},Sa=d.getLogger("esri.layers.FeatureLayer");d=ya.defineFieldProperties();z=function(Fa){function La(...ca){ca=Fa.call(this,...ca)||this;ca._handles=new C;ca.capabilities=null;ca.charts=null;ca.copyright=null;ca.displayField=null;ca.definitionExpression=null;ca.dynamicDataSource=null;ca.editFieldsInfo=
null;ca.editingEnabled=!0;ca.editingInfo=null;ca.elevationInfo=null;ca.featureReduction=null;ca.fields=null;ca.floorInfo=null;ca.formTemplate=null;ca.fullExtent=null;ca.gdbVersion=null;ca.geometryFieldsInfo=null;ca.geometryType=null;ca.hasM=void 0;ca.hasZ=void 0;ca.heightModelInfo=null;ca.historicMoment=null;ca.isTable=!1;ca.labelsVisible=!0;ca.labelingInfo=null;ca.layerId=void 0;ca.legendEnabled=!0;ca.minScale=0;ca.maxScale=0;ca.globalIdField=null;ca.objectIdField=null;ca.outFields=null;ca.path=
null;ca.popupEnabled=!0;ca.popupTemplate=null;ca.relationships=null;ca.sourceJSON=null;ca.returnM=void 0;ca.returnZ=void 0;ca.screenSizePerspectiveEnabled=!0;ca.serviceDefinitionExpression=null;ca.spatialReference=v.WGS84;ca.templates=null;ca.timeInfo=null;ca.title=null;ca.sublayerTitleMode="item-title";ca.trackIdField=null;ca.type="feature";ca.typeIdField=null;ca.types=null;ca.indexes=new (A.ofType(aa.FeatureIndex));ca.userIsAdmin=!1;ca.version=void 0;ca.visible=!0;return ca}c._inheritsLoose(La,
Fa);var ua=La.prototype;ua.destroy=function(){var ca;null==(ca=this.source)?void 0:ca.destroy();this._handles=k.destroyMaybe(this._handles)};ua.normalizeCtorArgs=function(ca,ea){return"string"===typeof ca?{url:ca,...ea}:ca};ua.load=function(ca){const ea=k.isSome(ca)?ca.signal:null;if(this.portalItem&&this.portalItem.loaded&&this.source)this.addResolvingPromise(this.createGraphicsSource(ea).then(qa=>this._initLayerProperties(qa)));else return ca=this.loadFromPortal({supportedTypes:["Feature Service",
"Feature Collection"]},ca).catch(qa=>qa).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const qa=await this._fetchFirstLayerId(ea);null!=qa&&(this.layerId=qa)}if(!this.url&&!this._hasMemorySource())throw new e("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this._initLayerProperties(await this.createGraphicsSource(ea))}),this.addResolvingPromise(ca),Promise.resolve(this)};ua.readCapabilities=
function(ca,ea){ea=ea.layerDefinition||ea;return{attachment:this._readAttachmentCapabilities(ea.attachmentProperties),data:this._readDataCapabilities(ea),metadata:this._readMetadataCapabilities(ea),operations:this._readOperationsCapabilities(ea.capabilities||ca,ea),query:this._readQueryCapabilities(ea),queryRelated:this._readQueryRelatedCapabilities(ea),editing:this._readEditingCapabilities(ea)}};ua.readEditingEnabled=function(ca,ea){return this._readEditingEnabled(ea,!1)};ua.readEditingEnabledFromWebMap=
function(ca,ea,qa){return this._readEditingEnabled(ea,!0,qa)};ua.writeEditingEnabled=function(ca,ea){this._writeEditingEnabled(ca,ea,!1)};ua.writeEditingEnabledToWebMap=function(ca,ea,qa,xa){this._writeEditingEnabled(ca,ea,!0,xa)};ua.readEditingInfo=function(ca,ea){({editingInfo:ca}=ea);return ca?{lastEditDate:null!=ca.lastEditDate?new Date(ca.lastEditDate):null}:null};ua.readFeatureReduction=function(ca,ea){return ra.read(ca,ea)};ua.writeWebSceneFeatureReduction=function(ca,ea,qa,xa){ra.writeTarget(ca,
ea,"layerDefinition.featureReduction",xa)};ua.readIsTable=function(ca,ea){ea=ea&&ea.layerDefinition||ea;return"Table"===ea.type||!ea.geometryType};ua.writeIsTable=function(ca,ea,qa,xa){null!=xa&&xa.writeLayerSchema&&r.setDeepValue(qa,ca?"Table":"Feature Layer",ea)};ua.readMinScale=function(ca,ea){return ea.effectiveMinScale||ca||0};ua.readMaxScale=function(ca,ea){return ea.effectiveMaxScale||ca||0};ua.readGlobalIdFieldFromService=function(ca,ea){ea=ea.layerDefinition||ea;if(ea.globalIdField)return ea.globalIdField;
if(ea.fields)for(const qa of ea.fields)if("esriFieldTypeGlobalID"===qa.type)return qa.name};ua.readObjectIdFieldFromService=function(ca,ea){ea=ea.layerDefinition||ea;if(ea.objectIdField)return ea.objectIdField;if(ea.fields)for(const qa of ea.fields)if("esriFieldTypeOID"===qa.type)return qa.name};ua.readRenderer=function(ca,ea,qa){ea=ea.layerDefinition||ea;if(ca=ea.drawingInfo&&ea.drawingInfo.renderer||void 0)return(ca=W.read(ca,ea,qa)||void 0)||Sa.error("Failed to create renderer",{rendererDefinition:ea.drawingInfo.renderer,
layer:this,context:qa}),ca;if(ea.defaultSymbol)return ea.types&&ea.types.length?new I({defaultSymbol:Ta(ea.defaultSymbol,ea,qa),field:ea.typeIdField,uniqueValueInfos:ea.types.map(xa=>({id:xa.id,symbol:Ta(xa.symbol,xa,qa)}))}):new O({symbol:Ta(ea.defaultSymbol,ea,qa)})};ua.castSource=function(ca){return ca?Array.isArray(ca)||ca instanceof A?new ha["default"]({layer:this,items:ca}):ca:null};ua.readSource=function(ca,ea){ca=ia.fromJSON(ea.featureSet);return new ha["default"]({layer:this,items:ca&&ca.features||
[]})};ua.readServiceDefinitionExpression=function(ca,ea){return ea.definitionQuery||ea.definitionExpression};ua.readTemplates=function(ca,ea){var qa=ea.editFieldsInfo;ea=qa&&qa.creatorField;qa=qa&&qa.editorField;ca=ca&&ca.map(xa=>va.fromJSON(xa));this._fixTemplates(ca,ea);this._fixTemplates(ca,qa);return ca};ua.readTitle=function(ca,ea){ca=ea.layerDefinition&&ea.layerDefinition.name||ea.name;ea=ea.title||ea.layerDefinition&&ea.layerDefinition.title;if(ca){ea=this.portalItem&&this.portalItem.title;
if("item-title"===this.sublayerTitleMode)return this.url?N.titleFromUrlAndName(this.url,ca):ca;if(!ca&&this.url){const qa=N.parse(this.url);k.isSome(qa)&&(ca=qa.title)}if(!ca)return;"item-title-and-service-name"===this.sublayerTitleMode&&ea&&ea!==ca&&(ca=ea+" - "+ca);return N.cleanTitle(ca)}if("item-title"===this.sublayerTitleMode&&ea)return ea};ua.readTitleFromWebMap=function(ca,ea){return ea.title||ea.layerDefinition&&ea.layerDefinition.name};ua.readTypeIdField=function(ca,ea){ea=ea.layerDefinition||
ea;if(ca=ea.typeIdField)if(ea=E.getField(ea.fields,ca))ca=ea.name;return ca};ua.readTypes=function(ca,ea){ea=ea.layerDefinition||ea;ca=ea.types;const qa=(ea=ea.editFieldsInfo)&&ea.creatorField,xa=ea&&ea.editorField;return ca&&ca.map(Ca=>{Ca=Aa.fromJSON(Ca);this._fixTemplates(Ca.templates,qa);this._fixTemplates(Ca.templates,xa);return Ca})};ua.writeUrl=function(ca,ea,qa,xa){N.writeUrlWithLayerId(this,ca,null,ea,xa)};ua.readVersion=function(ca,ea){return ea.currentVersion?ea.currentVersion:ea.hasOwnProperty("capabilities")||
ea.hasOwnProperty("drawingInfo")||ea.hasOwnProperty("hasAttachments")||ea.hasOwnProperty("htmlPopupType")||ea.hasOwnProperty("relationships")||ea.hasOwnProperty("timeInfo")||ea.hasOwnProperty("typeIdField")||ea.hasOwnProperty("types")?10:9.3};ua.readVisible=function(ca,ea){if(ea.layerDefinition&&null!=ea.layerDefinition.defaultVisibility)return!!ea.layerDefinition.defaultVisibility;if(null!=ea.visibility)return!!ea.visibility};ua.addAttachment=function(ca,ea){return this.load().then(()=>this._checkAttachmentSupport(ca)).then(()=>
{if(!("addAttachment"in this.source))throw new e("FeatureLayer","Layer source does not support addAttachment capability");return this.source.addAttachment(ca,ea)})};ua.updateAttachment=function(ca,ea,qa){return this.load().then(()=>this._checkAttachmentSupport(ca)).then(()=>{if(!("updateAttachment"in this.source))throw new e("FeatureLayer","Layer source does not support updateAttachment capability");return this.source.updateAttachment(ca,ea,qa)})};ua.applyEdits=async function(ca,ea){const qa=await new Promise(function(xa,
Ca){a(["./graphics/editingSupport"],xa,Ca)});await this.load();return qa.applyEdits(this,this.source,ca,ea)};ua.on=function(ca,ea){return Fa.prototype.on.call(this,ca,ea)};ua.createPopupTemplate=function(ca){return Ua.createPopupTemplate(this,ca)};ua.createGraphicsSource=async function(ca){if(this._hasMemorySource())return this.emit("graphics-source-create",{graphicsSource:this.source}),this.source.load({signal:ca});const ea=await new Promise(function(qa,xa){a(["./graphics/sources/FeatureLayerSource"],
function(Ca){qa(Object.freeze({__proto__:null,"default":Ca}))},xa)});D.throwIfAborted(ca);ca=await (new ea.default({layer:this})).load({signal:ca});this.emit("graphics-source-create",{graphicsSource:ca});return ca};ua.createQuery=function(){const ca=new Qa,ea=this.get("capabilities.data");ca.dynamicDataSource=this.dynamicDataSource;ca.gdbVersion=this.gdbVersion;ca.historicMoment=this.historicMoment;ca.returnGeometry=!0;ea&&(ea.supportsZ&&null!=this.returnZ&&(ca.returnZ=this.returnZ),ea.supportsM&&
null!=this.returnM&&(ca.returnM=this.returnM));ca.outFields=["*"];ca.where=this.definitionExpression||"1\x3d1";const {timeOffset:qa,timeExtent:xa}=this;ca.timeExtent=null!=qa&&null!=xa?xa.offset(-qa.value,qa.unit):xa||null;ca.multipatchOption="multipatch"===this.geometryType?"xyFootprint":null;return ca};ua.deleteAttachments=function(ca,ea){return this.load().then(()=>this._checkAttachmentSupport(ca)).then(()=>{if(!("deleteAttachments"in this.source))throw new e("FeatureLayer","Layer source does not support deleteAttachments capability");
return this.source.deleteAttachments(ca,ea)})};ua.fetchRecomputedExtents=function(ca){return this.load({signal:null==ca?void 0:ca.signal}).then(()=>{if(this.source.fetchRecomputedExtents)return this.source.fetchRecomputedExtents(ca);throw new e("FeatureLayer","Layer source does not support fetchUpdates capability");})};ua.getFeatureType=function(ca){const {typeIdField:ea,types:qa}=this;if(!ea||!ca)return null;const xa=ca.attributes?ca.attributes[ea]:void 0;if(null==xa)return null;let Ca=null;qa.some(Ka=>
{const {id:Ma}=Ka;if(null==Ma)return!1;Ma.toString()===xa.toString()&&(Ca=Ka);return!!Ca});return Ca};ua.getFieldDomain=function(ca,ea){return(ea=this.getFeatureType(ea&&ea.feature))&&(ea=ea.domains&&ea.domains[ca])&&"inherited"!==ea.type?ea:this._getLayerDomain(ca)};ua.getField=function(ca){return this.fieldsIndex.get(ca)};ua.queryAttachments=function(ca,ea){ca=Oa.from(ca);return this.load().then(()=>{if(!this.get("capabilities.data.supportsAttachment"))throw new e("FeatureLayer","this layer doesn't support attachments");
const {attachmentTypes:qa,objectIds:xa,globalIds:Ca,num:Ka,size:Ma,start:Pa,where:db}=ca;if(!this.get("capabilities.operations.supportsQueryAttachments")){const da=qa&&qa.length,na=Ca&&Ca.length,pa=Ma&&Ma.length;if(xa&&1<xa.length||da||na||pa||Ka||Pa||db)throw new e("FeatureLayer","when 'supportsQueryAttachments' is false, only objectIds of length 1 are supported",ca);}if(!(xa&&xa.length||db))throw new e("FeatureLayer","'objectIds' or 'where' are required to perform attachment query",ca);if(!("queryAttachments"in
this.source))throw new e("FeatureLayer","Layer source does not support queryAttachments capability",ca);return this.source.queryAttachments(ca)})};ua.queryFeatures=function(ca,ea){return this.load().then(()=>this.source.queryFeatures(Qa.from(ca)||this.createQuery(),ea)).then(qa=>{if(qa&&qa.features)for(const xa of qa.features)xa.layer=xa.sourceLayer=this;return qa})};ua.queryObjectIds=function(ca,ea){return this.load().then(()=>{if(this.source.queryObjectIds)return this.source.queryObjectIds(Qa.from(ca)||
this.createQuery(),ea);throw new e("FeatureLayer","Layer source does not support queryObjectIds capability");})};ua.queryFeatureCount=function(ca,ea){return this.load().then(()=>{if(this.source.queryFeatureCount)return this.source.queryFeatureCount(Qa.from(ca)||this.createQuery(),ea);throw new e("FeatureLayer","Layer source does not support queryFeatureCount capability");})};ua.queryExtent=function(ca,ea){return this.load().then(()=>{if(this.source.queryExtent)return this.source.queryExtent(Qa.from(ca)||
this.createQuery(),ea);throw new e("FeatureLayer","Layer source does not support queryExtent capability");})};ua.queryRelatedFeatures=function(ca,ea){return this.load().then(()=>{if("queryRelatedFeatures"in this.source)return this.source.queryRelatedFeatures(Xa.from(ca),ea);throw new e("FeatureLayer","Layer source does not support queryRelatedFeatures capability");})};ua.queryRelatedFeaturesCount=function(ca,ea){return this.load().then(()=>{if("queryRelatedFeaturesCount"in this.source)return this.source.queryRelatedFeaturesCount(Xa.from(ca),
ea);throw new e("FeatureLayer","Layer source does not support queryRelatedFeaturesCount capability");})};ua.read=function(ca,ea){const qa=ca.featureCollection;if(qa){const xa=qa.layers;xa&&1===xa.length&&(Fa.prototype.read.call(this,xa[0],ea),null!=qa.showLegend&&Fa.prototype.read.call(this,{showLegend:qa.showLegend},ea))}Fa.prototype.read.call(this,ca,ea);ea&&"service"===ea.origin&&this.revert(["objectIdField","fields","timeInfo","spatialReference"],"service")};ua.write=function(ca,ea){var qa,xa;
ea={...ea,writeLayerSchema:null!=(qa=null==(xa=ea)?void 0:xa.writeLayerSchema)?qa:this._hasMemorySource()};qa=ea.origin;xa=ea.layerContainerType;const Ca=ea.messages;if(this.isTable){if("web-scene"===qa||"web-map"===qa&&"tables"!==xa)return Ca&&Ca.push(new e("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Table source cannot be written to web scenes and web maps`,{layer:this})),null;if(this._hasMemorySource())return Ca&&Ca.push(new e("layer:unsupported",
`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using an in-memory Table source cannot be written to web scenes and web maps`,{layer:this})),null}else if(this.loaded&&"web-map"===qa&&"tables"===xa)return Ca&&Ca.push(new e("layer:unsupported",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a non-table source cannot be written to tables in web maps`,{layer:this})),null;return Fa.prototype.write.call(this,ca,ea)};ua._readEditingEnabled=function(ca,ea,qa){var xa;
let Ca=null==(xa=ca.layerDefinition)?void 0:xa.capabilities;if(Ca)return this._hasEditingCapability(Ca);Ca=ca.capabilities;return ea&&"web-map"===(null==qa?void 0:qa.origin)&&!this._hasMemorySource()&&Ca?this._hasEditingCapability(Ca):!0};ua._hasEditingCapability=function(ca){return ca.toLowerCase().split(",").map(ea=>ea.trim()).includes("editing")};ua._writeEditingEnabled=function(ca,ea,qa,xa){if(!ca){var Ca,Ka;ca=null!=(Ca=this.capabilities)&&null!=(Ka=Ca.operations)&&Ka.supportsSync?"Query,Sync":
"Query";r.setDeepValue("layerDefinition.capabilities",ca,ea);!qa||null!=xa&&xa.writeLayerSchema||(ea.capabilities=ca)}};ua._checkAttachmentSupport=function(ca){const {attributes:ea}=ca,{objectIdField:qa}=this;if(!this.get("capabilities.data.supportsAttachment"))return Promise.reject(new e("FeatureLayer","this layer doesn't support attachments"));if(!ca)return Promise.reject(new e("FeatureLayer","A feature is required to add/delete/update attachments"));if(!ea)return Promise.reject(new e("FeatureLayer",
"'attributes' are required on a feature to query attachments"));if(!ea[qa])return Promise.reject(new e("FeatureLayer",`feature is missing the identifying attribute ${qa}`))};ua._getLayerDomain=function(ca){return(ca=this.fieldsIndex.get(ca))?ca.domain:null};ua._fetchFirstLayerId=function(ca){return F(this.url,{query:{f:"json",...this.customParameters},responseType:"json",signal:ca}).then(ea=>{if(ea=ea.data){if(Array.isArray(ea.layers)&&0<ea.layers.length)return ea.layers[0].id;if(Array.isArray(ea.tables)&&
0<ea.tables.length)return ea.tables[0].id}})};ua._initLayerProperties=async function(ca){this._set("source",ca);ca.sourceJSON&&(this.sourceJSON=ca.sourceJSON,this.read(ca.sourceJSON,{origin:"service",url:this.parsedUrl}));this._verifySource();this._verifyFields();E.fixRendererFields(this.renderer,this.fields);E.fixTimeInfoFields(this.timeInfo,this.fields);return Ra.loadStyleRenderer(this,{origin:"service"})};ua._verifyFields=function(){const ca=this.parsedUrl&&this.parsedUrl.path||"undefined";this.objectIdField||
console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+ca+")");this.isTable||this._hasMemorySource()||-1!==ca.search(/\/FeatureServer\//i)||this.fields&&this.fields.some(function(ea){return"geometry"===ea.type})||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+ca+")")};ua._fixTemplates=function(ca,ea){ca&&ca.forEach(qa=>{(qa=qa.prototype&&qa.prototype.attributes)&&
ea&&delete qa[ea]})};ua._verifySource=function(){if(this._hasMemorySource()){if(this.url)throw new e("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new e("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");};ua._initMemorySource=function(ca){ca.forEach(ea=>{ea.layer=this;ea.sourceLayer=this});this._handles.add([ca.on("after-add",ea=>{ea.item.layer=this;
ea.item.sourceLayer=this}),ca.on("after-remove",ea=>{ea.item.layer=null;ea.item.sourceLayer=null})],"fl-source")};ua._resetMemorySource=function(ca){ca.forEach(ea=>{ea.layer=null;ea.sourceLayer=null});this._handles.remove("fl-source")};ua._hasMemorySource=function(){return!(this.url||!this.source)};ua._readAttachmentCapabilities=function(ca){const ea={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1};ca&&Array.isArray(ca)&&ca.forEach(qa=>{const xa=ab[qa.name];
xa&&(ea[xa]=!!qa.isEnabled)});return ea};ua._readDataCapabilities=function(ca){return{isVersioned:Ba(ca,"isDataVersioned",!1),supportsAttachment:Ba(ca,"hasAttachments",!1),supportsM:Ba(ca,"hasM",!1),supportsZ:Ba(ca,"hasZ",!1)}};ua._readMetadataCapabilities=function(ca){return{supportsAdvancedFieldProperties:Ba(ca,"supportsFieldDescriptionProperty",!1)}};ua._readOperationsCapabilities=function(ca,ea){ca=ca?ca.toLowerCase().split(",").map(Pa=>Pa.trim()):[];const qa=-1!==ca.indexOf("editing");let xa=
qa&&-1!==ca.indexOf("create"),Ca=qa&&-1!==ca.indexOf("delete"),Ka=qa&&-1!==ca.indexOf("update");const Ma=-1!==ca.indexOf("changetracking");!qa||xa||Ca||Ka||(xa=Ca=Ka=!0);return{supportsCalculate:Ba(ea,"supportsCalculate",!1),supportsTruncate:Ba(ea,"supportsTruncate",!1),supportsValidateSql:Ba(ea,"supportsValidateSql",!1),supportsAdd:xa,supportsDelete:Ca,supportsEditing:qa,supportsChangeTracking:Ma,supportsQuery:-1!==ca.indexOf("query"),supportsQueryAttachments:Ba(ea.advancedQueryCapabilities,"supportsQueryAttachments",
!1),supportsResizeAttachments:Ba(ea,"supportsAttachmentsResizing",!1),supportsSync:-1!==ca.indexOf("sync"),supportsUpdate:Ka,supportsExceedsLimitStatistics:Ba(ea,"supportsExceedsLimitStatistics",!1)}};ua._readQueryCapabilities=function(ca){var ea;const qa=ca.advancedQueryCapabilities,xa=ca.ownershipBasedAccessControlForFeatures,Ca=ca.archivingInfo;var Ka=null==(ea=this.url)?void 0:ea.includes("MapServer");ea=!n("mapserver-pbf-enabled")&&Ka&&10.81>this.version;Ka=(ca.supportedQueryFormats||"").split(",").reduce((Ma,
Pa)=>{(Pa=Pa.toLowerCase().trim())&&Ma.add(Pa);return Ma},new Set);return{supportsStatistics:Ba(qa,"supportsStatistics",ca.supportsStatistics),supportsPercentileStatistics:Ba(qa,"supportsPercentileStatistics",!1),supportsCentroid:Ba(qa,"supportsReturningGeometryCentroid",!1),supportsDistance:Ba(qa,"supportsQueryWithDistance",!1),supportsDistinct:Ba(qa,"supportsDistinct",ca.supportsAdvancedQueries),supportsExtent:Ba(qa,"supportsReturningQueryExtent",!1),supportsGeometryProperties:Ba(qa,"supportsReturningGeometryProperties",
!1),supportsHavingClause:Ba(qa,"supportsHavingClause",!1),supportsOrderBy:Ba(qa,"supportsOrderBy",ca.supportsAdvancedQueries),supportsPagination:Ba(qa,"supportsPagination",!1),supportsQuantization:Ba(ca,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Ba(ca,"supportsQuantizationEditMode",!1),supportsQueryGeometry:Ba(ca,"supportsReturningQueryGeometry",!1),supportsResultType:Ba(qa,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:Ba(qa,"supportsMaxRecordCountFactor",
!1),supportsSqlExpression:Ba(qa,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Ba(ca,"useStandardizedQueries",!1),supportsQueryByOthers:Ba(xa,"allowOthersToQuery",!0),supportsHistoricMoment:Ba(Ca,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:!ea&&Ka.has("pbf"),supportsDisjointSpatialRelationship:Ba(qa,"supportsDisjointSpatialRel",!1),supportsCacheHint:Ba(qa,"supportsQueryWithCacheHint",!1),maxRecordCountFactor:Ya(ca,"maxRecordCountFactor",void 0),maxRecordCount:Ya(ca,"maxRecordCount",
void 0),standardMaxRecordCount:Ya(ca,"standardMaxRecordCount",void 0),tileMaxRecordCount:Ya(ca,"tileMaxRecordCount",void 0)}};ua._readQueryRelatedCapabilities=function(ca){ca=ca.advancedQueryCapabilities;const ea=Ba(ca,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Ba(ca,"supportsQueryRelatedPagination",!1),supportsCount:ea,supportsOrderBy:ea}};ua._readEditingCapabilities=function(ca){const ea=ca.ownershipBasedAccessControlForFeatures;return{supportsGeometryUpdate:Ba(ca,"allowGeometryUpdates",
!0),supportsGlobalId:Ba(ca,"supportsApplyEditsWithGlobalIds",!1),supportsRollbackOnFailure:Ba(ca,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Ba(ca,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Ba(ca,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Ba(ea,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Ba(ea,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Ba(ea,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Ba(ea,"allowOthersToUpdate",!0)}};c._createClass(La,
[{key:"createQueryVersion",get:function(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")||0)+1}},{key:"fieldsIndex",get:function(){return new R(this.fields||
[])}},{key:"parsedUrl",get:function(){const ca=this.url?f.urlToObject(this.url):null;null!=ca&&(null!=this.dynamicDataSource?ca.path=f.join(ca.path,"dynamicLayer"):null!=this.layerId&&(ca.path=f.join(ca.path,this.layerId.toString())));return ca}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(ca){E.fixRendererFields(ca,this.fields);this._set("renderer",ca)}},{key:"source",set:function(ca){const ea=this._get("source");ea!==ca&&(ea&&ea instanceof
A&&this._resetMemorySource(ea),ca&&ca instanceof A&&this._initMemorySource(ca),this._set("source",ca))}},{key:"url",set:function(ca){ca=N.sanitizeUrlWithLayerId({layer:this,url:ca,nonStandardUrlAllowed:!0,logger:Sa});this._set("url",ca.url);null!=ca.layerId&&this._set("layerId",ca.layerId)}}]);return La}(ma.BlendLayer(Y.TemporalLayer(ba.ScaleRangeLayer(V.RefreshableLayer(ja.ArcGISService(M.OperationalLayer(Z.PortalLayer(S.MultiOriginJSONMixin(ta.CustomParametersMixin(z))))))))));b.__decorate([h.property({readOnly:!0,
json:{read:!1}})],z.prototype,"capabilities",void 0);b.__decorate([p.reader("service","capabilities","advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" "))],
z.prototype,"readCapabilities",null);b.__decorate([h.property({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],z.prototype,"charts",void 0);b.__decorate([h.property({readOnly:!0})],z.prototype,"createQueryVersion",null);b.__decorate([h.property({type:String,json:{read:{source:"layerDefinition.copyrightText"},origins:{service:{read:{source:"copyrightText"}}}}})],z.prototype,"copyright",void 0);b.__decorate([h.property({type:String,json:{read:{source:"layerDefinition.displayField"},
origins:{service:{read:{source:"displayField"}}}}})],z.prototype,"displayField",void 0);b.__decorate([h.property({type:String,json:{origins:{service:{read:!1,write:!1}},read:{source:"layerDefinition.definitionExpression"},write:{target:"layerDefinition.definitionExpression"}}})],z.prototype,"definitionExpression",void 0);b.__decorate([h.property({types:B.symbolTypes,readOnly:!0})],z.prototype,"defaultSymbol",void 0);b.__decorate([h.property({type:Ja.DataLayerSource})],z.prototype,"dynamicDataSource",
void 0);b.__decorate([h.property({readOnly:!0})],z.prototype,"editFieldsInfo",void 0);b.__decorate([h.property({type:Boolean})],z.prototype,"editingEnabled",void 0);b.__decorate([p.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],z.prototype,"readEditingEnabled",null);b.__decorate([p.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],z.prototype,"readEditingEnabledFromWebMap",null);b.__decorate([g.writer(["portal-item","web-scene"],
"editingEnabled",{"layerDefinition.capabilities":{type:String}})],z.prototype,"writeEditingEnabled",null);b.__decorate([g.writer("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],z.prototype,"writeEditingEnabledToWebMap",null);b.__decorate([h.property({readOnly:!0})],z.prototype,"editingInfo",void 0);b.__decorate([p.reader("editingInfo")],z.prototype,"readEditingInfo",null);b.__decorate([h.property(J.elevationInfo)],z.prototype,"elevationInfo",
void 0);b.__decorate([h.property({types:{key:"type",base:fa["default"],typeMap:{selection:oa,cluster:la}},json:{write:{target:"layerDefinition.featureReduction"}}})],z.prototype,"featureReduction",void 0);b.__decorate([p.reader("featureReduction",["layerDefinition.featureReduction"])],z.prototype,"readFeatureReduction",null);b.__decorate([g.writer("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:ra.webSceneFeatureReductionTypes}})],z.prototype,"writeWebSceneFeatureReduction",
null);b.__decorate([h.property({...d.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{read:!0},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Va}}}}})],z.prototype,"fields",void 0);b.__decorate([h.property({readOnly:!0})],z.prototype,"fieldsIndex",null);b.__decorate([h.property({type:Ha,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"},origins:{"web-scene":{write:!1}}}})],z.prototype,"floorInfo",void 0);b.__decorate([h.property({type:X,
json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],z.prototype,"formTemplate",void 0);b.__decorate([h.property({type:y,json:{origins:{service:{read:{source:"extent"}}},read:{source:"layerDefinition.extent"}}})],z.prototype,"fullExtent",void 0);b.__decorate([h.property()],z.prototype,"gdbVersion",void 0);b.__decorate([h.property({readOnly:!0,type:Da,json:{read:{source:"geometryProperties"}}})],z.prototype,"geometryFieldsInfo",void 0);b.__decorate([h.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),
json:{origins:{service:{read:cb.read},"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Va,writer(Fa,La,ua){(Fa=Fa?cb.toJSON(Fa):null)&&r.setDeepValue(ua,Fa,La)}}}},read:{source:"layerDefinition.geometryType",reader:cb.read}}})],z.prototype,"geometryType",void 0);b.__decorate([h.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasM"}}})],z.prototype,"hasM",void 0);b.__decorate([h.property({type:Boolean,json:{origins:{service:{read:!0}},read:{source:"layerDefinition.hasZ"}}})],
z.prototype,"hasZ",void 0);b.__decorate([h.property({readOnly:!0,type:P})],z.prototype,"heightModelInfo",void 0);b.__decorate([h.property({type:Date})],z.prototype,"historicMoment",void 0);b.__decorate([h.property(J.id)],z.prototype,"id",void 0);b.__decorate([h.property({readOnly:!0,json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],z.prototype,"isTable",void 0);b.__decorate([p.reader("service","isTable",["type","geometryType"]),p.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],
z.prototype,"readIsTable",null);b.__decorate([g.writer("web-map","isTable")],z.prototype,"writeIsTable",null);b.__decorate([h.property(J.labelsVisible)],z.prototype,"labelsVisible",void 0);b.__decorate([h.property({type:[ka],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:Ea.reader},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:Ea.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],z.prototype,
"labelingInfo",void 0);b.__decorate([h.property(J.opacityDrawingInfo)],z.prototype,"opacity",void 0);b.__decorate([h.property({type:Number,json:{origins:{service:{read:{source:"id"}}},read:!1}})],z.prototype,"layerId",void 0);b.__decorate([h.property(J.legendEnabled)],z.prototype,"legendEnabled",void 0);b.__decorate([h.property({type:["show","hide"]})],z.prototype,"listMode",void 0);b.__decorate([h.property(J.minScale)],z.prototype,"minScale",void 0);b.__decorate([p.reader("service","minScale",["minScale",
"effectiveMinScale"])],z.prototype,"readMinScale",null);b.__decorate([h.property(J.maxScale)],z.prototype,"maxScale",void 0);b.__decorate([p.reader("service","maxScale",["maxScale","effectiveMaxScale"])],z.prototype,"readMaxScale",null);b.__decorate([h.property({type:String})],z.prototype,"globalIdField",void 0);b.__decorate([p.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"]),p.reader("service","globalIdField",["globalIdField","fields"])],z.prototype,"readGlobalIdFieldFromService",
null);b.__decorate([h.property({type:String,json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Va}}}}})],z.prototype,"objectIdField",void 0);b.__decorate([p.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"]),p.reader("service","objectIdField",["objectIdField","fields"])],z.prototype,"readObjectIdFieldFromService",null);b.__decorate([h.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],z.prototype,"operationalLayerType",
void 0);b.__decorate([h.property(d.outFields)],z.prototype,"outFields",void 0);b.__decorate([h.property({readOnly:!0})],z.prototype,"parsedUrl",null);b.__decorate([h.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],z.prototype,"path",void 0);b.__decorate([h.property(J.popupEnabled)],z.prototype,"popupEnabled",void 0);b.__decorate([h.property({type:x,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],z.prototype,"popupTemplate",void 0);b.__decorate([h.property({readOnly:!0})],
z.prototype,"defaultPopupTemplate",null);b.__decorate([h.property({type:[Ga],readOnly:!0})],z.prototype,"relationships",void 0);b.__decorate([h.property({types:U.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:U.webSceneRendererTypes,write:{target:"layerDefinition.drawingInfo.renderer",writer:W.write}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(Fa,La,ua){return{ignoreOrigin:null==ua?void 0:ua.writeLayerSchema}},writer:W.write}}})],
z.prototype,"renderer",null);b.__decorate([p.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),p.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],z.prototype,"readRenderer",null);b.__decorate([h.property()],z.prototype,"sourceJSON",void 0);b.__decorate([h.property({type:Boolean})],z.prototype,"returnM",void 0);b.__decorate([h.property({type:Boolean})],z.prototype,"returnZ",void 0);b.__decorate([h.property(J.screenSizePerspectiveEnabled)],
z.prototype,"screenSizePerspectiveEnabled",void 0);b.__decorate([h.property()],z.prototype,"source",null);b.__decorate([m.cast("source")],z.prototype,"castSource",null);b.__decorate([p.reader("portal-item","source",["featureSet"]),p.reader("web-map","source",["featureSet"])],z.prototype,"readSource",null);b.__decorate([h.property({readOnly:!0})],z.prototype,"serviceDefinitionExpression",void 0);b.__decorate([p.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],
z.prototype,"readServiceDefinitionExpression",null);b.__decorate([h.property({type:v,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:{source:"layerDefinition.extent.spatialReference"}}})],z.prototype,"spatialReference",void 0);b.__decorate([h.property({type:[va]})],z.prototype,"templates",void 0);b.__decorate([p.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],z.prototype,"readTemplates",null);b.__decorate([h.property({type:Q})],z.prototype,"timeInfo",
void 0);b.__decorate([h.property()],z.prototype,"title",void 0);b.__decorate([p.reader("service","title",["name"]),p.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],z.prototype,"readTitle",null);b.__decorate([p.reader("web-map","title",["layerDefinition.name","title"])],z.prototype,"readTitleFromWebMap",null);b.__decorate([h.property({type:String})],z.prototype,"sublayerTitleMode",void 0);b.__decorate([h.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],
z.prototype,"trackIdField",void 0);b.__decorate([h.property({json:{read:!1}})],z.prototype,"type",void 0);b.__decorate([h.property({type:String})],z.prototype,"typeIdField",void 0);b.__decorate([p.reader("service","typeIdField"),p.reader("typeIdField",["layerDefinition.typeIdField"])],z.prototype,"readTypeIdField",null);b.__decorate([h.property({type:[Aa]})],z.prototype,"types",void 0);b.__decorate([p.reader("service","types",["types"]),p.reader("types",["layerDefinition.types"])],z.prototype,"readTypes",
null);b.__decorate([h.property({readOnly:!0,json:{write:!1}})],z.prototype,"serverGens",void 0);b.__decorate([h.property({type:A.ofType(aa.FeatureIndex),readOnly:!0})],z.prototype,"indexes",void 0);b.__decorate([h.property(J.url)],z.prototype,"url",null);b.__decorate([g.writer("url")],z.prototype,"writeUrl",null);b.__decorate([h.property({readOnly:!0})],z.prototype,"userIsAdmin",void 0);b.__decorate([h.property({json:{origins:{service:{read:!0}},read:!1}})],z.prototype,"version",void 0);b.__decorate([p.reader("service",
"version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],z.prototype,"readVersion",null);b.__decorate([h.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],z.prototype,"visible",void 0);b.__decorate([p.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],z.prototype,"readVisible",null);z=b.__decorate([l.subclass("esri.layers.FeatureLayer")],
z);const Ta=q.createTypeReader({types:B.symbolTypesRenderer});return z})},"esri/PopupTemplate":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/lang ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/jsonMap ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/promiseUtils ./core/JSONSupport ./core/Collection ./layers/support/fieldUtils ./popup/content/Content ./popup/content/AttachmentsContent ./popup/content/CustomContent ./popup/FieldInfo ./popup/content/FieldsContent ./popup/content/support/mediaInfoTypes ./popup/content/MediaContent ./popup/content/TextContent ./popup/content ./popup/ExpressionInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C,z,G,H,I,K,L,T){var O;b=w.ofType({key:"type",defaultKeyValue:"button",base:K,typeMap:{button:L,toggle:T}});const U={base:v,key:"type",typeMap:{media:B,custom:A,text:C,attachments:y,fields:x}},W=r.getLogger("esri.PopupTemplate"),S=["attachments","fields","media","text"];r=O=function(N){function P(){var M=N.apply(this,arguments)||this;M.actions=null;M.content="";M.expressionInfos=null;M.fieldInfos=null;M.layerOptions=null;M.lastEditInfoEnabled=
!0;M.outFields=null;M.overwriteActions=!1;M.returnGeometry=!1;M.title="";M.relatedRecordsInfo=null;return M}a._inheritsLoose(P,N);var J=P.prototype;J.castContent=function(M){if(Array.isArray(M))return M.map(R=>k.ensureOneOfType(U,R));if("string"===typeof M||"function"===typeof M||M instanceof HTMLElement||f.isPromiseLike(M))return M;W.error("content error","unsupported content value",{value:M});return null};J.readContent=function(M,R){({popupElements:M}=R);return Array.isArray(M)&&0<M.length?this._readPopupInfoElements(R):
this._readPopupInfo(R)};J.writeContent=function(M,R,X,ia){"string"===typeof M?R.description=M:Array.isArray(M)&&(R.popupElements=M.filter(ha=>-1!==S.indexOf(ha.type)).map(ha=>ha&&ha.toJSON(ia)),R.popupElements.forEach(ha=>{"attachments"===ha.type?this._writeAttachmentContent(R):"media"===ha.type?this._writeMediaContent(ha,R):"text"===ha.type&&this._writeTextContent(ha,R)}))};J.writeFieldInfos=function(M,R,X,ia){({content:X}=this);X=Array.isArray(X)?X:null;if(M){const ha=X?X.filter(ma=>"fields"===
ma.type):[],ja=ha.length&&ha.every(ma=>{var ta;return null==(ta=ma.fieldInfos)?void 0:ta.length});R.fieldInfos=M.filter(Boolean).map(ma=>{ma=ma.toJSON(ia);ja&&(ma.visible=!1);return ma})}if(X)for(const ha of X)"fields"===ha.type&&this._writeFieldsContent(ha,R)};J.writeLayerOptions=function(M,R,X,ia){R[X]=!M||null===M.showNoDataRecords&&null===M.returnTopmostRaster?null:M.toJSON(ia)};J.writeTitle=function(M,R){R.title=M||""};J.clone=function(){var {actions:M}=this;M=M?n.clone(M.toArray()):[];return new O({actions:M,
content:Array.isArray(this.content)?n.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?n.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?n.clone(this.fieldInfos):null,layerOptions:this.layerOptions?n.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?n.clone(this.outFields):null,overwriteActions:this.overwriteActions,returnGeometry:this.returnGeometry,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?
n.clone(this.relatedRecordsInfo):null})};J.collectRequiredFields=async function(M,R){await this._collectExpressionInfoFields(M,R,this.expressionInfos);D.collectFields(M,R,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])};J.getRequiredFields=async function(M){const R=new Set;await this.collectRequiredFields(R,M);return[...R].sort()};J._writeFieldsContent=function(M,R){Array.isArray(M.fieldInfos)&&M.fieldInfos.length&&
(M=n.clone(M.fieldInfos),Array.isArray(R.fieldInfos)?M.forEach(X=>{const ia=R.fieldInfos.find(ha=>ha.fieldName.toLowerCase()===X.fieldName.toLowerCase());ia?ia.visible=!0:R.fieldInfos.push(X)}):R.fieldInfos=M)};J._writeAttachmentContent=function(M){M.showAttachments||(M.showAttachments=!0)};J._writeTextContent=function(M,R){!R.description&&M.text&&(R.description=M.text)};J._writeMediaContent=function(M,R){Array.isArray(M.mediaInfos)&&M.mediaInfos.length&&(M=n.clone(M.mediaInfos),Array.isArray(R.mediaInfos)?
R.mediaInfos=[...R.mediaInfos,...M]:R.mediaInfos=M)};J._readPopupInfoElements=function({description:M,mediaInfos:R,popupElements:X}){var ia=!1,ha=!1;return X.map(ja=>{if("media"===ja.type)return ja.mediaInfos||!R||ha||(ja.mediaInfos=R,ha=!0),B.fromJSON(ja);if("text"===ja.type)return ja.text||!M||ia||(ja.text=M,ia=!0),C.fromJSON(ja);if("attachments"===ja.type)return y.fromJSON(ja);if("fields"===ja.type)return x.fromJSON(ja)}).filter(Boolean)};J._readPopupInfo=function({description:M,mediaInfos:R,showAttachments:X}){const ia=
[];M?ia.push(new C({text:M})):ia.push(new x);Array.isArray(R)&&R.length&&ia.push(B.fromJSON({mediaInfos:R}));X&&ia.push(y.fromJSON({displayType:"list"}));return ia.length?ia:M};J._getContentElementFields=function(M){if(!M||"attachments"===M.type)return[];if("custom"===M.type)return M.outFields||[];if("fields"===M.type)return this._getFieldInfoFields(M.fieldInfos||this.fieldInfos);if("media"===M.type)return(M.mediaInfos||[]).reduce((R,X)=>[...R,...this._getMediaInfoFields(X)],[]);if("text"===M.type)return this._extractFieldNames(M.text)};
J._getMediaInfoFields=function(M){const {caption:R,title:X,value:ia}=M,{fields:ha=[],normalizeField:ja,tooltipField:ma,sourceURL:ta,linkURL:Z}=ia||{};M=[...this._extractFieldNames(X),...this._extractFieldNames(R),...this._extractFieldNames(ta),...this._extractFieldNames(Z),...ha];ja&&M.push(ja);ma&&M.push(ma);return M};J._getContentFields=function(M){return"string"===typeof M?this._extractFieldNames(M):Array.isArray(M)?M.reduce((R,X)=>[...R,...this._getContentElementFields(X)],[]):[]};J._collectExpressionInfoFields=
async function(M,R,X){X&&await Promise.all(X.map(ia=>D.collectArcadeFieldNames(M,R,ia.expression)))};J._getFieldInfoFields=function(M){return M?M.filter(R=>"undefined"===typeof R.visible?!0:!!R.visible).map(R=>R.fieldName).filter(R=>-1===R.indexOf("relationships/")&&-1===R.indexOf("expression/")):[]};J._getActionsFields=function(M){return M?M.toArray().reduce((R,X)=>[...R,...this._getActionFields(X)],[]):[]};J._getActionFields=function(M){const {className:R,title:X,type:ia}=M;M="button"===ia||"toggle"===
ia?M.image:"";return[...this._extractFieldNames(X),...this._extractFieldNames(R),...this._extractFieldNames(M)]};J._getTitleFields=function(M){return"string"===typeof M?this._extractFieldNames(M):[]};J._extractFieldNames=function(M){if(!M||"string"!==typeof M)return[];M=M.match(/{[^}]*}/g);if(!M)return[];const R=/\{(\w+):.+\}/;return(M=M.filter(X=>!(0===X.indexOf("{relationships/")||0===X.indexOf("{expression/"))).map(X=>X.replace(R,"{$1}")))?M.map(X=>X.slice(1,-1)):[]};return P}(u.JSONSupport);c.__decorate([d.property({type:b})],
r.prototype,"actions",void 0);c.__decorate([d.property()],r.prototype,"content",void 0);c.__decorate([h.cast("content")],r.prototype,"castContent",null);c.__decorate([t.reader("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments"])],r.prototype,"readContent",null);c.__decorate([q.writer("content",{popupElements:{type:w.ofType(z.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:w.ofType(F.types)},description:{type:String}})],r.prototype,"writeContent",
null);c.__decorate([d.property({type:[G],json:{write:!0}})],r.prototype,"expressionInfos",void 0);c.__decorate([d.property({type:[E]})],r.prototype,"fieldInfos",void 0);c.__decorate([q.writer("fieldInfos")],r.prototype,"writeFieldInfos",null);c.__decorate([d.property({type:H})],r.prototype,"layerOptions",void 0);c.__decorate([q.writer("layerOptions")],r.prototype,"writeLayerOptions",null);c.__decorate([d.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},
default:!0}})],r.prototype,"lastEditInfoEnabled",void 0);c.__decorate([d.property()],r.prototype,"outFields",void 0);c.__decorate([d.property()],r.prototype,"overwriteActions",void 0);c.__decorate([d.property()],r.prototype,"returnGeometry",void 0);c.__decorate([d.property({json:{type:String}})],r.prototype,"title",void 0);c.__decorate([q.writer("title")],r.prototype,"writeTitle",null);c.__decorate([d.property({type:I,json:{write:!0}})],r.prototype,"relatedRecordsInfo",void 0);return r=O=c.__decorate([p.subclass("esri.PopupTemplate")],
r)})},"esri/popup/content/Content":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,e)||this;e.type=
null;return e}a._inheritsLoose(g,l);return g}(q.JSONSupport);c.__decorate([k.property({type:["attachments","custom","fields","media","text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c.__decorate([h.subclass("esri.popup.content.Content")],b)})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.description=null;f.displayType=null;f.title=null;f.type="attachments";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({description:this.description,displayType:this.displayType,title:this.title})};return e}(q);c.__decorate([k.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],b.prototype,"description",void 0);c.__decorate([k.property({type:["preview","list"],json:{write:!0}})],
b.prototype,"displayType",void 0);c.__decorate([k.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],b.prototype,"title",void 0);c.__decorate([k.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.popup.content.AttachmentsContent")],b)})},"esri/popup/content/CustomContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=e.call(this,u)||this;u.creator=null;u.destroyer=null;u.outFields=null;u.type="custom";return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?n.clone(this.outFields):null})};return f}(l);c.__decorate([d.property()],b.prototype,"creator",void 0);c.__decorate([d.property()],b.prototype,"destroyer",void 0);c.__decorate([d.property()],
b.prototype,"outFields",void 0);c.__decorate([d.property({type:["custom"],readOnly:!0})],b.prototype,"type",void 0);return b=g=c.__decorate([m.subclass("esri.popup.content.CustomContent")],b)})},"esri/popup/FieldInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./support/FieldInfoFormat".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=f=function(u){function w(D){D=u.call(this,D)||this;D.fieldName=null;D.format=null;D.isEditable=!1;D.label=null;D.stringFieldOption="text-box";D.statisticType=null;D.tooltip=null;D.visible=!0;return D}a._inheritsLoose(w,u);w.prototype.clone=function(){return new f({fieldName:this.fieldName,format:this.format?n.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,
tooltip:this.tooltip,visible:this.visible})};return w}(g.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);c.__decorate([d.property({type:e,json:{write:!0}})],b.prototype,"format",void 0);c.__decorate([d.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([m.enumeration(new h.JSONMap({richtext:"rich-text",textarea:"text-area",
textbox:"text-box"}),{default:"text-box"})],b.prototype,"stringFieldOption",void 0);c.__decorate([d.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);c.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"visible",void 0);return b=f=c.__decorate([t.subclass("esri.popup.FieldInfo")],b)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../core/date ../../intl/date ../../intl/number".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=f=function(u){function w(v){v=u.call(this,v)||this;v.dateFormat=null;v.digitSeparator=!1;v.places=null;return v}a._inheritsLoose(w,u);var D=w.prototype;D.clone=function(){return new f({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};D.format=function(v){return this.dateFormat?g.formatDate(v,g.convertDateFormatToIntlOptions(this.dateFormat)):e.formatNumber(v,e.convertNumberFormatToIntlOptions(this))};return w}(q.JSONSupport);
c.__decorate([d.enumeration(l.dictionary)],b.prototype,"dateFormat",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);c.__decorate([k.property({type:r.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=f=c.__decorate([h.subclass("esri.popup.support.FieldInfoFormat")],b)})},"esri/core/date":function(){define(["exports","./jsonMap"],function(a,c){const b={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};c=c.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});const n=c.toJSON.bind(c),r=c.fromJSON.bind(c);a.dictionary=c;a.formats=b;a.fromJSON=r;a.getFormat=function(k){return b[k]};a.toJSON=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/FieldsContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content ../FieldInfo".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=f=function(u){function w(v){v=u.call(this,v)||this;v.description=null;v.fieldInfos=null;v.title=null;v.type="fields";return v}a._inheritsLoose(w,u);var D=w.prototype;D.writeFieldInfos=function(v,y){y.fieldInfos=v&&v.map(A=>A.toJSON())};D.clone=function(){return new f({description:this.description,fieldInfos:Array.isArray(this.fieldInfos)?n.clone(this.fieldInfos):null,title:this.title})};return w}(g);c.__decorate([d.property({json:{write:!0,origins:{"web-scene":{write:!1,
read:!1}}}})],b.prototype,"description",void 0);c.__decorate([d.property({type:[e]})],b.prototype,"fieldInfos",void 0);c.__decorate([t.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);c.__decorate([d.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],b.prototype,"title",void 0);c.__decorate([d.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=f=c.__decorate([m.subclass("esri.popup.content.FieldsContent")],b)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../mixins/MediaInfo ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo".split(" "),
function(a,c,b,n,r,k,d){c={base:c,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":n,"line-chart":k,"pie-chart":d,image:r}};a.default=c;a.types=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,e)||this;e.altText=null;e.caption="";e.title="";e.type=null;return e}a._inheritsLoose(g,l);return g}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"altText",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);c.__decorate([k.property({type:["image","bar-chart",
"column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c.__decorate([h.subclass("esri.popup.content.mixins.MediaInfo")],b)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=e.call(this,u)||this;u.type="bar-chart";return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return f}(q);c.__decorate([k.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:l.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=g=c.__decorate([h.subclass("esri.popup.content.BarChartMediaInfo")],
b)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(a,c,b,n,r,k,d,h,
m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.type=null;f.value=null;return f}a._inheritsLoose(e,g);return e}(q);c.__decorate([k.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);c.__decorate([k.property({type:l,json:{write:!0}})],b.prototype,"value",void 0);return b=c.__decorate([h.subclass("esri.popup.content.mixins.ChartMediaInfo")],b)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/lang ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ./ChartMediaInfoValueSeries".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(w){w=f.call(this,w)||this;w.fields=[];w.normalizeField=null;w.series=[];w.tooltipField=null;return w}a._inheritsLoose(u,f);u.prototype.clone=function(){return new e({fields:n.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})};return u}(l.JSONSupport);c.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],
b.prototype,"normalizeField",void 0);c.__decorate([d.property({type:[g],json:{read:!1}})],b.prototype,"series",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=e=c.__decorate([m.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/aliasOf ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=e.call(this,u)||this;u.tooltip=null;u.value=null;u.x=null;u.y=null;return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({tooltip:this.tooltip,value:this.value})};return f}(l);c.__decorate([k.property()],b.prototype,"tooltip",void 0);c.__decorate([k.property()],b.prototype,"value",void 0);c.__decorate([d.aliasOf("value")],b.prototype,"x",void 0);c.__decorate([d.aliasOf("tooltip")],b.prototype,"y",void 0);
return b=g=c.__decorate([m.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],b)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["exports","./property"],function(a,c){a.aliasOf=function(b,n){return c.property({aliasOf:n?{...n,source:b}:b})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,c){c=c.strict()({barchart:"bar-chart",columnchart:"column-chart",
linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=e.call(this,u)||this;u.type="column-chart";return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return f}(q);c.__decorate([k.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:l.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=g=c.__decorate([h.subclass("esri.popup.content.ColumnChartMediaInfo")],
b)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=
e.call(this,u)||this;u.refreshInterval=null;u.type="image";u.value=null;return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};return f}(q);c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"refreshInterval",void 0);c.__decorate([k.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);
c.__decorate([k.property({type:l,json:{write:!0}})],b.prototype,"value",void 0);return b=g=c.__decorate([h.subclass("esri.popup.content.ImageMediaInfo")],b)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.linkURL=null;f.sourceURL=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({linkURL:this.linkURL,sourceURL:this.sourceURL})};return e}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=l=c.__decorate([h.subclass("esri.popup.content.support.ImageMediaInfoValue")],
b)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=
e.call(this,u)||this;u.type="line-chart";return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return f}(q);c.__decorate([k.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:l.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=g=c.__decorate([h.subclass("esri.popup.content.LineChartMediaInfo")],b)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=e.call(this,u)||this;u.type="pie-chart";return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};return f}(q);c.__decorate([k.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:l.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=g=c.__decorate([h.subclass("esri.popup.content.PieChartMediaInfo")],
b)})},"esri/popup/content/MediaContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content ./BarChartMediaInfo ./ColumnChartMediaInfo ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y){var A;b=A=function(E){function x(B){B=E.call(this,B)||this;B.activeMediaInfoIndex=null;B.description=null;B.mediaInfos=null;B.title=null;B.type="media";return B}a._inheritsLoose(x,E);var F=x.prototype;F.readMediaInfos=function(B){return B&&B.map(C=>{if("image"===C.type)return w.fromJSON(C);if("barchart"===C.type)return f.fromJSON(C);if("columnchart"===C.type)return u.fromJSON(C);if("linechart"===C.type)return D.fromJSON(C);if("piechart"===C.type)return v.fromJSON(C)}).filter(Boolean)};
F.writeMediaInfos=function(B,C){C.mediaInfos=B&&B.map(z=>z.toJSON())};F.clone=function(){return new A({activeMediaInfoIndex:this.activeMediaInfoIndex,description:this.description,mediaInfos:this.mediaInfos?n.clone(this.mediaInfos):null,title:this.title})};return x}(e);c.__decorate([d.property()],b.prototype,"activeMediaInfoIndex",void 0);c.__decorate([d.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],b.prototype,"description",void 0);c.__decorate([d.property({types:[y.types]})],
b.prototype,"mediaInfos",void 0);c.__decorate([m.reader("mediaInfos")],b.prototype,"readMediaInfos",null);c.__decorate([p.writer("mediaInfos")],b.prototype,"writeMediaInfos",null);c.__decorate([d.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],b.prototype,"title",void 0);c.__decorate([d.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=A=c.__decorate([t.subclass("esri.popup.content.MediaContent")],b)})},"esri/popup/content/TextContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Content".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.text=null;f.type="text";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({text:this.text})};return e}(q);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);c.__decorate([k.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.popup.content.TextContent")],b)})},"esri/popup/content":function(){define("exports ./content/Content ./content/AttachmentsContent ./content/CustomContent ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(a,c,b,n,r,k,d){const h={base:null,key:"type",typeMap:{attachment:b,media:k,text:d,field:r}};a.BaseContent=c;a.AttachmentsContent=b;a.CustomContent=n;a.FieldsContent=r;a.MediaContent=k;a.TextContent=d;a.isContent=function(m){return m instanceof c};a.persistableTypes=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/popup/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.name=null;f.title=null;f.expression=null;f.returnType=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return e}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",
void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);c.__decorate([k.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=l=c.__decorate([h.subclass("esri.popup.ExpressionInfo")],b)})},"esri/popup/LayerOptions":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.returnTopmostRaster=null;f.showNoDataRecords=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};return e}(q.JSONSupport);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,
"showNoDataRecords",void 0);return b=l=c.__decorate([h.subclass("esri.popup.LayerOptions")],b)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(w){w=f.call(this,w)||this;w.showRelatedRecords=null;w.orderByFields=null;return w}a._inheritsLoose(u,f);u.prototype.clone=function(){return new e({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?n.clone(this.orderByFields):null})};return u}(l.JSONSupport);c.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);c.__decorate([d.property({type:[g],json:{write:!0}})],
b.prototype,"orderByFields",void 0);return b=e=c.__decorate([m.subclass("esri.popup.RelatedRecordsInfo")],b)})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.field=null;f.order=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({field:this.field,order:this.order})};return e}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);c.__decorate([k.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=l=c.__decorate([h.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],
b)})},"esri/support/actions/ActionBase":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../core/Identifiable".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=
e.call(this,u)||this;u.active=!1;u.className=null;u.disabled=!1;u.id=null;u.indicator=!1;u.title=null;u.type=null;u.visible=!0;return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};return f}(l.IdentifiableMixin(q));c.__decorate([k.property()],b.prototype,"active",void 0);c.__decorate([k.property()],b.prototype,"className",void 0);c.__decorate([k.property()],
b.prototype,"disabled",void 0);c.__decorate([k.property()],b.prototype,"id",void 0);c.__decorate([k.property()],b.prototype,"indicator",void 0);c.__decorate([k.property()],b.prototype,"title",void 0);c.__decorate([k.property()],b.prototype,"type",void 0);c.__decorate([k.property()],b.prototype,"visible",void 0);return b=g=c.__decorate([h.subclass("esri.support.actions.ActionBase")],b)})},"esri/support/actions/ActionButton":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./ActionBase".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.image=null;f.type="button";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};return e}(q);c.__decorate([k.property()],b.prototype,"image",void 0);return b=l=c.__decorate([h.subclass("esri.support.Action.ActionButton")],b)})},
"esri/support/actions/ActionToggle":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./ActionBase".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.image=
null;f.type="toggle";f.value=!1;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};return e}(q);c.__decorate([k.property()],b.prototype,"image",void 0);c.__decorate([k.property()],b.prototype,"value",void 0);return b=l=c.__decorate([h.subclass("esri.support.Action.ActionToggle")],b)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/Symbol ./symbols/CIMSymbol ./symbols/Symbol3DLayer ./symbols/ExtrudeSymbol3DLayer ./symbols/SimpleLineSymbol ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LineSymbol3DLayer ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/Symbol3D ./chunks/LineCallout3DBorder ./symbols/callouts/LineCallout3D ./symbols/support/Symbol3DVerticalOffset ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleMarkerSymbol ./symbols/TextSymbol ./symbols/WebStyleSymbol".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C,z,G,H,I,K,L){const T={base:n,key:"type",typeMap:{"simple-fill":H,"picture-fill":B,"picture-marker":C,"simple-line":h,"simple-marker":I,text:K,"label-3d":A,"line-3d":E,"mesh-3d":F,"point-3d":z,"polygon-3d":G,"web-style":L,cim:r},errorContext:"symbol"},O={base:n,key:"type",typeMap:{"picture-marker":C,"simple-marker":I,text:K,"web-style":L,cim:r},errorContext:"symbol"};b=b.createTypeReader({types:T});const U={base:n,key:"type",typeMap:{"simple-fill":H,
"picture-fill":B,"picture-marker":C,"simple-line":h,"simple-marker":I,text:K,"line-3d":E,"mesh-3d":F,"point-3d":z,"polygon-3d":G,"web-style":L,cim:r},errorContext:"symbol"},W={base:n,key:"type",typeMap:{text:K,"label-3d":A},errorContext:"symbol"},S={base:n,key:"type",typeMap:{"label-3d":A,"line-3d":E,"mesh-3d":F,"point-3d":z,"polygon-3d":G,"web-style":L},errorContext:"symbol"},N={base:n,key:"type",typeMap:{"line-3d":E,"mesh-3d":F,"point-3d":z,"polygon-3d":G,"web-style":L},errorContext:"symbol"},P=
{base:n,key:"type",typeMap:{"label-3d":A},errorContext:"symbol"};c=c.ensureOneOfType(T);a.BaseSymbol=n;a.CIMSymbol=r;a.BaseSymbol3DLayer=k;a.ExtrudeSymbol3DLayer=d;a.SimpleLineSymbol=h;a.BaseFillSymbol=m;a.FillSymbol3DLayer=t;a.Font=p;a.IconSymbol3DLayer=q;a.LineSymbol3DLayer=l;a.ObjectSymbol3DLayer=g;a.PathSymbol3DLayer=e;a.TextSymbol3DLayer=f;a.WaterSymbol3DLayer=u;a.BaseSymbol3D=w;a.LineCallout3DBorder=D.LineCallout3DBorder;a.LineCallout3D=v;Object.defineProperty(a,"Symbol3DVerticalOffset",{enumerable:!0,
get:function(){return y.Symbol3DVerticalOffset}});a.LabelSymbol3D=A;a.LineSymbol3D=E;a.BaseMarkerSymbol=x;a.MeshSymbol3D=F;a.PictureFillSymbol=B;a.PictureMarkerSymbol=C;a.PointSymbol3D=z;a.PolygonSymbol3D=G;a.SimpleFillSymbol=H;a.SimpleMarkerSymbol=I;a.TextSymbol=K;a.WebStyleSymbol=L;a.ensureType=c;a.isSymbol=function(J){return J instanceof n};a.isSymbol2D=function(J){if(!J)return!1;switch(J.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};a.isSymbol3D=function(J){if(!J)return!1;switch(J.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};a.readSymbol=b;a.symbolTypes=T;a.symbolTypes3D=S;a.symbolTypesCluster=O;a.symbolTypesLabel=W;a.symbolTypesLabel3D=P;a.symbolTypesRenderer=U;a.symbolTypesRenderer3D=N;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/Symbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ../Color".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){b=new d.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let e=0;l=function(f){function u(D){D=f.call(this,D)||this;D.id=`sym${e++}`;D.type=null;return D}a._inheritsLoose(u,
f);var w=u.prototype;w.readColor=function(D){return D&&null!=D[0]?[D[0],D[1],D[2],D[3]/255]:D};w.collectRequiredFields=async function(D,v){};w.hash=function(){return JSON.stringify(this.toJSON())};w.clone=function(){};a._createClass(u,[{key:"color",set:function(D){this._set("color",D)}}]);return u}(l.JSONSupport);c.__decorate([k.property({type:b.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:b.write}}})],l.prototype,"type",void 0);c.__decorate([k.property({type:g,value:new g([0,
0,0,1]),json:{write:{allowNull:!0}}})],l.prototype,"color",null);c.__decorate([h.reader("color")],l.prototype,"readColor",null);return l=c.__decorate([m.subclass("esri.symbols.Symbol")],l)})},"esri/symbols/CIMSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/string ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){var w;b=w=function(D){function v(A){A=D.call(this,A)||this;A.data=null;A.type="cim";return A}a._inheritsLoose(v,D);var y=v.prototype;y.readData=function(A,E){return E};y.writeData=function(A,E){if(A)for(const x in A)E[x]=A[x]};y.collectRequiredFields=async function(A,E){if("CIMSymbolReference"===this.data.type){var x=this.data.primitiveOverrides;x&&(x=x.map(F=>f.collectArcadeFieldNames(A,E,F.valueExpressionInfo.expression)),await Promise.all(x))}};y.clone=
function(){return new w({data:n.clone(this.data)})};y.hash=function(){return r.numericHash(JSON.stringify(this.data)).toString()};return v}(u);c.__decorate([h.property({json:{write:!1}})],b.prototype,"color",void 0);c.__decorate([h.property({json:{write:!0}})],b.prototype,"data",void 0);c.__decorate([t.reader("data",["symbol"])],b.prototype,"readData",null);c.__decorate([q.writer("data")],b.prototype,"writeData",null);c.__decorate([m.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],b.prototype,
"type",void 0);return b=w=c.__decorate([p.subclass("esri.symbols.CIMSymbol")],b)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),function(a,
c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.enabled=!0;f.type=null;return f}a._inheritsLoose(e,g);e.prototype.writeEnabled=function(f,u,w){f||(u[w]=f)};return e}(l.JSONSupport);c.__decorate([k.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);c.__decorate([m.writer("enabled")],b.prototype,"writeEnabled",null);c.__decorate([k.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],
b.prototype,"type",void 0);return b=c.__decorate([h.subclass("esri.symbols.Symbol3DLayer")],b)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=f=function(u){function w(D){D=u.call(this,D)||this;D.type="extrude";D.size=1;D.material=null;D.castShadows=!0;D.edges=null;return D}a._inheritsLoose(w,u);w.prototype.clone=function(){return new f({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};return w}(l);c.__decorate([h.enumeration({Extrude:"extrude"},{readOnly:!0})],b.prototype,"type",
void 0);c.__decorate([d.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],b.prototype,"size",void 0);c.__decorate([d.property({type:e["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([d.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);c.__decorate([d.property(g.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=f=c.__decorate([m.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)})},
"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,c,b,n){a.symbol3dEdgesProperty={types:{key:"type",base:c,typeMap:{solid:n,sketch:b}},json:{write:!0}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color ../../core/screenUtils ../support/materialUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){b=function(u){function w(v){v=u.call(this,v)||this;v.color=new g([0,0,0,1]);v.extensionLength=0;v.size=e.px2pt(1);return v}a._inheritsLoose(w,u);var D=w.prototype;D.clone=function(){};D.cloneProperties=function(){return{color:n.clone(this.color),size:this.size,extensionLength:this.extensionLength}};return w}(l.JSONSupport);c.__decorate([d.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);c.__decorate([d.property(f.colorAndTransparencyProperty)],
b.prototype,"color",void 0);c.__decorate([d.property({...f.screenSizeProperty,json:{write:{overridePolicy(u){return{enabled:!!u}}}}})],b.prototype,"extensionLength",void 0);c.__decorate([d.property(f.screenSizeProperty)],b.prototype,"size",void 0);return b=c.__decorate([m.subclass("esri.symbols.edges.Edges3D")],b)})},"esri/core/screenUtils":function(){define(["exports"],function(a){function c(n){return n?72*n/96:0}const b=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=function(n){return n};
a.castRenderScreenPointArray3=function(n){return n};a.castScreenPointArray=function(n){return n};a.createRenderScreenPoint=function(n=0,r=0){return{x:n,y:r}};a.createRenderScreenPointArray=function(n=0,r=0){return[n,r]};a.createRenderScreenPointArray3=function(n=0,r=0,k=0){return[n,r,k]};a.createScreenPoint=function(n=0,r=0){return{x:n,y:r}};a.createScreenPointArray=function(n=0,r=0){return[n,r]};a.pt2px=function(n){return n?n/72*96:0};a.px2pt=c;a.screenPointArrayToObject=function(n,r){return r?(r.x=
n[0],r.y=n[1],r):{x:n[0],y:n[1]}};a.screenPointObjectToArray=function(n,r){return r?(r[0]=n.x,r[1]=n.y,2<r.length&&(r[2]=0),r):[n.x,n.y]};a.toPt=function(n){if("string"===typeof n){if(b.test(n)){var r=n.match(b),k=Number(r[1]);r=r[3]&&r[3].toLowerCase();n="-"===n.charAt(0);k="px"===r?c(k):k;return n?-k:k}console.warn("screenUtils.toPt: input not recognized!");return null}return n};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/materialUtils":function(){define(["exports",
"../../core/accessorSupport/ensureType","../../Color","../../core/screenUtils","../../webdoc/support/opacityUtils"],function(a,c,b,n,r){const k={type:Number,cast:n.toPt,json:{write:!0}},d={type:[Number],cast(h){return null!=h?h:Array.isArray(h)?h.map(n.toPt):null},json:{read:!1,write:!1}};a.colorAndTransparencyProperty={type:b,json:{type:[c.Integer],default:null,read:{source:["color","transparency"],reader:function(h,m){h=null!=m.transparency?r.transparencyToOpacity(m.transparency):1;return(m=m.color)&&
Array.isArray(m)?new b([m[0]||0,m[1]||0,m[2]||0,h]):null}},write:{target:{color:{type:[c.Integer]},transparency:{type:c.Integer}},writer:function(h,m){m.color=h.toJSON().slice(0,3);h=r.opacityToTransparency(h.a);0!==h&&(m.transparency=h)}}}};a.screenSizeProperty=k;a.stipplePatternProperty=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Edges3D".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.type="sketch";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l(this.cloneProperties())};return e}(q);c.__decorate([d.enumeration({sketch:"sketch"},{readOnly:!0})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.symbols.edges.SketchEdges3D")],b)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Edges3D".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.type="solid";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l(this.cloneProperties())};return e}(q);c.__decorate([d.enumeration({solid:"solid"},{readOnly:!0})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.symbols.support.SolidEdges3D")],b)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./materialUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;a.Symbol3DMaterial=f=function(u){function w(){var D=u.apply(this,arguments)||this;D.color=null;return D}c._inheritsLoose(w,u);w.prototype.clone=function(){return new f({color:r.isSome(this.color)?this.color.clone():null})};return w}(g.JSONSupport);b.__decorate([h.property(e.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=f=b.__decorate([t.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);
a.default=a.Symbol3DMaterial;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/screenUtils ./LineSymbol ./LineSymbolMarker".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;b=new h.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});e=u=function(w){function D(...y){y=w.call(this,...y)||this;
y.type="simple-line";y.style="solid";y.cap="round";y.join="round";y.marker=null;y.miterLimit=2;return y}a._inheritsLoose(D,w);var v=D.prototype;v.normalizeCtorArgs=function(y,A,E,x,F,B){if(y&&"string"!==typeof y)return y;const C={};null!=y&&(C.style=y);null!=A&&(C.color=A);null!=E&&(C.width=g.toPt(E));null!=x&&(C.cap=x);null!=F&&(C.join=F);null!=B&&(C.miterLimit=g.toPt(B));return C};v.clone=function(){var y;return new u({color:n.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,
miterLimit:this.miterLimit,marker:null==(y=this.marker)?void 0:y.clone()})};v.hash=function(){var y,A;return`${w.prototype.hash.call(this)}.${null==(y=this.color)?void 0:y.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${null==(A=this.marker)?void 0:A.hash()}`};return D}(e);c.__decorate([m.enumeration({esriSLS:"simple-line"},{readOnly:!0})],e.prototype,"type",void 0);c.__decorate([d.property({type:b.apiValues,json:{read:b.read,write:b.write}})],e.prototype,"style",void 0);c.__decorate([d.property({type:["butt",
"round","square"],json:{write:{overridePolicy:(w,D,v)=>({enabled:"round"!==w&&(null==v||null==v.origin)})}}})],e.prototype,"cap",void 0);c.__decorate([d.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(w,D,v)=>({enabled:"round"!==w&&(null==v||null==v.origin)})}}})],e.prototype,"join",void 0);c.__decorate([d.property({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":f}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],e.prototype,"marker",void 0);
c.__decorate([d.property({type:Number,json:{read:!1,write:!1}})],e.prototype,"miterLimit",void 0);return e=u=c.__decorate([t.subclass("esri.symbols.SimpleLineSymbol")],e)})},"esri/symbols/LineSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol ../core/screenUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.type="simple-line";f.width=.75;return f}a._inheritsLoose(e,g);e.prototype.hash=function(){return`${this.type}.${this.width}`};return e}(q);c.__decorate([d.enumeration({esriSLS:"simple-line"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([k.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"width",void 0);return b=c.__decorate([h.subclass("esri.symbols.LineSymbol")],b)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ../Color".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;b=u=function(w){function D(y){y=w.call(this,y)||this;y.placement="begin-end";y.type="line-marker";y.style="arrow";return y}a._inheritsLoose(D,w);var v=D.prototype;v.writeStyle=function(y,A,E,x){A[E]="web-map"===(null==x?void 0:x.origin)?"arrow":y};v.readColor=function(y){return y&&null!=y[0]?[y[0],y[1],y[2],y[3]/255]:y};v.writeColor=function(y,A,E,x){"web-map"!==(null==x?void 0:x.origin)&&(A[E]=y)};v.clone=function(){return new u({color:n.clone(this.color),
placement:this.placement,style:this.style})};v.hash=function(){var y;return`${this.placement}.${null==(y=this.color)?void 0:y.hash()}.${this.style}`};a._createClass(D,[{key:"color",set:function(y){this._set("color",y)}}]);return D}(e.JSONSupport);c.__decorate([d.property({type:["begin","end","begin-end"],json:{write:!0}})],b.prototype,"placement",void 0);c.__decorate([h.enumeration({"line-marker":"line-marker"},{readOnly:!0}),d.property({json:{origins:{"web-map":{write:!1}}}})],b.prototype,"type",
void 0);c.__decorate([d.property({type:"arrow circle square diamond cross x".split(" ")})],b.prototype,"style",void 0);c.__decorate([p.writer("style")],b.prototype,"writeStyle",null);c.__decorate([d.property({type:f,value:null,json:{write:{allowNull:!0}}})],b.prototype,"color",null);c.__decorate([m.reader("color")],b.prototype,"readColor",null);c.__decorate([p.writer("color")],b.prototype,"writeColor",null);return b=u=c.__decorate([t.subclass("esri.symbols.LineSymbolMarker")],b)})},"esri/symbols/FillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol ./SimpleLineSymbol".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.outline=null;f.type=null;return f}a._inheritsLoose(e,g);e.prototype.hash=function(){return`${this.type}.${this.outline&&this.outline.hash()}`};return e}(q);c.__decorate([k.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":l}},json:{default:null,write:!0}})],b.prototype,"outline",void 0);c.__decorate([k.property({type:["simple-fill","picture-fill"],readOnly:!0})],b.prototype,
"type",void 0);return b=c.__decorate([h.subclass("esri.symbols.FillSymbol")],b)})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./edges/utils ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){var v;b=v=function(y){function A(E){E=y.call(this,E)||this;E.type="fill";E.material=null;E.pattern=null;E.castShadows=!0;E.outline=null;E.edges=null;return E}a._inheritsLoose(A,y);A.prototype.clone=function(){return new v({edges:n.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,pattern:n.isSome(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:n.isSome(this.outline)?
this.outline.clone():null})};A.fromSimpleFillSymbol=function(E){return new v({material:{color:(E.color||u.transparentWhite).clone()},pattern:E.style&&"solid"!==E.style?new e({style:E.style}):null,outline:E.outline?new D["default"]({size:E.outline.width||0,color:(E.outline.color||u.white).clone()}):null})};return A}(l);c.__decorate([h.enumeration({Fill:"fill"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([d.property({type:w["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([d.property(f.symbol3dPatternProperty)],
b.prototype,"pattern",void 0);c.__decorate([d.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);c.__decorate([d.property({type:D["default"],json:{write:!0}})],b.prototype,"outline",void 0);c.__decorate([d.property(g.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=v=c.__decorate([m.subclass("esri.symbols.FillSymbol3DLayer")],b)})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Pattern3D ./styles".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=e.call(this,u)||this;u.type="style";u.style="solid";return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({style:this.style})};return f}(q);c.__decorate([k.property({type:["style"]})],b.prototype,"type",void 0);c.__decorate([k.property({type:l,json:{read:!0,write:!0}})],b.prototype,"style",void 0);return b=g=c.__decorate([h.subclass("esri.symbols.patterns.StylePattern3D")],b)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){return l.call(this,e)||this}a._inheritsLoose(g,l);g.prototype.clone=function(){};return g}(q.JSONSupport);c.__decorate([k.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=c.__decorate([h.subclass("esri.symbols.patterns.Pattern3D")],b)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},
"esri/symbols/patterns/utils":function(){define(["exports","./Pattern3D","./StylePattern3D"],function(a,c,b){function n(r,k,d){if(!r)return r;switch(r.type){case "style":return k=new b,k.read(r,d),k}}c={types:{key:"type",base:c,typeMap:{style:b}},json:{read:n,write:!0}};a.read=n;a.symbol3dPatternProperty=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,c){const b=new c("white"),n=new c("black");c=new c([255,
255,255,0]);a.black=n;a.isBlack=function(r){return 0===r.r&&0===r.g&&0===r.b};a.transparentWhite=c;a.white=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Symbol3DMaterial".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;a.Symbol3DFillMaterial=e=function(f){function u(){return f.apply(this,arguments)||this}c._inheritsLoose(u,f);u.prototype.clone=function(){return new e({color:r.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};return u}(g["default"]);b.__decorate([m.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=e=b.__decorate([t.subclass("esri.symbols.support.Symbol3DFillMaterial")],
a.Symbol3DFillMaterial);a.default=a.Symbol3DFillMaterial;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color ../../core/screenUtils ./materialUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){var w;a.Symbol3DOutline=w=function(D){function v(){var y=D.apply(this,arguments)||this;y.color=new e([0,0,0,1]);y.size=f.px2pt(1);y.stipplePattern=null;y.stippleOffColor=null;return y}c._inheritsLoose(v,D);v.prototype.clone=function(){return new w({color:r.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};
return v}(g.JSONSupport);b.__decorate([h.property(u.colorAndTransparencyProperty)],a.Symbol3DOutline.prototype,"color",void 0);b.__decorate([h.property(u.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);b.__decorate([h.property(u.stipplePatternProperty)],a.Symbol3DOutline.prototype,"stipplePattern",void 0);b.__decorate([h.property({type:e})],a.Symbol3DOutline.prototype,"stippleOffColor",void 0);a.Symbol3DOutline=w=b.__decorate([t.subclass("esri.symbols.support.Symbol3DOutline")],a.Symbol3DOutline);
a.default=a.Symbol3DOutline;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/Font":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ../core/screenUtils".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;
b=g=function(e){function f(w){w=e.call(this,w)||this;w.decoration="none";w.family="sans-serif";w.size=9;w.style="normal";w.weight="normal";return w}a._inheritsLoose(f,e);var u=f.prototype;u.castSize=function(w){return l.toPt(w)};u.clone=function(){return new g({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};u.hash=function(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`};return f}(q.JSONSupport);c.__decorate([r.property({type:["underline",
"line-through","none"],json:{default:"none",write:!0}})],b.prototype,"decoration",void 0);c.__decorate([r.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);c.__decorate([r.property({type:Number,json:{write:{overridePolicy(e,f,u){return{enabled:!u||!u.textSymbol3D}}}}})],b.prototype,"size",void 0);c.__decorate([k.cast("size")],b.prototype,"castSize",null);c.__decorate([r.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],b.prototype,"style",void 0);
c.__decorate([r.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",write:!0}})],b.prototype,"weight",void 0);return b=g=c.__decorate([h.subclass("esri.symbols.Font")],b)})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DMaterial ./support/colors ./support/Symbol3DOutline ./support/IconSymbol3DLayerResource ./support/Symbol3DAnchorPosition2D".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){function v(F){const B="width"in F?F.width:F.size,C="height"in F?F.height:F.size,z=y(F.xoffset);F=y(F.yoffset);return(z||F)&&B&&C?{x:-z/B,y:F/C}:null}function y(F){return isFinite(F)?F:0}var A;const E=r.getLogger("esri.symbols.IconSymbol3DLayer");b=A=function(F){function B(C){C=F.call(this,C)||this;C.material=null;C.resource=null;C.type="icon";C.size=12;C.anchor="center";C.anchorPosition=void 0;C.outline=void 0;return C}a._inheritsLoose(B,F);B.prototype.clone=
function(){return new A({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,outline:n.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};B.fromSimpleMarkerSymbol=function(C){const z=C.color||f.white,G=v(C),H=C.outline&&0<C.outline.width?{size:C.outline.width,color:(C.outline.color||f.white).clone()}:null;var I=A,K=C.size;{C=C.style;
const L=x[C];L?C=L:(E.warn(`${C} cannot be mapped to Icon symbol. Fallback to "circle"`),C="circle")}return new I({size:K,resource:{primitive:C},material:{color:z},outline:H,anchor:G?"relative":void 0,anchorPosition:G})};B.fromPictureMarkerSymbol=function(C){const z=!C.color||f.isBlack(C.color)?f.white:C.color,G=v(C);return new A({size:C.width<=C.height?C.height:C.width,resource:{href:C.url},material:{color:z.clone()},anchor:G?"relative":void 0,anchorPosition:G})};B.fromCIMSymbol=function(C){return new A({resource:{href:t.makeData({mediaType:"application/json",
data:JSON.stringify(C.data)})}})};return B}(l);c.__decorate([d.property({type:e["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([d.property({type:w["default"],json:{write:!0}})],b.prototype,"resource",void 0);c.__decorate([h.enumeration({Icon:"icon"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([d.property(g.screenSizeProperty)],b.prototype,"size",void 0);c.__decorate([h.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",
topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),d.property({json:{default:"center"}})],b.prototype,"anchor",void 0);c.__decorate([d.property({type:D.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:F=>new D.Symbol3DAnchorPosition2D({x:F[0],y:F[1]})},write:{writer:(F,B)=>{B.anchorPosition=[F.x,F.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);c.__decorate([d.property({type:u["default"],
json:{write:!0}})],b.prototype,"outline",void 0);b=A=c.__decorate([m.subclass("esri.symbols.IconSymbol3DLayer")],b);const x={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return b})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../chunks/persistableUrlUtils ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){var w;n=h.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=w=function(D){function v(A){return D.call(this,A)||this}c._inheritsLoose(v,D);var y=v.prototype;y.readHref=function(A,E,x){return A?f.fromJSON(A,x):E.dataURI};y.writeHref=function(A,E,x,F){A&&(l.isDataProtocol(A)?E.dataURI=A:(E.href=f.toJSON(A,F),l.isAbsolute(E.href)&&(E.href=l.normalize(E.href))))};y.clone=function(){return new w({href:this.href,
primitive:this.primitive})};return v}(u.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([t.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);b.__decorate([q.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);b.__decorate([m.enumeration(n)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);
a.IconSymbol3DLayerResource=w=b.__decorate([p.subclass("esri.symbols.support.IconSymbol3DLayerResource")],a.IconSymbol3DLayerResource);a.default=a.IconSymbol3DLayerResource;a.defaultPrimitive="circle";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.Symbol3DAnchorPosition2D=g=function(e){function f(){var u=e.apply(this,arguments)||this;u.x=0;u.y=0;return u}c._inheritsLoose(f,e);f.prototype.clone=function(){return new g({x:this.x,y:this.y})};return f}(l);b.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);b.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=g=b.__decorate([m.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],
a.Symbol3DAnchorPosition2D);a.default=a.Symbol3DAnchorPosition2D;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ./Symbol3DLayer ../core/screenUtils ./support/materialUtils ./support/Symbol3DMaterial ./support/colors".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w){var D;b=D=function(v){function y(A){A=v.call(this,A)||this;A.material=null;A.type="line";A.join="miter";A.cap="butt";A.size=e.px2pt(1);A.stipplePattern=null;A.stippleOffColor=null;return A}a._inheritsLoose(y,v);y.prototype.clone=function(){return new D({enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?
this.stippleOffColor.clone():null})};y.fromSimpleLineSymbol=function(A){return new D({size:A.width||1,cap:A.cap||"butt",join:A.join||"miter",material:{color:(A.color||w.white).clone()}})};return y}(g);c.__decorate([d.property({type:u["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([h.enumeration({Line:"line"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([d.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);c.__decorate([d.property({type:["butt",
"square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);c.__decorate([d.property(f.screenSizeProperty)],b.prototype,"size",void 0);c.__decorate([d.property(f.stipplePatternProperty)],b.prototype,"stipplePattern",void 0);c.__decorate([d.property({type:l})],b.prototype,"stippleOffColor",void 0);return b=D=c.__decorate([m.subclass("esri.symbols.LineSymbol3DLayer")],b)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./support/Symbol3DMaterial ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;b=u=function(w){function D(v){v=w.call(this,v)||this;v.material=null;v.castShadows=!0;v.resource=null;v.type="object";v.width=void 0;v.height=void 0;v.depth=void 0;v.anchor=void 0;v.anchorPosition=void 0;v.heading=void 0;v.tilt=void 0;v.roll=void 0;return v}a._inheritsLoose(D,w);D.prototype.clone=function(){return new u({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),
depth:this.depth,enabled:this.enabled,height:this.height,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};a._createClass(D,[{key:"isPrimitive",get:function(){return!this.resource||"string"!==typeof this.resource.href}}]);return D}(l);c.__decorate([d.property({type:g["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([d.property({type:Boolean,nonNullable:!0,json:{write:!0,
default:!0}})],b.prototype,"castShadows",void 0);c.__decorate([d.property({type:e["default"],json:{write:!0}})],b.prototype,"resource",void 0);c.__decorate([h.enumeration({Object:"object"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);c.__decorate([h.enumeration({center:"center",
top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),d.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);c.__decorate([d.property({type:f.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:w=>new f.Symbol3DAnchorPosition3D({x:w[0],y:w[1],z:w[2]})},write:{writer:(w,D)=>{D.anchorPosition=[w.x,w.y,w.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,
"heading",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"isPrimitive",null);return b=u=c.__decorate([m.subclass("esri.symbols.ObjectSymbol3DLayer")],b)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../chunks/persistableUrlUtils ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;n=h.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=f=function(u){function w(){return u.apply(this,arguments)||this}c._inheritsLoose(w,u);w.prototype.clone=function(){return new f({href:this.href,primitive:this.primitive})};return w}(e.JSONSupport);b.__decorate([d.property({type:String,json:{read:g.read,write:g.write}})],a.ObjectSymbol3DLayerResource.prototype,
"href",void 0);b.__decorate([m.enumeration(n)],a.ObjectSymbol3DLayerResource.prototype,"primitive",void 0);a.ObjectSymbol3DLayerResource=f=b.__decorate([t.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.default=a.ObjectSymbol3DLayerResource;a.defaultPrimitive="sphere";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.Symbol3DAnchorPosition3D=g=function(e){function f(){var u=e.apply(this,arguments)||this;u.x=0;u.y=0;u.z=0;return u}c._inheritsLoose(f,e);f.prototype.clone=function(){return new g({x:this.x,y:this.y,z:this.z})};return f}(l);b.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);b.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);b.__decorate([d.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,
"z",void 0);a.Symbol3DAnchorPosition3D=g=b.__decorate([m.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],a.Symbol3DAnchorPosition3D);a.default=a.Symbol3DAnchorPosition3D;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=f=function(u){function w(v){v=u.call(this,v)||this;v.material=null;v.castShadows=!0;v.type="path";v.profile="circle";v.join="miter";v.cap="butt";v.width=void 0;v.height=void 0;v.anchor="center";v.profileRotation="all";return v}a._inheritsLoose(w,u);var D=w.prototype;D.readSize=function(v,y){return y.height||y.width?v:y.size};D.clone=function(){return new f({enabled:this.enabled,material:n.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};a._createClass(w,[{key:"size",get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(v){this.height=this.width=v}}]);return w}(g);c.__decorate([d.property({type:e["default"],json:{write:!0}})],b.prototype,"material",void 0);
c.__decorate([d.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);c.__decorate([h.enumeration({Path:"path"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([d.property({type:Number})],b.prototype,"size",null);c.__decorate([m.reader("size")],b.prototype,"readSize",null);c.__decorate([d.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);c.__decorate([d.property({type:["miter","bevel","round"],
json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);c.__decorate([d.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);c.__decorate([d.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],b.prototype,"width",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);c.__decorate([d.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],
b.prototype,"anchor",void 0);c.__decorate([d.property({type:["heading","all"],json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=f=c.__decorate([t.subclass("esri.symbols.PathSymbol3DLayer")],b)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DMaterial ./Font ./support/Symbol3DHalo".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){var v;b=v=function(y){function A(x){x=y.call(this,x)||this;x._userSize=void 0;x.halo=null;x.material=null;x.text=void 0;x.type="text";return x}a._inheritsLoose(A,y);var E=A.prototype;E.writeFont=function(x,F,B,C){F.font=x.write({},{...C,textSymbol3D:!0});delete F.font.size};E.clone=function(){return new v({enabled:this.enabled,font:this.font&&n.clone(this.font),halo:this.halo&&n.clone(this.halo),material:r.isSome(this.material)?this.material.clone():
null,size:this.size,text:this.text})};A.fromTextSymbol=function(x){var F=x.haloColor;var B=x.haloSize;F=F&&0<B?{color:n.clone(F),size:B}:null;B=x.font?x.font.clone():new w;return new v({size:B.size,font:B,halo:F,material:x.color?{color:x.color.clone()}:null,text:x.text})};a._createClass(A,[{key:"font",get:function(){return this._get("font")||null},set:function(x){x&&this._userSize&&(x.size=this._userSize);this._set("font",x)}},{key:"size",get:function(){return null!=this._userSize?this._userSize:
this.font&&null!=this.font.size?this.font.size:9},set:function(x){this._userSize=x;this.font&&(this.font.size=this._userSize);this.notifyChange("size")}}]);return A}(e);c.__decorate([h.property({type:w,json:{write:!0}})],b.prototype,"font",null);c.__decorate([p.writer("font")],b.prototype,"writeFont",null);c.__decorate([h.property({type:D["default"],json:{write:!0}})],b.prototype,"halo",void 0);c.__decorate([h.property({type:u["default"],json:{write:!0}})],b.prototype,"material",void 0);c.__decorate([h.property(f.screenSizeProperty),
h.property()],b.prototype,"size",null);c.__decorate([h.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);c.__decorate([m.enumeration({Text:"text"},{readOnly:!0})],b.prototype,"type",void 0);return b=v=c.__decorate([t.subclass("esri.symbols.TextSymbol3DLayer")],b)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color ./materialUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;a.Symbol3DHalo=u=function(w){function D(){var v=w.apply(this,arguments)||this;v.color=new e([0,0,0,1]);v.size=0;return v}c._inheritsLoose(D,w);D.prototype.clone=function(){return new u({color:r.clone(this.color),size:this.size})};return D}(g.JSONSupport);b.__decorate([h.property(f.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);b.__decorate([h.property(f.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=
u=b.__decorate([t.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);a.default=a.Symbol3DHalo;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ./Symbol3DLayer".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(u){function w(D){D=u.call(this,D)||this;D.color=f.clone();D.type="water";D.waterbodySize="medium";D.waveDirection=null;D.waveStrength="moderate";return D}a._inheritsLoose(w,u);w.prototype.clone=function(){return new e({color:n.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};return w}(g);c.__decorate([d.property({type:l,nonNullable:!0,json:{type:[k.Integer],write:(u,w,D)=>
w[D]=u.toArray(1),default:()=>f.clone(),defaultEquals:u=>u.toCss(!0)===f.toCss(!0)}})],b.prototype,"color",void 0);c.__decorate([h.enumeration({Water:"water"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([d.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);c.__decorate([d.property({type:Number,json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);c.__decorate([d.property({type:["calm","rippled","slight","moderate"],
json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);b=e=c.__decorate([m.subclass("esri.symbols.WaterSymbol3DLayer")],b);const f=new l([0,119,190]);return b})},"esri/symbols/Symbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/Warning ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../chunks/persistableUrlUtils ../core/Collection ./Symbol ./Symbol3DLayer ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ../core/collectionUtils ../portal/Portal ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C,z,G,H){const I={icon:y,object:F,line:x,path:B,fill:v,extrude:D,text:C,water:z};b=f.ofType({base:w,key:"type",typeMap:I,errorContext:"symbol-layer"});const K=n.getLogger("esri.symbols.Symbol3D");n=function(L){function T(U){U=L.call(this,U)||this;U.styleOrigin=null;U.thumbnail=null;U.type=null;const W=U.__accessor__&&U.__accessor__.metadatas&&U.__accessor__.metadatas.symbolLayers;U._set("symbolLayers",new (W&&W.type||f));return U}a._inheritsLoose(T,
L);var O=T.prototype;O.readStyleOrigin=function(U,W,S){if(U.styleUrl&&U.name)return W=e.fromJSON(U.styleUrl,S),new G({styleUrl:W,name:U.name});if(U.styleName&&U.name)return new G({portal:S&&S.portal||E.getDefault(),styleName:U.styleName,name:U.name});S&&S.messages&&S.messages.push(new m("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:S,definition:U}))};O.writeStyleOrigin=function(U,W,S,N){U.styleUrl&&U.name?(S=e.toJSON(U.styleUrl,
N),q.isAbsolute(S)&&(S=q.normalize(S)),W.styleOrigin={styleUrl:S,name:U.name}):U.styleName&&U.name&&(U.portal&&N&&N.portal&&!q.hasSamePortal(U.portal.restUrl,N.portal.restUrl)?N&&N.messages&&N.messages.push(new m("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):W.styleOrigin={styleName:U.styleName,name:U.name})};O.normalizeCtorArgs=function(U){return U instanceof w||U&&I[U.type]?{symbolLayers:[U]}:
Array.isArray(U)?{symbolLayers:U}:U};a._createClass(T,[{key:"color",get:function(){return null},set:function(U){K.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}},{key:"symbolLayers",set:function(U){A.referenceSetter(U,this._get("symbolLayers"))}}]);return T}(u);c.__decorate([r.property({json:{read:!1,write:!1}})],n.prototype,"color",null);c.__decorate([r.property({type:b,nonNullable:!0,json:{write:!0}}),k.cast(A.castForReferenceSetter)],
n.prototype,"symbolLayers",null);c.__decorate([r.property({type:G})],n.prototype,"styleOrigin",void 0);c.__decorate([h.reader("styleOrigin")],n.prototype,"readStyleOrigin",null);c.__decorate([p.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],n.prototype,"writeStyleOrigin",null);c.__decorate([r.property({type:H["default"],json:{read:!1}})],n.prototype,"thumbnail",void 0);c.__decorate([r.property({type:["point-3d",
"line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],n.prototype,"type",void 0);return n=c.__decorate([t.subclass("esri.symbols.Symbol3D")],n)})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../portal/Portal".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(){var u=e.apply(this,arguments)||this;u.portal=null;return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};return f}(q);c.__decorate([k.property({type:String})],b.prototype,"name",void 0);c.__decorate([k.property({type:String})],b.prototype,"styleUrl",void 0);c.__decorate([k.property({type:String})],b.prototype,"styleName",void 0);
c.__decorate([k.property({type:l})],b.prototype,"portal",void 0);return b=g=c.__decorate([h.subclass("esri.symbols.support.StyleOrigin")],b)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.Thumbnail=g=function(e){function f(){return e.apply(this,arguments)||this}c._inheritsLoose(f,e);f.prototype.clone=function(){return new g({url:this.url})};return f}(l);b.__decorate([d.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=g=b.__decorate([m.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);a.default=a.Thumbnail;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/LineCallout3DBorder":function(){define("exports ./_rollupPluginBabelHelpers ./tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ../Color ../symbols/support/materialUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;a.LineCallout3DBorder$2=u=function(w){function D(){var v=w.apply(this,arguments)||this;v.color=new e("white");return v}c._inheritsLoose(D,w);D.prototype.clone=function(){return new u({color:r.clone(this.color)})};return D}(g.JSONSupport);b.__decorate([h.property(f.colorAndTransparencyProperty)],a.LineCallout3DBorder$2.prototype,"color",void 0);a.LineCallout3DBorder$2=u=b.__decorate([t.subclass("esri.symbols.callouts.LineCallout3DBorder")],a.LineCallout3DBorder$2);
b=a.LineCallout3DBorder$2;n=Object.freeze({__proto__:null,get LineCallout3DBorder(){return a.LineCallout3DBorder$2},"default":b});a.LineCallout3DBorder=n;a.LineCallout3DBorder$1=b})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../Color ../../core/screenUtils ../support/materialUtils ./Callout3D ../../chunks/LineCallout3DBorder".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w){var D;b=D=function(v){function y(A){A=v.call(this,A)||this;A.type="line";A.color=new g([0,0,0,1]);A.size=e.px2pt(1);A.border=null;return A}a._inheritsLoose(y,v);y.prototype.clone=function(){return new D({color:n.clone(this.color),size:this.size,border:n.clone(this.border)})};a._createClass(y,[{key:"visible",get:function(){return 0<this.size&&r.isSome(this.color)&&0<this.color.a}}]);return y}(u);c.__decorate([m.enumeration({line:"line"},{readOnly:!0})],
b.prototype,"type",void 0);c.__decorate([h.property(f.colorAndTransparencyProperty)],b.prototype,"color",void 0);c.__decorate([h.property(f.screenSizeProperty)],b.prototype,"size",void 0);c.__decorate([h.property({type:w.LineCallout3DBorder$1,json:{write:!0}})],b.prototype,"border",void 0);c.__decorate([h.property({readOnly:!0})],b.prototype,"visible",null);return b=D=c.__decorate([t.subclass("esri.symbols.callouts.LineCallout3D")],b)})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,e)||this;e.visible=!0;return e}a._inheritsLoose(g,l);g.prototype.clone=function(){};return g}(q.JSONSupport);c.__decorate([k.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"visible",void 0);return b=c.__decorate([h.subclass("esri.symbols.callouts.Callout3D")],b)})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./materialUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;a.Symbol3DVerticalOffset=e=function(f){function u(){var w=f.apply(this,arguments)||this;w.screenLength=0;w.minWorldLength=0;return w}c._inheritsLoose(u,f);u.prototype.clone=function(){return new e({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};return u}(l.JSONSupport);b.__decorate([d.property(g.screenSizeProperty)],a.Symbol3DVerticalOffset.prototype,"screenLength",void 0);b.__decorate([d.property({type:Number,
json:{write:!0,default:0}})],a.Symbol3DVerticalOffset.prototype,"minWorldLength",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],a.Symbol3DVerticalOffset.prototype,"maxWorldLength",void 0);a.Symbol3DVerticalOffset=e=b.__decorate([m.subclass("esri.symbols.support.Symbol3DVerticalOffset")],a.Symbol3DVerticalOffset);a.default=a.Symbol3DVerticalOffset;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./TextSymbol3DLayer ./Symbol3D ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){var w;const D=l.ofType({base:null,key:"type",typeMap:{text:g}});b=w=function(v){function y(E){E=v.call(this,E)||this;E.verticalOffset=null;E.callout=null;E.styleOrigin=null;E.symbolLayers=new D;E.type="label-3d";return E}a._inheritsLoose(y,v);var A=y.prototype;A.supportsCallout=function(){return!0};A.hasVisibleCallout=function(){return f.hasVisibleCallout(this)};A.hasVisibleVerticalOffset=function(){return f.hasVisibleVerticalOffset(this)};A.clone=function(){return new w({styleOrigin:n.clone(this.styleOrigin),
symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail),callout:n.clone(this.callout),verticalOffset:n.clone(this.verticalOffset)})};y.fromTextSymbol=function(E){return new w({symbolLayers:[g.fromTextSymbol(E)]})};return y}(e);c.__decorate([d.property({type:u["default"],json:{write:!0}})],b.prototype,"verticalOffset",void 0);c.__decorate([d.property(f.calloutProperty)],b.prototype,"callout",void 0);c.__decorate([d.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);
c.__decorate([d.property({type:D})],b.prototype,"symbolLayers",void 0);c.__decorate([h.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],b.prototype,"type",void 0);return b=w=c.__decorate([m.subclass("esri.symbols.LabelSymbol3D")],b)})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,c,b){function n(r){if(!r)return!1;r=r.verticalOffset;return!r||0>=r.screenLength||0>=r.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:c,
typeMap:{line:b}},json:{write:!0}};a.hasVisibleCallout=function(r){if(!r||!r.supportsCallout||!r.supportsCallout())return!1;const k=r.callout;return k&&k.visible?n(r)?!0:!1:!1};a.hasVisibleVerticalOffset=n;a.isCalloutSupport=function(r){return"point-3d"===r.type||"label-3d"===r.type};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/LineSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;const w=l.ofType({base:null,key:"type",typeMap:{line:g,path:e}});b=l.ofType({base:null,key:"type",typeMap:{line:g,path:e}});f=u=function(D){function v(y){y=D.call(this,y)||this;y.symbolLayers=new w;y.type="line-3d";return y}a._inheritsLoose(v,D);v.prototype.clone=function(){return new u({styleOrigin:n.clone(this.styleOrigin),symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail)})};v.fromSimpleLineSymbol=function(y){return new u({symbolLayers:[g.fromSimpleLineSymbol(y)]})};
return v}(f);c.__decorate([d.property({type:w,json:{type:b}})],f.prototype,"symbolLayers",void 0);c.__decorate([h.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],f.prototype,"type",void 0);return f=u=c.__decorate([m.subclass("esri.symbols.LineSymbol3D")],f)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Symbol ../core/screenUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.angle=0;f.type=null;f.xoffset=0;f.yoffset=0;f.size=9;return f}a._inheritsLoose(e,g);e.prototype.hash=function(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`};return e}(q);c.__decorate([k.property({type:Number,json:{read:g=>g&&-1*g,write:(g,e)=>e.angle=g&&-1*g}})],b.prototype,"angle",void 0);c.__decorate([k.property({type:["simple-marker","picture-marker"],readOnly:!0})],b.prototype,
"type",void 0);c.__decorate([k.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);c.__decorate([k.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);c.__decorate([k.property({type:Number,cast:g=>"auto"===g?g:l.toPt(g),json:{write:!0}})],b.prototype,"size",void 0);return b=c.__decorate([h.subclass("esri.symbols.MarkerSymbol")],b)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;const u=l.ofType({base:null,key:"type",typeMap:{fill:g}});b=f=function(w){function D(v){v=w.call(this,v)||this;v.symbolLayers=new u;v.type="mesh-3d";return v}a._inheritsLoose(D,w);D.prototype.clone=function(){return new f({styleOrigin:n.clone(this.styleOrigin),symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail)})};return D}(e);c.__decorate([d.property({type:u})],b.prototype,"symbolLayers",void 0);c.__decorate([h.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],b.prototype,"type",void 0);return b=f=c.__decorate([m.subclass("esri.symbols.MeshSymbol3D")],b)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/screenUtils ./FillSymbol ./support/urlUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=f=function(u){function w(...v){v=u.call(this,...v)||this;v.type="picture-fill";v.url=null;v.xscale=1;v.yscale=1;v.width=12;v.height=12;v.xoffset=0;v.yoffset=0;v.source=null;return v}a._inheritsLoose(w,u);var D=w.prototype;D.normalizeCtorArgs=function(v,y,A,E){if(v&&"string"!==typeof v&&null==v.imageData)return v;const x={};v&&(x.url=v);y&&(x.outline=y);null!=A&&(x.width=l.toPt(A));null!=E&&(x.height=l.toPt(E));return x};D.clone=function(){const v=new f({color:n.clone(this.color),
height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});v._set("source",n.clone(this.source));return v};D.hash=function(){var v;return`${u.prototype.hash.call(this)}.${null==(v=this.color)?void 0:v.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`};return w}(g);c.__decorate([h.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],
b.prototype,"type",void 0);c.__decorate([d.property(e.urlPropertyDefinition)],b.prototype,"url",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"yscale",void 0);c.__decorate([d.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"width",void 0);c.__decorate([d.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"height",void 0);c.__decorate([d.property({type:Number,
cast:l.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);c.__decorate([d.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);c.__decorate([d.property(e.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=f=c.__decorate([m.subclass("esri.symbols.PictureFillSymbol")],b)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,c,b){function n(h,m,t){return m.imageData?c.makeData({mediaType:m.contentType||
"image/png",isBase64:!0,data:m.imageData}):r(m.url,t)}function r(h,m){return!m||"service"!==m.origin&&"portal-item"!==m.origin||!m.layer||"feature"!==m.layer.type&&"stream"!==m.layer.type||c.isAbsolute(h)||!m.layer.parsedUrl?b.fromJSON(h,m):c.join(m.layer.parsedUrl.path,"images",h)}function k(h,m,t,p){c.isDataProtocol(h)?(h=c.dataComponents(h),m.contentType=h.mediaType,m.imageData=h.data,t&&t.imageData===m.imageData&&t.url&&b.write(t.url,m,"url",p)):b.write(h,m,"url",p)}const d={json:{read:{source:["imageData",
"url"],reader:n},write:{writer(h,m,t,p){k(h,m,this.source,p)}}}};a.read=r;a.readImageDataOrUrl=n;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader(h,m,t){h={};m.imageData&&(h.imageData=m.imageData);m.contentType&&(h.contentType=m.contentType);m.url&&(h.url=r(m.url,t));return h}}}};a.urlPropertyDefinition=d;a.writeImageDataAndUrl=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/screenUtils ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;b=u=function(w){function D(...y){y=w.call(this,...y)||this;y.color=null;y.type="picture-marker";y.url=null;y.source=null;y.height=12;y.width=12;y.size=null;return y}a._inheritsLoose(D,w);var v=D.prototype;v.normalizeCtorArgs=function(y,A,E){if(y&&"string"!==typeof y&&null==y.imageData)return y;const x={};y&&(x.url=y);null!=A&&(x.width=g.toPt(A));null!=E&&(x.height=g.toPt(E));return x};v.readHeight=function(y,A){return A.size||y};v.readWidth=function(y,
A){return A.size||y};v.clone=function(){const y=new u({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});y._set("source",n.clone(this.source));return y};v.hash=function(){return`${w.prototype.hash.call(this)}.${this.height}.${this.url}.${this.width}`};return D}(e);c.__decorate([d.property({json:{write:!1}})],b.prototype,"color",void 0);c.__decorate([h.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([d.property(f.urlPropertyDefinition)],
b.prototype,"url",void 0);c.__decorate([d.property(f.sourcePropertyDefinition)],b.prototype,"source",void 0);c.__decorate([d.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"height",void 0);c.__decorate([m.reader("height",["height","size"])],b.prototype,"readHeight",null);c.__decorate([d.property({type:Number,cast:g.toPt,json:{write:!0}})],b.prototype,"width",void 0);c.__decorate([d.property({json:{write:!1}})],b.prototype,"size",void 0);return b=u=c.__decorate([t.subclass("esri.symbols.PictureMarkerSymbol")],
b)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./TextSymbol3DLayer ./Symbol3D ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y){var A;const E=e.ofType({base:null,key:"type",typeMap:{icon:f,object:u,text:w}});b=e.ofType({base:null,key:"type",typeMap:{icon:f,object:u}});D=A=function(x){function F(C){C=x.call(this,C)||this;C.verticalOffset=null;C.callout=null;C.symbolLayers=new E;C.type="point-3d";return C}a._inheritsLoose(F,x);var B=F.prototype;B.writeSymbolLayers=function(C,z,G,H){const I=C.filter(K=>"text"!==K.type);H&&H.messages&&I.length<C.length&&(C=C.find(K=>"text"===
K.type),H.messages.push(new p("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:C})));z[G]=I.map(K=>K.write({},H)).toArray()};B.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const C of this.symbolLayers.items)switch(C.type){case "icon":case "text":case "object":continue;default:return!1}return!0};B.hasVisibleCallout=function(){return v.hasVisibleCallout(this)};B.hasVisibleVerticalOffset=function(){return v.hasVisibleVerticalOffset(this)};
B.clone=function(){return new A({verticalOffset:n.clone(this.verticalOffset),callout:n.clone(this.callout),styleOrigin:n.clone(this.styleOrigin),symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail)})};F.fromSimpleMarkerSymbol=function(C){return new A({symbolLayers:[f.fromSimpleMarkerSymbol(C)]})};F.fromPictureMarkerSymbol=function(C){return new A({symbolLayers:[f.fromPictureMarkerSymbol(C)]})};F.fromCIMSymbol=function(C){if(C.data&&C.data.symbol){const z=C.data.symbol;if("CIMPointSymbol"===
z.type&&z.callout)return new A({symbolLayers:[f.fromCIMSymbol(C)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})}return new A({symbolLayers:[f.fromCIMSymbol(C)]})};F.fromTextSymbol=function(C){return new A({symbolLayers:[w.fromTextSymbol(C)]})};return F}(D);c.__decorate([d.property({type:y["default"],json:{write:!0}})],D.prototype,"verticalOffset",void 0);c.__decorate([d.property(v.calloutProperty)],D.prototype,"callout",void 0);c.__decorate([d.property({type:E,json:{type:b,
origins:{"web-scene":{type:b}}}})],D.prototype,"symbolLayers",void 0);c.__decorate([t.writer("web-scene","symbolLayers")],D.prototype,"writeSymbolLayers",null);c.__decorate([h.enumeration({PointSymbol3D:"point-3d"},{readOnly:!0})],D.prototype,"type",void 0);return D=A=c.__decorate([m.subclass("esri.symbols.PointSymbol3D")],D)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./Symbol3D".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x){var F;const B=f.ofType({base:null,key:"type",typeMap:{extrude:u,fill:w,icon:D,line:v,object:y,text:A,water:E}});b=f.ofType({base:null,key:"type",typeMap:{extrude:u,fill:w,icon:D,line:v,object:y,water:E}});x=F=function(C){function z(H){H=C.call(this,H)||this;H.symbolLayers=new B;H.type="polygon-3d";return H}a._inheritsLoose(z,C);var G=z.prototype;G.writeSymbolLayers=function(H,I,K,L){const T=H.filter(O=>"text"!==O.type);L&&L.messages&&T.length<
H.length&&(H=H.find(O=>"text"===O.type),L.messages.push(new q("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:H})));I[K]=T.map(O=>O.write({},L)).toArray()};G.clone=function(){return new F({styleOrigin:n.clone(this.styleOrigin),symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail)})};z.fromJSON=function(H){const I=new F;I.read(H);if(2===I.symbolLayers.length&&"fill"===I.symbolLayers.getItemAt(0).type&&"line"===I.symbolLayers.getItemAt(1).type){const K=
I.symbolLayers.getItemAt(0),L=I.symbolLayers.getItemAt(1);!L.enabled||H.symbolLayers&&H.symbolLayers[1]&&!1===H.symbolLayers[1].enable||(K.outline={size:L.size,color:r.isSome(L.material)?L.material.color:null});I.symbolLayers.removeAt(1)}return I};z.fromSimpleFillSymbol=function(H){return new F({symbolLayers:[w.fromSimpleFillSymbol(H)]})};return z}(x);c.__decorate([h.property({type:B,json:{type:b}})],x.prototype,"symbolLayers",void 0);c.__decorate([p.writer("web-scene","symbolLayers")],x.prototype,
"writeSymbolLayers",null);c.__decorate([m.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],x.prototype,"type",void 0);return x=F=c.__decorate([t.subclass("esri.symbols.PolygonSymbol3D")],x)})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ./SimpleLineSymbol ./FillSymbol".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;b=new h.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});f=u=function(w){function D(...y){y=w.call(this,...y)||this;y.color=new g([0,0,0,.25]);y.outline=new e;y.type="simple-fill";y.style="solid";return y}a._inheritsLoose(D,w);var v=D.prototype;v.normalizeCtorArgs=
function(y,A,E){if(y&&"string"!==typeof y)return y;const x={};y&&(x.style=y);A&&(x.outline=A);E&&(x.color=E);return x};v.clone=function(){return new u({color:n.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})};v.hash=function(){return`${w.prototype.hash.call(this)}${this.style}.${this.color&&this.color.hash()}`};return D}(f);c.__decorate([d.property()],f.prototype,"color",void 0);c.__decorate([d.property()],f.prototype,"outline",void 0);c.__decorate([m.enumeration({esriSFS:"simple-fill"},
{readOnly:!0})],f.prototype,"type",void 0);c.__decorate([d.property({type:b.apiValues,json:{read:b.read,write:b.write}})],f.prototype,"style",void 0);return f=u=c.__decorate([t.subclass("esri.symbols.SimpleFillSymbol")],f)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ../core/screenUtils ./SimpleLineSymbol ./MarkerSymbol".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w){var D;b=new h.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});w=D=function(v){function y(...E){E=v.call(this,...E)||this;E.color=new e([255,255,255,.25]);E.type="simple-marker";E.size=12;E.style="circle";E.outline=new u;return E}a._inheritsLoose(y,v);var A=y.prototype;A.normalizeCtorArgs=function(E,x,F,B){if(E&&"string"!==typeof E)return E;
const C={};E&&(C.style=E);null!=x&&(C.size=f.toPt(x));F&&(C.outline=F);B&&(C.color=B);return C};A.writeColor=function(E,x){E&&"x"!==this.style&&"cross"!==this.style&&(x.color=E.toJSON());null===E&&(x.color=null)};A.clone=function(){return new D({angle:this.angle,color:n.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};A.hash=function(){var E;return`${v.prototype.hash.call(this)}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${null==
(E=this.outline)?void 0:E.hash()}`};a._createClass(y,[{key:"path",set:function(E){this.style="path";this._set("path",E)}}]);return y}(w);c.__decorate([d.property()],w.prototype,"color",void 0);c.__decorate([p.writer("color")],w.prototype,"writeColor",null);c.__decorate([m.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],w.prototype,"type",void 0);c.__decorate([d.property()],w.prototype,"size",void 0);c.__decorate([d.property({type:b.apiValues,json:{read:b.read,write:b.write}})],w.prototype,"style",
void 0);c.__decorate([d.property({type:String,json:{write:!0}})],w.prototype,"path",null);c.__decorate([d.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":u}},json:{default:null,write:!0}})],w.prototype,"outline",void 0);return w=D=c.__decorate([t.subclass("esri.symbols.SimpleMarkerSymbol")],w)})},"esri/symbols/TextSymbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../Color ./Symbol ../core/screenUtils ./Font".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){var w;b=w=function(D){function v(...A){A=D.call(this,...A)||this;A.backgroundColor=null;A.borderLineColor=null;A.borderLineSize=null;A.font=new u;A.horizontalAlignment="center";A.kerning=!0;A.haloColor=null;A.haloSize=null;A.rightToLeft=null;A.rotated=!1;A.text="";A.type="text";A.verticalAlignment=null;A.xoffset=0;A.yoffset=0;A.angle=0;A.width=null;A.lineWidth=192;A.lineHeight=1;return A}a._inheritsLoose(v,D);var y=v.prototype;y.normalizeCtorArgs=function(A,
E,x){if(A&&"string"!==typeof A)return A;const F={};A&&(F.text=A);E&&(F.font=E);x&&(F.color=x);return F};y.writeLineWidth=function(A,E,x,F){F&&"string"!==typeof F||(E[x]=A)};y.castLineWidth=function(A){return f.toPt(A)};y.writeLineHeight=function(A,E,x,F){F&&"string"!==typeof F||(E[x]=A)};y.clone=function(){return new w({angle:this.angle,backgroundColor:n.clone(this.backgroundColor),borderLineColor:n.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:n.clone(this.color),font:this.font&&
this.font.clone(),haloColor:n.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};y.hash=function(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color.hash()}.${this.font&&
this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`};return v}(e);c.__decorate([k.property({type:g,json:{write:!0}})],b.prototype,"backgroundColor",void 0);c.__decorate([k.property({type:g,json:{write:!0}})],b.prototype,"borderLineColor",void 0);c.__decorate([k.property({type:Number,
json:{write:!0}})],b.prototype,"borderLineSize",void 0);c.__decorate([k.property({type:u,json:{write:!0}})],b.prototype,"font",void 0);c.__decorate([k.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);c.__decorate([k.property({type:g,json:{write:!0}})],b.prototype,"haloColor",void 0);c.__decorate([k.property({type:Number,cast:f.toPt,json:{write:!0}})],
b.prototype,"haloSize",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"rightToLeft",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);c.__decorate([h.enumeration({esriTS:"text"},{readOnly:!0})],b.prototype,"type",void 0);c.__decorate([k.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],b.prototype,"verticalAlignment",
void 0);c.__decorate([k.property({type:Number,cast:f.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);c.__decorate([k.property({type:Number,cast:f.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);c.__decorate([k.property({type:Number,json:{read:D=>D&&-1*D,write:(D,v)=>v.angle=D&&-1*D}})],b.prototype,"angle",void 0);c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);c.__decorate([k.property({type:Number})],b.prototype,"lineWidth",void 0);c.__decorate([t.writer("lineWidth")],
b.prototype,"writeLineWidth",null);c.__decorate([d.cast("lineWidth")],b.prototype,"castLineWidth",null);c.__decorate([k.property({type:Number})],b.prototype,"lineHeight",void 0);c.__decorate([t.writer("lineHeight")],b.prototype,"writeLineHeight",null);return b=w=c.__decorate([m.subclass("esri.symbols.TextSymbol")],b)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../chunks/persistableUrlUtils ../core/promiseUtils ./Symbol ../portal/Portal ./support/Thumbnail".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){function w(){return new Promise(function(y,A){a(["./support/styleUtils"],y,A)})}var D;const v=r.getLogger("esri.symbols.WebStyleSymbol");n=D=function(y){function A(x){x=y.call(this,x)||this;x.styleName=null;x.portal=null;x.styleUrl=null;x.thumbnail=null;x.name=null;x.type="web-style";return x}c._inheritsLoose(A,y);var E=A.prototype;E.read=function(x,F){this.portal=F?F.portal:void 0;y.prototype.read.call(this,x,F)};E.clone=function(){return new D({name:this.name,
styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};E.fetchSymbol=function(x){return this._fetchSymbol("webRef",x)};E.fetchCIMSymbol=function(x){return this._fetchSymbol("cimRef",x)};E._fetchSymbol=async function(x,F){const B=await w();g.throwIfAborted(F);x=B.resolveWebStyleSymbol(this,{portal:this.portal},x,F);x.catch(C=>{v.error("#fetchSymbol()","Failed to create symbol from style",C)});return x};return A}(e);b.__decorate([d.property({json:{write:!1}})],n.prototype,"color",void 0);
b.__decorate([d.property({type:String,json:{write:!0}})],n.prototype,"styleName",void 0);b.__decorate([d.property({type:f,json:{write:!1}})],n.prototype,"portal",void 0);b.__decorate([d.property({type:String,json:{read:l.read,write:l.write}})],n.prototype,"styleUrl",void 0);b.__decorate([d.property({type:u["default"],json:{read:!1}})],n.prototype,"thumbnail",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],n.prototype,"name",void 0);b.__decorate([h.enumeration({styleSymbolReference:"web-style"},
{readOnly:!0})],n.prototype,"type",void 0);return n=D=b.__decorate([m.subclass("esri.symbols.WebStyleSymbol")],n)})},"esri/renderers/Renderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./support/AuthoringInfo".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=new d.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary"},{ignoreUnknown:!0});q=function(g){function e(u){u=g.call(this,u)||this;u.authoringInfo=null;u.type=null;return u}a._inheritsLoose(e,g);var f=e.prototype;f.getRequiredFields=async function(u){if(!this.collectRequiredFields)return[];const w=new Set;await this.collectRequiredFields(w,u);return Array.from(w).sort()};
f.getSymbol=function(u,w){};f.getSymbolAsync=async function(u,w){};f.getSymbols=function(){return[]};f.getAttributeHash=function(){return JSON.stringify(this)};f.getMeshHash=function(){return JSON.stringify(this)};return e}(q.JSONSupport);c.__decorate([k.property({type:l,json:{write:!0}})],q.prototype,"authoringInfo",void 0);c.__decorate([k.property({type:b.apiValues,readOnly:!0,json:{type:b.jsonValues,read:!1,write:{writer:b.write,ignoreOrigin:!0}}})],q.prototype,"type",void 0);return q=c.__decorate([h.subclass("esri.renderers.Renderer")],
q)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../tasks/support/colorRamps".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){var w;b=new h.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"});h=new h.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});
r="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");g=w=function(D){function v(A){A=D.call(this,A)||this;A.colorRamp=null;A.lengthUnit=null;A.maxSliderValue=null;A.minSliderValue=null;A.visualVariables=null;return A}a._inheritsLoose(v,D);var y=v.prototype;y.readColorRamp=function(A){if(A)return u.fromJSON(A)};y.clone=function(){return new w({classificationMethod:this.classificationMethod,colorRamp:n.clone(this.colorRamp),fields:this.fields&&
this.fields.slice(0),field1:n.clone(this.field1),field2:n.clone(this.field2),focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(A=>A.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme})};a._createClass(v,[{key:"classificationMethod",
get:function(){const A=this._get("classificationMethod"),E=this.type;return E&&"relationship"!==E?"class-breaks-size"===E||"class-breaks-color"===E?A||"manual":null:A},set:function(A){this._set("classificationMethod",A)}},{key:"fields",get:function(){return this.type&&"predominance"!==this.type?null:this._get("fields")},set:function(A){this._set("fields",A)}},{key:"field1",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field1")},set:function(A){this._set("field1",A)}},
{key:"field2",get:function(){return this.type&&"relationship"!==this.type?null:this._get("field2")},set:function(A){this._set("field2",A)}},{key:"focus",get:function(){return this.type&&"relationship"!==this.type?null:this._get("focus")},set:function(A){this._set("focus",A)}},{key:"numClasses",get:function(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")},set:function(A){this._set("numClasses",A)}},{key:"statistics",get:function(){return"univariate-color-size"===this.type&&
"above-and-below"===this.univariateTheme?this._get("statistics"):null},set:function(A){this._set("statistics",A)}},{key:"standardDeviationInterval",get:function(){const A=this.type;return A&&"relationship"!==A&&"class-breaks-size"!==A&&"class-breaks-color"!==A?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")},set:function(A){this._set("standardDeviationInterval",A)}},{key:"type",get:function(){return this._get("type")},set:function(A){let E=
A;"classed-size"===A?E="class-breaks-size":"classed-color"===A&&(E="class-breaks-color");this._set("type",E)}},{key:"univariateSymbolStyle",get:function(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null},set:function(A){this._set("univariateSymbolStyle",A)}},{key:"univariateTheme",get:function(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null},set:function(A){this._set("univariateTheme",A)}}]);
return v}(g.JSONSupport);c.__decorate([d.property({type:b.apiValues,value:null,json:{type:b.jsonValues,read:b.read,write:b.write,origins:{"web-document":{default:"manual",type:b.jsonValues,read:b.read,write:b.write}}}})],g.prototype,"classificationMethod",null);c.__decorate([d.property({types:u.types,json:{write:!0}})],g.prototype,"colorRamp",void 0);c.__decorate([m.reader("colorRamp")],g.prototype,"readColorRamp",null);c.__decorate([d.property({type:[String],value:null,json:{write:!0}})],g.prototype,
"fields",null);c.__decorate([d.property({type:e["default"],value:null,json:{write:!0}})],g.prototype,"field1",null);c.__decorate([d.property({type:e["default"],value:null,json:{write:!0}})],g.prototype,"field2",null);c.__decorate([d.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],g.prototype,"focus",null);c.__decorate([d.property({type:Number,value:null,json:{type:k.Integer,write:!0}})],g.prototype,"numClasses",null);c.__decorate([d.property({type:r,json:{type:r,read:!1,write:!1,
origins:{"web-scene":{read:!0,write:!0}}}})],g.prototype,"lengthUnit",void 0);c.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],g.prototype,"maxSliderValue",void 0);c.__decorate([d.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],g.prototype,"minSliderValue",void 0);c.__decorate([d.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],g.prototype,"statistics",null);c.__decorate([d.property({type:[.25,
.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],g.prototype,"standardDeviationInterval",null);c.__decorate([d.property({type:h.apiValues,value:null,json:{type:h.jsonValues,read:h.read,write:h.write}})],g.prototype,"type",null);c.__decorate([d.property({type:[f],json:{write:!0}})],g.prototype,"visualVariables",void 0);c.__decorate([d.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),value:null,json:{write:!0,
origins:{"web-scene":{write:!1}}}})],g.prototype,"univariateSymbolStyle",null);c.__decorate([d.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],g.prototype,"univariateTheme",null);return g=w=c.__decorate([t.subclass("esri.renderers.support.AuthoringInfo")],g)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./AuthoringInfoClassBreakInfo".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;a.AuthoringInfoFieldInfo=f=function(u){function w(D){D=u.call(this,D)||this;D.field="";D.normalizationField="";D.label="";D.classBreakInfos=[];return D}c._inheritsLoose(w,u);w.prototype.clone=function(){return new f({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:r.clone(this.classBreakInfos)})};return w}(g.JSONSupport);b.__decorate([h.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,
"field",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);b.__decorate([h.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);b.__decorate([h.property({type:[e["default"]],json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=f=b.__decorate([t.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);a.default=
a.AuthoringInfoFieldInfo;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.AuthoringInfoClassBreakInfo=g=function(e){function f(u){u=e.call(this,u)||this;u.minValue=0;u.maxValue=0;return u}c._inheritsLoose(f,e);f.prototype.clone=function(){return new g({minValue:this.minValue,maxValue:this.maxValue})};return f}(l.JSONSupport);b.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);b.__decorate([d.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,
"maxValue",void 0);a.AuthoringInfoClassBreakInfo=g=b.__decorate([m.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],a.AuthoringInfoClassBreakInfo);a.default=a.AuthoringInfoClassBreakInfo;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=new d.JSONMap({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"});d=new d.JSONMap({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});n={key(e){return"number"===typeof e?"number":"string"},typeMap:{number:Number,string:String},base:null};const g=["high-to-low","above-and-below","centered-on","extremes"];m=[...new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" "))];
t="seconds minutes hours days months years".split(" ");q=l=function(e){function f(w){w=e.call(this,w)||this;w.endTime=null;w.field=null;w.maxSliderValue=null;w.minSliderValue=null;w.startTime=null;w.type=null;w.units=null;return w}a._inheritsLoose(f,e);var u=f.prototype;u.castEndTime=function(w){return"string"===typeof w||"number"===typeof w?w:null};u.castStartTime=function(w){return"string"===typeof w||"number"===typeof w?w:null};u.clone=function(){return new l({endTime:this.endTime,field:this.field,
maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})};a._createClass(f,[{key:"style",get:function(){return"color"===this.type?this._get("style"):null},set:function(w){this._set("style",w)}},{key:"theme",get:function(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null},set:function(w){this._set("theme",w)}}]);return f}(q.JSONSupport);c.__decorate([r.property({types:n,
json:{write:!0}})],q.prototype,"endTime",void 0);c.__decorate([k.cast("endTime")],q.prototype,"castEndTime",null);c.__decorate([r.property({type:String,json:{write:!0}})],q.prototype,"field",void 0);c.__decorate([r.property({type:Number,json:{write:!0}})],q.prototype,"maxSliderValue",void 0);c.__decorate([r.property({type:Number,json:{write:!0}})],q.prototype,"minSliderValue",void 0);c.__decorate([r.property({types:n,json:{write:!0}})],q.prototype,"startTime",void 0);c.__decorate([k.cast("startTime")],
q.prototype,"castStartTime",null);c.__decorate([r.property({type:b.apiValues,value:null,json:{type:b.jsonValues,read:b.read,write:b.write}})],q.prototype,"style",null);c.__decorate([r.property({type:m,value:null,json:{type:m,origins:{"web-scene":{type:g,write:{writer:(e,f)=>{-1<g.indexOf(e)&&(f.theme=e)}}}},write:!0}})],q.prototype,"theme",null);c.__decorate([r.property({type:d.apiValues,json:{type:d.jsonValues,read:d.read,write:d.write}})],q.prototype,"type",void 0);c.__decorate([r.property({type:t,
json:{type:t,write:!0}})],q.prototype,"units",void 0);return q=l=c.__decorate([h.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],q)})},"esri/tasks/support/colorRamps":function(){define(["exports","./ColorRamp","./AlgorithmicColorRamp","./MultipartColorRamp"],function(a,c,b,n){c={key:"type",base:c,typeMap:{algorithmic:b,multipart:n}};a.fromJSON=function(r){return r&&r.type?"algorithmic"===r.type?b.fromJSON(r):"multipart"===r.type?n.fromJSON(r):null:null};a.types=c;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/tasks/support/ColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,
e)||this;e.type=null;return e}a._inheritsLoose(g,l);return g}(q.JSONSupport);c.__decorate([k.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c.__decorate([h.subclass("esri.tasks.support.ColorRamp")],b)})},"esri/tasks/support/AlgorithmicColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../Color ./ColorRamp".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(w){w=f.call(this,w)||this;w.algorithm=null;w.fromColor=null;w.toColor=null;w.type="algorithmic";return w}a._inheritsLoose(u,f);u.prototype.clone=function(){return new e({fromColor:n.clone(this.fromColor),toColor:n.clone(this.toColor),algorithm:this.algorithm})};return u}(g);c.__decorate([h.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],b.prototype,"algorithm",void 0);c.__decorate([d.property({type:l,
json:{type:[k.Integer],write:!0}})],b.prototype,"fromColor",void 0);c.__decorate([d.property({type:l,json:{type:[k.Integer],write:!0}})],b.prototype,"toColor",void 0);c.__decorate([d.property({type:["algorithmic"]})],b.prototype,"type",void 0);return b=e=c.__decorate([m.subclass("esri.tasks.support.AlgorithmicColorRamp")],b)})},"esri/tasks/support/MultipartColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./ColorRamp ./AlgorithmicColorRamp".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(w){w=f.call(this,w)||this;w.colorRamps=null;w.type="multipart";return w}a._inheritsLoose(u,f);u.prototype.clone=function(){return new e({colorRamps:n.clone(this.colorRamps)})};return u}(l);c.__decorate([d.property({type:[g],json:{write:!0}})],b.prototype,"colorRamps",void 0);c.__decorate([d.property({type:["multipart"]})],b.prototype,"type",void 0);return b=e=c.__decorate([m.subclass("esri.tasks.support.MultipartColorRamp")],b)})},
"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../support/arcadeOnDemand ../layers/support/fieldUtils ../symbols ./support/LegendOptions ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F){var B;const C=k.getLogger("esri.renderers.ClassBreaksRenderer");b=new t.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const z=d.ensureType(x);A=B=function(G){function H(K){K=G.call(this,K)||this;K._compiledValueExpression={valueExpression:null,compiledFunction:null};K.backgroundFillSymbol=null;K.classBreakInfos=null;K.defaultLabel=null;K.defaultSymbol=null;K.field=null;K.isMaxInclusive=
!0;K.legendOptions=null;K.normalizationField=null;K.normalizationTotal=null;K.type="class-breaks";K.valueExpression=null;K.valueExpressionTitle=null;K._set("classBreakInfos",[]);return K}a._inheritsLoose(H,G);var I=H.prototype;I.readClassBreakInfos=function(K,L,T){if(Array.isArray(K)){var O=L.minValue;return K.map(U=>{const W=new x;W.read(U,T);null==W.minValue&&(W.minValue=O);null==W.maxValue&&(W.maxValue=W.minValue);O=W.maxValue;return W})}};I.writeClassBreakInfos=function(K,L,T,O){K=K.map(U=>U.write({},
O));this._areClassBreaksConsecutive()&&K.forEach(U=>delete U.classMinValue);L[T]=K};I.castField=function(K){return null==K?K:"function"===typeof K?(C.error(".field: field must be a string value"),null):d.ensureString(K)};I.addClassBreakInfo=function(K,L,T){let O=null;O="number"===typeof K?new x({minValue:K,maxValue:L,symbol:v.ensureType(T)}):z(n.clone(K));this.classBreakInfos.push(O);1===this.classBreakInfos.length&&this.notifyChange("minValue")};I.removeClassBreakInfo=function(K,L){const T=this.classBreakInfos.length;
for(let O=0;O<T;O++){const U=[this.classBreakInfos[O].minValue,this.classBreakInfos[O].maxValue];if(U[0]===K&&U[1]===L){this.classBreakInfos.splice(O,1);break}}};I.getBreakIndex=function(K,L){this.valueExpression&&(r.isNone(L)||r.isNone(L.arcade))&&C.warn("");return this.valueExpression?this._getBreakIndexForExpression(K,L):this._getBreakIndexForField(K)};I.getClassBreakInfo=async function(K,L){let T=L;this.valueExpression&&(r.isNone(L)||r.isNone(L.arcade))&&(T={...T,arcade:await w.loadArcade()});
K=this.getBreakIndex(K,T);return-1!==K?this.classBreakInfos[K]:null};I.getSymbol=function(K,L){if(this.valueExpression&&(r.isNone(L)||r.isNone(L.arcade)))C.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return K=this.getBreakIndex(K,L),-1<K?this.classBreakInfos[K].symbol:this.defaultSymbol};I.getSymbolAsync=async function(K,L){let T=L;if(this.valueExpression&&(r.isNone(L)||r.isNone(L.arcade))){L=await w.loadArcade();const {arcadeUtils:O}=L;O.hasGeometryOperations(this.valueExpression)&&
await O.enableGeometryOperations();T={...T,arcade:L}}K=this.getBreakIndex(K,T);return-1<K?this.classBreakInfos[K].symbol:this.defaultSymbol};I.getSymbols=function(){const K=[];this.classBreakInfos.forEach(L=>{L.symbol&&K.push(L.symbol)});this.defaultSymbol&&K.push(this.defaultSymbol);return K};I.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((K,L)=>K+L.getAttributeHash(),"")};I.getMeshHash=function(){const K=JSON.stringify(this.backgroundFillSymbol),L=JSON.stringify(this.defaultSymbol),
T=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,O=this.classBreakInfos.reduce((U,W)=>U+W.getMeshHash(),"");return`${K}.${L}.${O}.${T}.${this.field}.${this.valueExpression}`};I.clone=function(){return new B({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
classBreakInfos:n.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:n.clone(this.visualVariables),legendOptions:n.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};I.collectRequiredFields=async function(K,L){K=[this.collectVVRequiredFields(K,L),this.collectSymbolFields(K,L)];await Promise.all(K)};I.collectSymbolFields=
async function(K,L){const T=[...this.getSymbols().map(O=>O.collectRequiredFields(K,L)),D.collectArcadeFieldNames(K,L,this.valueExpression)];D.collectField(K,L,this.field);D.collectField(K,L,this.normalizationField);await Promise.all(T)};I._getBreakIndexForExpression=function(K,L){const {viewingMode:T,scale:O,spatialReference:U,arcade:W}=r.unwrapOr(L,{});var S=this._compiledValueExpression.valueExpression===this.valueExpression?this._compiledValueExpression.compiledFunction:null;L=r.unwrap(W).arcadeUtils;
S||(S=L.createSyntaxTree(this.valueExpression),S=L.createFunction(S),this._compiledValueExpression.compiledFunction=S);this._compiledValueExpression.valueExpression=this.valueExpression;K=L.executeFunction(S,L.createExecContext(K,L.getViewInfo({viewingMode:T,scale:O,spatialReference:U})));return this._getBreakIndexfromInfos(K)};I._getBreakIndexForField=function(K){var L=K.attributes;K=this.normalizationType;let T=parseFloat(L[this.field]);if(K){const O=this.normalizationTotal;L=parseFloat(L[this.normalizationField]);
if("log"===K)T=Math.log(T)*Math.LOG10E;else if("percent-of-total"===K&&!isNaN(O))T=T/O*100;else if("field"===K&&!isNaN(L)){if(isNaN(T)||isNaN(L))return-1;T/=L}}return this._getBreakIndexfromInfos(T)};I._getBreakIndexfromInfos=function(K){const L=this.isMaxInclusive;if(null!=K&&"number"===typeof K&&!isNaN(K))for(let T=0;T<this.classBreakInfos.length;T++){const O=[this.classBreakInfos[T].minValue,this.classBreakInfos[T].maxValue];if(O[0]<=K&&(L?K<=O[1]:K<O[1]))return T}return-1};I._areClassBreaksConsecutive=
function(){const K=this.classBreakInfos,L=K.length;for(let T=1;T<L;T++)if(K[T-1].maxValue!==K[T].minValue)return!1;return!0};a._createClass(H,[{key:"minValue",get:function(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}},{key:"normalizationType",get:function(){let K=this._get("normalizationType");const L=!!this.normalizationField,T=null!=this.normalizationTotal;if(L||T)K=L&&"field"||T&&"percent-of-total"||null,L&&T&&C.warn("warning: both normalizationField and normalizationTotal are set!");
else if("field"===K||"percent-of-total"===K)K=null;return K},set:function(K){this._set("normalizationType",K)}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return H}(E.VisualVariablesMixin(A));c.__decorate([h.property(F.rendererBackgroundFillSymbolProperty)],A.prototype,"backgroundFillSymbol",void 0);c.__decorate([h.property({type:[x]})],A.prototype,"classBreakInfos",void 0);c.__decorate([q.reader("classBreakInfos")],A.prototype,"readClassBreakInfos",
null);c.__decorate([g.writer("classBreakInfos")],A.prototype,"writeClassBreakInfos",null);c.__decorate([h.property({type:String,json:{write:!0}})],A.prototype,"defaultLabel",void 0);c.__decorate([h.property(F.rendererSymbolProperty)],A.prototype,"defaultSymbol",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],A.prototype,"field",void 0);c.__decorate([m.cast("field")],A.prototype,"castField",null);c.__decorate([h.property({type:Boolean})],A.prototype,"isMaxInclusive",void 0);c.__decorate([h.property({type:y["default"],
json:{write:!0}})],A.prototype,"legendOptions",void 0);c.__decorate([h.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],A.prototype,"minValue",null);c.__decorate([h.property({type:String,json:{write:!0}})],A.prototype,"normalizationField",void 0);c.__decorate([h.property({type:Number,cast:G=>d.ensureNumber(G),json:{write:!0}})],A.prototype,"normalizationTotal",
void 0);c.__decorate([h.property({type:b.apiValues,value:null,json:{type:b.jsonValues,read:b.read,write:b.write}})],A.prototype,"normalizationType",null);c.__decorate([p.enumeration({classBreaks:"class-breaks"})],A.prototype,"type",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],A.prototype,"valueExpression",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],A.prototype,"valueExpressionTitle",void 0);return A=B=c.__decorate([l.subclass("esri.renderers.ClassBreaksRenderer")],
A)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.LegendOptions=g=function(e){function f(){var u=
e.apply(this,arguments)||this;u.title=null;return u}c._inheritsLoose(f,e);f.prototype.clone=function(){return new g({title:this.title})};return f}(l.JSONSupport);b.__decorate([d.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=g=b.__decorate([m.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);a.default=a.LegendOptions;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../layers/support/fieldUtils ../visualVariables/VisualVariable ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y){const A={base:f,key:"type",typeMap:{opacity:w,color:u,rotation:D,size:v}};a.VisualVariablesMixin=E=>{E=function(x){function F(){var C=x.apply(this,arguments)||this;C._vvFactory=new y;return C}c._inheritsLoose(F,x);var B=F.prototype;B.readVisualVariables=function(C,z,G){return this._vvFactory.readVariables(C,z,G)};B.writeVisualVariables=function(C,z,G,H){z[G]=this._vvFactory.writeVariables(C,H)};B.hasVisualVariables=function(C,z){return C?!!this.getVisualVariablesForType(C,
z):!!(this.getVisualVariablesForType("size",z)||this.getVisualVariablesForType("color",z)||this.getVisualVariablesForType("opacity",z)||this.getVisualVariablesForType("rotation",z))};B.getVisualVariablesForType=function(C,z){var G=this.visualVariables;if(G&&(G=G.filter(H=>H.type===C&&("string"===typeof z?H.target===z:!1===z?!H.target:!0)),!G||0!==G.length))return G};B.collectVVRequiredFields=async function(C,z){let G=[];this.visualVariables&&(G=G.concat(this.visualVariables));for(const H of G)H&&
(H.field&&e.collectField(C,z,H.field),H.normalizationField&&e.collectField(C,z,H.normalizationField),H.valueExpression&&await e.collectArcadeFieldNames(C,z,H.valueExpression))};c._createClass(F,[{key:"visualVariables",set:function(C){this._vvFactory.visualVariables=C;this._set("visualVariables",this._vvFactory.visualVariables)}},{key:"arcadeRequiredForVisualVariables",get:function(){if(!this.visualVariables)return!1;for(const C of this.visualVariables)if(C.arcadeRequired)return!0;return!1}}]);return F}(E);
b.__decorate([d.property({types:[A],value:null,json:{write:!0}})],E.prototype,"visualVariables",null);b.__decorate([m.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],E.prototype,"readVisualVariables",null);b.__decorate([p.writer("visualVariables")],E.prototype,"writeVisualVariables",null);return E=b.__decorate([t.subclass("esri.renderers.mixins.VisualVariablesMixin")],E)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./support/VisualVariableLegendOptions".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){const e=n.getLogger("esri.renderers.visualVariables.VisualVariable");b=new h.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});l=function(f){function u(D){D=f.call(this,D)||this;D.index=null;D.type=null;D.field=null;D.valueExpression=null;D.valueExpressionTitle=null;D.legendOptions=null;return D}a._inheritsLoose(u,f);var w=u.prototype;w.castField=function(D){return null==D?D:"function"===typeof D?(e.error(".field: field must be a string value"),
null):r.ensureString(D)};w.clone=function(){};w.getAttributeHash=function(){return`${this.type}-${this.field}-${this.valueExpression}`};a._createClass(u,[{key:"arcadeRequired",get:function(){return!!this.valueExpression}}]);return u}(l.JSONSupport);c.__decorate([k.property()],l.prototype,"index",void 0);c.__decorate([k.property({type:b.apiValues,readOnly:!0,json:{read:b.read,write:b.write}})],l.prototype,"type",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"field",void 0);
c.__decorate([d.cast("field")],l.prototype,"castField",null);c.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"valueExpression",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"valueExpressionTitle",void 0);c.__decorate([k.property({readOnly:!0})],l.prototype,"arcadeRequired",null);c.__decorate([k.property({type:g,json:{write:!0}})],l.prototype,"legendOptions",void 0);return l=c.__decorate([m.subclass("esri.renderers.visualVariables.VisualVariable")],
l)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../support/LegendOptions".split(" "),function(a,c,
b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(){var f=g.apply(this,arguments)||this;f.showLegend=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({title:this.title,showLegend:this.showLegend})};return e}(q["default"]);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"showLegend",void 0);return b=l=c.__decorate([h.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],b)})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./support/ColorStop ./VisualVariable".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(w){w=e.call(this,w)||this;w.type="color";w.normalizationField=null;return w}a._inheritsLoose(f,e);var u=f.prototype;u.clone=function(){return new g({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(w=>w.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};u.getAttributeHash=function(){return`${e.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
u._interpolateData=function(){return this.stops&&this.stops.map(w=>w.value||0)};a._createClass(f,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(w){w&&Array.isArray(w)&&(w=w.filter(D=>!!D),w.sort((D,v)=>D.value-v.value));this._set("stops",w)}}]);return f}(l);c.__decorate([k.property({readOnly:!0})],b.prototype,"cache",null);c.__decorate([k.property({type:["color"],json:{type:["colorInfo"]}})],b.prototype,
"type",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);c.__decorate([k.property({type:[q],json:{write:!0}})],b.prototype,"stops",null);return b=g=c.__decorate([h.subclass("esri.renderers.visualVariables.ColorVariable")],b)})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../Color".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(D){D=f.call(this,D)||this;D.color=null;D.label=null;D.value=null;return D}a._inheritsLoose(u,f);var w=u.prototype;w.writeValue=function(D,v,y){v[y]=null==D?0:D};w.clone=function(){return new e({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return u}(l.JSONSupport);c.__decorate([k.property({type:g,json:{type:[r.Integer],write:!0}})],b.prototype,"color",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],
b.prototype,"label",void 0);c.__decorate([k.property({type:Number,json:{write:{allowNull:!0}}})],b.prototype,"value",void 0);c.__decorate([m.writer("value")],b.prototype,"writeValue",null);return b=e=c.__decorate([h.subclass("esri.renderers.visualVariables.support.ColorStop")],b)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./VisualVariable ./support/OpacityStop".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(w){w=e.call(this,w)||this;w.type="opacity";w.normalizationField=null;return w}a._inheritsLoose(f,e);var u=f.prototype;u.clone=function(){return new g({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(w=>w.clone()),legendOptions:this.legendOptions&&this.legendOptions.clone()})};u.getAttributeHash=function(){return`${e.prototype.getAttributeHash.call(this)}-${this.normalizationField}`};
u._interpolateData=function(){return this.stops&&this.stops.map(w=>w.value||0)};a._createClass(f,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}},{key:"stops",set:function(w){w&&Array.isArray(w)&&(w=w.filter(D=>!!D),w.sort((D,v)=>D.value-v.value));this._set("stops",w)}}]);return f}(q);c.__decorate([k.property({readOnly:!0})],b.prototype,"cache",null);c.__decorate([k.property({type:["opacity"],json:{type:["transparencyInfo"]}})],
b.prototype,"type",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"normalizationField",void 0);c.__decorate([k.property({type:[l],json:{write:!0}})],b.prototype,"stops",null);return b=g=c.__decorate([h.subclass("esri.renderers.visualVariables.OpacityVariable")],b)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../webdoc/support/opacityUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=f=function(u){function w(v){v=u.call(this,v)||this;v.label=null;v.opacity=null;v.value=null;return v}a._inheritsLoose(w,u);var D=w.prototype;D.readOpacity=function(v,y){return e.transparencyToOpacity(y.transparency)};D.writeOpacity=function(v,y,A){y[A]=e.opacityToTransparency(v)};D.clone=function(){return new f({label:this.label,opacity:this.opacity,value:this.value})};return w}(g.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],
b.prototype,"label",void 0);c.__decorate([k.property({type:Number,json:{type:r.Integer,write:{target:"transparency"}}})],b.prototype,"opacity",void 0);c.__decorate([h.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);c.__decorate([t.writer("opacity")],b.prototype,"writeOpacity",null);c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=f=c.__decorate([m.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./VisualVariable".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(D){D=f.call(this,D)||this;D.axis=null;D.type="rotation";D.rotationType="geographic";D.valueExpressionTitle=null;return D}a._inheritsLoose(u,f);var w=u.prototype;w.writeValueExpressionTitleWebScene=function(D,v,y,A){A&&A.messages&&A.messages.push(new t("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:A}))};w.clone=function(){return new e({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})};a._createClass(u,[{key:"cache",get:function(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}}]);return u}(g);c.__decorate([k.property({readOnly:!0})],b.prototype,"cache",null);c.__decorate([k.property({type:["heading",
"tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],b.prototype,"axis",void 0);c.__decorate([k.property({type:["rotation"],json:{type:["rotationInfo"]}})],b.prototype,"type",void 0);c.__decorate([k.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],b.prototype,"rotationType",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);c.__decorate([m.writer("web-scene",
"valueExpressionTitle")],b.prototype,"writeValueExpressionTitleWebScene",null);return b=e=c.__decorate([h.subclass("esri.renderers.visualVariables.RotationVariable")],b)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/screenUtils ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){function y(C){if(null!=C){if("string"===typeof C||"number"===typeof C)return e.toPt(C);if("size"===C.type){if(D.isSizeVariable(C))return C;C={...C};delete C.type;return new B(C)}}}function A(C,z,G){if("object"!==typeof C)return C;z=new B;z.read(C,G);return z}var E;const x=n.getLogger("esri.renderers.visualVariables.SizeVariable");b=new d.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"});const F=new d.JSONMap({unknown:"unknown",
inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let B=E=function(C){function z(H){H=C.call(this,H)||this;H.axis=null;H.legendOptions=null;H.normalizationField=null;H.scaleBy=null;H.target=null;H.type="size";H.useSymbolValue=null;H.valueExpression=null;H.valueRepresentation=null;H.valueUnit=null;return H}a._inheritsLoose(z,
C);var G=z.prototype;G.castMaxSize=function(H){return y(H)};G.readMaxSize=function(H,I,K){return A(H,I,K)};G.castMinSize=function(H){return y(H)};G.readMinSize=function(H,I,K){return A(H,I,K)};G.readValueExpression=function(H,I){return H||I.expression&&"$view.scale"};G.writeValueExpressionWebScene=function(H,I,K,L){"$view.scale"===H?L&&L.messages&&(H=this.index,L.messages.push(new p("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",
{instance:this,propertyName:("string"===typeof H?H:`visualVariables[${H}]`)+".valueExpression",context:L}))):I[K]=H};G.readValueUnit=function(H){return H?F.read(H):null};G.clone=function(){return new E({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:D.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:D.isSizeVariable(this.minSize)?this.minSize.clone():
this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map(H=>H.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})};G.flipSizes=function(){if("clamped-linear"===this.transformationType){const {minSize:H,maxSize:I}=this;this.minSize=I;this.maxSize=H;return this}if("stops"===this.transformationType){const H=this.stops,I=H.map(L=>
L.size).reverse(),K=H.length;for(let L=0;L<K;L++)H[L].size=I[L]}return this};G.getAttributeHash=function(){return`${C.prototype.getAttributeHash.call(this)}-${this.target}-${this.normalizationField}`};G._interpolateData=function(){return this.stops&&this.stops.map(H=>H.value||0)};a._createClass(z,[{key:"cache",get:function(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:v.viewScaleRE.test(this.valueExpression)}}},{key:"expression",set:function(H){x.warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");
"view.scale"===H?(this.valueExpression="$view.scale",this._set("expression",H)):this._set("expression",null)}},{key:"index",set:function(H){D.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${H}].maxSize`);D.isSizeVariable(this.minSize)&&(this.minSize.index=`visualVariables[${H}].minSize`);this._set("index",H)}},{key:"inputValueType",get:function(){return D.getInputValueType(this)}},{key:"maxDataValue",set:function(H){H&&this.stops&&(x.warn("cannot set maxDataValue when stops is not null."),
H=null);this._set("maxDataValue",H)}},{key:"maxSize",set:function(H){H&&this.stops&&(x.warn("cannot set maxSize when stops is not null."),H=null);this._set("maxSize",H)}},{key:"minDataValue",set:function(H){H&&this.stops&&(x.warn("cannot set minDataValue when stops is not null."),H=null);this._set("minDataValue",H)}},{key:"minSize",set:function(H){H&&this.stops&&(x.warn("cannot set minSize when stops is not null."),H=null);this._set("minSize",H)}},{key:"arcadeRequired",get:function(){return this.valueExpression?
!0:this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}},{key:"stops",set:function(H){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?H&&Array.isArray(H)&&(H=H.filter(I=>!!I),H.sort((I,K)=>I.value-K.value)):H&&(x.warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),H=null);this._set("stops",H)}},{key:"transformationType",
get:function(){return D.getTransformationType(this,this.inputValueType)}}]);return z}(f);c.__decorate([r.property({readOnly:!0})],B.prototype,"cache",null);c.__decorate([r.property({type:b.apiValues,json:{type:b.jsonValues,origins:{"web-map":{read:!1}},read:b.read,write:b.write}})],B.prototype,"axis",void 0);c.__decorate([r.property({type:String,value:null,json:{read:!1}})],B.prototype,"expression",null);c.__decorate([r.property()],B.prototype,"index",null);c.__decorate([r.property({type:String,readOnly:!0})],
B.prototype,"inputValueType",null);c.__decorate([r.property({type:w,json:{write:!0}})],B.prototype,"legendOptions",void 0);c.__decorate([r.property({type:Number,value:null,json:{write:!0}})],B.prototype,"maxDataValue",null);c.__decorate([r.property({type:Number,value:null,json:{write:!0}})],B.prototype,"maxSize",null);c.__decorate([k.cast("maxSize")],B.prototype,"castMaxSize",null);c.__decorate([h.reader("maxSize")],B.prototype,"readMaxSize",null);c.__decorate([r.property({type:Number,value:null,
json:{write:!0}})],B.prototype,"minDataValue",null);c.__decorate([r.property({type:Number,value:null,json:{write:!0}})],B.prototype,"minSize",null);c.__decorate([k.cast("minSize")],B.prototype,"castMinSize",null);c.__decorate([h.reader("minSize")],B.prototype,"readMinSize",null);c.__decorate([r.property({type:String,json:{write:!0}})],B.prototype,"normalizationField",void 0);c.__decorate([r.property({readOnly:!0})],B.prototype,"arcadeRequired",null);c.__decorate([r.property({type:String})],B.prototype,
"scaleBy",void 0);c.__decorate([r.property({type:[u],value:null,json:{write:!0}})],B.prototype,"stops",null);c.__decorate([r.property({type:["outline"],json:{write:!0}})],B.prototype,"target",void 0);c.__decorate([r.property({type:String,readOnly:!0})],B.prototype,"transformationType",null);c.__decorate([r.property({type:["size"],json:{type:["sizeInfo"]}})],B.prototype,"type",void 0);c.__decorate([r.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],B.prototype,"useSymbolValue",
void 0);c.__decorate([r.property({type:String,json:{write:!0}})],B.prototype,"valueExpression",void 0);c.__decorate([h.reader("valueExpression",["valueExpression","expression"])],B.prototype,"readValueExpression",null);c.__decorate([t.writer("web-scene","valueExpression")],B.prototype,"writeValueExpressionWebScene",null);c.__decorate([r.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],B.prototype,"valueRepresentation",void 0);c.__decorate([r.property({type:F.apiValues,
json:{write:F.write,origins:{"web-map":{read:!1},"web-scene":{write:!0}}}})],B.prototype,"valueUnit",void 0);c.__decorate([h.reader("valueUnit")],B.prototype,"readValueUnit",null);return B=E=c.__decorate([m.subclass("esri.renderers.visualVariables.SizeVariable")],B)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../core/screenUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=e.call(this,u)||this;u.label=null;u.size=null;u.value=null;return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({label:this.label,size:this.size,value:this.value})};return f}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([k.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"size",void 0);c.__decorate([k.property({type:Number,
json:{write:!0}})],b.prototype,"value",void 0);return b=g=c.__decorate([h.subclass("esri.renderers.visualVariables.support.SizeStop")],b)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./VisualVariableLegendOptions".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(){var f=g.apply(this,arguments)||this;f.customValues=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})};return e}(q);c.__decorate([k.property({type:[Number],json:{write:!0}})],b.prototype,"customValues",void 0);return b=l=c.__decorate([h.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],
b)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],function(a){function c(b){return b.valueExpression?"expression":b.field&&"string"===typeof b.field?"field":"unknown"}a.getInputValueType=c;a.getTransformationType=function(b,n){return"unknown"===(n||c(b))?"constant":b.stops?"stops":null!=b.minSize&&null!=b.maxSize&&null!=b.minDataValue&&null!=b.maxDataValue?"clamped-linear":"unknown"===(b.valueUnit||"unknown")?null!=b.minSize&&null!=b.minDataValue?b.minSize&&
b.minDataValue?"proportional":"additive":"identity":"real-world-size"};a.isSizeVariable=function(b){return b&&"esri.renderers.visualVariables.SizeVariable"===b.declaredClass};a.isValidNumber=function(b){return null!=b&&!isNaN(b)&&isFinite(b)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../core/compilerUtils ../../../core/maybe ../../../core/Logger ../../../Color ../../../Graphic ./sizeVariableUtils ../../support/lengthUtils".split(" "),
function(a,c,b,n,r,k,d,h){function m(y,A,E){if(y="visualVariables"in y&&y.visualVariables?y.visualVariables.filter(I=>"color"===I.type)[0]:y)if("esri.renderers.visualVariables.ColorVariable"!==y.declaredClass)w.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var x="number"===typeof A,F=x?null:A,B=F&&F.attributes,C=x?A:null,z=y.field,{ipData:G,hasExpression:H}=y.cache;A=y.cache.compiledFunc;if(!z&&!H)return(E=y.stops)&&E[0]&&E[0].color;if("number"!==
typeof C)if(H){if(!b.isSome(E)||!b.isSome(E.arcade)){w.error("Use of arcade expressions requires an arcade context");return}C=E.arcade.arcadeUtils;z=C.getViewInfo({viewingMode:E.viewingMode,scale:E.scale,spatialReference:E.spatialReference});F=C.createExecContext(F,z);A||(A=C.createSyntaxTree(y.valueExpression),A=C.createFunction(A),y.cache.compiledFunc=A);C=C.executeFunction(A,F)}else B&&(C=B[z]);F=y.normalizationField;B=B?parseFloat(B[F]):void 0;if(null!=C&&(!F||x||!isNaN(B)&&0!==B)&&(isNaN(B)||
x||(C/=B),x=u(C,G)))return B=x[0],F=x[1],E=B===F?y.stops[B].color:r.blendColors(y.stops[B].color,y.stops[F].color,x[2],b.isSome(E)?E.color:void 0),new r(E)}}function t(y,A,E){if(y="visualVariables"in y&&y.visualVariables?y.visualVariables.filter(I=>"opacity"===I.type)[0]:y)if("esri.renderers.visualVariables.OpacityVariable"!==y.declaredClass)w.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var x="number"===typeof A,F=x?null:A,B=F&&F.attributes,
C=x?A:null,z=y.field,{ipData:G,hasExpression:H}=y.cache;A=y.cache.compiledFunc;if(!z&&!H)return(y=y.stops)&&y[0]&&y[0].opacity;if("number"!==typeof C)if(H){if(b.isNone(E)||b.isNone(E.arcade)){w.error("Use of arcade expressions requires an arcade context");return}C=E.arcade.arcadeUtils;E=C.getViewInfo({viewingMode:E.viewingMode,scale:E.scale,spatialReference:E.spatialReference});E=C.createExecContext(F,E);A||(F=C.createSyntaxTree(y.valueExpression),A=C.createFunction(F),y.cache.compiledFunc=A);C=C.executeFunction(A,
E)}else B&&(C=B[z]);E=y.normalizationField;B=B?parseFloat(B[E]):void 0;if(null!=C&&(!E||x||!isNaN(B)&&0!==B)&&(isNaN(B)||x||(C/=B),x=u(C,G))){E=x[0];B=x[1];if(E===B)return y.stops[E].opacity;E=y.stops[E].opacity;return E+(y.stops[B].opacity-E)*x[2]}}}function p(y,A,E){if(y="visualVariables"in y&&y.visualVariables?y.visualVariables.filter(I=>"rotation"===I.type)[0]:y)if("esri.renderers.visualVariables.RotationVariable"!==y.declaredClass)w.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var x=y.axis||"heading",F="heading"===x&&"arithmetic"===y.rotationType?90:0;x="heading"===x&&"arithmetic"===y.rotationType?-1:1;var B="number"===typeof A?null:A,C=B&&B.attributes,z=y.field,{hasExpression:G}=y.cache;A=y.cache.compiledFunc;var H=0;if(!z&&!G)return H;if(G){if(b.isNone(E)||b.isNone(E.arcade)){w.error("Use of arcade expressions requires an arcade context");return}C=E.arcade.arcadeUtils;E=C.getViewInfo({viewingMode:E.viewingMode,scale:E.scale,spatialReference:E.spatialReference});
E=C.createExecContext(B,E);A||(A=C.createSyntaxTree(y.valueExpression),A=C.createFunction(A),y.cache.compiledFunc=A);H=C.executeFunction(A,E)}else C&&(H=C[z]||0);return H="number"!==typeof H||isNaN(H)?null:F+x*H}}function q(y,A,E){const x="number"===typeof A;var F=x?null:A;const B=F&&F.attributes;var C=x?A:null;const {isScaleDriven:z}=y.cache;A=y.cache.compiledFunc;if(z)F=b.isSome(E)?E.scale:void 0,E=b.isSome(E)?E.view:void 0,null==F||"3d"===E?(F=E=null,(F=y.stops)?(E=F[0].value,F=F[F.length-1].value):
(E=y.minDataValue||0,F=y.maxDataValue||0),E=(E+F)/2):E=F,C=E;else if(!x)switch(y.inputValueType){case "expression":if(b.isNone(E)||b.isNone(E.arcade)){w.error("Use of arcade expressions requires an arcade context");return}C=E.arcade.arcadeUtils;E=C.getViewInfo({viewingMode:E.viewingMode,scale:E.scale,spatialReference:E.spatialReference});E=C.createExecContext(F,E);A||(F=C.createSyntaxTree(y.valueExpression),A=C.createFunction(F),y.cache.compiledFunc=A);C=C.executeFunction(A,E);break;case "field":B&&
(C=B[y.field]);break;case "unknown":C=null}if(!d.isValidNumber(C))return null;if(x||!y.normalizationField)return C;y=B?parseFloat(B[y.normalizationField]):null;return d.isValidNumber(y)&&0!==y?C/y:null}function l(y,A,E){if(y="visualVariables"in y&&y.visualVariables?y.visualVariables.filter(F=>"size"===F.type)[0]:y)if("esri.renderers.visualVariables.SizeVariable"!==y.declaredClass)w.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var x=q(y,A,E);
A=f(x,y,A,E,y.cache.ipData);return null===A||void 0===A||isNaN(A)?0:A}}function g(y,A,E){return null==y?null:d.isSizeVariable(y)?l(y,A,E):d.isValidNumber(y)?y:null}function e(y,A,E){return d.isValidNumber(E)&&y>E?E:d.isValidNumber(A)&&y<A?A:y}function f(y,A,E,x,F){switch(A.transformationType){case "additive":return x=g(A.minSize,E,x),A=y+(x||A.minDataValue);case "constant":return y=(y=A.stops)&&y.length&&y[0].size,null==y&&(y=A.minSize),A=g(y,E,x);case "clamped-linear":F=(y-A.minDataValue)/(A.maxDataValue-
A.minDataValue);var B=g(A.minSize,E,x);E=g(A.maxSize,E,x);x=b.isSome(x)?x.shape:void 0;y<=A.minDataValue?A=B:y>=A.maxDataValue?A=E:"area"===A.scaleBy&&x?(y=(A="circle"===x)?v*(B/2)**2:B*B,y+=F*((A?v*(E/2)**2:E*E)-y),A=A?2*Math.sqrt(y/v):Math.sqrt(y)):A=B+F*(E-B);return A;case "proportional":return F=b.isSome(x)?x.shape:void 0,y/=A.minDataValue,B=g(A.minSize,E,x),A=g(A.maxSize,E,x),x=null,x="circle"===F?2*Math.sqrt(y*(B/2)**2):"square"===F||"diamond"===F||"image"===F?Math.sqrt(y*B**2):y*B,A=e(x,B,
A);case "stops":{const [C,z,G]=u(y,F);C===z?A=g(A.stops[C].size,E,x):(y=g(A.stops[C].size,E,x),A=g(A.stops[z].size,E,x),A=y+(A-y)*G)}return A;case "real-world-size":return F=(b.isSome(x)&&x.resolution?x.resolution:1)*h.meterIn[A.valueUnit],B=g(A.minSize,E,x),x=g(A.maxSize,E,x),{valueRepresentation:A}=A,E=null,E="area"===A?2*Math.sqrt(y/v)/F:"radius"===A||"distance"===A?2*y/F:y/F,A=e(E,B,x);case "identity":return y;case "unknown":return null}}function u(y,A){if(A){var E=0,x=A.length-1;A.some((F,B)=>
{if(y<F)return x=B,!0;E=B;return!1});return[E,x,(y-A[E])/(A[x]-A[E])]}}const w=n.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),D=new k,v=Math.PI;a.getAllSizes=function(y,A,E){const x=["proportional","proportional","proportional"];for(const F of y)switch(y=F.useSymbolValue?"symbol-value":l(F,A,E),F.axis){case "width":x[0]=y;break;case "depth":x[1]=y;break;case "height":x[2]=y;break;case "width-and-depth":x[0]=y;x[1]=y;break;case "all":case void 0:case null:x[0]=y;x[1]=y;x[2]=
y;break;default:c.neverReached(F.axis)}return x};a.getColor=m;a.getOpacity=t;a.getRotationAngle=p;a.getSize=l;a.getSizeForValue=f;a.getSizeFromNumberOrVariable=g;a.getSizeRangeAtScale=function(y,A,E){const {isScaleDriven:x}=y.cache;if(!(x&&"3d"===E||A))return null;E={scale:A,view:E};A=g(y.minSize,D,E);y=g(y.maxSize,D,E);if(null!=A||null!=y)return A>y&&(E=y,y=A,A=E),{minSize:A,maxSize:y}};a.getVisualVariableValues=function(y,A,E){if(y.visualVariables){var x=[],F=[],B=[],C=[],z=[];for(const G of y.visualVariables)switch(G.type){case "color":F.push(G);
break;case "opacity":B.push(G);break;case "rotation":z.push(G);break;case "size":C.push(G)}F.forEach(G=>{const H=m(G,A,E);x.push({variable:G,value:H})});B.forEach(G=>{const H=t(G,A,E);x.push({variable:G,value:H})});z.forEach(G=>{const H=p(G,A,E);x.push({variable:G,value:H})});C.forEach(G=>{const H=l(G,A,E);x.push({variable:G,value:H})});return x.filter(G=>null!=G.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/Graphic":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/lang ./core/maybe ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./geometry/support/jsonUtils ./geometry ./PopupTemplate ./symbols ./core/uid".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){var v;b=v=function(y){function A(...x){x=y.call(this,...x)||this;x.isAggregate=!1;x.layer=null;x.popupTemplate=null;x.sourceLayer=null;Object.defineProperty(a._assertThisInitialized(x),"uid",{value:D.generateUID(),configurable:!0});return x}a._inheritsLoose(A,y);var E=A.prototype;E.normalizeCtorArgs=function(x,F,B,C){return x&&!x.declaredClass?x:{geometry:x,symbol:F,attributes:B,popupTemplate:C}};E.getEffectivePopupTemplate=function(x=!1){return this.popupTemplate?
this.popupTemplate:this.sourceLayer?"popupTemplate"in this.sourceLayer&&this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:x&&"defaultPopupTemplate"in this.sourceLayer&&r.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};E.getAttribute=function(x){return this.attributes&&this.attributes[x]};E.setAttribute=function(x,F){if(this.attributes){const B=this.getAttribute(x);this.attributes[x]=F;this._notifyLayer("attributes",B,F,x)}else this.attributes=
{[x]:F},this._notifyLayer("attributes",void 0,F,x)};E.getObjectId=function(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};E.toJSON=function(){return{geometry:r.isSome(this.geometry)?this.geometry.toJSON():null,symbol:r.isSome(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};E.clone=function(){return new v(this.cloneProperties())};
E.cloneProperties=function(){return{attributes:n.clone(this.attributes),geometry:n.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:n.clone(this.symbol),visible:this.visible}};E._notifyLayer=function(x,F,B,C){this.layer&&"graphicChanged"in this.layer&&(F={graphic:this,property:x,oldValue:F,newValue:B},"attributes"===x&&(F.attributeName=C),this.layer.graphicChanged(F))};a._createClass(A,[{key:"attributes",set:function(x){const F=
this._get("attributes");F!==x&&(this._set("attributes",x),this._notifyLayer("attributes",F,x))}},{key:"geometry",set:function(x){const F=this._get("geometry");F!==x&&(this._set("geometry",x),this._notifyLayer("geometry",F,x))}},{key:"symbol",set:function(x){const F=this._get("symbol");F!==x&&(this._set("symbol",x),this._notifyLayer("symbol",F,x))}},{key:"visible",set:function(x){const F=this._get("visible");F!==x&&(this._set("visible",x),this._notifyLayer("visible",F,x))}}]);return A}(g.JSONSupport);
c.__decorate([h.property({value:null})],b.prototype,"attributes",null);c.__decorate([h.property({value:null,types:f.geometryTypes,json:{read:e.fromJSON}})],b.prototype,"geometry",null);c.__decorate([h.property({type:Boolean})],b.prototype,"isAggregate",void 0);c.__decorate([h.property()],b.prototype,"layer",void 0);c.__decorate([h.property({type:u})],b.prototype,"popupTemplate",void 0);c.__decorate([h.property()],b.prototype,"sourceLayer",void 0);c.__decorate([h.property({value:null,types:w.symbolTypes})],
b.prototype,"symbol",null);c.__decorate([h.property({type:Boolean,value:!0})],b.prototype,"visible",null);b=v=c.__decorate([t.subclass("esri.Graphic")],b);(b||(b={})).generateUID=D.generateUID;return b})},"esri/core/uid":function(){define(["exports"],function(a){let c=0;a.NullUID=0;a.generateUID=function(){return++c};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/Warning ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){const w=n.getLogger("esri.renderers.visualVariables.VisualVariableFactory"),D={color:g,size:u,opacity:e,rotation:f},v=new d.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),y=/^\[([^\]]+)\]$/i;b=function(A){function E(){var F=A.apply(this,arguments)||this;F.colorVariables=null;F.opacityVariables=null;F.rotationVariables=null;F.sizeVariables=null;return F}a._inheritsLoose(E,A);var x=E.prototype;x.readVariables=
function(F,B,C){const {rotationExpression:z,rotationType:G}=B;if(B=(B=z&&z.match(y))&&B[1])F||(F=[]),F.push({type:"rotationInfo",rotationType:G,field:B});if(F)return F.map(H=>{var I=v.read(H.type);const K=D[I];K||(w.warn(`Unknown variable type: ${I}`),C&&C.messages&&C.messages.push(new h("visual-variable:unsupported",`visualVariable of type '${I}' is not supported`,{definition:H,context:C})));I=new K;I.read(H,C);return I})};x.writeVariables=function(F,B){const C=[];for(const z of F)(F=z.toJSON(B))&&
C.push(F);return C};x._resetVariables=function(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]};a._createClass(E,[{key:"visualVariables",set:function(F){this._resetVariables();if((F=F&&F.filter(C=>!!C))&&F.length){for(var B of F)switch(B.type){case "color":this.colorVariables.push(B);break;case "opacity":this.opacityVariables.push(B);break;case "rotation":this.rotationVariables.push(B);break;case "size":this.sizeVariables.push(B)}this.sizeVariables.length&&
this.sizeVariables.some(C=>!!C.target)&&F.sort((C,z)=>{let G=null;return G=C.target===z.target?0:C.target?1:-1});for(B=0;B<F.length;B++)F[B].index=B}this._set("visualVariables",F)}}]);return E}(l);c.__decorate([k.property()],b.prototype,"visualVariables",null);return b=c.__decorate([m.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../symbols ../../symbols/support/jsonUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(D){D=f.call(this,D)||this;D.description=null;D.label=null;D.minValue=null;D.maxValue=0;D.symbol=null;return D}a._inheritsLoose(u,f);var w=u.prototype;w.clone=function(){return new e({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})};w.getMeshHash=function(){const D=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${D}`};
return u}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([k.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);c.__decorate([k.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);c.__decorate([k.property({types:l.symbolTypesRenderer,
json:{origins:{"web-scene":{types:l.symbolTypesRenderer3D,write:g.write}},write:g.write}})],b.prototype,"symbol",void 0);return b=e=c.__decorate([h.subclass("esri.renderers.support.ClassBreakInfo")],b)})},"esri/symbols/support/jsonUtils":function(){define("exports ../../core/Error ../Symbol3D ../WebStyleSymbol ../../symbols ./symbolConversion".split(" "),function(a,c,b,n,r,k){function d(h,m,t){if(!h)return null;if(!(!t||"web-scene"!==t.origin||h instanceof b||h instanceof n)){const p="cim"!==h.type?
k.to3D(h):{symbol:null,error:new c("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",{symbol:h})};if(p.symbol)return p.symbol.write(m,t);t.messages&&t.messages.push(new c("symbol:unsupported",`Symbols of type '${h.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:h,context:t,error:p.error}));return null}return t&&"web-map"===t.origin&&"web-style"===h.type?(t.messages&&t.messages.push(new c("symbol:unsupported",
`Symbols of type '${h.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:h,context:t})),null):h.write(m,t)}a.fromJSON=function(h,m){return r.readSymbol(h,null,m)};a.write=function(h,m,t,p){(h=d(h,{},p))&&(m[t]=h)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../core/Error ../SimpleLineSymbol ../LabelSymbol3D ../LineSymbol3D ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleMarkerSymbol ../TextSymbol ../WebStyleSymbol ../../symbols".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){a.to3D=function(g,e=!1,f=!1,u=!0){if(!g)return{symbol:null};if(l.isSymbol3D(g)||g instanceof q)u=g.clone();else if("cim"===g.type)u=d.fromCIMSymbol(g);else if(g instanceof b)u=r.fromSimpleLineSymbol(g);else if(g instanceof t)u=d.fromSimpleMarkerSymbol(g);else if(g instanceof k)u=d.fromPictureMarkerSymbol(g);else if(g instanceof m)u=h.fromSimpleFillSymbol(g);else if(g instanceof p)u=u?n.fromTextSymbol(g):d.fromTextSymbol(g);else return{error:new c("symbol-conversion:unsupported-2d-symbol",
`2D symbol of type '${g.type||g.declaredClass}' is unsupported in 3D`,{symbol:g})};e&&(u.id=g.id);if(f&&l.isSymbol3D(u))for(g=0;g<u.symbolLayers.length;++g)u.symbolLayers.getItemAt(g)._ignoreDrivers=!0;return{symbol:u}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/commonProperties":function(){define(["exports","../../symbols/Symbol","../../symbols/PolygonSymbol3D","../../symbols","../../symbols/support/jsonUtils"],function(a,c,b,n,r){const k={types:n.symbolTypesRenderer,
json:{write:{writer:r.write},origins:{"web-scene":{types:n.symbolTypesRenderer3D,write:{writer:r.write}}}}};a.rendererBackgroundFillSymbolProperty={types:{base:c,key:"type",typeMap:{"simple-fill":n.symbolTypes.typeMap["simple-fill"],"picture-fill":n.symbolTypes.typeMap["picture-fill"],"polygon-3d":n.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:r.write},origins:{"web-scene":{type:b,write:{writer:r.write}}}}};a.rendererSymbolProperty=k;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/renderers/UniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/object ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../chunks/persistableUrlUtils ../support/arcadeOnDemand ../layers/support/fieldUtils ../portal/Portal ../symbols/WebStyleSymbol ../symbols ./support/LegendOptions ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ../core/accessorSupport/diffUtils ./support/UniqueValueInfo ../symbols/support/styleUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C,z,G,H,I){var K;const L=d.getLogger("esri.renderers.UniqueValueRenderer"),T=h.ensureType(H);b=K=function(O){function U(S){S=O.call(this,S)||this;S._valueInfoMap={};S._isDefaultSymbolDerived=!1;S.type="unique-value";S.backgroundFillSymbol=null;S.field=null;S.field2=null;S.field3=null;S.valueExpression=null;S.valueExpressionTitle=null;S.legendOptions=null;S.defaultLabel=null;S.fieldDelimiter=null;S.portal=null;S.styleOrigin=null;S.diff={uniqueValueInfos(N,
P){if(N||P){if(!N||!P)return{type:"complete",oldValue:N,newValue:P};var J=!1,M={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let R=0;R<P.length;R++){const X=N.find(ia=>ia.value===P[R].value);X?G.diff(X,P[R])?(M.changed.push({type:"complete",oldValue:X,newValue:P[R]}),J=!0):M.unchanged.push({oldValue:X,newValue:P[R]}):(M.added.push(P[R]),J=!0)}for(let R=0;R<N.length;R++)P.find(X=>X.value===N[R].value)||(M.removed.push(N[R]),J=!0);return J?M:void 0}}};S._set("uniqueValueInfos",
[]);return S}a._inheritsLoose(U,O);var W=U.prototype;W.castField=function(S){return null==S||"function"===typeof S?S:h.ensureString(S)};W.writeField=function(S,N,P,J){"string"===typeof S?N[P]=S:J&&J.messages?J.messages.push(new e("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):L.error(".field: cannot write field to JSON since it's not a string value")};W.readPortal=function(S,N,P){return P.portal||A.getDefault()};W.readStyleOrigin=function(S,N,P){if(N.styleName)return Object.freeze({styleName:N.styleName});
if(N.styleUrl)return S=D.fromJSON(N.styleUrl,P),Object.freeze({styleUrl:S})};W.writeStyleOrigin=function(S,N,P,J){S.styleName?N.styleName=S.styleName:S.styleUrl&&(N.styleUrl=D.toJSON(S.styleUrl,J))};W.addUniqueValueInfo=function(S,N){this.styleOrigin?L.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(S="object"===typeof S?T(S):new H({value:S,symbol:x.ensureType(N)}),this.uniqueValueInfos.push(S),this._valueInfoMap[S.value]=S)};W.removeUniqueValueInfo=
function(S){if(this.styleOrigin)L.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else for(let N=0;N<this.uniqueValueInfos.length;N++)if(this.uniqueValueInfos[N].value===S+""){delete this._valueInfoMap[S];this.uniqueValueInfos.splice(N,1);break}};W.getUniqueValueInfo=async function(S,N){let P=N;this.valueExpression&&(k.isNone(N)||k.isNone(N.arcade))&&(P={...P,arcade:await v.loadArcade()});return this._getUniqueValueInfo(S,P)};
W.getSymbol=function(S,N){if(this.valueExpression&&(k.isNone(N)||k.isNone(N.arcade)))L.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return(S=this._getUniqueValueInfo(S,N))&&S.symbol||this.defaultSymbol};W.getSymbolAsync=async function(S,N){if(this.valueExpression&&(k.isNone(N)||k.isNone(N.arcade))){const P=await v.loadArcade(),{arcadeUtils:J}=P;J.hasGeometryOperations(this.valueExpression)&&await J.enableGeometryOperations();N={...N,arcade:P}}return(S=this._getUniqueValueInfo(S,
N))&&S.symbol||this.defaultSymbol};W.getSymbols=function(){const S=[];for(const N of this.uniqueValueInfos)N.symbol&&S.push(N.symbol);this.defaultSymbol&&S.push(this.defaultSymbol);return S};W.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((S,N)=>S+N.getAttributeHash(),"")};W.getMeshHash=function(){const S=JSON.stringify(this.backgroundFillSymbol),N=JSON.stringify(this.defaultSymbol),P=this.uniqueValueInfos.reduce((J,M)=>J+M.getMeshHash(),"");return`${S}.${N}.${P}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`};
W.clone=function(){const S=new K({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:n.clone(this.defaultSymbol),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:n.clone(this.visualVariables),legendOptions:n.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:n.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&
(S._isDefaultSymbolDerived=!0);S._set("portal",this.portal);const N=n.clone(this.uniqueValueInfos);this.styleOrigin&&(S._set("styleOrigin",Object.freeze(n.clone(this.styleOrigin))),Object.freeze(N));S._set("uniqueValueInfos",N);S._updateValueInfoMap();return S};W.collectRequiredFields=async function(S,N){S=[this.collectVVRequiredFields(S,N),this.collectSymbolFields(S,N)];await Promise.all(S)};W.collectSymbolFields=async function(S,N){const P=[...this.getSymbols().map(J=>J.collectRequiredFields(S,
N)),y.collectArcadeFieldNames(S,N,this.valueExpression)];y.collectField(S,N,this.field);y.collectField(S,N,this.field2);y.collectField(S,N,this.field3);await Promise.all(P)};W.populateFromStyle=function(){return I.fetchStyle(this.styleOrigin,{portal:this.portal}).then(S=>{const N=[];this._valueInfoMap={};S&&S.data&&Array.isArray(S.data.items)&&S.data.items.forEach(P=>{var J=new E({styleUrl:S.styleUrl,styleName:S.styleName,portal:this.portal,name:P.name});this.defaultSymbol||P.name!==S.data.defaultItem||
(this.defaultSymbol=J,this._isDefaultSymbolDerived=!0);J=new H({value:P.name,symbol:J});N.push(J);this._valueInfoMap[P.name]=J});this._set("uniqueValueInfos",Object.freeze(N));!this.defaultSymbol&&this.uniqueValueInfos.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})};W._updateValueInfoMap=function(){this._valueInfoMap={};this.uniqueValueInfos.forEach(S=>this._valueInfoMap[S.value+""]=S)};W._getUniqueValueInfo=function(S,N){return this.valueExpression?
this._getUnqiueValueInfoForExpression(S,N):this._getUnqiueValueInfoForFields(S)};W._getUnqiueValueInfoForExpression=function(S,N){const {viewingMode:P,scale:J,spatialReference:M,arcade:R}=k.unwrapOr(N,{});var X=this._cache.compiledFunc;N=k.unwrap(R).arcadeUtils;X||(X=N.createSyntaxTree(this.valueExpression),X=N.createFunction(X),this._cache.compiledFunc=X);S=N.executeFunction(X,N.createExecContext(S,N.getViewInfo({viewingMode:P,scale:J,spatialReference:M})));return this._valueInfoMap[S+""]};W._getUnqiueValueInfoForFields=
function(S){const N=this.field,P=S.attributes;if("function"!==typeof N&&this.field2){S=this.field2;var J=this.field3;const M=[];N&&M.push(P[N]);S&&M.push(P[S]);J&&M.push(P[J]);J=M.join(this.fieldDelimiter||"")}else"function"===typeof N?J=N(S):N&&(J=P[N]);return this._valueInfoMap[J+""]};U.fromPortalStyle=function(S,N){const P=new K(N&&N.properties);P._set("styleOrigin",Object.freeze({styleName:S}));P._set("portal",N&&N.portal||A.getDefault());N=P.populateFromStyle();N.catch(J=>{L.error(`#fromPortalStyle('${S}'[, ...])`,
"Failed to create unique value renderer from style name",J)});return N};U.fromStyleUrl=function(S,N){N=new K(N&&N.properties);N._set("styleOrigin",Object.freeze({styleUrl:S}));N=N.populateFromStyle();N.catch(P=>{L.error(`#fromStyleUrl('${S}'[, ...])`,"Failed to create unique value renderer from style URL",P)});return N};a._createClass(U,[{key:"_cache",get:function(){return{compiledFunc:null}}},{key:"defaultSymbol",set:function(S){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",S)}},{key:"uniqueValueInfos",
set:function(S){this.styleOrigin?L.error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",S),this._updateValueInfoMap())}},{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}}]);return U}(C.VisualVariablesMixin(B));c.__decorate([m.property({readOnly:!0})],b.prototype,"_cache",null);c.__decorate([p.enumeration({uniqueValue:"unique-value"})],b.prototype,"type",
void 0);c.__decorate([m.property(z.rendererBackgroundFillSymbolProperty)],b.prototype,"backgroundFillSymbol",void 0);c.__decorate([m.property({json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],b.prototype,"field",void 0);c.__decorate([t.cast("field")],b.prototype,"castField",null);c.__decorate([g.writer("field")],b.prototype,"writeField",null);c.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"field2",void 0);c.__decorate([m.property({type:String,json:{write:!0}})],
b.prototype,"field3",void 0);c.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);c.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);c.__decorate([m.property({type:F["default"],json:{write:!0}})],b.prototype,"legendOptions",void 0);c.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"defaultLabel",void 0);c.__decorate([m.property(r.deepMerge({...z.rendererSymbolProperty},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},
origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],b.prototype,"defaultSymbol",null);c.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"fieldDelimiter",void 0);c.__decorate([m.property({type:A,readOnly:!0})],b.prototype,"portal",void 0);c.__decorate([q.reader("portal",["styleName"])],b.prototype,"readPortal",null);c.__decorate([m.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],b.prototype,"styleOrigin",
void 0);c.__decorate([q.reader("styleOrigin",["styleName","styleUrl"])],b.prototype,"readStyleOrigin",null);c.__decorate([g.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],b.prototype,"writeStyleOrigin",null);c.__decorate([m.property({type:[H],json:{write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],b.prototype,"uniqueValueInfos",null);return b=K=c.__decorate([l.subclass("esri.renderers.UniqueValueRenderer")],b)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports",
"../maybe","./utils","../Accessor","../Collection"],function(a,c,b,n,r){function k(g){return g instanceof r?Object.keys(g.items):g instanceof n?b.getProperties(g).keys():g?Object.keys(g):[]}function d(g,e){return g instanceof r?g.items[e]:g[e]}function h(g,e){return Array.isArray(g)&&Array.isArray(e)?g.length!==e.length:!1}function m(g){return g?g.declaredClass:null}function t(g,e){const f=g.diff;if(f&&"function"===typeof f)return f(g,e);const u=k(g),w=k(e);if(0!==u.length||0!==w.length){if(!u.length||
!w.length||h(g,e))return{type:"complete",oldValue:g,newValue:e};var D=w.filter(A=>-1===u.indexOf(A)),v=u.filter(A=>-1===w.indexOf(A));v=u.filter(A=>-1<w.indexOf(A)&&d(g,A)!==d(e,A)).concat(D,v).sort();if((D=m(g))&&-1<l.indexOf(D)&&v.length)return{type:"complete",oldValue:g,newValue:e};var y;D=g instanceof n&&e instanceof n;for(const A of v){v=d(g,A);const E=d(e,A);!(D||"function"!==typeof v&&"function"!==typeof E)||v===E||null==v&&null==E||(v=f&&f[A]&&"function"===typeof f[A]?f[A](v,E):"object"===
typeof v&&"object"===typeof E&&m(v)===m(E)?t(v,E):{type:"complete",oldValue:v,newValue:E},c.isSome(v)&&(c.isSome(y)?y.diff[A]=v:y={type:"partial",diff:{[A]:v}}))}return y}}function p(g,e){if(c.isNone(g))return!1;e=e.split(".");for(const f of e){if("complete"===g.type)break;if("partial"===g.type){if(g=g.diff[f],!g)return!1}else return!1}return!0}function q(g){if(c.isNone(g))return!0;switch(g.type){case "complete":return!1;case "collection":for(const e of g.added)if(!q(e))return!1;for(const e of g.removed)if(!q(e))return!1;
for(const e of g.changed)if(!q(e))return!1;return!0;case "partial":for(const e in g.diff)if(!q(g.diff[e]))return!1;return!0}}const l=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];a.diff=function(g,e){if("function"!==typeof g&&"function"!==typeof e&&(g||e))return!g||!e||"object"===typeof g&&"object"===typeof e&&m(g)!==m(e)?{type:"complete",oldValue:g,newValue:e}:t(g,e)};a.hasDiff=p;a.hasDiffAny=function(g,e){for(const f of e)if(p(g,
f))return!0;return!1};a.isEmpty=q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../symbols ../../symbols/support/jsonUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(D){D=f.call(this,D)||this;D.description=null;D.label=null;D.symbol=null;D.value=null;return D}a._inheritsLoose(u,f);var w=u.prototype;w.clone=function(){return new e({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})};w.getMeshHash=function(){const D=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${D}`};return u}(q.JSONSupport);c.__decorate([k.property({type:String,
json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([k.property({types:l.symbolTypesRenderer,json:{origins:{"web-scene":{types:l.symbolTypesRenderer3D,write:g.write}},write:g.write}})],b.prototype,"symbol",void 0);c.__decorate([k.property({type:[String,Number],json:{type:String,write:{writer:(f,u)=>{u.value=null==f?void 0:f.toString()}}}})],b.prototype,"value",void 0);return b=e=c.__decorate([h.subclass("esri.renderers.support.UniqueValueInfo")],
b)})},"esri/symbols/support/styleUtils":function(){define("exports ../../core/Error ../../core/urlUtils ../../chunks/persistableUrlUtils ../../request ../../portal/PortalQueryParams ../../portal/Portal ./StyleOrigin ./Thumbnail ../../symbols ./jsonUtils ../../core/devEnvironmentUtils ../../support/featureFlags".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){function g(x,F){return A(x,F).then(B=>({data:B.data,baseUrl:b.removeFile(x),styleUrl:x}))}function e(x,F,B){F=F.portal||d.getDefault();let C;
const z=`${F.url} - ${F.user&&F.user.username} - ${x}`;E[z]||(E[z]=f(x,F,B).then(G=>{C=G;return G.fetchData()}).then(G=>({data:G,baseUrl:C.itemUrl,styleName:x})));return E[z]}function f(x,F,B){return F.load(B).then(()=>{const C=new k({disableExtraQuery:!0,query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${x}"`});return F.queryItems(C,B)}).then(({results:C})=>{let z=null;const G=x.toLowerCase();if(C&&Array.isArray(C))for(const H of C)if(H.typeKeywords.some(I=>I.toLowerCase()===G)&&"Style"===
H.type&&"esri_en"===H.owner){z=H;break}if(!z)throw new c("symbolstyleutils:style-not-found",`The style '${x}' could not be found`,{styleName:x});return z.load(B)})}function u(x,F,B){return x.styleUrl?g(x.styleUrl,B):x.styleName?e(x.styleName,F,B):Promise.reject(new c("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function w(x,F,B,C,z){var G=x.data;const H={portal:B.portal,url:b.urlToObject(x.baseUrl),origin:"portal-item"};G=G.items.find(O=>
O.name===F);if(!G)return Promise.reject(new c("symbolstyleutils:symbol-name-not-found",`The symbol name '${F}' could not be found`,{symbolName:F}));let I=n.fromJSON(v(G,C),H),K=G.thumbnail&&G.thumbnail.href;const L=G.thumbnail&&G.thumbnail.imageData;q.isDevEnvironment()&&(I=q.adjustStaticAGOUrl(I),K=q.adjustStaticAGOUrl(K));const T={portal:B.portal,url:b.urlToObject(b.removeFile(I)),origin:"portal-item"};return A(I,z).then(O=>{O="cimRef"===C?D(O.data):O.data;if((O=p.fromJSON(O,T))&&t.isSymbol3D(O)){if(K){const U=
n.fromJSON(K,H);O.thumbnail=new m["default"]({url:U})}else L&&(O.thumbnail=new m["default"]({url:`data:image/png;base64,${L}`}));x.styleUrl?O.styleOrigin=new h({portal:B.portal,styleUrl:x.styleUrl,name:F}):x.styleName&&(O.styleOrigin=new h({portal:B.portal,styleName:x.styleName,name:F}))}return O})}function D(x){return null===x||"CIMSymbolReference"===x.type?x:{type:"CIMSymbolReference",symbol:x}}function v(x,F){if("cimRef"===F)return x.cimRef;if(x.formatInfos&&!l.enableWebStyleForceWOSR())for(const B of x.formatInfos)if("gltf"===
B.type)return B.href;return x.webRef}function y(x,F,B){const C="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson".replace(/\{SymbolName\}/gi,x.name);return A(C,B).then(z=>{z=D(z.data);return p.fromJSON(z,{portal:F.portal,url:b.urlToObject(b.removeFile(C)),origin:"portal-item"})})}function A(x,F){F={responseType:"json",query:{f:"json"},...F};return r(b.normalize(x),F)}const E={};a.fetchStyle=u;a.fetchSymbolFromStyle=
w;a.resolveWebStyleSymbol=function(x,F,B,C){return x.name?x.styleName&&"Esri2DPointSymbolsStyle"===x.styleName?y(x,F,C):u(x,F,C).then(z=>w(z,x.name,F,B,C)):Promise.reject(new c("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))};a.styleNameFromItem=function(x){for(const F of x.typeKeywords)if(/^Esri.*Style$/.test(F)&&"Esri Style"!==F)return F};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/devEnvironmentUtils":function(){define(["exports",
"./global"],function(a,c){const b=/^devext.arcgis.com$/,n=/^qaext.arcgis.com$/,r=/^[\w-]*\.mapsdevext.arcgis.com$/,k=/^[\w-]*\.mapsqa.arcgis.com$/,d=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,b,n,/^jsapps.esri.com$/,r,k];a.adjustStaticAGOUrl=function(h,m){return h?(m=m||c.location.hostname)?null!=m.match(b)||null!=m.match(r)?h.replace("static.arcgis.com","staticdev.arcgis.com"):null!=m.match(n)||null!=m.match(k)?h.replace("static.arcgis.com","staticqa.arcgis.com"):h:h:h};a.isDevEnvironment=function(h){h=
h||c.location.hostname;return d.some(m=>{var t;return null!=(null==(t=h)?void 0:t.match(m))})};a.isTelemetryDevEnvironment=function(h){h=h||c.location.hostname;return[/^zrh-.+?\.esri\.com$/].concat(d).some(m=>{var t;return null!=(null==(t=h)?void 0:t.match(m))})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,c){function b(n){return!!c(`enable-feature:${n}`)}a.disableContextNavigation=()=>b("disable-context-navigation");
a.enableWebStyleForceWOSR=()=>b("force-wosr");a.hasEnableFeature=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/maybe ../core/string ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../support/arcadeOnDemand ../layers/support/fieldUtils ../Color ../symbols/CIMSymbol ../request ./Renderer ./mixins/VisualVariablesMixin ../core/LRUCache".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F){var B;const C=d.getLogger("esri.renderers.DictionaryRenderer"),z={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};b=B=function(G){function H(K){K=G.call(this,K)||this;K._ongoingRequests=new Map;K._symbolCache=new F(100);K.config=null;K.fieldMap=null;K.scaleExpression=null;K.scaleExpressionTitle=null;K.url=null;K.type="dictionary";return K}a._inheritsLoose(H,
G);var I=H.prototype;I.writeData=function(K,L){K&&(L.scalingExpressionInfo={expression:K,returnType:"number"})};I.writeVisualVariables=function(K,L,T,O){null!=O&&O.origin||G.prototype.writeVisualVariables.call(this,K,L,T,O)};I.clone=function(){return new B({config:n.clone(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:n.clone(this.fieldMap),url:n.clone(this.url),visualVariables:n.clone(this.visualVariables)})};I.getSymbolAsync=async function(K,
L){this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(L));try{var T=await this._dictionaryPromise}catch(P){if(u.isAbortError(P))return this._dictionaryPromise=null}var O={};if(this.fieldMap)for(var U of this._symbolFields){var W=this.fieldMap[U];O[U]=W&&null!==K.attributes[W]&&void 0!==K.attributes[W]?""+K.attributes[W]:""}T=T(O,L);if(!T||"string"!==typeof T)return null;const S=k.numericHash(T).toString();if(O=this._symbolCache.get(S))return O.catch(()=>{this._symbolCache.pop(S)}),
O;U=T.split(";");T=[];O=[];for(const P of U)if(P&&0!==P.length)if(-1!==P.indexOf("po:")){var N=P.substr(3).split("|");3===N.length&&(U=N[0],W=N[1],N=N[2],"DashTemplate"===W?N=N.split(" ").map(J=>Number(J)):"Color"===W?(N=(new v(N)).toRgba(),N=[N[0],N[1],N[2],255*N[3]]):N=Number(N),O.push({primitiveName:U,propertyName:W,value:N}))}else if(-1!==P.indexOf("|"))for(const J of P.split("|"))this._itemNames.has(J)&&T.push(J);else this._itemNames.has(P)&&T.push(P);K=r.isSome(K.geometry)&&(K.geometry.hasZ||
"point"!==K.geometry.type)?!1:!0;L=this._cimPartsToCIMSymbol(T,O,K,L);this._symbolCache.put(S,L,1);return L};I.collectRequiredFields=async function(K,L){await this.collectVVRequiredFields(K,L);this.scaleExpression&&await D.collectArcadeFieldNames(K,L,this.scaleExpression);L=L.map(T=>T.name);for(const T in this.fieldMap)0>L.indexOf(this.fieldMap[T])||K.add(this.fieldMap[T])};I.fetchResources=async function(K){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var L=r.isSome(K)?
K.abortOptions:null;L=A(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},...L});var [{data:T}]=await Promise.all([L,w.loadArcade()]);if(!T)throw this._dictionaryPromise=null,new l("esri.renderers.DictionaryRenderer","Bad dictionary data!");L=T.expression;var O=T.authoringInfo;this._refSymbolUrlTemplate=this.url+"/"+T.cimRefTemplateUrl;this._itemNames=new Set(T.itemsNames);this._symbolFields=O.symbol;T={};if(this.config){const S=this.config;for(var U in S)T[U]=
S[U]}if(O.configuration)for(var W of O.configuration)T.hasOwnProperty(W.name)||(T[W.name]=W.value);U=[];if(r.isSome(K)&&K.fields&&this.fieldMap)for(const S of this._symbolFields){const N=this.fieldMap[S];W=K.fields.filter(P=>P.name===N);0<W.length&&U.push({...W[0],name:S})}return this._dictionaryPromise=w.createDictionaryExpression(L,r.isSome(K)?K.spatialReference:null,U,T).then(S=>{const N={scale:0};return(P,J)=>{P=S.repurposeFeature({geometry:null,attributes:P});N.scale=r.isSome(J)?J.scale:void 0;
return S.evaluate({$feature:P,$view:N})}}).catch(S=>{C.error("Creating dictinoary expression failed:",S);return null})}C.error("no valid URL!")};I.getSymbol=function(){return null};I.getSymbols=function(){return[]};I.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((K,L)=>K+L.getAttributeHash(),"")};I.getMeshHash=function(){return`${this.url}-${JSON.stringify(this.fieldMap)}`};I.getSymbolFields=function(){return this._symbolFields};I._getSymbolPart=async function(K,
L){if(this._ongoingRequests.has(K))return this._ongoingRequests.get(K).then(O=>O.data);const T=this._refSymbolUrlTemplate.replace(/\{itemName\}/gi,K);L=A(T,{responseType:"json",query:{f:"json"},...L});this._ongoingRequests.set(K,L);try{return(await L).data}catch(O){return this._ongoingRequests.delete(K),Promise.reject(O)}};I._combineSymbolParts=function(K,L,T){if(!K||0===K.length)return null;const O={...K[0]};if(1<K.length){O.symbolLayers=[];for(const U of K)O.symbolLayers.unshift(...U.symbolLayers)}T&&
(O.callout=z);return{type:"CIMSymbolReference",symbol:O,primitiveOverrides:L}};I._cimPartsToCIMSymbol=async function(K,L,T,O){const U=Array(K.length);for(let W=0;W<K.length;W++)U[W]=this._getSymbolPart(K[W],O);K=await Promise.all(U);return new y({data:this._combineSymbolParts(K,L,T)})};a._createClass(H,[{key:"arcadeRequired",get:function(){return!0}}]);return H}(x.VisualVariablesMixin(E));c.__decorate([m.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],
b.prototype,"config",void 0);c.__decorate([m.property({type:Object,json:{write:!0}})],b.prototype,"fieldMap",void 0);c.__decorate([m.property({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],b.prototype,"scaleExpression",void 0);c.__decorate([q.writer("scaleExpression")],b.prototype,"writeData",null);c.__decorate([m.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(G){return{enabled:!!G&&
!!this.scaleExpression}}}}})],b.prototype,"scaleExpressionTitle",void 0);c.__decorate([m.property({type:String,json:{write:!0}})],b.prototype,"url",void 0);c.__decorate([q.writer("visualVariables")],b.prototype,"writeVisualVariables",null);return b=B=c.__decorate([p.subclass("esri.renderers.DictionaryRenderer")],b)})},"esri/core/LRUCache":function(){define(["../chunks/_rollupPluginBabelHelpers","./MemCache"],function(a,c){return function(){function b(r,k){this._storage=new c.MemCacheStorage;this._storage.maxSize=
r;k&&this._storage.registerRemoveFunc("",k)}var n=b.prototype;n.put=function(r,k,d){this._storage.put(r,k,d,1)};n.pop=function(r){return this._storage.pop(r)};n.get=function(r){return this._storage.get(r)};n.clear=function(){this._storage.clearAll()};n.destroy=function(){this._storage.destroy()};a._createClass(b,[{key:"maxSize",get:function(){return this._storage.maxSize},set:function(r){this._storage.maxSize=r}}]);return b}()})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers",
"./PooledArray"],function(a,c,b){let n=function(){function k(h,m,t){this._namespace=h;this._storage=m;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";t&&(this._storage.registerRemoveFunc(this._namespace,t),this._removeFunc=!0)}var d=k.prototype;d.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};d.resetHitRate=function(){this._hit=
this._miss=0};d.put=function(h,m,t,p=0){this._storage.put(this._namespace+h,m,t,p)};d.get=function(h){h=this._storage.get(this._namespace+h);void 0===h?++this._miss:++this._hit;return h};d.pop=function(h){h=this._storage.pop(this._namespace+h);void 0===h?++this._miss:++this._hit;return h};d.updateSize=function(h,m,t){this._storage.updateSize(this._namespace+h,m,t)};d.clear=function(){this._storage.clear(this._namespace)};d.clearAll=function(){this._storage.clearAll()};d.getStats=function(){return this._storage.getStats()};
d.resetStats=function(){this._storage.resetStats()};c._createClass(k,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return k}(),r=function(){function k(h=10485760){this._maxSize=h;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new b;this._users=new b}var d=k.prototype;
d.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};d.register=function(h){this._users.push(h)};d.deregister=function(h){this._users.removeUnordered(h)};d.registerRemoveFunc=function(h,m){this._removeFuncs.push([h,m])};d.deregisterRemoveFunc=function(h){this._removeFuncs.filterInPlace(m=>m[0]!==h)};d.put=function(h,m,t,p){const q=this._db.get(h);q&&(this._size-=q.size,this._db.delete(h),q.entry!==m&&this._notifyRemoved(h,q.entry));t>this._maxSize?this._notifyRemoved(h,
m):void 0===m?console.warn("Refusing to cache undefined entry "):!t||0>t?console.warn("Refusing to cache entry with invalid size "+t):(p=1+Math.max(p,-3)- -3,this._db.set(h,{entry:m,size:t,lifetime:p,lives:p}),this._size+=t,this._checkSizeLimit())};d.updateSize=function(h,m,t){const p=this._db.get(h);p&&p.entry===m&&(this._size-=p.size,t>this._maxSize?(this._db.delete(h),this._notifyRemoved(h,m)):(p.size=t,this._size+=t,this._checkSizeLimit()))};d.pop=function(h){const m=this._db.get(h);if(m)return this._size-=
m.size,this._db.delete(h),++this._hit,m.entry;++this._miss};d.get=function(h){const m=this._db.get(h);if(void 0===m)++this._miss;else return this._db.delete(h),m.lives=m.lifetime,this._db.set(h,m),++this._hit,m.entry};d.getStats=function(){const h={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},m={},t=[];this._db.forEach((l,g)=>{const e=l.lifetime;t[e]=(t[e]||0)+l.size;this._users.forAll(f=>
{f=f.namespace;g.startsWith(f)&&(m[f]=(m[f]||0)+l.size)})});const p={};this._users.forAll(l=>{const g=l.namespace;!isNaN(l.hitRate)&&0<l.hitRate?(m[g]=m[g]||0,p[g]=Math.round(100*l.hitRate)+"%"):p[g]="0%"});var q=Object.keys(m);q.forEach(l=>m[l]=m[l]/this._size*100);q.sort((l,g)=>m[g]-m[l]);q.forEach(l=>h[l]=Math.round(m[l])+"% / "+p[l]);for(q=t.length-1;0<=q;--q){const l=t[q];l&&(h["Priority "+(q+-3-1)]=Math.round(l/this.size*100)+"%")}return h};d.resetStats=function(){this._hit=this._miss=0;this._users.forAll(h=>
h.resetHitRate())};d.clear=function(h){this._db.forEach((m,t)=>{t.startsWith(h)&&(this._size-=m.size,this._db.delete(t),this._notifyRemoved(t,m.entry))})};d.clearAll=function(){this._db.forEach((h,m)=>this._notifyRemoved(m,h.entry));this._size=0;this._db.clear()};d._getHitRate=function(){return this._hit/(this._hit+this._miss)};d._notifyRemoved=function(h,m){this._removeFuncs.forAll(t=>{if(h.startsWith(t[0]))t[1](m)})};d._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [h,m]of this._db)if(this._db.delete(h),
1>=m.lives?(this._size-=m.size,this._notifyRemoved(h,m.entry)):(--m.lives,this._db.set(h,m)),this._size<=.9*this.maxSize)break};c._createClass(k,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(h){this._maxSize=Math.max(h,0);this._checkSizeLimit()}}]);return k}();a.MIN_PRIORITY=-3;a.MemCache=n;a.MemCacheStorage=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../layers/support/fieldUtils ../Color ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y){var A;b=A=function(E){function x(B){B=E.call(this,B)||this;B.attributes=null;B.backgroundColor=new e([0,0,0,0]);B.blendDots=!0;B.dotBlendingEnabled=!0;B.dotShape="square";B.dotSize=1;B.legendOptions=null;B.outline=new f;B.dotValue=null;B.referenceDotValue=null;B.referenceScale=null;B.seed=1;B.type="dot-density";return B}a._inheritsLoose(x,E);var F=x.prototype;F.calculateDotValue=function(B){if(null==this.referenceScale)return this.dotValue;B=B/this.referenceScale*
this.dotValue;return 1>B?1:B};F.getSymbol=function(){return new u({outline:this.outline})};F.getSymbolAsync=async function(){return this.getSymbol()};F.getSymbols=function(){return[this.getSymbol()]};F.getAttributeHash=function(){return this.attributes&&this.attributes.reduce((B,C)=>B+C.getAttributeHash(),"")};F.getMeshHash=function(){return JSON.stringify(this.outline)};F.clone=function(){return new A({attributes:n.clone(this.attributes),backgroundColor:n.clone(this.backgroundColor),dotBlendingEnabled:n.clone(this.dotBlendingEnabled),
dotShape:n.clone(this.dotShape),dotSize:n.clone(this.dotSize),dotValue:n.clone(this.dotValue),legendOptions:n.clone(this.legendOptions),outline:n.clone(this.outline),referenceScale:n.clone(this.referenceScale),visualVariables:n.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};F.getControllerHash=function(){const B=this.attributes.map(z=>z.field||z.valueExpression||""),C=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${B}-${C}`};F.collectRequiredFields=
async function(B,C){await this.collectVVRequiredFields(B,C);for(const z of this.attributes)z.valueExpression&&await g.collectArcadeFieldNames(B,C,z.valueExpression),z.field&&B.add(z.field)};return x}(D.VisualVariablesMixin(w));c.__decorate([d.property({type:[v],json:{write:!0}})],b.prototype,"attributes",void 0);c.__decorate([d.property({type:e,json:{write:!0}})],b.prototype,"backgroundColor",void 0);c.__decorate([d.property({type:Boolean}),h.aliasOf("dotBlendingEnabled")],b.prototype,"blendDots",
void 0);c.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"dotBlendingEnabled",void 0);c.__decorate([d.property({type:String,json:{write:!1}})],b.prototype,"dotShape",void 0);c.__decorate([d.property({type:Number,json:{write:!1}})],b.prototype,"dotSize",void 0);c.__decorate([d.property({type:y,json:{write:!0}})],b.prototype,"legendOptions",void 0);c.__decorate([d.property({type:f,json:{default:null,write:!0}})],b.prototype,"outline",void 0);c.__decorate([d.property({type:Number,
json:{write:!0}})],b.prototype,"dotValue",void 0);c.__decorate([d.property({type:Number}),h.aliasOf("dotValue")],b.prototype,"referenceDotValue",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"referenceScale",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"seed",void 0);c.__decorate([m.enumeration({dotDensity:"dot-density"})],b.prototype,"type",void 0);return b=A=c.__decorate([t.subclass("esri.renderers.DotDensityRenderer")],b)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;const f=n.getLogger("esri.renderers.support.AttributeColorInfo");b=e=function(u){function w(v){v=u.call(this,v)||this;v.color=null;v.field=null;v.label=null;v.valueExpression=null;v.valueExpressionTitle=null;return v}a._inheritsLoose(w,u);var D=w.prototype;D.castField=function(v){return null==v?v:"function"===typeof v?(f.error(".field: field must be a string value"),null):r.ensureString(v)};D.getAttributeHash=function(){return`${this.field}-${this.valueExpression}`};
D.clone=function(){return new e({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})};return w}(l.JSONSupport);c.__decorate([k.property({type:g,json:{type:[Number],write:!0}})],b.prototype,"color",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);c.__decorate([d.cast("field")],b.prototype,"castField",null);c.__decorate([k.property({type:String,json:{write:!0}})],
b.prototype,"label",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"valueExpression",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"valueExpressionTitle",void 0);return b=e=c.__decorate([m.subclass("esri.renderers.support.AttributeColorInfo")],b)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(){var f=g.apply(this,arguments)||this;f.unit=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({unit:this.unit})};return e}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"unit",void 0);return b=l=c.__decorate([h.subclass("esri.renderers.support.DotDensityLegendOptions")],b)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../layers/support/fieldUtils ../Color ./Renderer ./support/HeatmapColorStop".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;b=u=function(w){function D(y){y=w.call(this,y)||this;y.blurRadius=10;y.colorStops=[new f({ratio:0,color:new g("rgba(255, 140, 0, 0)")}),new f({ratio:.75,color:new g("rgba(255, 140, 0, 1)")}),new f({ratio:.9,color:new g("rgba(255, 0,   0, 1)")})];y.field=null;y.fieldOffset=0;y.maxPixelIntensity=100;y.minPixelIntensity=0;y.type="heatmap";return y}a._inheritsLoose(D,w);var v=D.prototype;v.collectRequiredFields=async function(y,A){const E=this.field;E&&
"string"===typeof E&&l.collectField(y,A,E)};v.getAttributeHash=function(){return null};v.getMeshHash=function(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`};v.clone=function(){return new u({blurRadius:this.blurRadius,colorStops:n.clone(this.colorStops),field:this.field,maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity})};return D}(e);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"blurRadius",void 0);c.__decorate([d.property({type:[f],
json:{write:!0}})],b.prototype,"colorStops",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);c.__decorate([d.property({type:Number,json:{write:{overridePolicy:(w,D,v)=>({enabled:null==v})}}})],b.prototype,"fieldOffset",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"maxPixelIntensity",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"minPixelIntensity",void 0);c.__decorate([h.enumeration({heatmap:"heatmap"})],
b.prototype,"type",void 0);return b=u=c.__decorate([m.subclass("esri.renderers.HeatmapRenderer")],b)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../Color".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=e.call(this,u)||this;u.color=null;u.ratio=null;return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({color:this.color,ratio:this.ratio})};return f}(q.JSONSupport);c.__decorate([k.property({type:l,json:{write:!0}})],b.prototype,"color",void 0);c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"ratio",void 0);return b=g=c.__decorate([h.subclass("esri.renderers.support.HeatmapColorStop")],
b)})},"esri/renderers/SimpleRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,
l,g,e){var f;b=f=function(u){function w(v){v=u.call(this,v)||this;v.description=null;v.label=null;v.symbol=null;v.type="simple";return v}a._inheritsLoose(w,u);var D=w.prototype;D.collectRequiredFields=async function(v,y){await Promise.all([this.collectSymbolFields(v,y),this.collectVVRequiredFields(v,y)])};D.collectSymbolFields=async function(v,y){await Promise.all(this.getSymbols().map(A=>A.collectRequiredFields(v,y)))};D.getSymbol=function(v,y){return this.symbol};D.getSymbolAsync=async function(v,
y){return this.symbol};D.getSymbols=function(){return this.symbol?[this.symbol]:[]};D.getAttributeHash=function(){return this.visualVariables&&this.visualVariables.reduce((v,y)=>v+y.getAttributeHash(),"")};D.getMeshHash=function(){return this.getSymbols().reduce((v,y)=>v+=JSON.stringify(y),"")};D.clone=function(){return new f({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:n.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};
a._createClass(w,[{key:"arcadeRequired",get:function(){return this.arcadeRequiredForVisualVariables}}]);return w}(g.VisualVariablesMixin(l));c.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);c.__decorate([d.property(e.rendererSymbolProperty)],b.prototype,"symbol",void 0);c.__decorate([h.enumeration({simple:"simple"})],b.prototype,"type",void 0);return b=f=c.__decorate([m.subclass("esri.renderers.SimpleRenderer")],
b)})},"esri/renderers/support/types":function(){define("exports ../Renderer ../ClassBreaksRenderer ../UniqueValueRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../SimpleRenderer".split(" "),function(a,c,b,n,r,k,d,h){const m={key:"type",base:c,typeMap:{simple:h,"unique-value":n,"class-breaks":b},errorContext:"renderer"};a.rendererTypes={key:"type",base:c,typeMap:{heatmap:d,simple:h,"unique-value":n,"class-breaks":b,"dot-density":k,dictionary:r},errorContext:"renderer"};a.webSceneRendererTypes=
m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/renderers/support/jsonUtils":function(){define("exports ../../core/has ../../core/object ../../core/Warning ../../core/accessorSupport/extensions/serializableProperty/reader ../../core/Error ./types".split(" "),function(a,c,b,n,r,k,d){function h(p,q){if(!q||"web-scene"!==q.origin)return!0;switch(p.type){case "simple":case "unique-value":case "class-breaks":return!0;case "heatmap":case "dictionary":case "dot-density":return!1;default:return!1}}
function m(p,q,l){return p?p&&(p.styleName||p.styleUrl)&&"uniqueValue"!==p.type?(l&&l.messages&&l.messages.push(new n("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+p.type+"'",{definition:p,context:l})),null):t(p,q,l):null}const t=r.createTypeReader({types:d.rendererTypes});a.fromJSON=function(p,q){return m(p,null,q)};a.read=m;a.write=function(p,q,l,g){p?h(p,g)?p=p.write({},g):(g.messages&&g.messages.push(new k("renderer:unsupported",`Renderer of type '${p.declaredClass}' are not supported in scenes.`,
{renderer:p,context:g})),p=null):p=null;p&&b.setDeepValue(l,p,q)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/utils ./accessorSupport/decorators/subclass ./accessorSupport/PropertyOrigin ./Accessor ./accessorSupport/write ./ReadOnlyMultiOriginJSONSupport".split(" "),function(a,c,b,n,r,k,d,h,m){const t=q=>{q=function(l){function g(...f){return l.call(this,
...f)||this}c._inheritsLoose(g,l);var e=g.prototype;e.clear=function(f,u="user"){return n.getProperties(this).store.delete(f,k.nameToId(u))};e.write=function(f={},u){f=f||{};h.write(this,f,u);return f};e.setAtOrigin=function(f,u,w){n.getProperties(this).setAtOrigin(f,u,k.nameToId(w))};e.removeOrigin=function(f){const u=n.getProperties(this).store;f=k.nameToId(f);const w=u.keys(f);for(const D of w)u.originOf(D)===f&&u.set(D,u.get(D,f),6)};e.updateOrigin=function(f,u){const w=n.getProperties(this).store;
u=k.nameToId(u);const D=this.get(f);for(let v=u+1;v<k.OriginIdNum;++v)w.delete(f,v);w.set(f,D,u)};e.toJSON=function(f){return this.write({},f)};return g}(q);q=b.__decorate([r.subclass("esri.core.WriteableMultiOriginJSONSupport")],q);q.prototype.toJSON.isDefaultToJSON=!0;return q},p=q=>{q=function(l){function g(...e){return l.call(this,...e)||this}c._inheritsLoose(g,l);return g}(t(m.ReadOnlyMultiOriginJSONMixin(q)));return q=b.__decorate([r.subclass("esri.core.MultiOriginJSONSupport")],q)};a.MultiOriginJSONSupport=
function(q){function l(){return q.apply(this,arguments)||this}c._inheritsLoose(l,q);return l}(p(d));a.MultiOriginJSONSupport=b.__decorate([r.subclass("esri.core.MultiOriginJSONSupport")],a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./maybe ./accessorSupport/utils ./accessorSupport/decorators/subclass ./accessorSupport/PropertyOrigin ./Accessor ./accessorSupport/read ./accessorSupport/MultiOriginStore".split(" "),
function(a,c,b,n,r,k,d,h,m,t){const p=q=>{q=function(l){function g(...f){f=l.call(this,...f)||this;const u=n.assumeNonNull(r.getProperties(c._assertThisInitialized(f))),w=u.metadatas,D=u.store,v=new t;u.store=v;D.keys().forEach(y=>{v.set(y,D.get(y),0)});Object.keys(w).forEach(y=>{u.internalGet(y)&&v.set(y,u.internalGet(y),0)});return f}c._inheritsLoose(g,l);var e=g.prototype;e.read=function(f,u){m.read(this,f,u)};e.getAtOrigin=function(f,u){const w=r.getProperties(this).store,D=d.nameToId(u);if("string"===
typeof f)return w.get(f,D);const v={};f.forEach(y=>{v[y]=w.get(y,D)});return v};e.originOf=function(f){return d.idToName(this.originIdOf(f))};e.originIdOf=function(f){return r.getProperties(this).store.originOf(f)};e.revert=function(f,u){const w=r.getProperties(this).store,D=d.nameToId(u),v=r.getProperties(this);("string"===typeof f?"*"===f?w.keys(D):[f]:f).forEach(y=>{v.propertyInvalidated(y);w.revert(y,D);v.propertyCommitted(y)})};return g}(q);return q=b.__decorate([k.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],
q)};a.ReadOnlyMultiOriginJSONSupport=function(q){function l(){return q.apply(this,arguments)||this}c._inheritsLoose(l,q);return l}(p(h));a.ReadOnlyMultiOriginJSONSupport=b.__decorate([k.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=p;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang","../maybe","./PropertyOrigin"],function(a,c,b){return function(){function n(){this._propertyOriginMap=
new Map;this._originStores=Array(b.OriginIdNum);this._values=new Map}var r=n.prototype;r.clone=function(k){const d=new n;var h=this._originStores[0];h&&h.forEach((m,t)=>{d.set(t,a.clone(m),0)});for(let m=2;m<b.OriginIdNum;m++)(h=this._originStores[m])&&h.forEach((t,p)=>{k&&k.has(p)||d.set(p,a.clone(t),m)});return d};r.get=function(k,d){return(d=void 0===d?this._values:this._originStores[d])?d.get(k):void 0};r.keys=function(k){return(k=null==k?this._values:this._originStores[k])?[...k.keys()]:[]};
r.set=function(k,d,h=6){var m=this._originStores[h];m||(m=new Map,this._originStores[h]=m);m.set(k,d);return!this._values.has(k)||c.assumeNonNull(this._propertyOriginMap.get(k))<=h?(m=this._values.get(k),this._values.set(k,d),this._propertyOriginMap.set(k,h),m!==d):!1};r.delete=function(k,d=6){var h=this._originStores[d];if(h){var m=h.get(k);h.delete(k);if(this._values.has(k)&&this._propertyOriginMap.get(k)===d)for(this._values.delete(k),--d;0<=d;d--)if((h=this._originStores[d])&&h.has(k)){this._values.set(k,
h.get(k));this._propertyOriginMap.set(k,d);break}return m}};r.has=function(k,d){return(d=void 0===d?this._values:this._originStores[d])?d.has(k):!1};r.revert=function(k,d){for(;0<d&&!this.has(k,d);)--d;var h=this._originStores[d];h=h&&h.get(k);const m=this._values.get(k);this._values.set(k,h);this._propertyOriginMap.set(k,d);return m!==h};r.originOf=function(k){return this._propertyOriginMap.get(k)||0};r.forEach=function(k){this._values.forEach(k)};return n}()})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports",
"../../core/maybe","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,c,b,n){function r(q){q=b.urlToObject(q);q=q.path.match(m)||q.path.match(t);if(!q)return null;const [,l,g,e,f]=q;q=g.indexOf("/");return{title:d(-1!==q?g.slice(q+1):g),serverType:e,sublayer:null!=f&&""!==f?parseInt(f,10):null,url:{path:l}}}function k(q){return(q=b.urlToObject(q).path.match(p))?{serviceUrl:q[1],sublayerId:Number(q[2])}:null}function d(q){q=q.replace(/\s*[/_]+\s*/g," ");return q[0].toUpperCase()+
q.slice(1)}const h="MapServer ImageServer FeatureServer SceneServer StreamServer VectorTileServer".split(" "),m=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${h.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),t=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${h.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),p=/(.*)\/(\d+)\/?$/i;a.cleanTitle=d;a.isArcGISUrl=function(q){return!!m.test(q)};a.isHostedAgolService=function(q){if(!q)return!1;q=q.toLowerCase();const l=-1!==q.indexOf(".arcgis.com/");
q=-1!==q.indexOf("//services")||-1!==q.indexOf("//tiles")||-1!==q.indexOf("//features");return l&&q};a.isHostedSecuredProxyService=function(q,l){return l&&q&&-1!==q.toLowerCase().indexOf(l.toLowerCase())};a.isServerOrServicesAGOLUrl=function(q){if(!q)return!1;q=(new b.Url(b.makeAbsolute(q))).authority.toLowerCase();return"server.arcgisonline.com"===q||"services.arcgisonline.com"===q};a.isWmsServer=function(q){if(!q)return!1;var l=q.toLowerCase();q=-1!==l.indexOf("/services/");const g=-1!==l.indexOf("/mapserver/wmsserver"),
e=-1!==l.indexOf("/imageserver/wmsserver");l=-1!==l.indexOf("/wmsserver");return q&&(g||e||l)};a.parse=r;a.parseNonStandardSublayerUrl=k;a.sanitizeUrl=function(q,l){return q?b.removeTrailingSlash(b.removeQueryParameters(q,l)):q};a.sanitizeUrlWithLayerId=function(q){let {url:l}=q;if(!l)return{url:l};l=b.removeQueryParameters(l,q.logger);const g=b.urlToObject(l),e=r(g.path);let f;c.isSome(e)?(null!=e.sublayer&&null==q.layer.layerId&&(f=e.sublayer),l=e.url.path):q.nonStandardUrlAllowed&&(q=k(g.path),
c.isSome(q)&&(l=q.serviceUrl,f=q.sublayerId));return{url:b.removeTrailingSlash(l),layerId:f}};a.serverTypes=h;a.titleFromUrlAndName=function(q,l){const g=[];q&&(q=r(q),c.isSome(q)&&q.title&&g.push(q.title));l&&(l=d(l),g.push(l));if(2===g.length){if(-1!==g[0].toLowerCase().indexOf(g[1].toLowerCase()))return g[0];if(-1!==g[1].toLowerCase().indexOf(g[0].toLowerCase()))return g[1]}return g.join(" - ")};a.writeUrlWithLayerId=function(q,l,g,e,f){n.write(l,e,"url",f);e.url&&null!=q.layerId&&(e.url=b.join(e.url,
g,q.layerId.toString()))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/Warning ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/arrayUtils ../core/JSONSupport ../core/unitUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){function w(E,x){return new m("height-unit:unsupported",`Height unit of value '${E}' is not supported`,x)}function D(E,x){return new m("height-model:unsupported",`Height model of value '${E}' is not supported`,x)}var v;const y=d.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});b=y.jsonValues.slice();e.removeUnordered(b,"orthometric");const A=d.strict()({meter:"meters",foot:"feet","us-foot":"us-feet",
"clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});d=v=function(E){function x(B){B=E.call(this,B)||this;B.heightModel=
"gravity-related-height";B.heightUnit="meters";B.vertCRS=null;return B}a._inheritsLoose(x,E);var F=x.prototype;F.writeHeightModel=function(B,C,z){return y.write(B,C,z)};F.readHeightModel=function(B,C,z){if(C=y.read(B))return C;z&&z.messages&&z.messages.push(D(B,{context:z}));return null};F.readHeightUnit=function(B,C,z){if(C=A.read(B))return C;z&&z.messages&&z.messages.push(w(B,{context:z}));return null};F.readHeightUnitService=function(B,C,z){if(C=u.unitFromRESTJSON(B)||A.read(B))return C;z&&z.messages&&
z.messages.push(w(B,{context:z}));return null};F.readVertCRS=function(B,C){return C.vertCRS||C.ellipsoid||C.geoid};F.clone=function(){return new v({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})};F.equals=function(B){return B?this===B?!0:this.heightModel===B.heightModel&&this.heightUnit===B.heightUnit&&this.vertCRS===B.vertCRS:!1};x.deriveUnitFromSR=function(B,C){C=u.getVerticalUnitStringForSR(C);return new v({heightModel:B.heightModel,heightUnit:C,vertCRS:B.vertCRS})};
F.write=function(B,C){C={origin:"web-scene",...C};return E.prototype.write.call(this,B,C)};x.fromJSON=function(B){if(!B)return null;const C=new v;C.read(B,{origin:"web-scene"});return C};return x}(f.JSONSupport);c.__decorate([k.property({type:y.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:b,default:"ellipsoidal"}}}})],d.prototype,"heightModel",void 0);c.__decorate([p.writer("web-scene","heightModel")],d.prototype,"writeHeightModel",null);c.__decorate([h.reader(["web-scene","service"],
"heightModel")],d.prototype,"readHeightModel",null);c.__decorate([k.property({type:A.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:A.jsonValues,write:A.write}}}})],d.prototype,"heightUnit",void 0);c.__decorate([h.reader("web-scene","heightUnit")],d.prototype,"readHeightUnit",null);c.__decorate([h.reader("service","heightUnit")],d.prototype,"readHeightUnitService",null);c.__decorate([k.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],d.prototype,"vertCRS",
void 0);c.__decorate([h.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],d.prototype,"readVertCRS",null);return d=v=c.__decorate([t.subclass("esri.geometry.HeightModelInfo")],d)})},"esri/layers/support/FieldsIndex":function(){define(function(){return function(){function a(b){this.fields=b;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this.dateFields=[];if(b){var n=[];for(const r of b)if(b=r&&r.name){const k=b.toLowerCase().trim();this._fieldsMap.set(b,r);this._fieldsMap.set(k,r);
n.push(k);if("date"===r.type||"esriFieldTypeDate"===r.type)this.dateFields.push(r),this._dateFieldsSet.add(r)}n.sort();this.uid=n.join(",")}}var c=a.prototype;c.destroy=function(){this._fieldsMap.clear()};c.has=function(b){return null!=this.get(b)};c.get=function(b){return null!=b?this._fieldsMap.get(b)||this._fieldsMap.get(b.toLowerCase().trim()):void 0};c.isDateField=function(b){return this._dateFieldsSet.has(this.get(b))};c.normalizeFieldName=function(b){if(b=this.get(b))return b.name};return a}()})},
"esri/form/FormTemplate":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport ./ExpressionInfo ./support/elements ./elements/GroupElement".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w){var D;const v=u.buildTypeMaps(w);b=D=function(y){function A(x){x=y.call(this,x)||this;x.description=null;x.elements=null;x.expressionInfos=null;x.title=null;return x}a._inheritsLoose(A,y);var E=A.prototype;E.castElements=function(x){return u.ensureType(x,v)};E.readElements=function(x,F){return u.fromJSON(F.formElements,v)};E.writeElements=function(x,F){F.formElements=u.toJSON(x,v)};E.clone=function(){return new D({description:this.description,expressionInfos:n.clone(this.expressionInfos),
elements:n.clone(this.elements),title:this.title})};return A}(e.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([k.property({json:{write:!0}})],b.prototype,"elements",void 0);c.__decorate([d.cast("elements")],b.prototype,"castElements",null);c.__decorate([m.reader("elements",["formElements"])],b.prototype,"readElements",null);c.__decorate([p.writer("elements")],b.prototype,"writeElements",null);c.__decorate([k.property({type:[f],
json:{write:!0}})],b.prototype,"expressionInfos",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=D=c.__decorate([t.subclass("esri.form.FormTemplate")],b)})},"esri/form/ExpressionInfo":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.expression=null;f.name=null;f.returnType="boolean";f.title=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};return e}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,
"name",void 0);c.__decorate([k.property({type:["boolean"],json:{write:!0}})],b.prototype,"returnType",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=l=c.__decorate([h.subclass("esri.form.ExpressionInfo")],b)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/Element ../elements/AttachmentElement ../elements/FieldElement ../elements/RelationshipElement".split(" "),function(a,c,b,n,r,k){a.buildTypeMaps=
function(d){return{typesWithGroup:{base:b,key:"type",typeMap:{attachment:n,field:r,group:d,relationship:k}},typesWithoutGroup:{base:b,key:"type",typeMap:{attachment:n,field:r,relationship:k}}}};a.ensureType=function(d,h,m=!0){return d?d.map(t=>c.ensureOneOfType(m?h.typesWithGroup:h.typesWithoutGroup,t)):null};a.fromJSON=function(d,h,m=!0){if(!d)return null;const t=m?h.typesWithGroup.typeMap:h.typesWithoutGroup.typeMap;return d.filter(p=>t[p.type]).map(p=>t[p.type].fromJSON(p))};a.toJSON=function(d,
h,m=!0){if(!d)return null;const t=m?h.typesWithGroup.typeMap:h.typesWithoutGroup.typeMap;return d.filter(p=>t[p.type]).map(p=>p.toJSON())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/form/elements/Element":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass","../../core/JSONSupport"],function(a,c,b,n,r){r=function(k){function d(h){h=k.call(this,h)||this;h.description=
null;h.label=null;h.type=null;h.visibilityExpression=null;return h}a._inheritsLoose(d,k);return d}(r.JSONSupport);c.__decorate([b.property({type:String,json:{write:!0}})],r.prototype,"description",void 0);c.__decorate([b.property({type:String,json:{write:!0}})],r.prototype,"label",void 0);c.__decorate([b.property()],r.prototype,"type",void 0);c.__decorate([b.property({type:String,json:{write:!0}})],r.prototype,"visibilityExpression",void 0);return r=c.__decorate([n.subclass("esri.form.elements.Element")],
r)})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Element ./inputs/AttachmentInput".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(u){u=
e.call(this,u)||this;u.attachmentKeyword=null;u.editable=!0;u.input=null;u.type="attachment";return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})};return f}(q);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"attachmentKeyword",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],
b.prototype,"editable",void 0);c.__decorate([k.property({type:l,json:{read:{source:"inputType"},write:{target:"inputType"}}})],b.prototype,"input",void 0);c.__decorate([k.property({type:["attachment"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=g=c.__decorate([h.subclass("esri.form.elements.AttachmentElement")],b)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.type=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({type:this.type})};return e}(q.JSONSupport);c.__decorate([k.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.form.elements.inputs.AttachmentInput")],b)})},"esri/form/elements/FieldElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../layers/support/domains ./Element ./support/inputs".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(w){w=f.call(this,w)||this;w.domain=null;w.editable=!0;w.fieldName=null;w.hint=null;w.input=null;w.requiredExpression=null;w.type="field";return w}a._inheritsLoose(u,f);u.prototype.clone=function(){return new e({description:this.description,domain:this.domain,editable:this.editable,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,visibilityExpression:this.visibilityExpression})};
return u}(l);c.__decorate([k.property({types:q.types,json:{read:{reader:q.fromJSON},write:!0}})],b.prototype,"domain",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"hint",void 0);c.__decorate([k.property({types:g.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],b.prototype,
"input",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"requiredExpression",void 0);c.__decorate([k.property({type:String,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e=c.__decorate([h.subclass("esri.form.elements.FieldElement")],b)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/Input ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DateTimePickerInput ../inputs/RadioButtonsInput ../inputs/TextAreaInput ../inputs/TextBoxInput".split(" "),
function(a,c,b,n,r,k,d,h){a.types={base:c,key:"type",typeMap:{"barcode-scanner":b,"combo-box":n,"datetime-picker":r,"radio-buttons":k,"text-area":d,"text-box":h}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,e)||this;e.type=null;return e}a._inheritsLoose(g,l);return g}(q.JSONSupport);c.__decorate([k.property()],b.prototype,"type",void 0);return b=c.__decorate([h.subclass("esri.form.elements.inputs.Input")],b)})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./TextInput".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.type="barcode-scanner";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({maxLength:this.maxLength,minLength:this.minLength})};return e}(q);c.__decorate([k.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.form.elements.inputs.BarcodeScannerInput")],b)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./Input".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,e)||this;e.maxLength=null;e.minLength=0;return e}a._inheritsLoose(g,l);return g}(q);c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"maxLength",void 0);c.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"minLength",void 0);return b=c.__decorate([h.subclass("esri.form.elements.inputs.TextInput")],b)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./Input".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.noValueOptionLabel=null;f.showNoValueOption=!1;f.type="combo-box";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})};return e}(q);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"noValueOptionLabel",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,
"showNoValueOption",void 0);c.__decorate([k.property({type:["combo-box"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.form.elements.inputs.ComboBoxInput")],b)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./Input".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){function e(u){return null!=u?new Date(u):null}var f;b=f=function(u){function w(v){v=u.call(this,v)||this;v.includeTime=!1;v.max=null;v.min=null;v.type="datetime-picker";return v}a._inheritsLoose(w,u);var D=w.prototype;D.readMax=function(v,y){return e(y.max)};D.writeMax=function(v,y){y.max=v?v.getTime():null};D.readMin=function(v,y){return e(y.min)};D.writeMin=function(v,y){y.min=v?v.getTime():null};D.clone=function(){return new f({includeTime:this.includeTime,
max:this.max,min:this.min,type:this.type})};return w}(g);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"includeTime",void 0);c.__decorate([k.property({type:Date,json:{type:Number,write:!0}})],b.prototype,"max",void 0);c.__decorate([h.reader("max")],b.prototype,"readMax",null);c.__decorate([t.writer("max")],b.prototype,"writeMax",null);c.__decorate([k.property({type:Date,json:{type:Number,write:!0}})],b.prototype,"min",void 0);c.__decorate([h.reader("min")],b.prototype,"readMin",
null);c.__decorate([t.writer("min")],b.prototype,"writeMin",null);c.__decorate([k.property({type:["datetime-picker"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=f=c.__decorate([m.subclass("esri.form.elements.inputs.DateTimePickerInput")],b)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./Input".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.noValueOptionLabel=null;f.showNoValueOption=!1;f.type="radio-buttons";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})};return e}(q);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"noValueOptionLabel",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,
"showNoValueOption",void 0);c.__decorate([k.property({type:["radio-buttons"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.form.elements.inputs.RadioButtonsInput")],b)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./TextInput".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.type="text-area";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({maxLength:this.maxLength,minLength:this.minLength})};return e}(q);c.__decorate([k.property({type:["text-area"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.form.elements.inputs.TextAreaInput")],b)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ./TextInput".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.type="text-box";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({maxLength:this.maxLength,minLength:this.minLength})};return e}(q);c.__decorate([k.property({type:["text-box"],json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.form.elements.inputs.TextBoxInput")],b)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../popup/support/RelatedRecordsInfoFieldOrder ./Element".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(w){w=f.call(this,w)||this;w.displayCount=null;w.displayType="list";w.editable=!0;w.orderByFields=null;w.relationshipId=null;w.type="relationship";return w}a._inheritsLoose(u,f);u.prototype.clone=function(){return new e({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editable:this.editable,label:this.label,orderByFields:n.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})};
return u}(g);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"displayCount",void 0);c.__decorate([d.property({type:["list"],json:{write:!0}})],b.prototype,"displayType",void 0);c.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);c.__decorate([d.property({type:[l],json:{write:!0}})],b.prototype,"orderByFields",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"relationshipId",void 0);c.__decorate([d.property({type:["relationship"],
json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e=c.__decorate([m.subclass("esri.form.elements.RelationshipElement")],b)})},"esri/form/elements/GroupElement":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./Element ../support/elements".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;b=u=function(D){function v(A){A=D.call(this,A)||this;A.elements=null;A.initialState="expanded";A.type="group";return A}a._inheritsLoose(v,D);var y=v.prototype;y.castElements=function(A){return f.ensureType(A,w,!1)};y.readElements=function(A,E){return f.fromJSON(E.formElements,w,!1)};y.writeElements=function(A,E){E.formElements=f.toJSON(A,w,!1)};y.clone=function(){return new u({description:this.description,elements:n.clone(this.elements),initialState:this.initialState,
label:this.label,visibilityExpression:this.visibilityExpression})};return v}(e);c.__decorate([k.property({json:{write:!0}})],b.prototype,"elements",void 0);c.__decorate([d.cast("elements")],b.prototype,"castElements",null);c.__decorate([m.reader("elements",["formElements"])],b.prototype,"readElements",null);c.__decorate([p.writer("elements")],b.prototype,"writeElements",null);c.__decorate([k.property({type:["collapsed","expanded"],json:{write:!0}})],b.prototype,"initialState",void 0);c.__decorate([k.property({type:String,
json:{read:!1,write:!0}})],b.prototype,"type",void 0);b=u=c.__decorate([t.subclass("esri.form.elements.GroupElement")],b);const w=f.buildTypeMaps(b);return b})},"esri/tasks/support/FeatureSet":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../geometry ../../Graphic ../../layers/support/Field".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){const y=new h.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});b=function(A){function E(F){F=A.call(this,F)||this;F.displayFieldName=null;F.exceededTransferLimit=!1;F.features=[];F.fields=null;F.geometryType=null;F.hasM=!1;F.hasZ=!1;F.queryGeometry=null;F.spatialReference=null;return F}a._inheritsLoose(E,A);var x=
E.prototype;x.readFeatures=function(F,B){B=f.fromJSON(B.spatialReference);const C=[];for(let G=0;G<F.length;G++){var z=F[G];const H=D.fromJSON(z);z=z.geometry&&z.geometry.spatialReference;n.isSome(H.geometry)&&!z&&(H.geometry.spatialReference=B);C.push(H)}return C};x.writeGeometryType=function(F,B,C,z){if(F)y.write(F,B,C,z);else if({features:F}=this,F)for(const G of F)if(G&&n.isSome(G.geometry)){y.write(G.geometry.type,B,C,z);break}};x.readQueryGeometry=function(F,B){if(!F)return null;const C=!!F.spatialReference;
F=u.fromJSON(F);!C&&B.spatialReference&&(F.spatialReference=f.fromJSON(B.spatialReference));return F};x.writeSpatialReference=function(F,B){if(F)B.spatialReference=F.toJSON();else if({features:F}=this,F)for(const C of F)if(C&&n.isSome(C.geometry)&&C.geometry.spatialReference){B.spatialReference=C.geometry.spatialReference.toJSON();break}};x.toJSON=function(F){const B=this.write(null);if(B.features&&Array.isArray(F)&&0<F.length)for(let C=0;C<B.features.length;C++){const z=B.features[C];if(z.geometry){const G=
F&&F[C];z.geometry=G&&G.toJSON()||z.geometry}}return B};x.quantize=function(F){const {scale:[B,C],translate:[z,G]}=F,H=this.features,I=this._getQuantizationFunction(this.geometryType,K=>Math.round((K-z)/B),K=>Math.round((G-K)/C));for(let K=0,L=H.length;K<L;K++)I(n.unwrap(H[K].geometry))||(H.splice(K,1),K--,L--);this.transform=F;return this};x.unquantize=function(){const {geometryType:F,features:B,transform:C}=this;if(!C)return this;const {translate:[z,G],scale:[H,I]}=C,K=this._getHydrationFunction(F,
L=>L*H+z,L=>G-L*I);for(const {geometry:L}of B)n.isSome(L)&&K(L);this.transform=null;return this};x._quantizePoints=function(F,B,C){let z,G;const H=[];for(let K=0,L=F.length;K<L;K++){var I=F[K];if(0<K){const T=B(I[0]);I=C(I[1]);if(T!==z||I!==G)H.push([T-z,I-G]),z=T,G=I}else z=B(I[0]),G=C(I[1]),H.push([z,G])}return 0<H.length?H:null};x._getQuantizationFunction=function(F,B,C){return"point"===F?z=>{z.x=B(z.x);z.y=C(z.y);return z}:"polyline"===F||"polygon"===F?z=>{const G=u.isPolygon(z)?z.rings:z.paths,
H=[];for(let I=0,K=G.length;I<K;I++){const L=this._quantizePoints(G[I],B,C);L&&H.push(L)}return 0<H.length?(u.isPolygon(z)?z.rings=H:z.paths=H,z):null}:"multipoint"===F?z=>{const G=this._quantizePoints(z.points,B,C);return 0<G.length?(z.points=G,z):null}:"extent"===F?z=>z:null};x._getHydrationFunction=function(F,B,C){if("point"===F)return z=>{z.x=B(z.x);z.y=C(z.y)};if("polyline"===F||"polygon"===F)return z=>{z=u.isPolygon(z)?z.rings:z.paths;let G,H;for(let I=0,K=z.length;I<K;I++){const L=z[I];for(let T=
0,O=L.length;T<O;T++){const U=L[T];0<T?(G+=U[0],H+=U[1]):(G=U[0],H=U[1]);U[0]=B(G);U[1]=C(H)}}};if("extent"===F)return z=>{z.xmin=B(z.xmin);z.ymin=C(z.ymin);z.xmax=B(z.xmax);z.ymax=C(z.ymax)};if("multipoint"===F)return z=>{z=z.points;let G,H;for(let I=0,K=z.length;I<K;I++){const L=z[I];0<I?(G+=L[0],H+=L[1]):(G=L[0],H=L[1]);L[0]=B(G);L[1]=C(H)}}};return E}(e.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0);c.__decorate([d.property({type:Boolean,
json:{write:{overridePolicy(A){return{enabled:A}}}}})],b.prototype,"exceededTransferLimit",void 0);c.__decorate([d.property({type:[D],json:{write:!0}})],b.prototype,"features",void 0);c.__decorate([m.reader("features")],b.prototype,"readFeatures",null);c.__decorate([d.property({type:[v],json:{write:!0}})],b.prototype,"fields",void 0);c.__decorate([d.property({type:"point multipoint polyline polygon extent mesh".split(" "),json:{read:{reader:y.read}}})],b.prototype,"geometryType",void 0);c.__decorate([p.writer("geometryType")],
b.prototype,"writeGeometryType",null);c.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(A){return{enabled:A}}}}})],b.prototype,"hasM",void 0);c.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(A){return{enabled:A}}}}})],b.prototype,"hasZ",void 0);c.__decorate([d.property({types:w.geometryTypes,json:{write:!0}})],b.prototype,"queryGeometry",void 0);c.__decorate([m.reader("queryGeometry")],b.prototype,"readQueryGeometry",null);c.__decorate([d.property({type:f,json:{write:!0}})],
b.prototype,"spatialReference",void 0);c.__decorate([p.writer("spatialReference")],b.prototype,"writeSpatialReference",null);c.__decorate([d.property({json:{write:!0}})],b.prototype,"transform",void 0);b=c.__decorate([t.subclass("esri.tasks.support.FeatureSet")],b);b.prototype.toJSON.isDefaultToJSON=!0;(function(A){})(b||(b={}));return b})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./domains ./fieldType".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;const w=new d.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});b=u=function(D){function v(A){A=D.call(this,
A)||this;A.alias=null;A.defaultValue=void 0;A.description=null;A.domain=null;A.editable=!0;A.length=-1;A.name=null;A.nullable=!0;A.type=null;A.valueType=null;return A}a._inheritsLoose(v,D);var y=v.prototype;y.readDescription=function(A,{description:E}){let x;try{x=JSON.parse(E)}catch(F){}return x?x.value:null};y.readValueType=function(A,{description:E}){let x;try{x=JSON.parse(E)}catch(F){}return x?w.fromJSON(x.fieldValueType):null};y.clone=function(){return new u({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return v}(g.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);c.__decorate([k.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);c.__decorate([k.property()],b.prototype,"description",void 0);c.__decorate([m.reader("description")],
b.prototype,"readDescription",null);c.__decorate([k.property({types:e.types,json:{read:{reader:e.fromJSON},write:!0}})],b.prototype,"domain",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);c.__decorate([k.property({type:r.Integer,json:{write:!0}})],b.prototype,"length",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);c.__decorate([h.enumeration(f.kebabDict)],
b.prototype,"type",void 0);c.__decorate([k.property()],b.prototype,"valueType",void 0);c.__decorate([m.reader("valueType",["description"])],b.prototype,"readValueType",null);return b=u=c.__decorate([t.subclass("esri.layers.support.Field")],b)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,c){c=new c.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",
esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});a.kebabDict=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/maybe ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../core/Error ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils ../../../geometry ../../../core/Collection ../../../core/Promise ../../../core/Loadable ../../../Graphic ../../../core/workers/workers ../../../rest/query/operations/zscale ../../../rest/query/operations/queryZScale ../../../tasks/support/FeatureSet".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C){let z=0;const G=k.getLogger("esri.layers.graphics.sources.MemorySource");a.MemorySource=function(H){function I(L){L=H.call(this,L)||this;L._idToClientGraphic=null;L.type="memory";return L}c._inheritsLoose(I,H);var K=I.prototype;K.load=function(L){L=r.isSome(L)?L.signal:null;this.addResolvingPromise(this._startWorker(L));return Promise.resolve(this)};K.destroy=function(){var L;null==(L=this._connection)?void 0:L.close();this._connection=
null};K.applyEdits=function(L){return this.load().then(()=>this._applyEdits(L))};K.openPorts=function(){return this.load().then(()=>this._connection.openPorts())};K.queryFeatures=async function(L,T={}){await this.load(T);T=await this._connection.invoke("queryFeatures",L?L.toJSON():null,T);B.applyFeatureSetZUnitScaling(L,this.layer.spatialReference,T);L=C.fromJSON(T);if(!this._requiresClientGraphicMapping())return L;T=this.layer.objectIdField;for(const O of L.features){const U=this._idToClientGraphic.get(O.attributes[T]);
U&&(O.geometry=U.geometry)}L.geometryType=this.layer.geometryType;return L};K.queryFeaturesJSON=async function(L,T={}){if(this._requiresClientGraphicMapping())throw new q("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(T);T=await this._connection.invoke("queryFeatures",L?L.toJSON():null,T);B.applyFeatureSetZUnitScaling(L,this.layer.spatialReference,T);return T};K.queryFeatureCount=function(L,T={}){return this.load(T).then(()=>
this._connection.invoke("queryFeatureCount",L?L.toJSON():null,T))};K.queryObjectIds=function(L,T={}){return this.load(T).then(()=>this._connection.invoke("queryObjectIds",L?L.toJSON():null,T))};K.queryExtent=function(L,T={}){return this.load(T).then(()=>this._connection.invoke("queryExtent",L?L.toJSON():null,T)).then(O=>({count:O.count,extent:f.fromJSON(O.extent)}))};K.querySnapping=function(L,T={}){return this.load(T).then(()=>this._connection.invoke("querySnapping",L,T))};K._applyEdits=function(L){if(!this._connection)throw new q("feature-layer-source:edit-failure",
"Memory source not loaded");const T=this.layer.objectIdField;let O=null;const U=[],W=[],S=P=>"objectId"in P&&null!=P.objectId?P.objectId:"attributes"in P&&null!=P.attributes[T]?P.attributes[T]:null;L.addFeatures&&(O=this._prepareAddFeatures(L.addFeatures));if(L.deleteFeatures)for(const P of L.deleteFeatures){const J=S(P);null!=J&&U.push(J)}const N=L.updateFeatures&&this._idToClientGraphic?new Map:null;if(L.updateFeatures)for(const P of L.updateFeatures)W.push(this._serializeFeature(P)),N&&(L=S(P),
null!=L&&N.set(L,P));F.unapplyEditsZUnitScaling(O?O.features:null,W,this.layer.spatialReference);return this._connection.invoke("applyEdits",{adds:O?O.features:[],updates:W,deletes:U}).then(({fullExtent:P,featureEditResults:J})=>{this.fullExtent=P;O&&O.finish(J.uidToObjectId);if(this._idToClientGraphic){if(N)for(const M of J.updateResults)M.success&&(P=N.get(M.objectId),null!=P&&this._addIdToClientGraphic(P));for(const M of J.deleteResults)M.success&&this._idToClientGraphic.delete(M.objectId)}return this._createEditsResult(J)})};
K._createEditsResult=function(L){return{addFeatureResults:L.addResults?L.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:L.updateResults?L.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:L.deleteResults?L.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}};K._createFeatureEditResult=function(L){const T=!0===L.success?null:L.error||{code:void 0,description:void 0};
return{objectId:L.objectId,globalId:L.globalId,error:T?new q("feature-layer-source:edit-failure",T.description,{code:T.code}):null}};K._prepareAddFeatures=function(L){const T=new Map,O=Array(L.length);let U=null;for(let S=0;S<L.length;S++){const N=L[S],P=this._serializeFeature(N);!U&&r.isSome(N.geometry)&&(U=N.geometry.type);O[S]=P;T.set(`${P.uid}`,N)}const W=this;return{features:O,inferredGeometryType:U,finish(S){const N=W.sourceJSON.objectIdField;for(const P in S){const J=S[P],M=T.get(P);M&&(M.attributes||
(M.attributes={}),-1===J?delete M.attributes[N]:M.attributes[N]=J,W._addIdToClientGraphic(M))}}}};K._addIdToClientGraphic=function(L){if(this._idToClientGraphic){var T=this.sourceJSON.objectIdField;T=L.attributes&&L.attributes[T];null!=T&&this._idToClientGraphic.set(T,L)}};K._requiresClientGraphicMapping=function(){return this._geometryTypeRequiresClientGraphicMapping(this.layer.geometryType||this.sourceJSON.geometryType)};K._geometryRequiresClientGraphicMapping=function(L){return this._geometryTypeRequiresClientGraphicMapping(L.type)};
K._geometryTypeRequiresClientGraphicMapping=function(L){return"mesh"===L||"multipatch"===L||"extent"===L};K._serializeFeature=function(L){const {attributes:T}=L;L=this._geometryForSerialization(L);const O=(z++).toString();return L?{uid:O,geometry:L.toJSON(),attributes:T}:{uid:O,attributes:T}};K._geometryForSerialization=function(L){({geometry:L}=L);return r.isNone(L)?null:this._geometryRequiresClientGraphicMapping(L)?L.extent?u.fromExtent(L.extent):null:L};K._startWorker=async function(L){this._connection=
await x.open("MemorySourceWorker",{strategy:n("feature-layers-workers")?"dedicated":"local",signal:L});const {fields:T,spatialReference:O,objectIdField:U,hasM:W,hasZ:S,timeInfo:N}=this.layer;var P="defaults"===this.layer.originOf("spatialReference");const J=this._prepareAddFeatures(this.items);this.on("before-changes",R=>{G.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");R.preventDefault()});P={features:J.features,fields:T&&T.map(R=>R.toJSON()),
geometryType:w.typeKebabDictionary.toJSON(this.workerGeometryType),hasM:W,hasZ:S,objectIdField:U,spatialReference:P?null:O&&O.toJSON(),timeInfo:N?N.toJSON():null};L=await this._connection.invoke("load",P,{signal:L});for(var M of L.warnings)G.warn(M.message,{layer:this.layer,warning:M});L.featureErrors.length&&G.warn(`Encountered ${L.featureErrors.length} validation errors while loading features`,L.featureErrors);M=L.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(J.inferredGeometryType)&&
(M.geometryType=w.typeKebabDictionary.toJSON(J.inferredGeometryType));if("mesh"===M.geometryType||"mesh"===this.layer.geometryType)M.hasZ=!0;this.sourceJSON=M;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);J.finish(L.assignedObjectIds)};c._createClass(I,[{key:"workerGeometryType",get:function(){const L=this.layer&&this.layer.geometryType;return L?this._geometryTypeRequiresClientGraphicMapping(L)?"polygon":L:null}}]);return I}(A.LoadableMixin(y.EsriPromiseMixin(v)));b.__decorate([t.shared({Type:E,
ensureType:d.ensureType(E)})],a.MemorySource.prototype,"itemType",void 0);b.__decorate([h.property()],a.MemorySource.prototype,"type",void 0);b.__decorate([h.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);b.__decorate([h.property({readOnly:!0})],a.MemorySource.prototype,"workerGeometryType",null);b.__decorate([h.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=b.__decorate([p.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);a.default=
a.MemorySource;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(c){return(b,n)=>{b[n]=c}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/workers":function(){define("require exports ../has ../Error ../promiseUtils ./RemoteClient ./Connection ./WorkerOwner".split(" "),function(a,c,b,n,r,k,d,h){function m(u){if(u&&u.__esModule)return u;var w=Object.create(null);u&&Object.keys(u).forEach(function(D){if("default"!==
D){var v=Object.getOwnPropertyDescriptor(u,D);Object.defineProperty(w,D,v.get?v:{enumerable:!0,get:function(){return u[D]}})}});w["default"]=u;return Object.freeze(w)}async function t(u,w){const D=new d;await D.open(u,w);return D}async function p(){if(e)return e;f=r.createAbortController();const u=[];for(let w=0;w<q;w++){const D=h.create(w).then(v=>g[w]=v);u.push(D)}return e=Promise.all(u)}let q=b("esri-workers-debug")?1:b("host-browser")?navigator.hardwareConcurrency-1:0;q||(q=b("safari")&&b("mac")||
b("trident")?7:2);let l=0;const g=[];let e=null,f;c.RemoteClient=k;c.Connection=d;c.initialize=function(){p()};c.open=async function(u,w={}){if("string"!==typeof u)throw new n("workers:undefined-module","modulePath is missing");var D=w.strategy||"distributed";b("host-webworker")&&!b("esri-workers")&&(D="local");if("local"===D){var v=await k.loadWorker(u);v||(v=await new Promise(function(y,A){a([u],function(E){y(m(E))},A)}));r.throwIfAborted(w.signal);D=w.client||v;v=k.connect(v);return t([v],{...w,
client:D})}await p();r.throwIfAborted(w.signal);if("dedicated"===D)return D=l++%q,D=await g[D].open(u,w),t([D],w);if(w.maxNumWorkers&&0<w.maxNumWorkers&&(D=Math.min(w.maxNumWorkers,q),D<q)){v=Array(D);for(let y=0;y<D;++y){const A=l++%q;v[y]=g[A].open(u,w)}return t(v,w)}D=g.map(y=>y.open(u,w));return t(D,w)};c.openWithPorts=function(u,w){return t(u,{client:w})};c.terminate=function(){e&&(f.abort(),e=null);for(let u=0;u<g.length;u++)g[u]&&g[u].terminate();g.length=0};Object.defineProperty(c,"__esModule",
{value:!0})})},"esri/core/workers/RemoteClient":function(){define("../../support/revision ../maybe ../Error ../events ../promiseUtils ../../kernel ../../views/support/Scheduler ./registry ./utils".split(" "),function(a,c,b,n,r,k,d,h,m){const {CLOSE:t,ABORT:p,INVOKE:q,RESPONSE:l,OPEN_PORT:g,ON:e}=m.MessageType;let f=function(){function w(v){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=v;this._timer=null;this._process=this._process.bind(this)}var D=w.prototype;
D.push=function(v){v.type===m.MessageType.ABORT?this._cancelledJobIds.add(v.jobId):(this._invokeMessages.push(v),null===this._timer&&(this._timer=setTimeout(this._process,0)))};D.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};D._process=function(){this._timer=null;for(const v of this._invokeMessages)this._cancelledJobIds.has(v.jobId)||this._invoke(v);this._cancelledJobIds.clear();this._invokeMessages.length=0};return w}(),u=function(){function w(v,y){this._port=
v;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new f(A=>this._onInvokeMessage(A));this._messageQueue=[];this._client=y.client;this._onMessage=this._onMessage.bind(this);this._channel=y.channel;c.isSome(y.scheduler)&&(this._frameTask=y.scheduler.registerTask(d.Task.REMOTE_CLIENT,A=>this._update(A),()=>0<this._messageQueue.length));this._port.addEventListener("message",this._onMessage);this._port.start()}w.connect=function(v){const y=new MessageChannel;v="function"===typeof v?new v:
"default"in v&&"function"===typeof v.default?new v.default:v;const A=new w(y.port1,{channel:y,client:v});"object"===typeof v&&"remoteClient"in v&&(v.remoteClient=A);w.clients.set(A,v);return y.port2};w.loadWorker=function(v){return(v=h.registry[v])?v():Promise.resolve(null)};var D=w.prototype;D.close=function(){this._post({type:t});this._close()};D.isBusy=function(){return 0<this._outJobs.size};D.invoke=function(v,y,A){const E=A&&A.signal,x=A&&A.transferList;if(!this._port)return Promise.reject(new b("worker:port-closed",
`Cannot call invoke('${v}'), port is closed`,{methodName:v,data:y}));const F=m.newJobId();return new Promise((B,C)=>{const z=r.onAbortOrThrow(E,()=>{var G;const H=this._outJobs.get(F);H&&(this._outJobs.delete(F),null==(G=H.abortHandle)?void 0:G.remove(),this._post({type:p,jobId:F}),C(r.createAbortError()))});this._outJobs.set(F,{resolve:B,reject:C,abortHandle:z,debugInfo:v});this._post({type:q,jobId:F,methodName:v,abortable:null!=E},y,x)})};D.on=function(v,y){function A(x){y(x.data)}const E=new MessageChannel;
this._port.postMessage({type:m.MessageType.ON,eventType:v,port:E.port2},[E.port2]);E.port1.addEventListener("message",A);E.port1.start();return{remove(){E.port1.postMessage({type:m.MessageType.CLOSE});E.port1.close();E.port1.removeEventListener("message",A)}}};D.openPort=function(){const v=new MessageChannel;this._post({type:g,port:v.port2});return v.port1};D._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(v=>
{var y;null==(y=v.abortHandle)?void 0:y.remove();v.reject(r.createAbortError(`Worker closing, aborting job calling '${v.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=null;this._frameTask=c.removeMaybe(this._frameTask)};D._onMessage=function(v){c.isSome(this._frameTask)?this._messageQueue.push(v):this._processMessage(v)};D._processMessage=function(v){if(v=m.receiveMessage(v))switch(v.type){case l:this._onResponseMessage(v);break;case q:this._invokeQueue.push(v);
break;case p:this._onAbortMessage(v);break;case t:this._onCloseMessage();break;case g:this._onOpenPortMessage(v);break;case e:this._onOnMessage(v)}};D._onAbortMessage=function(v){const y=this._inJobs,A=v.jobId,E=y.get(A);this._invokeQueue.push(v);E&&(E.controller&&E.controller.abort(),y.delete(A))};D._onCloseMessage=function(){const v=this._client;this._close();v&&"destroy"in v&&w.clients.get(this)===v&&v.destroy();w.clients.delete(this);v&&v.remoteClient&&(v.remoteClient=null)};D._onInvokeMessage=
function(v){const {methodName:y,jobId:A,data:E,abortable:x}=v;v=x?r.createAbortController():null;const F=this._inJobs;let B=this._client,C=B[y],z;try{if(!C&&y&&-1!==y.indexOf(".")){const G=y.split(".");for(let H=0;H<G.length-1;H++)B=B[G[H]],C=B[G[H+1]]}if("function"!==typeof C)throw new TypeError(`${y} is not a function`);z=C.call(B,E,{client:this,signal:v?v.signal:null})}catch(G){this._post({type:l,jobId:A,error:m.toInvokeError(G)});return}r.isPromiseLike(z)?(F.set(A,{controller:v,promise:z}),z.then(G=>
{F.has(A)&&(F.delete(A),this._post({type:l,jobId:A},G))},G=>{F.has(A)&&(F.delete(A),r.isAbortError(G)||this._post({type:l,jobId:A,error:m.toInvokeError(G||{message:`Error encountered at method ${y}`})}))})):this._post({type:l,jobId:A},z)};D._onOpenPortMessage=function(v){new w(v.port,{client:this._client})};D._onOnMessage=function(v){const {port:y}=v,A=this._client.on(v.eventType,x=>{y.postMessage(x)}),E=n.on(v.port,"message",x=>{m.receiveMessage(x).type===m.MessageType.CLOSE&&(E.remove(),A.remove(),
y.close())})};D._onResponseMessage=function(v){var y;const {jobId:A,error:E,data:x}=v;v=this._outJobs;if(v.has(A)){var F=v.get(A);v.delete(A);null==(y=F.abortHandle)?void 0:y.remove();E?F.reject(b.fromJSON(JSON.parse(E))):F.resolve(x)}};D._update=function(v){for(;!v.done&&0<this._messageQueue.length;)this._processMessage(this._messageQueue.shift()),v.madeProgress()};D._post=function(v,y,A){return m.postMessage(this._port,v,y,A)};return w}();u.kernelInfo={revision:a.commitHash,version:k.version,buildDate:a.buildDate};
u.clients=new Map;return u})},"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/Accessor ../../core/watchUtils ../../layers/support/PromiseQueue ./debugFlags".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){function y(I){return I in E?E[I]:"number"===typeof I?I:1}const A=k.getLogger("esri.views.support.Scheduler");(function(I){I.REMOTE_CLIENT="worker messages";I.SLIDE="slide";I.STAGE="stage";I.STREAM_DATA_LOADER="stream loader";I.ELEVATION_QUERY="elevation query";I.TERRAIN_SURFACE="terrain";I.SURFACE_GEOMETRY_UPDATES="surface geometry updates";I.GRAPHICS_CORE="Graphics3D";I.I3S_CONTROLLER="I3S";I.POINT_CLOUD_LAYER="point cloud";I.FEATURE_TILE_FETCHER=
"feature fetcher";I.LABELER="labeler";I.GRAPHICS_DECONFLICTOR="graphics deconflictor";I.FILTER_VISIBILITY="Graphics3D filter visibility";I.FEATURE_QUERY_ENGINE="feature query";I.SCALE_VISIBILITY="Graphics3D scale visibility";I.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";I.POINT_OF_INTEREST_FREQUENT="POI frequent";I.POINT_OF_INTEREST_INFREQUENT="POI infrequent";I.FEATURE_TILE_TREE="feature tile tree";I.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";I.ELEVATION_ALIGNMENT="elevation alignment";
I.TEXT_TEXTURE_ATLAS="text texture atlas";I.TEXTURE_UNLOAD="texture unload";I.OVERLAY_MANAGER="overlay manager";I.LINE_OF_SIGHT_TOOL="line of sight tool";I.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";I.ELEVATION_PROFILE="elevation profile";I.SNAPPING="snapping";I[I.TEST_PRIO=1]="TEST_PRIO"})(a.Task||(a.Task={}));const E={[a.Task.REMOTE_CLIENT]:0,[a.Task.SLIDE]:0,[a.Task.STREAM_DATA_LOADER]:0,[a.Task.ELEVATION_QUERY]:0,[a.Task.STAGE]:1,[a.Task.TERRAIN_SURFACE]:1,[a.Task.SURFACE_GEOMETRY_UPDATES]:1,
[a.Task.GRAPHICS_CORE]:2,[a.Task.I3S_CONTROLLER]:2,[a.Task.POINT_CLOUD_LAYER]:2,[a.Task.FEATURE_TILE_FETCHER]:2,[a.Task.LABELER]:8,[a.Task.GRAPHICS_DECONFLICTOR]:4,[a.Task.FILTER_VISIBILITY]:4,[a.Task.FEATURE_QUERY_ENGINE]:8,[a.Task.SCALE_VISIBILITY]:4,[a.Task.FRUSTUM_VISIBILITY]:4,[a.Task.POINT_OF_INTEREST_FREQUENT]:6,[a.Task.POINT_OF_INTEREST_INFREQUENT]:30,[a.Task.FEATURE_TILE_TREE]:16,[a.Task.FEATURE_TILE_TREE_ACTIVE]:0,[a.Task.ELEVATION_ALIGNMENT]:12,[a.Task.TEXT_TEXTURE_ATLAS]:12,[a.Task.TEXTURE_UNLOAD]:12,
[a.Task.OVERLAY_MANAGER]:12,[a.Task.LINE_OF_SIGHT_TOOL]:16,[a.Task.LINE_OF_SIGHT_TOOL_INTERACTIVE]:0,[a.Task.SNAPPING]:0},x=1E3/30;var F;(function(I){let K=function(O){function U(S){var N=O.call(this,S)||this;N.updating=!0;N.performanceInfo={total:new g("total"),tasks:[]};N._budget=null;N._state=1;N._tasks=new e;N._runQueue=new e;N._load=0;N._idleStateCallbacks=new e;N._idleUpdatesStartFired=!1;N._maxReschedule=z;N._forceTask=!1;N._debug=!1;N._debugHandle=w.init(v,"SCHEDULER_LOG_SLOW_TASKS",M=>N._debug=
M);N._budget=new T(S.nowFunc);H.length=0;for(const M in a.Task)G.set(a.Task[M],N.performanceInfo.tasks.length),N.performanceInfo.tasks.push(new g(a.Task[M])),H.push(0);let P;const J=c._assertThisInitialized(N);N._test={get state(){return r.isNone(P)?J._state:P},set state(M){P=M},FRAME_SAFETY_BUDGET:6.5,INTERACTING_BUDGET:x,IDLE_BUDGET:100,get budget(){return J._budget.budget},usedBudget:0,updateTask:M=>N._updateTask(M),getState:M=>N._getState(M),getRuntime:M=>N._getRuntime(M),resetRuntimes:()=>N._resetRuntimes(),
getRunning:()=>N._getRunning()};return N}c._inheritsLoose(U,O);var W=U.prototype;W.destroy=function(){this._debugHandle&&this._debugHandle.remove()};W.registerTask=function(S,N,P){const J=y(S);S=new L(this,S,N,P,J);this._tasks.push(S);return S};W.registerIdleStateCallbacks=function(S,N){const P={idleBegin:S,idleEnd:N};this._idleStateCallbacks.push(P);2===this.state&&this._idleUpdatesStartFired&&P.idleBegin();const J=this;return{remove:()=>this._removeIdleStateCallbacks(P),set idleBegin(M){J._idleUpdatesStartFired&&
(P.idleEnd(),2===J._state&&M());P.idleBegin=M},set idleEnd(M){P.idleEnd=M}}};W.updateBudget=function(S){this._test.usedBudget=0;let N=6.5,P=S.frameDuration,J=1;switch(this.state){case 2:N=0;P=Math.max(100,S.frameDuration);J=30;break;case 1:P=Math.max(x,S.frameDuration)}P-=S.elapsedFrameTime+N;if(2!==this.state&&1>P&&!this._forceTask)return this._forceTask=!0,!1;P=Math.max(P,J);this._budget.reset(P,this.state);this._maxReschedule=z;this._updateLoad();return this._schedule()};W.frame=function(){this._forceTask=
!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll(S=>S.idleBegin()));this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};W._removeIdleStateCallbacks=function(S){this._idleUpdatesStartFired&&S.idleEnd();this._idleStateCallbacks.removeUnordered(S)};W.removeTask=function(S){this._tasks.removeUnordered(S);this._runQueue.removeUnordered(S)};W._updateTask=
function(S){this._tasks.forAll(N=>{N.name===S&&N.setPriority(S)})};W._getState=function(S){if(this._runQueue.some(P=>P.name===S))return a.TaskState.SCHEDULED;let N=a.TaskState.IDLE;this._tasks.forAll(P=>{P.name===S&&P.needsUpdate&&(1>=P.schedulePriority?N=a.TaskState.READY:N!==a.TaskState.READY&&(N=a.TaskState.WAITING))});return N};W._getRuntime=function(S){let N=0;this._tasks.forAll(P=>{P.name===S&&(N+=P.runtime)});return N};W._resetRuntimes=function(){this._tasks.forAll(S=>S.runtime=0)};W._getRunning=
function(){const S=new Map;this._tasks.forAll(P=>{P.needsUpdate&&S.set(P.name,(S.get(P.name)||0)+1)});if(0===S.size)return null;let N="";S.forEach((P,J)=>{N=1<P?N+` ${P}x ${J}`:N+` ${J}`});return N};W._runIdle=function(){this._run()};W._runInteracting=function(){this._run()};W._runAnimating=function(){this._run()};W._updateLoad=function(){const S=this._tasks.reduce((N,P)=>P.needsUpdate?++N:N,0);this._load=.9*this._load+S*(1-.9)};W._schedule=function(){if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(S=>
{if(S.needsUpdate)return!0;S.schedulePriority=S.priority;return!1});for(this._tasks.forAll(S=>{0===S.priority&&S.needsUpdate&&!this._runQueue.some(N=>N===S)&&this._runQueue.unshift(S)});0===this._runQueue.length;){let S=!1,N=0;this._tasks.forAll(P=>{if(P.needsUpdate&&0!==P.schedulePriority&&0!==P.priority)switch(S=!0,N=Math.max(N,P.priority),P.schedulePriority){case 1:P.schedulePriority=0;this._runQueue.push(P);break;default:--P.schedulePriority}});if(!S)return this.updating=!1;this._maxReschedule===
z&&(this._maxReschedule=N);--this._maxReschedule}return this.updating=!0};W._run=function(){const S=this._budget.now();for(var N=0;N<H.length;++N)H[N]=0;do for(;0<this._runQueue.length;){var P=this._budget.now();N=this._runQueue.pop();this._budget.resetProgress();try{N.update(this._budget)}catch(J){A.error(`Exception in task "${N.name}"`,J)}N.schedulePriority=N.priority;P=this._budget.now()-P;N.runtime+=P;H[G.get(N.task)]+=P;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",
N.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this._recordFrameTaskTimes(H,this._budget.now()-S);return}}while(this._schedule());this._recordFrameTaskTimes(H,this._budget.now()-S)};W._recordFrameTaskTimes=function(S,N){for(let P=0;P<S.length;++P)this.performanceInfo.tasks[P].record(S[P]);this.performanceInfo.total.record(N)};c._createClass(U,[{key:"now",get:function(){return this.nowFunc()}},{key:"load",get:function(){return this._load}},{key:"state",
get:function(){return r.isNone(this._test.state)?this._state:this._test.state},set:function(S){this._state!==S&&(this._state=S,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(N=>N.idleEnd())))}},{key:"test",get:function(){return this._test}}]);return U}(u);b.__decorate([h.property()],K.prototype,"updating",void 0);b.__decorate([h.property()],K.prototype,"nowFunc",void 0);K=b.__decorate([t.subclass("esri.views.support.Scheduler")],K);I.Scheduler=
K;let L=function(O){function U(S,N,P,J,M){var R=O.call(this,{})||this;R._scheduler=S;R.name=N;R.update=P;R._needsUpdateCB=J;R._priority=M;R.runtime=0;R._queue=new D;R.updating=!1;R.schedulePriority=R._priority;return R}c._inheritsLoose(U,O);var W=U.prototype;W.normalizeCtorArgs=function(){return{}};W.remove=function(){this.processQueue(B);this._scheduler.removeTask(this);this.schedule=C.schedule;this.reschedule=C.reschedule};W.setPriority=function(S){this.name=S;S=y(S);if(0===this._priority||0!==
this.schedulePriority)this.schedulePriority=S;this._priority=S};W.schedule=function(S,N){this.updating=!0;return this._queue.push(S,N)};W.reschedule=function(S,N){this.updating=!0;return this._queue.unshift(S,N)};W.processQueue=function(S){for(;!S.done&&this._queue.process();)S.madeProgress();this.updating=0<this._queue.length};c._createClass(U,[{key:"priority",get:function(){return this._priority}},{key:"task",get:function(){return this.name},set:function(S){this.setPriority(S)}},{key:"needsUpdate",
get:function(){return this.updating||this._needsUpdateCB()}}]);return U}(u);b.__decorate([h.property()],L.prototype,"updating",void 0);L=b.__decorate([t.subclass("esri.views.support.SchedulerTask")],L);let T=function(){function O(W){this.now=W;this._budget=this._begin=0;this._state=2;this._didWork=!1;this._enabled=!0}var U=O.prototype;U.run=function(W){if(this.done)return!1;!0===W()&&(this._didWork=!0);return!0};U.madeProgress=function(){this._didWork=!0};U.reset=function(W,S){this._begin=this.now();
this._budget=W;this._state=S;this._didWork=!1};U.resetProgress=function(){this._didWork=!1};c._createClass(O,[{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},{key:"budget",get:function(){return this._budget}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(W){this._enabled=W}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return this.now()-
this._begin}},{key:"hasProgressed",get:function(){return this._didWork}}]);return O}();I.Budget=T})(F||(F={}));(function(I){I.SCHEDULED="s";I.READY="r";I.WAITING="w";I.IDLE="i"})(a.TaskState||(a.TaskState={}));const B=(()=>{const I=new F.Budget(()=>performance.now());I.enabled=!1;return I})(),C=new (function(){function I(){}var K=I.prototype;K.remove=function(){};K.processQueue=function(){};K.schedule=function(L){return f.when(L())};K.reschedule=function(L){return f.when(L())};return I}()),z=Number.MAX_SAFE_INTEGER,
G=new Map,H=[];a.ImmediateTask=C;a.getTaskPriority=y;a.newScheduler=function(I){return new F.Scheduler({nowFunc:I})};a.noBudget=B;a.taskPriorities=E;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/watchUtils":function(){define(["exports","./lang","./events","./promiseUtils"],function(a,c,b,n){function r(e,f,u,w,D){D=e.watch(f,(y,A,E,x)=>{if(!u||u(y))null==w?void 0:w.call(e,y,A,E,x)},D);if(Array.isArray(f))for(var v of f){const y=e.get(v);u&&u(y)&&(null==w?void 0:w.call(e,y,y,f,e))}else v=
e.get(f),u&&u(v)&&(null==w?void 0:w.call(e,v,v,f,e));return D}function k(e,f,u,w,D){function v(){x&&(x.remove(),x=null)}const y="function"===typeof w?w:null,A="object"===typeof w?w:null;"boolean"===typeof w&&(D=w);let E=!1,x;const F=n.createDeferred();n.onAbort(A,()=>{v();F.reject(n.createAbortError())});w={then:F.promise.then.bind(F.promise),catch:F.promise.catch.bind(F.promise),remove:v};Object.freeze(w);x=r(e,f,u,(B,C,z,G)=>{E=!0;v();y&&y.call(e,B,C,z,G);F.resolve({value:B,oldValue:C,propertyName:z,
target:G})},D);E&&v();return w}function d(e){return!!e}function h(e){return!e}function m(e){return!0===e}function t(e){return!1===e}function p(e){return void 0!==e}function q(e){return void 0===e}function l(e,f,u,w){var D=Array.isArray(f)?f:-1<f.indexOf(",")?f.split(","):[f];f=e.watch(f,u,w);for(const v of D)D=v.trim().replace(g,"$1"),w=e.get(D),u.call(e,w,w,D,e);return f}const g=/\?(\.|$)/g;a.init=l;a.on=function(e,f,u,w,D,v,y){function A(F){const B=E[F];B&&(v&&v(B.target,F,e,u),B.handle.remove(),
delete E[F])}const E={},x=l(e,f,(F,B,C)=>{A(C);b.isEventTarget(F)&&(E[C]={handle:b.on(F,u,w),target:F},D&&D(F,C,e,u))},y);return{remove(){x.remove();for(const F in E)A(F)}}};a.once=function(e,f,u,w){return k(e,f,null,u,w)};a.pausable=function(e,f,u,w){let D=!1;const v=e.watch(f,(y,A,E,x)=>{D||u.call(e,y,A,E,x)},w);return{remove(){v.remove()},pause(){D=!0},resume(){D=!1}}};a.watch=function(e,f,u,w){return e.watch(f,u,w)};a.when=function(e,f,u,w){return r(e,f,d,u,w)};a.whenDefined=function(e,f,u,w){return r(e,
f,p,u,w)};a.whenDefinedOnce=function(e,f,u,w){return k(e,f,p,u,w)};a.whenEqual=function(e,f,u,w,D){return r(e,f,v=>c.equals(u,v),w,D)};a.whenEqualOnce=function(e,f,u,w,D){return k(e,f,v=>c.equals(u,v),w,D)};a.whenFalse=function(e,f,u,w){return r(e,f,t,u,w)};a.whenFalseOnce=function(e,f,u,w){return k(e,f,t,u,w)};a.whenNot=function(e,f,u,w){return r(e,f,h,u,w)};a.whenNotOnce=function(e,f,u,w){return k(e,f,h,u,w)};a.whenOnce=function(e,f,u,w){return k(e,f,d,u,w)};a.whenTrue=function(e,f,u,w){return r(e,
f,m,u,w)};a.whenTrueOnce=function(e,f,u,w){return k(e,f,m,u,w)};a.whenUndefined=function(e,f,u,w){return r(e,f,q,u,w)};a.whenUndefinedOnce=function(e,f,u,w){return k(e,f,q,u,w)};a.whenValidOnce=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/PromiseQueue":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../core/promiseUtils"],function(a,c){let b=function(n,r,k,d){this.resolve=n;this.reject=r;this.callback=k;this.signal=d};return function(){function n(){this._tasks=
[]}var r=n.prototype;r.push=function(k,d){return new Promise((h,m)=>this._tasks.push(new b(h,m,k,d)))};r.unshift=function(k,d){return new Promise((h,m)=>this._tasks.unshift(new b(h,m,k,d)))};r.process=function(){if(0===this._tasks.length)return!1;const k=this._tasks.shift();try{c.throwIfAborted(k.signal);const d=k.callback();d&&"object"===typeof d&&"then"in d&&"function"===typeof d.then?d.then(k.resolve,k.reject):k.resolve(d)}catch(d){k.reject(d)}return!0};r.cancelAll=function(){const k=c.createAbortError();
for(const d of this._tasks)d.reject(k);this._tasks.length=0};a._createClass(n,[{key:"length",get:function(){return this._tasks.length}}]);return n}()})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(){var e=l.apply(this,arguments)||this;e.SCHEDULER_LOG_SLOW_TASKS=!1;e.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1;return e}a._inheritsLoose(g,l);return g}(q);c.__decorate([k.property()],b.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);c.__decorate([k.property()],b.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);b=c.__decorate([h.subclass("esri.views.support.DebugFlags")],b);return new b})},"esri/core/workers/registry":function(){define(["require",
"exports"],function(a,c){function b(n){return Object.freeze({__proto__:null,"default":n})}c.registry={geometryEngineWorker:()=>new Promise(function(n,r){a(["../../geometry/geometryEngineWorker"],n,r)}),CSVSourceWorker:()=>new Promise(function(n,r){a(["../../layers/graphics/sources/support/CSVSourceWorker"],n,r)}),EdgeProcessingWorker:()=>new Promise(function(n,r){a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],n,r)}),ElevationSamplerWorker:()=>new Promise(function(n,r){a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],
n,r)}),GeoJSONSourceWorker:()=>new Promise(function(n,r){a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],function(k){n(b(k))},r)}),LercWorker:()=>new Promise(function(n,r){a(["../../layers/support/LercWorker"],function(k){n(b(k))},r)}),MemorySourceWorker:()=>new Promise(function(n,r){a(["../../layers/graphics/sources/support/MemorySourceWorker"],function(k){n(b(k))},r)}),PBFDecoderWorker:()=>new Promise(function(n,r){a(["../../views/3d/support/PBFDecoderWorker"],function(k){n(b(k))},
r)}),Pipeline:()=>new Promise(function(n,r){a(["../../views/2d/layers/features/Pipeline"],n,r)}),PointCloudWorker:()=>new Promise(function(n,r){a(["../../views/3d/layers/PointCloudWorker"],function(k){n(b(k))},r)}),RasterWorker:()=>new Promise(function(n,r){a(["../../layers/support/RasterWorker"],function(k){n(b(k))},r)}),SceneLayerWorker:()=>new Promise(function(n,r){a(["../../views/3d/layers/SceneLayerWorker"],n,r)}),WorkerTileHandler:()=>new Promise(function(n,r){a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],
function(k){n(b(k))},r)}),FeatureServiceSnappingSourceWorker:()=>new Promise(function(n,r){a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],n,r)})};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,c){function b(k){return k&&"object"===typeof k&&("result"in k||"transferList"in k)}function n(k){if(!k||!k.length)return null;if(c("esri-workers-arraybuffer-transfer"))return k;
k=k.filter(d=>!(d instanceof ArrayBuffer||d&&d.constructor&&"ArrayBuffer"===d.constructor.name));return k.length?k:null}(function(k){k[k.HANDSHAKE=0]="HANDSHAKE";k[k.OPEN=1]="OPEN";k[k.OPENED=2]="OPENED";k[k.RESPONSE=3]="RESPONSE";k[k.INVOKE=4]="INVOKE";k[k.ABORT=5]="ABORT";k[k.CLOSE=6]="CLOSE";k[k.OPEN_PORT=7]="OPEN_PORT";k[k.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let r=0;a.isTranferableResult=b;a.newJobId=function(){return r++};a.postMessage=function(k,d,h,m){d.type===a.MessageType.OPEN_PORT?
k.postMessage(d,[d.port]):d.type!==a.MessageType.INVOKE&&d.type!==a.MessageType.RESPONSE?k.postMessage(d):(b(h)?(m=n(h.transferList),d.data=h.result):(m=n(m),d.data=h),m?k.postMessage(d,m):k.postMessage(d))};a.receiveMessage=function(k){return k?(k=k.data)?"string"===typeof k?JSON.parse(k):k:null:null};a.toInvokeError=function(k){return k?"string"===typeof k?JSON.stringify({name:"message",message:k}):k.toJSON?JSON.stringify(k):JSON.stringify({name:k.name,message:k.message,details:k.details||{stack:k.stack}}):
null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/Connection":function(){define(["../../chunks/_rollupPluginBabelHelpers","../Logger","../handleUtils","../promiseUtils","./RemoteClient"],function(a,c,b,n,r){const k=c.getLogger("esri.core.workers.Connection");return function(){function d(){this._clients=[];this._clientPromises=[];this._clientIdx=0}var h=d.prototype;h.destroy=function(){this.close()};h.open=function(m,t){return new Promise((p,q)=>{let l=!0;const g=e=>{n.throwIfAborted(t.signal);
l&&(l=!1,e())};this._clients.length=m.length;this._clientPromises.length=m.length;for(let e=0;e<m.length;++e){const f=m[e];n.isPromiseLike(f)?this._clientPromises[e]=f.then(u=>{this._clients[e]=new r(u,t);g(p);return this._clients[e]},()=>{g(q);return null}):(this._clients[e]=new r(f,t),this._clientPromises[e]=Promise.resolve(this._clients[e]),g(p))}})};h.broadcast=function(m,t,p){const q=Array(this._clientPromises.length);for(let l=0;l<this._clientPromises.length;++l)q[l]=this._clientPromises[l].then(g=>
g.invoke(m,t,p));return q};h.close=function(){for(const m of this._clientPromises)m.then(t=>t.close());this._clients.length=0;this._clientPromises.length=0};h.getAvailableClient=function(){let m;for(let t=0;t<this._clients.length;++t){const p=this._clients[t];if(!p)m=m||[],m.push(this._clientPromises[t]);else if(!p.isBusy())return Promise.resolve(p)}return m?Promise.race(m):(this._clientIdx=(this._clientIdx+1)%this._clients.length,Promise.resolve(this._clients[this._clientIdx]))};h.invoke=function(m,
t,p){let q=null;Array.isArray(p)?(k.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),q={transferList:p}):q=p;return this.closed?Promise.reject(Error("Connection closed")):this.getAvailableClient().then(l=>l.invoke(m,t,q))};h.on=function(m,t){return Promise.all(this._clientPromises).then(()=>b.handlesGroup(this._clients.map(p=>p.on(m,t))))};h.openPorts=function(){return new Promise(m=>{const t=Array(this._clientPromises.length);let p=t.length;for(let q=0;q<
this._clientPromises.length;++q)this._clientPromises[q].then(l=>{t[q]=l.openPort();0===--p&&m(t)})})};a._createClass(d,[{key:"closed",get:function(){return!this._clients||!this._clients.length}},{key:"test",get:function(){return{numClients:this._clients.length}}}]);return d}()})},"esri/core/workers/WorkerOwner":function(){define("../Logger ../Error ../promiseUtils ../../kernel ./utils ./workerFactory".split(" "),function(a,c,b,n,r,k){const d=a.getLogger("esri.core.workers"),{ABORT:h,INVOKE:m,OPEN:t,
OPENED:p,RESPONSE:q}=r.MessageType;return function(){function l(e,f){this._outJobs=new Map;this._inJobs=new Map;this.worker=e;this.id=f;e.addEventListener("message",this._onMessage.bind(this));e.addEventListener("error",u=>{u.preventDefault();d.error(u)})}l.create=async function(e){const f=await k.createWorker();return new l(f,e)};var g=l.prototype;g.terminate=function(){this.worker.terminate()};g.open=async function(e,f={}){const {signal:u}=f,w=r.newJobId();return new Promise((D,v)=>{const y=b.onAbortOrThrow(u,
()=>{this._outJobs.delete(w);this._post({type:h,jobId:w})});this._outJobs.set(w,{resolve:D,reject:v,abortHandle:y});this._post({type:t,jobId:w,modulePath:e})})};g._onMessage=function(e){if(e=r.receiveMessage(e))switch(e.type){case p:this._onOpenedMessage(e);break;case q:this._onResponseMessage(e);break;case h:this._onAbortMessage(e);break;case m:this._onInvokeMessage(e)}};g._onAbortMessage=function(e){const f=this._inJobs;e=e.jobId;const u=f.get(e);u&&(u.controller&&u.controller.abort(),f.delete(e))};
g._onInvokeMessage=function(e){const {methodName:f,jobId:u,data:w,abortable:D}=e;e=D?b.createAbortController():null;const v=this._inJobs,y=n.workerMessages[f];let A;try{if("function"!==typeof y)throw new TypeError(`${f} is not a function`);A=y.call(null,w,{signal:e?e.signal:null})}catch(E){this._post({type:q,jobId:u,error:r.toInvokeError(E)});return}b.isPromiseLike(A)?(v.set(u,{controller:e,promise:A}),A.then(E=>{v.has(u)&&(v.delete(u),this._post({type:q,jobId:u},E))},E=>{v.has(u)&&(v.delete(u),E||
(E={message:"Error encountered at method"+f}),b.isAbortError(E)||this._post({type:q,jobId:u,error:r.toInvokeError(E||{message:`Error encountered at method ${f}`})}))})):this._post({type:q,jobId:u},A)};g._onOpenedMessage=function(e){var f;const {jobId:u,data:w}=e;if(e=this._outJobs.get(u))this._outJobs.delete(u),null==(f=e.abortHandle)?void 0:f.remove(),e.resolve(w)};g._onResponseMessage=function(e){var f;const {jobId:u,error:w,data:D}=e;if(e=this._outJobs.get(u))this._outJobs.delete(u),null==(f=e.abortHandle)?
void 0:f.remove(),w?e.reject(c.fromJSON(JSON.parse(w))):e.resolve(D)};g._post=function(e,f,u){return r.postMessage(this.worker,e,f,u)};return l}()})},"esri/core/workers/workerFactory":function(){define("exports ../has ../../support/revision ../../config ../Logger ../urlUtils ../../intl/locale ../../kernel ../../assets ../../intl ./utils ./loaderConfig ./WorkerFallback".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){async function g(y){return new Promise(A=>{function E(F){(F=p.receiveMessage(F))&&
F.type===u&&(y.removeEventListener("message",E),y.removeEventListener("error",x),A(y))}function x(F){F.preventDefault();y.removeEventListener("message",E);y.removeEventListener("error",x);f.warn("Failed to create Worker. Fallback to execute module in main thread",F);y=new l;y.addEventListener("message",E);y.addEventListener("error",x)}y.addEventListener("message",E);y.addEventListener("error",x)})}function e(){if(null!=n["default"]){var y={...n};delete y["default"];y=JSON.parse(JSON.stringify(y))}else y=
JSON.parse(JSON.stringify(n));y.assetsPath=k.makeAbsolute(y.assetsPath);y.request.interceptors=[];y.log.interceptors=[];y.locale=d.getLocale();y.has={"csp-restrictions":c("csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":c("esri-2d-update-debug"),"esri-2d-query-centroid-enabled":c("esri-2d-query-centroid-enabled"),"featurelayer-pbf":c("featurelayer-pbf"),"featurelayer-snapshot-point-threshold":c("featurelayer-snapshot-point-threshold"),"esri-atomics":c("esri-atomics"),"esri-shared-array-buffer":c("esri-shared-array-buffer"),
"esri-tiles-debug":c("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":c("esri-workers-arraybuffer-transfer"),"host-webworker":1};y.workers.loaderUrl?y.workers.loaderUrl=k.makeAbsolute(y.workers.loaderUrl):q.DEFAULT_LOADER_URL&&(y.workers.loaderUrl=q.DEFAULT_LOADER_URL);y.workers.workerPath=y.workers.workerPath?k.makeAbsolute(y.workers.workerPath):"esri/core/workers/RemoteClient";var A=n.workers.loaderConfig;A=q["default"]({baseUrl:null==A?void 0:A.baseUrl,locale:d.getLocale(),has:{"csp-restrictions":c("csp-restrictions"),
"dojo-test-sniff":0,"host-webworker":1,...null==A?void 0:A.has},map:{...null==A?void 0:A.map},paths:{...null==A?void 0:A.paths},packages:(null==A?void 0:A.packages)||[]});return JSON.stringify({esriConfig:y,loaderConfig:A,kernelInfo:{version:h.version,buildDate:b.buildDate,revision:b.commitHash}})}const f=r.getLogger("esri.core.workers");c.add("esri-workers-arraybuffer-transfer",!c("safari")||12<=c("safari"));const {HANDSHAKE:u}=p.MessageType;let w,D,v=0;a.createWorker=async function(){if(!c("esri-workers"))return g(new l);
if(!w&&!D)try{const A='let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse("{CONFIGURATION}");self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,i)\x3d\x3e{if(t){if(t.aborted)return i(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,buildDate:r,version:t}\x3dconfiguration.kernelInfo,{revision:n,buildDate:i,version:s}\x3de.kernelInfo;o!\x3d\x3dn\x26\x26console.warn(`[esri.core.workers] Version mismatch detected between ArcGIS API for JavaScript and assets:\nAPI version: ${t} [Date: ${r}, Revision: ${o.slice(0,8)}]\nAssets version: ${s} [Date: ${i}, Revision: ${n.slice(0,8)}]`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case 1:let e;function t(o){const t\x3de.connect(o);self.postMessage({type:2,jobId:r,data:t},[t])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(r\x3d\x3e{e\x3dr.default||r,checkWorkerRevision(e),e.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((r\x3d\x3e(e\x3dr.default,checkWorkerRevision(e),e.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):(self.RemoteClient||importScripts(workerPath),e\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(e),e.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const e\x3doutgoing.get(r);outgoing.delete(r),o.error?e.reject(JSON.parse(o.error)):e.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.replace('"{CONFIGURATION}"',
`'${e()}'`);w=URL.createObjectURL(new Blob([A],{type:"text/javascript"}))}catch(A){D=A||{}}let y;if(w)try{y=new Worker(w,{name:`esri-worker-${v++}`})}catch(A){f.warn("Failed to create Worker. Fallback to execute module in main thread",D),y=new l}else f.warn("Failed to create Worker. Fallback to execute module in main thread",D),y=new l;return g(y)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/loaderConfig":function(){define(["exports","../has","../urlUtils","../../assets"],
function(a,c,b,n){a.DEFAULT_LOADER_URL=null;a.DEFAULT_LOADER_URL=b.makeAbsolute(n.getAssetUrl("esri/core/workers/init.js"));var r=b.makeAbsolute(n.getAssetUrl("dojo/"));var k=[{name:"esri",location:"../esri"}];a.default=function(d){const h={async:d.async,isDebug:d.isDebug,locale:d.locale,baseUrl:d.baseUrl,has:{...d.has},map:{...d.map},packages:d.packages&&d.packages.concat()||[],paths:{...d.paths}};d.hasOwnProperty("async")||(h.async=!0);d.hasOwnProperty("isDebug")||(h.isDebug=!1);d.baseUrl||(h.baseUrl=
r);null==k?void 0:k.forEach(m=>{a:{var t=h.packages;for(const p of t)if(p.name===m.name)break a;t.push(m)}});return h};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/WorkerFallback":function(){define(["require","../../chunks/_rollupPluginBabelHelpers","../global","./utils","./RemoteClient"],function(a,c,b,n,r){function k(p){if(p&&p.__esModule)return p;var q=Object.create(null);p&&Object.keys(p).forEach(function(l){if("default"!==l){var g=Object.getOwnPropertyDescriptor(p,l);
Object.defineProperty(q,l,g.get?g:{enumerable:!0,get:function(){return p[l]}})}});q["default"]=p;return Object.freeze(q)}let d=function(){const p=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(q=>{this[q]=(...l)=>p[q](...l)})};const h=b.MutationObserver||b.WebKitMutationObserver,m=function(){let p;if(b.process&&b.process.nextTick)p=q=>{b.process.nextTick(q)};else if(b.Promise)p=q=>{b.Promise.resolve().then(q)};else if(h){const q=[],l=document.createElement("div");
(new h(()=>{for(;0<q.length;)q.shift()()})).observe(l,{attributes:!0});p=g=>{q.push(g);l.setAttribute("queueStatus","1")}}return p}(),t=(()=>{const p=b.MessageEvent;try{new p("message",{data:null})}catch{return(q,l={})=>{const {data:g,bubbles:e=!1,cancelable:f=!1}=l;l=document.createEvent("Event");l.initEvent(q,e,f);l.data=g;return l}}return(q,l)=>new p(q,l)})();return function(){function p(){this._dispatcher=new d;this._workerPostMessage({type:n.MessageType.HANDSHAKE})}var q=p.prototype;q.terminate=
function(){};q.postMessage=function(l){m(()=>{this._workerMessageHandler(t("message",{data:l}))})};q.dispatchEvent=function(l){return this._dispatcher.dispatchEvent(l)};q.addEventListener=function(l,g,e){this._dispatcher.addEventListener(l,g,e)};q.removeEventListener=function(l,g,e){this._dispatcher.removeEventListener(l,g,e)};q._workerPostMessage=function(l){m(()=>{this.dispatchEvent(t("message",{data:l}))})};q._workerMessageHandler=async function(l){if((l=n.receiveMessage(l))&&l.type===n.MessageType.OPEN){const {modulePath:g,
jobId:e}=l;(l=await r.loadWorker(g))||(l=await new Promise(function(f,u){a([g],function(w){f(k(w))},u)}));l=r.connect(l);this._workerPostMessage({type:n.MessageType.OPENED,jobId:e,data:l})}};c._createClass(p,[{key:"onmessage",get:function(){return this._onmessageHandler},set:function(l){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=l)&&this.addEventListener("message",l)}},{key:"onmessageerror",get:function(){return this._onmessageerrorHandler},
set:function(l){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=l)&&this.addEventListener("messageerror",l)}},{key:"onerror",get:function(){return this._onerrorHandler},set:function(l){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=l)&&this.addEventListener("error",l)}}]);return p}()})},"esri/rest/query/operations/zscale":function(){define(["exports","../../../core/maybe",
"../../../geometry/support/spatialReferenceUtils","../../../core/unitUtils"],function(a,c,b,n){function r(d,h,m){if(null==d.hasM||d.hasZ)for(const t of h)for(const p of t)2<p.length&&(p[2]*=m)}function k(d,h,m){if(d)for(const p of d){d=p.geometry;var t=m;if(d&&d.spatialReference&&!b.equals(d.spatialReference,h)&&(t=n.getMetersPerVerticalUnitForSR(d.spatialReference)/t,1!==t))if("x"in d)null!=d.z&&(d.z*=t);else if("rings"in d)r(d,d.rings,t);else if("paths"in d)r(d,d.paths,t);else if("points"in d&&
(null==d.hasM||d.hasZ))for(const q of d.points)2<q.length&&(q[2]*=t)}}a.getGeometryZScaler=function(d,h,m){if(c.isNone(h)||c.isNone(m)||m.vcsWkid||b.equals(h,m))return null;h=n.getMetersPerVerticalUnitForSR(h);m=n.getMetersPerVerticalUnitForSR(m);const t=h/m;if(1===t)return null;switch(d){case "point":case "esriGeometryPoint":return p=>{p&&null!=p.z&&(p.z*=t)};case "polyline":case "esriGeometryPolyline":return p=>{if(p)for(const q of p.paths)for(const l of q)2<l.length&&(l[2]*=t)};case "polygon":case "esriGeometryPolygon":return p=>
{if(p)for(const q of p.rings)for(const l of q)2<l.length&&(l[2]*=t)};case "multipoint":case "esriGeometryMultipoint":return p=>{if(p)for(const q of p.points)2<q.length&&(q[2]*=t)};default:return null}};a.unapplyEditsZUnitScaling=function(d,h,m){if((d||h)&&m){var t=n.getMetersPerVerticalUnitForSR(m);k(d,m,t);k(h,m,t)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","./zscale"],function(a,c){a.applyFeatureSetZUnitScaling=function(b,
n,r){if(r&&r.features&&r.hasZ&&(b=c.getGeometryZScaler(r.geometryType,n,b.outSpatialReference)))for(const k of r.features)b(k.geometry)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../support/arcgisLayerUrl".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){a.ArcGISService=e=>{e=function(f){function u(){return f.apply(this,arguments)||this}c._inheritsLoose(u,f);c._createClass(u,[{key:"title",get:function(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const w=g.parse(this.url);if(r.isSome(w)&&w.title)return w.title}return this._get("title")||""},set:function(w){this._set("title",w)}},{key:"url",set:function(w){this._set("url",g.sanitizeUrl(w,k.getLogger(this.declaredClass)))}}]);
return u}(e);b.__decorate([h.property()],e.prototype,"title",null);b.__decorate([h.property({type:String})],e.prototype,"url",null);return e=b.__decorate([t.subclass("esri.layers.mixins.ArcGISService")],e)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){a.BlendLayer=l=>{l=function(g){function e(){var f=g.apply(this,arguments)||this;f.blendMode="normal";f.effect=null;return f}c._inheritsLoose(e,g);return e}(l);b.__decorate([d.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),
nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{default:"normal",read:!0,write:!0}}}})],l.prototype,"blendMode",void 0);b.__decorate([d.property()],l.prototype,"effect",void 0);return l=b.__decorate([m.subclass("esri.layers.mixins.BlendLayer")],l)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){a.CustomParametersMixin=l=>{l=function(g){function e(){var f=g.apply(this,arguments)||this;f.customParameters=null;return f}c._inheritsLoose(e,g);return e}(l);b.__decorate([d.property({json:{write:!0,origins:{"web-scene":{write:!1}}}})],l.prototype,"customParameters",void 0);return l=b.__decorate([m.subclass("esri.layers.mixins.CustomParametersMixin")],l)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./timeUtils ../../TimeExtent ../../TimeInterval ./TimeReference".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){var v;b=v=function(y){function A(x){x=y.call(this,x)||this;x.cumulative=!1;x.endField=null;x.fullTimeExtent=null;x.hasLiveData=!1;x.interval=null;x.startField=null;x.timeReference=null;x.trackIdField=null;x.useTime=!0;return x}a._inheritsLoose(A,y);var E=A.prototype;E.readFullTimeExtent=function(x,F){return F.timeExtent&&Array.isArray(F.timeExtent)&&2===F.timeExtent.length?new u({start:new Date(F.timeExtent[0]),end:new Date(F.timeExtent[1])}):null};
E.writeFullTimeExtent=function(x,F){F.timeExtent=x&&x.start&&x.end?[x.start.getTime(),x.end.getTime()]:null};E.readInterval=function(x,F){return F.timeInterval&&F.timeIntervalUnits?new w({value:F.timeInterval,unit:f.timeUnitKebabDictionary.fromJSON(F.timeIntervalUnits)}):F.defaultTimeInterval&&F.defaultTimeIntervalUnits?new w({value:F.defaultTimeInterval,unit:f.timeUnitKebabDictionary.fromJSON(F.defaultTimeIntervalUnits)}):null};E.writeInterval=function(x,F){x?(x=x.toJSON(),F.timeInterval=x.value,
F.timeIntervalUnits=x.unit):(F.timeInterval=null,F.timeIntervalUnits=null)};E.clone=function(){const {cumulative:x,endField:F,hasLiveData:B,interval:C,startField:z,timeReference:G,fullTimeExtent:H,trackIdField:I,useTime:K}=this;return new v({cumulative:x,endField:F,hasLiveData:B,interval:C,startField:z,timeReference:n.clone(G),fullTimeExtent:n.clone(H),trackIdField:I,useTime:K})};return A}(e.JSONSupport);c.__decorate([d.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},
write:{target:"exportOptions.timeDataCumulative"}}})],b.prototype,"cumulative",void 0);c.__decorate([d.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],b.prototype,"endField",void 0);c.__decorate([d.property({type:u,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"fullTimeExtent",void 0);c.__decorate([m.reader("fullTimeExtent",["timeExtent"])],b.prototype,"readFullTimeExtent",null);c.__decorate([p.writer("fullTimeExtent")],b.prototype,"writeFullTimeExtent",
null);c.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"hasLiveData",void 0);c.__decorate([d.property({type:w,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"interval",void 0);c.__decorate([m.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],b.prototype,"readInterval",null);c.__decorate([p.writer("interval")],b.prototype,"writeInterval",null);c.__decorate([d.property({type:String,json:{read:{source:"startTimeField"},
write:{target:"startTimeField",allowNull:!0}}})],b.prototype,"startField",void 0);c.__decorate([d.property({type:D,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"timeReference",void 0);c.__decorate([d.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],b.prototype,"trackIdField",void 0);c.__decorate([d.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],b.prototype,"useTime",void 0);return b=v=c.__decorate([t.subclass("esri.layers.support.TimeInfo")],
b)})},"esri/TimeInterval":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/has ./core/Logger ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/property ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/urlUtils ./core/uuid ./portal/support/resourceExtension ./core/JSONSupport ./layers/support/timeUtils".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(w){w=e.call(this,w)||this;w.value=0;w.unit="milliseconds";
return w}a._inheritsLoose(f,e);var u=f.prototype;u.toMilliseconds=function(){return this.value*l.millisecondsPerTimeUnit[this.unit]};u.clone=function(){return new g({value:this.value,unit:this.unit})};return f}(q.JSONSupport);c.__decorate([k.property({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0);c.__decorate([k.property({type:l.timeUnitKebabDictionary.apiValues,json:{type:l.timeUnitKebabDictionary.jsonValues,read:l.timeUnitKebabDictionary.read,write:l.timeUnitKebabDictionary.write},
nonNullable:!0})],b.prototype,"unit",void 0);return b=g=c.__decorate([h.subclass("esri.TimeInterval")],b)})},"esri/layers/support/TimeReference":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(w){w=e.call(this,w)||this;w.respectsDaylightSaving=!1;w.timezone=null;return w}a._inheritsLoose(f,e);var u=f.prototype;u.readRespectsDaylightSaving=function(w,D){return void 0!==D.respectsDaylightSaving?D.respectsDaylightSaving:void 0!==D.respectDaylightSaving?D.respectDaylightSaving:!1};u.clone=function(){const {respectsDaylightSaving:w,timezone:D}=this;return new g({respectsDaylightSaving:w,timezone:D})};return f}(l.JSONSupport);
c.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"respectsDaylightSaving",void 0);c.__decorate([h.reader("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],b.prototype,"readRespectsDaylightSaving",null);c.__decorate([k.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],b.prototype,"timezone",void 0);return b=g=c.__decorate([m.subclass("esri.layers.support.TimeReference")],b)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../support/fieldUtils ../support/timeUtils ../../TimeExtent ../../TimeInterval ../support/TimeInfo".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w){a.TemporalLayer=D=>{D=function(v){function y(){var A=v.apply(this,arguments)||this;A.timeExtent=null;A.timeOffset=null;A.useViewTime=!0;return A}c._inheritsLoose(y,v);y.prototype.readOffset=function(A,E){E=E.timeInfo.exportOptions;if(!E)return null;A=E.timeOffset;E=e.timeUnitKebabDictionary.fromJSON(E.timeOffsetUnits);return A&&E?new u({value:A,unit:E}):null};c._createClass(y,[{key:"timeInfo",set:function(A){g.fixTimeInfoFields(A,this.fields);this._set("timeInfo",
A)}}]);return y}(D);b.__decorate([d.property({type:f,json:{write:!1}})],D.prototype,"timeExtent",void 0);b.__decorate([d.property({type:u})],D.prototype,"timeOffset",void 0);b.__decorate([m.reader("service","timeOffset",["timeInfo.exportOptions"])],D.prototype,"readOffset",null);b.__decorate([d.property({value:null,type:w,json:{write:!0,origins:{"web-document":{read:!1,write:!1}}}})],D.prototype,"timeInfo",null);b.__decorate([d.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},
origins:{"web-scene":{read:!1,write:!1}}}})],D.prototype,"useViewTime",void 0);return D=b.__decorate([t.subclass("esri.layers.mixins.TemporalLayer")],D)};a.isTemporalLayer=function(D){return void 0!==D.timeInfo};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.FeatureIndex=g=function(e){function f(u){return e.call(this,u)||this}c._inheritsLoose(f,e);f.prototype.clone=function(){const {name:u,fields:w,isAscending:D,isUnique:v,description:y}=this;return new g({name:u,fields:w,isAscending:D,isUnique:v,description:y})};return f}(l.JSONSupport);b.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"name",void 0);b.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"fields",void 0);
b.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"isAscending",void 0);b.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"isUnique",void 0);b.__decorate([d.property({constructOnly:!0})],a.FeatureIndex.prototype,"description",void 0);a.FeatureIndex=g=b.__decorate([m.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);a.default=a.FeatureIndex;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){a.FeatureReduction=function(g){function e(){var f=g.apply(this,arguments)||this;f.type=null;return f}c._inheritsLoose(e,g);return e}(l.JSONSupport);b.__decorate([d.property({type:["selection","cluster"],readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=b.__decorate([m.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);a.default=a.FeatureReduction;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/layers/support/LabelClass":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../symbols ../../symbols/support/jsonUtils ./labelUtils ./LabelExpressionInfo ../../symbols/support/defaults".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){function y(x){return"map-image"===(null==x?void 0:x.type)}function A(x){var F,B;return y(x)?!(null==(F=x.capabilities)||null==(B=F.exportMap)||!B.supportsArcadeExpressionForLabeling):!1}var E;b=new h.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",
esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",
esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});e=E=function(x){function F(C){C=x.call(this,C)||this;C.type="label";C.name=null;C.deconflictionStrategy="static";C.labelExpression=null;C.labelExpressionInfo=null;C.labelPlacement=null;C.maxScale=0;C.minScale=0;C.symbol=v.defaultTextSymbol2D;C.useCodedValues=void 0;C.where=null;return C}a._inheritsLoose(F,x);F.evaluateWhere=function(C,z){const G=function(H,I,K){switch(I){case "\x3d":return H==K?!0:!1;case "\x3c\x3e":return H!=K?!0:!1;case "\x3e":return H>K?!0:!1;case "\x3e\x3d":return H>=
K?!0:!1;case "\x3c":return H<K?!0:!1;case "\x3c\x3d":return H<=K?!0:!1}return!1};try{if(null==C)return!0;const H=C.split(" ");if(3===H.length)return G(z[H[0]],H[1],H[2]);if(7===H.length){const I=G(z[H[0]],H[1],H[2]),K=H[3],L=G(z[H[4]],H[5],H[6]);switch(K){case "AND":return I&&L;case "OR":return I||L}}return!1}catch(H){console.log("Error.: can't parse \x3d "+C)}};var B=F.prototype;B.readLabelExpression=function(C,z){z=z.labelExpressionInfo;if(!z||!z.value&&!z.expression)return C};B.writeLabelExpression=
function(C,z,G){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)C=w.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const H=w.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);H&&(C="["+H+"]")}null!=C&&(z[G]=C)};B.writeLabelExpressionInfo=function(C,z,G,H){if(null==C&&null!=this.labelExpression&&(H?"service"===H.origin?0:!y(H.layer):1))C=new D({expression:this.getLabelExpressionArcade()});else if(!C)return;
C=C.toJSON(H);C.expression&&(z[G]=C)};B.writeMaxScale=function(C,z){if(C||this.minScale)z.maxScale=C};B.writeMinScale=function(C,z){if(C||this.maxScale)z.minScale=C};B.getLabelExpression=function(){return w.getLabelExpression(this)};B.getLabelExpressionArcade=function(){return w.getLabelExpressionArcade(this)};B.getLabelExpressionSingleField=function(){return w.getLabelExpressionSingleField(this)};B.hash=function(){return JSON.stringify(this)};B.clone=function(){return new E({deconflictionStrategy:this.deconflictionStrategy,
labelExpression:this.labelExpression,labelExpressionInfo:n.clone(this.labelExpressionInfo),labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,symbol:n.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})};return F}(e.JSONSupport);c.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"name",void 0);c.__decorate([d.property({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1}}}})],e.prototype,"deconflictionStrategy",
void 0);c.__decorate([d.property({type:String,json:{write:{overridePolicy(x,F,B){return this.labelExpressionInfo&&"service"===(null==B?void 0:B.origin)&&A(B.layer)?{enabled:!1}:{allowNull:!0}}}}})],e.prototype,"labelExpression",void 0);c.__decorate([m.reader("labelExpression")],e.prototype,"readLabelExpression",null);c.__decorate([p.writer("labelExpression")],e.prototype,"writeLabelExpression",null);c.__decorate([d.property({type:D,json:{write:{overridePolicy(x,F,B){return(B?"service"===B.origin?
0:!y(B.layer):1)||A(B.layer)?{allowNull:!0}:{enabled:!1}}}}})],e.prototype,"labelExpressionInfo",void 0);c.__decorate([p.writer("labelExpressionInfo")],e.prototype,"writeLabelExpressionInfo",null);c.__decorate([d.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],e.prototype,"labelPlacement",void 0);c.__decorate([d.property({type:Number})],e.prototype,"maxScale",void 0);c.__decorate([p.writer("maxScale")],e.prototype,"writeMaxScale",null);c.__decorate([d.property({type:Number})],
e.prototype,"minScale",void 0);c.__decorate([p.writer("minScale")],e.prototype,"writeMinScale",null);c.__decorate([d.property({types:f.symbolTypesLabel,json:{origins:{"web-scene":{types:f.symbolTypesLabel3D,write:u.write,default:null}},write:u.write,default:null}})],e.prototype,"symbol",void 0);c.__decorate([d.property({type:Boolean,json:{write:!0}})],e.prototype,"useCodedValues",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],e.prototype,"where",void 0);return e=E=c.__decorate([t.subclass("esri.layers.support.LabelClass")],
e)})},"esri/layers/support/labelUtils":function(){define(["exports","../../core/string"],function(a,c){function b(f){return f.replace(/\[/g,"{").replace(/\]/g,"}")}function n(f){const u={expression:"",type:"none"};f.labelExpressionInfo?f.labelExpressionInfo.value?(u.expression=f.labelExpressionInfo.value,u.type="conventional"):f.labelExpressionInfo.expression&&(u.expression=f.labelExpressionInfo.expression,u.type="arcade"):null!=f.labelExpression&&(u.expression=b(f.labelExpression),u.type="conventional");
return u}function r(f){f?(f=c.replace(f,u=>'__begin__$feature["'+u+'"]__end__'),f=t.test(f)?f.replace(t,""):'"'+f,f=p.test(f)?f.replace(p,""):f+'"',f=f.replace(h,'" + ').replace(m,' + "')):f='""';return f}function k(f){return(f=f.match(q))&&f[1].trim()||null}function d(f){if(!f)return null;let u=l.exec(f)||g.exec(f);return u?u[1]||u[3]:(u=e.exec(f))?u[2]:null}const h=/__begin__/ig,m=/__end__/ig,t=/^__begin__/i,p=/__end__$/i,q=/^\s*\{([^}]+)\}\s*$/i,l=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,
g=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,e=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=r;a.getLabelExpression=n;a.getLabelExpressionArcade=function(f){f=n(f);if(!f)return null;switch(f.type){case "conventional":return r(f.expression);case "arcade":return f.expression}return null};a.getLabelExpressionSingleField=function(f){f=n(f);if(!f)return null;
switch(f.type){case "conventional":return k(f.expression);case "arcade":return d(f.expression)}return null};a.getSingleFieldArcadeExpression=d;a.getSingleFieldTemplatedString=k;a.sqlToTemplateString=b;a.templateStringToSql=function(f){return f.replace(/\{/g,"[").replace(/\}/g,"]")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./labelUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=f=function(u){function w(){var v=u.apply(this,arguments)||this;v.expression=null;v.title=null;v.value=null;return v}a._inheritsLoose(w,u);var D=w.prototype;D.readExpression=function(v,y){return y.value?e.convertTemplatedStringToArcade(y.value):v};D.writeExpression=function(v,y,A){null!=this.value&&(v=e.convertTemplatedStringToArcade(this.value));y[A]=v};D.clone=function(){return new f({expression:this.expression,title:this.title,value:this.value})};
return w}(g.JSONSupport);c.__decorate([k.property({type:String,json:{write:{allowNull:!0}}})],b.prototype,"expression",void 0);c.__decorate([h.reader("expression",["expression","value"])],b.prototype,"readExpression",null);c.__decorate([t.writer("expression")],b.prototype,"writeExpression",null);c.__decorate([k.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0);c.__decorate([k.property({json:{read:!1,write:!1}})],b.prototype,"value",void 0);return b=
f=c.__decorate([m.subclass("esri.layers.support.LabelExpressionInfo")],b)})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../../core/maybe ../SimpleLineSymbol ../SimpleFillSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),function(a,c,b,n,r,k,d,h){const m=k.fromJSON(h.defaultPointSymbolJSON),t=n.fromJSON(h.defaultPolylineSymbolJSON),p=r.fromJSON(h.defaultPolygonSymbolJSON);c=d.fromJSON(h.defaultTextSymbolJSON);k=k.fromJSON(h.errorPointSymbolJSON);n=
n.fromJSON(h.errorPolylineSymbolJSON);r=r.fromJSON(h.errorPolygonSymbolJSON);a.defaultPointSymbol2D=m;a.defaultPolygonSymbol2D=p;a.defaultPolylineSymbol2D=t;a.defaultTextSymbol2D=c;a.errorPointSymbol2D=k;a.errorPolygonSymbol2D=r;a.errorPolylineSymbol2D=n;a.getDefaultSymbol2D=function(q){if(b.isNone(q))return null;switch(q.type){case "point":case "multipoint":return m;case "polyline":return t;case "polygon":case "extent":return p}return null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],
function(a){const c=[252,146,31,255],b={type:"esriSMS",style:"esriSMSCircle",size:6,color:c,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},n={type:"esriSLS",style:"esriSLSSolid",width:.75,color:c};a.defaultColor=c;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=b;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=
n;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",
color:[0,0,0,255],width:1.5};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../PopupTemplate ../../core/screenUtils ../../symbols ./commonProperties ./AggregateField ./LabelClass".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){var v;b=v=function(y){function A(E){E=y.call(this,E)||this;E.type="cluster";E.clusterRadius=e.toPt("80px");E.clusterMinSize=e.toPt("12px");E.clusterMaxSize=e.toPt("50px");E.popupEnabled=!0;E.popupTemplate=null;E.symbol=null;E.labelingInfo=null;E.labelsVisible=!0;E.fields=null;return E}a._inheritsLoose(A,y);A.prototype.clone=function(){return new v({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,
labelingInfo:n.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:n.clone(this.fields),popupEnabled:this.popupEnabled,popupTemplate:n.clone(this.popupTemplate)})};return A}(l.JSONSupport);c.__decorate([d.property({type:["cluster"],readOnly:!0,json:{write:!0}})],b.prototype,"type",void 0);c.__decorate([d.property({type:Number,cast:y=>"auto"===y?y:e.toPt(y),json:{write:!0}})],b.prototype,"clusterRadius",void 0);c.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,
"clusterMinSize",void 0);c.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,"clusterMaxSize",void 0);c.__decorate([d.property(u.popupEnabled)],b.prototype,"popupEnabled",void 0);c.__decorate([d.property({type:g,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],b.prototype,"popupTemplate",void 0);c.__decorate([d.property({types:f.symbolTypesCluster})],b.prototype,"symbol",void 0);c.__decorate([d.property({type:[D],json:{read:{source:"drawingInfo.labelingInfo"},
write:{target:"drawingInfo.labelingInfo"}}})],b.prototype,"labelingInfo",void 0);c.__decorate([d.property(u.labelsVisible)],b.prototype,"labelsVisible",void 0);c.__decorate([d.property({type:[w],json:{write:!0}})],b.prototype,"fields",void 0);return b=v=c.__decorate([m.subclass("esri.layers.support.FeatureReductionCluster")],b)})},"esri/layers/support/AggregateField":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./OutStatistic".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;b=g=function(e){function f(){var u=e.apply(this,arguments)||this;u.name=null;return u}a._inheritsLoose(f,e);f.prototype.clone=function(){return new g({name:this.name,outStatistic:this.outStatistic.clone()})};return f}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([k.property({type:l,json:{write:!0}})],b.prototype,"outStatistic",void 0);return b=g=c.__decorate([h.subclass("esri.layers.support.AggregateField")],
b)})},"esri/layers/support/OutStatistic":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(){var f=g.apply(this,
arguments)||this;f.statisticType=null;f.onStatisticField=null;f.onStatisticValueExpression=null;return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l({statisticType:this.statisticType,onStatisticField:this.onStatisticField,onStatisticValueExpression:this.onStatisticValueExpression})};return e}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"statisticType",void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",
void 0);c.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"onStatisticValueExpression",void 0);return b=l=c.__decorate([h.subclass("esri.layers.support.OutStatistic")],b)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ./FeatureReduction".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){var l;b=l=function(g){function e(f){f=g.call(this,f)||this;f.type="selection";return f}a._inheritsLoose(e,g);e.prototype.clone=function(){return new l};return e}(q["default"]);c.__decorate([k.property({type:["selection"]})],b.prototype,"type",void 0);return b=l=c.__decorate([h.subclass("esri.layers.support.FeatureReductionSelection")],b)})},"esri/layers/support/featureReductionUtils":function(){define("exports ../../core/object ../../core/Error ./FeatureReduction ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),
function(a,c,b,n,r,k){function d(h,m,t){return h?"selection"!==h.type?(t.messages&&t.messages.push(new b("featureReduction:unsupported",`FeatureReduction of type '${h.declaredClass}' are not supported in scenes.`,{featureReduction:h,context:t})),null):h.write(m,t):null}n={key:"type",base:n["default"],typeMap:{selection:k}};a.read=function(h,m){m=m.layerDefinition||m;if(h=m.featureReduction)switch(h.type){case "selection":return k.fromJSON(h);case "cluster":return r.fromJSON(h)}return null};a.webSceneFeatureReductionTypes=
n;a.write=d;a.writeTarget=function(h,m,t,p){(h=d(h,{},p))&&c.setDeepValue(t,h,m)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){const e=new h.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});b=function(f){function u(D){D=f.call(this,D)||this;D.name=null;D.description=null;D.drawingTool=null;D.prototype=null;D.thumbnail=null;return D}a._inheritsLoose(u,f);var w=u.prototype;w.writeDrawingTool=function(D,v){v.drawingTool=e.toJSON(D)};w.writePrototype=function(D,v){v.prototype=n.fixJson(n.clone(D),!0)};w.writeThumbnail=function(D,v){v.thumbnail=n.fixJson(n.clone(D))};
return u}(g.JSONSupport);c.__decorate([d.property({json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([d.property({json:{write:!0}})],b.prototype,"description",void 0);c.__decorate([d.property({json:{read:e.read,write:e.write}})],b.prototype,"drawingTool",void 0);c.__decorate([t.writer("drawingTool")],b.prototype,"writeDrawingTool",null);c.__decorate([d.property({json:{write:!0}})],b.prototype,"prototype",void 0);c.__decorate([t.writer("prototype")],b.prototype,"writePrototype",null);c.__decorate([d.property({json:{write:!0}})],
b.prototype,"thumbnail",void 0);c.__decorate([t.writer("thumbnail")],b.prototype,"writeThumbnail",null);return b=c.__decorate([m.subclass("esri.layers.support.FeatureTemplate")],b)})},"esri/layers/support/FeatureType":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ./CodedValueDomain ./InheritedDomain ./RangeDomain ./domains ./FeatureTemplate".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){b=function(y){function A(x){x=y.call(this,x)||this;x.id=null;x.name=null;x.domains=null;x.templates=null;return x}a._inheritsLoose(A,y);var E=A.prototype;E.readDomains=function(x){const F={};for(const B in x)if(x.hasOwnProperty(B)){const C=x[B];switch(C.type){case "range":F[B]=w.fromJSON(C);break;case "codedValue":F[B]=f.fromJSON(C);break;case "inherited":F[B]=u.fromJSON(C)}}return F};E.writeDomains=function(x,F){const B={};for(const C in x)x.hasOwnProperty(C)&&
(B[C]=x[C]&&x[C].toJSON());n.fixJson(B);F.domains=B};E.readTemplates=function(x){return x&&x.map(F=>new v(F))};E.writeTemplates=function(x,F){F.templates=x&&x.map(B=>B.toJSON())};return A}(e.JSONSupport);c.__decorate([d.property({json:{write:!0}})],b.prototype,"id",void 0);c.__decorate([d.property({json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([d.property({json:{write:!0}})],b.prototype,"domains",void 0);c.__decorate([m.reader("domains")],b.prototype,"readDomains",null);c.__decorate([p.writer("domains")],
b.prototype,"writeDomains",null);c.__decorate([d.property({json:{write:!0}})],b.prototype,"templates",void 0);c.__decorate([m.reader("templates")],b.prototype,"readTemplates",null);c.__decorate([p.writer("templates")],b.prototype,"writeTemplates",null);return b=c.__decorate([t.subclass("esri.layers.support.FeatureType")],b)})},"esri/layers/support/fieldProperties":function(){define(["exports","../../core/Logger","./fieldUtils","./Field"],function(a,c,b,n){const r=c.getLogger("esri.layers.support.fieldProperties");
a.defineFieldProperties=function(){return{fields:{type:[n],value:null},outFields:{type:[String],json:{read:!1},set:function(k){this._userOutFields=k;this.notifyChange("outFields")},get:function(){const k=this._userOutFields;if(!k||!k.length)return null;if(k.includes("*"))return["*"];if(!this.fields)return k;for(const d of k)b.hasField(this.fields,d)||r.error("field-attributes-layer:invalid-field",`Invalid field ${d} found in outFields`,{layer:this,outFields:k});return b.fixFields(this.fields,k)}}}};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../core/unitUtils".split(" "),function(a,c,
b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.shapeAreaField=null;f.shapeLengthField=null;f.units=null;return f}a._inheritsLoose(e,g);return e}(q.JSONSupport);c.__decorate([k.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],b.prototype,"shapeAreaField",void 0);c.__decorate([k.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],b.prototype,"shapeLengthField",void 0);c.__decorate([k.property({type:String,json:{read:g=>l.areaUnitsJSONMap.read(g)||
l.lengthUnitsJSONMap.read(g)}})],b.prototype,"units",void 0);return b=c.__decorate([h.subclass("esri.layers.support.GeometryFieldsInfo")],b)})},"esri/layers/support/labelingInfo":function(){define(["exports","./LabelClass"],function(a,c){const b=/\[([^\[\]]+)\]/gi;a.reader=function(n,r,k){return n?n.map(d=>{const h=new c;h.read(d,k);if(h.labelExpression){const m=r.fields||r.layerDefinition&&r.layerDefinition.fields||this.fields;h.labelExpression=h.labelExpression.replace(b,(t,p)=>{a:if(m){t=p.toLowerCase();
for(let q=0;q<m.length;q++){const l=m[q].name;if(l.toLowerCase()===t){p=l;break a}}}return`[${p}]`})}return h}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../core/Collection".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.floorField=null;f.viewAllMode=!1;f.viewAllLevelIds=new l;return f}a._inheritsLoose(e,g);return e}(q.JSONSupport);c.__decorate([k.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"floorField",void 0);c.__decorate([k.property({json:{read:!1,write:!1}})],b.prototype,"viewAllMode",void 0);c.__decorate([k.property({json:{read:!1,write:!1}})],b.prototype,"viewAllLevelIds",void 0);
return b=c.__decorate([h.subclass("esri.layers.support.LayerFloorInfo")],b)})},"esri/layers/support/Relationship":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),function(a,c,
b,n,r,k,d,h,m,t,p,q){b=new d.JSONMap({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});d=new d.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});q=function(l){function g(e){e=l.call(this,e)||this;e.cardinality=null;e.composite=null;e.id=null;e.keyField=null;e.keyFieldInRelationshipTable=null;e.name=null;e.relatedTableId=null;e.relationshipTableId=null;e.role=null;return e}a._inheritsLoose(g,l);
return g}(q.JSONSupport);c.__decorate([k.property({json:{read:b.read,write:b.write}})],q.prototype,"cardinality",void 0);c.__decorate([k.property({json:{read:!0,write:!0}})],q.prototype,"composite",void 0);c.__decorate([k.property({json:{read:!0,write:!0}})],q.prototype,"id",void 0);c.__decorate([k.property({json:{read:!0,write:!0}})],q.prototype,"keyField",void 0);c.__decorate([k.property({json:{read:!0,write:!0}})],q.prototype,"keyFieldInRelationshipTable",void 0);c.__decorate([k.property({json:{read:!0,
write:!0}})],q.prototype,"name",void 0);c.__decorate([k.property({json:{read:!0,write:!0}})],q.prototype,"relatedTableId",void 0);c.__decorate([k.property({json:{read:!0,write:!0}})],q.prototype,"relationshipTableId",void 0);c.__decorate([k.property({json:{read:d.read,write:d.write}})],q.prototype,"role",void 0);return q=c.__decorate([h.subclass("esri.layers.support.Relationship")],q)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/jsonMap ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/extensions/serializableProperty/reader ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A){function E(){C||(C=q.createTypeReader({types:x()}));return C}function x(){z||(z={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":D.MapLayerSource}});return z}var F,B;n=m.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=F=function(G){function H(K){K=G.call(this,K)||this;K.type="join-table";return K}c._inheritsLoose(H,G);var I=H.prototype;I.readLeftTableSource=function(K,
L,T){return E()(K,L,T)};I.castLeftTableSource=function(K){return k.ensureOneOfType(x(),K)};I.readRightTableSource=function(K,L,T){return E()(K,L,T)};I.castRightTableSource=function(K){return k.ensureOneOfType(x(),K)};I.clone=function(){var K,L;const {leftTableKey:T,rightTableKey:O,leftTableSource:U,rightTableSource:W,joinType:S}=this,N={leftTableKey:T,rightTableKey:O,leftTableSource:null!=(K=null==U?void 0:U.clone())?K:void 0,rightTableSource:null!=(L=null==W?void 0:W.clone())?L:void 0,joinType:S};
return new F(N)};return H}(u.JSONSupport);b.__decorate([t.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableKey",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);b.__decorate([d.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);b.__decorate([p.reader("leftTableSource")],
a.JoinTableDataSource.prototype,"readLeftTableSource",null);b.__decorate([h.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);b.__decorate([d.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableSource",void 0);b.__decorate([p.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);b.__decorate([h.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);b.__decorate([t.enumeration(n)],
a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=F=b.__decorate([l.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let C=null,z=null;h={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,"query-table":v.QueryTableDataSource,raster:y.RasterDataSource,table:A.TableDataSource}};a.DataLayerSource=B=function(G){function H(I){I=G.call(this,I)||this;I.type="data-layer";return I}c._inheritsLoose(H,G);H.prototype.clone=function(){const {fields:I,
dataSource:K}=this;return new B({fields:I,dataSource:K})};return H}(u.JSONSupport);b.__decorate([t.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);b.__decorate([d.property({type:[w],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);b.__decorate([d.property({types:h,json:{write:!0}})],a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=B=b.__decorate([l.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=
k.ensureType(a.DataLayerSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.MapLayerSource=g=function(e){function f(u){u=e.call(this,u)||this;u.type="map-layer";return u}c._inheritsLoose(f,e);f.prototype.clone=function(){const {mapLayerId:u,gdbVersion:w}=this;return new g({mapLayerId:u,gdbVersion:w})};return f}(l.JSONSupport);b.__decorate([h.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);b.__decorate([d.property({type:k.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);b.__decorate([d.property({type:String,
json:{write:!0}})],a.MapLayerSource.prototype,"gdbVersion",void 0);a.MapLayerSource=g=b.__decorate([m.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../geometry/SpatialReference ../../../geometry/support/typeUtils ../../../geometry".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){var u;a.QueryTableDataSource=u=function(w){function D(v){v=w.call(this,v)||this;v.type="query-table";return v}c._inheritsLoose(D,w);D.prototype.clone=function(){var v;const {workspaceId:y,query:A,oidFields:E,spatialReference:x,geometryType:F}=this,B={workspaceId:y,query:A,oidFields:E,spatialReference:null!=(v=null==x?void 0:x.clone())?v:void 0,geometryType:F};return new u(B)};return D}(l.JSONSupport);b.__decorate([h.enumeration({queryTable:"query-table"})],
a.QueryTableDataSource.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"workspaceId",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);b.__decorate([d.property({type:g,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);b.__decorate([h.enumeration(e.featureGeometryTypeKebabDictionary)],
a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=u=b.__decorate([m.subclass("esri.layers.support.source.QueryTableDataSource")],a.QueryTableDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.RasterDataSource=g=function(e){function f(u){u=e.call(this,u)||this;u.type="raster";return u}c._inheritsLoose(f,e);f.prototype.clone=function(){const {workspaceId:u,dataSourceName:w}=this;return new g({workspaceId:u,dataSourceName:w})};return f}(l.JSONSupport);b.__decorate([h.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);
b.__decorate([d.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=g=b.__decorate([m.subclass("esri.layers.support.source.RasterDataSource")],a.RasterDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;a.TableDataSource=g=function(e){function f(u){u=e.call(this,u)||this;u.type="table";return u}c._inheritsLoose(f,e);f.prototype.clone=function(){const {workspaceId:u,gdbVersion:w,dataSourceName:D}=this;return new g({workspaceId:u,gdbVersion:w,dataSourceName:D})};return f}(l.JSONSupport);b.__decorate([h.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,
"workspaceId",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);b.__decorate([d.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=g=b.__decorate([m.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/popupUtils":function(){define("exports ../layers/support/fieldUtils ../popup/content/Content ../popup/content/AttachmentsContent ../popup/content/CustomContent ../popup/support/FieldInfoFormat ../popup/FieldInfo ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/TextContent ../PopupTemplate".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p){function q(E,x){const F=E;x&&(E=E.filter(B=>-1===x.indexOf(B.type)));E===F&&(E=E.slice());E.sort(l);return E}function l(E,x){return"oid"===E.type?-1:"oid"===x.type?1:u(E)?-1:u(x)?1:(E.alias||E.name).toLocaleLowerCase().localeCompare((x.alias||x.name).toLocaleLowerCase())}function g(E,x){if(!E||!x)return!1;const {creationDateField:F,creatorField:B,editDateField:C,editorField:z}=x;return-1!==[F&&F.toLowerCase(),B&&B.toLowerCase(),C&&C.toLowerCase(),z&&z.toLowerCase()].indexOf(E.toLowerCase())}
function e({editFieldsInfo:E,fields:x,objectIdField:F},B){return q(x,(null==B?void 0:B.ignoreFieldTypes)||A).map(C=>{var z=C.name;var G=C.editable&&-1===D.indexOf(C.type)&&!g(C.name,E);return new d({fieldName:z,isEditable:G,label:C.alias,format:f(C),visible:y(C,{editFieldsInfo:E,objectIdField:F,visibleFieldNames:null==B?void 0:B.visibleFieldNames})})})}function f(E){switch(E.type){case "small-integer":case "integer":case "single":return new k({digitSeparator:!0,places:0});case "double":return new k({digitSeparator:!0,
places:2});case "date":return new k({dateFormat:"long-month-day-year"});default:return null}}function u(E){if("name"===(E.name&&E.name.toLowerCase())||"name"===(E.alias&&E.alias.toLowerCase()))return!0}const w=["oid","global-id"],D=["oid","global-id","guid"],v=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],y=(E,{editFieldsInfo:x,objectIdField:F,visibleFieldNames:B})=>B?B.has(E.name):g(E.name,
x)?!1:F&&E.name===F?!1:-1<w.indexOf(E.type)?!1:!v.some(C=>C.test(E.name)),A=["geometry","blob","raster","guid","xml"];a.createFieldInfos=e;a.createFieldsContent=function(E,x){return new h({fieldInfos:e(E,x).filter(F=>F.visible)})};a.createPopupTemplate=function({displayField:E,editFieldsInfo:x,fields:F,objectIdField:B,title:C},z){if(!F)return null;x=e({editFieldsInfo:x,fields:F,objectIdField:B},z);if(!x.length)return null;F={titleBase:C,fields:F,displayField:E};E=c.getDisplayFieldName(F);({titleBase:F}=
F);E=E?`${F}: {${E.trim()}}`:F;F=[new h,new n];return new p({title:E,content:F,fieldInfos:x})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/support/AttachmentQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=e=function(f){function u(D){D=f.call(this,D)||this;D.attachmentTypes=null;D.attachmentsWhere=null;D.keywords=null;D.globalIds=null;D.name=null;D.num=null;D.objectIds=null;D.returnMetadata=!1;D.size=null;D.start=null;D.where=null;return D}a._inheritsLoose(u,f);var w=u.prototype;w.writeStart=function(D,v){v.resultOffset=this.start;v.resultRecordCount=this.num||10};w.clone=function(){return new e(n.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,
keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))};return u}(g.JSONSupport);c.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);c.__decorate([d.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],b.prototype,"attachmentsWhere",void 0);c.__decorate([d.property({type:[String],
json:{write:!0}})],b.prototype,"keywords",void 0);c.__decorate([d.property({type:[Number],json:{write:!0}})],b.prototype,"globalIds",void 0);c.__decorate([d.property({json:{write:!0}})],b.prototype,"name",void 0);c.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);c.__decorate([d.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);c.__decorate([d.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"returnMetadata",
void 0);c.__decorate([d.property({type:[Number],json:{write:!0}})],b.prototype,"size",void 0);c.__decorate([d.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);c.__decorate([t.writer("start"),t.writer("num")],b.prototype,"writeStart",null);c.__decorate([d.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=e=c.__decorate([m.subclass("esri.tasks.support.AttachmentQuery")],b);
b.from=k.ensureType(b);return b})},"esri/tasks/support/Query":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../geometry/SpatialReference ../../geometry/Point ../../geometry/support/jsonUtils ../../geometry ../../TimeExtent ../../layers/support/source/DataLayerSource ./QuantizationParameters ./StatisticDefinition".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x){var F;b=new t.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});t=new t.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});f=F=function(B){function C(G){G=B.call(this,G)||this;G.aggregateIds=null;G.cacheHint=void 0;G.datumTransformation=null;G.distance=void 0;G.dynamicDataSource=void 0;G.gdbVersion=null;G.geometry=null;G.geometryPrecision=void 0;G.groupByFieldsForStatistics=null;G.having=null;G.historicMoment=null;G.maxAllowableOffset=void 0;G.maxRecordCountFactor=1;G.multipatchOption=
null;G.num=void 0;G.objectIds=null;G.orderByFields=null;G.outFields=null;G.outSpatialReference=null;G.outStatistics=null;G.parameterValues=null;G.pixelSize=null;G.quantizationParameters=null;G.rangeValues=null;G.relationParameter=null;G.resultType=null;G.returnCentroid=!1;G.returnDistinctValues=!1;G.returnExceededLimitFeatures=!0;G.returnGeometry=!1;G.returnQueryGeometry=!1;G.returnM=void 0;G.returnZ=void 0;G.sourceSpatialReference=null;G.spatialRelationship="intersects";G.start=void 0;G.sqlFormat=
null;G.text=null;G.timeExtent=null;G.units=null;G.where=null;return G}a._inheritsLoose(C,B);C.from=function(G){return d.ensureClass(F,G)};var z=C.prototype;z.castDatumTransformation=function(G){return"number"===typeof G||"object"===typeof G?G:null};z.writeHistoricMoment=function(G,H){H.historicMoment=G&&G.getTime()};z.writeParameterValues=function(G,H){if(G){const I={};for(const K in G){const L=G[K];Array.isArray(L)?I[K]=L.map(T=>T instanceof Date?T.getTime():T):I[K]=L instanceof Date?L.getTime():
L}H.parameterValues=I}};z.writeStart=function(G,H){H.resultOffset=this.start;H.resultRecordCount=this.num||10;H.where="1\x3d1"};z.writeWhere=function(G,H){H.where=G||"1\x3d1"};z.clone=function(){return new F(n.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,
historicMoment:r.isSome(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,
rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,
sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};return C}(f.JSONSupport);f.MAX_MAX_RECORD_COUNT_FACTOR=5;c.__decorate([h.property({json:{write:!0}})],f.prototype,"aggregateIds",void 0);c.__decorate([h.property({type:Boolean,json:{write:{writer:(B,C)=>{null!=B&&(C.cacheHint=B)}}}})],f.prototype,"cacheHint",void 0);c.__decorate([h.property({json:{write:!0}})],f.prototype,"datumTransformation",void 0);c.__decorate([m.cast("datumTransformation")],
f.prototype,"castDatumTransformation",null);c.__decorate([h.property({type:Number,json:{write:{overridePolicy(B){return{enabled:0<B}}}}})],f.prototype,"distance",void 0);c.__decorate([h.property({type:A.DataLayerSource,json:{write:!0}})],f.prototype,"dynamicDataSource",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],f.prototype,"gdbVersion",void 0);c.__decorate([h.property({types:v.geometryTypes,json:{read:D.fromJSON,write:!0}})],f.prototype,"geometry",void 0);c.__decorate([h.property({type:Number,
json:{write:!0}})],f.prototype,"geometryPrecision",void 0);c.__decorate([h.property({type:[String],json:{write:!0}})],f.prototype,"groupByFieldsForStatistics",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],f.prototype,"having",void 0);c.__decorate([h.property({type:Date})],f.prototype,"historicMoment",void 0);c.__decorate([q.writer("historicMoment")],f.prototype,"writeHistoricMoment",null);c.__decorate([h.property({type:Number,json:{write:!0}})],f.prototype,"maxAllowableOffset",
void 0);c.__decorate([h.property({type:Number,cast(B){return 1>B?1:B>F.MAX_MAX_RECORD_COUNT_FACTOR?F.MAX_MAX_RECORD_COUNT_FACTOR:B},json:{write:{overridePolicy(B){return{enabled:1<B}}}}})],f.prototype,"maxRecordCountFactor",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],f.prototype,"multipatchOption",void 0);c.__decorate([h.property({type:Number,json:{read:{source:"resultRecordCount"}}})],f.prototype,"num",void 0);c.__decorate([h.property({json:{write:!0}})],f.prototype,"objectIds",
void 0);c.__decorate([h.property({type:[String],json:{write:!0}})],f.prototype,"orderByFields",void 0);c.__decorate([h.property({type:[String],json:{write:!0}})],f.prototype,"outFields",void 0);c.__decorate([h.property({type:u,json:{read:{source:"outSR"},write:{target:"outSR"}}})],f.prototype,"outSpatialReference",void 0);c.__decorate([h.property({type:[x],json:{write:{enabled:!0,overridePolicy(){return{enabled:r.isSome(this.outStatistics)&&0<this.outStatistics.length}}}}})],f.prototype,"outStatistics",
void 0);c.__decorate([h.property({json:{write:!0}})],f.prototype,"parameterValues",void 0);c.__decorate([q.writer("parameterValues")],f.prototype,"writeParameterValues",null);c.__decorate([h.property({type:w,json:{write:!0}})],f.prototype,"pixelSize",void 0);c.__decorate([h.property({type:E,json:{write:!0}})],f.prototype,"quantizationParameters",void 0);c.__decorate([h.property({type:[Object],json:{write:!0}})],f.prototype,"rangeValues",void 0);c.__decorate([h.property({type:String,json:{read:{source:"relationParam"},
write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],f.prototype,"relationParameter",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],f.prototype,"resultType",void 0);c.__decorate([h.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],f.prototype,"returnCentroid",void 0);c.__decorate([h.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],f.prototype,"returnDistinctValues",void 0);
c.__decorate([h.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:!B}}}}})],f.prototype,"returnExceededLimitFeatures",void 0);c.__decorate([h.property({type:Boolean,json:{write:!0}})],f.prototype,"returnGeometry",void 0);c.__decorate([h.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],f.prototype,"returnQueryGeometry",void 0);c.__decorate([h.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],f.prototype,"returnM",void 0);c.__decorate([h.property({type:Boolean,
json:{write:{overridePolicy(B){return{enabled:B}}}}})],f.prototype,"returnZ",void 0);c.__decorate([h.property({type:u,json:{write:!0}})],f.prototype,"sourceSpatialReference",void 0);c.__decorate([h.property({type:String,json:{read:{source:"spatialRel",reader:b.read},write:{target:"spatialRel",writer:b.write}}})],f.prototype,"spatialRelationship",void 0);c.__decorate([h.property({type:Number,json:{read:{source:"resultOffset"}}})],f.prototype,"start",void 0);c.__decorate([q.writer("start"),q.writer("num")],
f.prototype,"writeStart",null);c.__decorate([h.property({type:String,json:{write:!0}})],f.prototype,"sqlFormat",void 0);c.__decorate([h.property({type:String,json:{write:!0}})],f.prototype,"text",void 0);c.__decorate([h.property({type:y,json:{write:!0}})],f.prototype,"timeExtent",void 0);c.__decorate([h.property({type:String,json:{read:t.read,write:{writer:t.write,overridePolicy(B){return{enabled:B&&0<this.distance}}}}})],f.prototype,"units",void 0);c.__decorate([h.property({type:String,json:{write:{overridePolicy(B){return{enabled:null!=
B||0<this.start}}}}})],f.prototype,"where",void 0);c.__decorate([q.writer("where")],f.prototype,"writeWhere",null);return f=F=c.__decorate([p.subclass("esri.tasks.support.Query")],f)})},"esri/tasks/support/QuantizationParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../geometry/Extent ../../geometry".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){var f;b=new h.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});l=f=function(u){function w(D){D=u.call(this,D)||this;D.extent=null;D.mode="view";D.originPosition="upper-left";D.tolerance=1;return D}a._inheritsLoose(w,u);w.prototype.clone=function(){return new f(n.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};return w}(l.JSONSupport);c.__decorate([d.property({type:g,json:{write:{overridePolicy(){return{enabled:"view"===
this.mode}}}}})],l.prototype,"extent",void 0);c.__decorate([d.property({type:["view","edit"],json:{write:!0}})],l.prototype,"mode",void 0);c.__decorate([d.property({type:String,json:{read:b.read,write:b.write}})],l.prototype,"originPosition",void 0);c.__decorate([d.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],l.prototype,"tolerance",void 0);return l=f=c.__decorate([m.subclass("esri.tasks.support.QuantizationParameters")],l)})},"esri/tasks/support/StatisticDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){var e;b=new h.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});g=e=function(f){function u(D){D=f.call(this,D)||this;D.maxPointCount=void 0;D.maxRecordCount=void 0;D.maxVertexCount=void 0;D.onStatisticField=null;D.outStatisticFieldName=null;D.statisticType=null;D.statisticParameters=null;return D}a._inheritsLoose(u,
f);var w=u.prototype;w.writeStatisticParameters=function(D,v){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)v.statisticParameters=n.clone(D)};w.clone=function(){return new e({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:n.clone(this.statisticParameters)})};
return u}(g.JSONSupport);c.__decorate([d.property({type:Number,json:{write:!0}})],g.prototype,"maxPointCount",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],g.prototype,"maxRecordCount",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],g.prototype,"maxVertexCount",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],g.prototype,"onStatisticField",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],g.prototype,"outStatisticFieldName",void 0);
c.__decorate([d.property({type:String,json:{read:{source:"statisticType",reader:b.read},write:{target:"statisticType",writer:b.write}}})],g.prototype,"statisticType",void 0);c.__decorate([d.property({type:Object})],g.prototype,"statisticParameters",void 0);c.__decorate([t.writer("statisticParameters")],g.prototype,"writeStatisticParameters",null);return g=e=c.__decorate([m.subclass("esri.tasks.support.StatisticDefinition")],g)})},"esri/tasks/support/RelationshipQuery":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/lang ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/JSONSupport ../../geometry/SpatialReference ../../geometry ../../layers/support/source/DataLayerSource".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){var w;b=w=function(D){function v(A){A=D.call(this,A)||this;A.dynamicDataSource=void 0;A.gdbVersion=null;A.geometryPrecision=void 0;A.historicMoment=null;A.maxAllowableOffset=void 0;A.objectIds=null;A.orderByFields=null;A.outFields=null;A.outSpatialReference=null;A.relationshipId=void 0;A.start=void 0;A.num=void 0;A.returnGeometry=!1;A.returnM=void 0;A.returnZ=void 0;A.where=null;return A}a._inheritsLoose(v,D);var y=v.prototype;y._writeHistoricMoment=function(A,
E){E.historicMoment=A&&A.getTime()};y.writeStart=function(A,E){E.resultOffset=this.start;E.resultRecordCount=this.num||10;E.where="1\x3d1"};y.clone=function(){return new w(n.clone({dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,
relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))};return v}(g.JSONSupport);c.__decorate([d.property({type:u.DataLayerSource,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0);c.__decorate([d.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);c.__decorate([d.property({type:Date})],
b.prototype,"historicMoment",void 0);c.__decorate([t.writer("historicMoment")],b.prototype,"_writeHistoricMoment",null);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);c.__decorate([d.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);c.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);c.__decorate([d.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);c.__decorate([d.property({type:e,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);c.__decorate([d.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);c.__decorate([d.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);c.__decorate([t.writer("start"),t.writer("num")],b.prototype,"writeStart",null);c.__decorate([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);c.__decorate([d.property({json:{write:!0}})],
b.prototype,"returnGeometry",void 0);c.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(D){return{enabled:D}}}}})],b.prototype,"returnM",void 0);c.__decorate([d.property({type:Boolean,json:{write:{overridePolicy(D){return{enabled:D}}}}})],b.prototype,"returnZ",void 0);c.__decorate([d.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=w=c.__decorate([m.subclass("esri.tasks.support.RelationshipQuery")],
b);b.from=k.ensureType(b);return b})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/lang ../../../core/object ../../../core/maybe ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/Error ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../geometry/Extent ../../../request ../../../core/Loadable ../../../TimeExtent ../../../rest/query/operations/zscale ../../../rest/query/operations/queryAttachments ../../../tasks/QueryTask ./support/clientSideDefaults".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E){async function x(B){if("string"===typeof B){const C=l.dataComponents(B);return C?C:{data:B}}return new Promise((C,z)=>{const G=new FileReader;G.readAsDataURL(B);G.onload=()=>C(l.dataComponents(G.result));G.onerror=H=>z(H)})}const F=new Set(["Feature Layer","Table"]);d=function(B){function C(){var G=B.apply(this,arguments)||this;G.type="feature-layer";return G}a._inheritsLoose(C,B);var z=C.prototype;z.load=function(G){G=k.isSome(G)?G.signal:null;
this.addResolvingPromise(this._fetchService(G));return Promise.resolve(this)};z.addAttachment=async function(G,H){await this.load();G=G.attributes[this.layer.objectIdField];const I=this.layer.parsedUrl.path+"/"+G+"/addAttachment",K=this._getLayerRequestOptions();H=this._getFormDataForAttachment(H,K.query);try{const L=await u(I,{body:H});return this._createFeatureEditResult(L.data.addAttachmentResult)}catch(L){throw this._createAttachmentErrorResult(G,L);}};z.updateAttachment=async function(G,H,I){await this.load();
G=G.attributes[this.layer.objectIdField];const K=this.layer.parsedUrl.path+"/"+G+"/updateAttachment";H=this._getLayerRequestOptions({query:{attachmentId:H}});I=this._getFormDataForAttachment(I,H.query);try{const L=await u(K,{body:I});return this._createFeatureEditResult(L.data.updateAttachmentResult)}catch(L){throw this._createAttachmentErrorResult(G,L);}};z.applyEdits=async function(G,H){await this.load();const I=G.addFeatures.map(this._serializeFeature,this),K=G.updateFeatures.map(this._serializeFeature,
this),L=this._getFeatureIds(G.deleteFeatures,null==H?void 0:H.globalIdUsed);v.unapplyEditsZUnitScaling(I,K,this.layer.spatialReference);const T=[],O=[],U=[...G.deleteAttachments];for(const W of G.addAttachments)T.push(await this._serializeAttachment(W));for(const W of G.updateAttachments)O.push(await this._serializeAttachment(W));G=T.length||O.length||U.length?{adds:T,updates:O,deletes:U}:null;H=this._getLayerRequestOptions({method:"post",query:{adds:I.length?JSON.stringify(I):null,updates:K.length?
JSON.stringify(K):null,deletes:L.length?null!=H&&H.globalIdUsed?JSON.stringify(L):L.join(","):null,gdbVersion:(null==H?void 0:H.gdbVersion)||this.layer.gdbVersion,rollbackOnFailure:null==H?void 0:H.rollbackOnFailureEnabled,useGlobalIds:null==H?void 0:H.globalIdUsed,attachments:G&&JSON.stringify(G)}});H=await u(this.layer.parsedUrl.path+"/applyEdits",H);return this._createEditsResult(H)};z.deleteAttachments=async function(G,H){await this.load();G=G.attributes[this.layer.objectIdField];const I=this.layer.parsedUrl.path+
"/"+G+"/deleteAttachments";try{return(await u(I,this._getLayerRequestOptions({query:{attachmentIds:H.join(",")},method:"post"}))).data.deleteAttachmentResults.map(this._createFeatureEditResult)}catch(K){throw this._createAttachmentErrorResult(G,K);}};z.fetchRecomputedExtents=function(G={}){return this.load({signal:G.signal}).then(async()=>{var H=this._getLayerRequestOptions({...G,query:{returnUpdates:!0}});const {layerId:I,url:K}=this.layer;({data:H}=await u(`${K}/${I}`,H));const {id:L,extent:T,fullExtent:O,
timeExtent:U}=H;H=T||O;return{id:L,fullExtent:H&&f.fromJSON(H),timeExtent:U&&D.fromJSON({start:U[0],end:U[1]})}})};z.queryAttachments=async function(G,H={}){const {parsedUrl:I}=this.layer,K=I.path;await this.load();H=this._getLayerRequestOptions(H);if(!this.layer.get("capabilities.operations.supportsQueryAttachments")){const {objectIds:L}=G;G=[];for(const T of L)G.push(u(K+"/"+T+"/attachments",H));return Promise.all(G).then(T=>L.map((O,U)=>({parentObjectId:O,attachmentInfos:T[U].data.attachmentInfos}))).then(T=>
y.processAttachmentQueryResult(T,K))}return this.queryTask.executeAttachmentQuery(G,H)};z.queryFeatures=async function(G,H){await this.load();return this.queryTask.execute(G,{...H,query:{...this.layer.customParameters,...null==H?void 0:H.query}})};z.queryFeaturesJSON=async function(G,H){await this.load();return this.queryTask.executeJSON(G,{...H,query:{...this.layer.customParameters,...null==H?void 0:H.query}})};z.queryObjectIds=async function(G,H){await this.load();return this.queryTask.executeForIds(G,
{...H,query:{...this.layer.customParameters,...null==H?void 0:H.query}})};z.queryFeatureCount=async function(G,H){await this.load();return this.queryTask.executeForCount(G,{...H,query:{...this.layer.customParameters,...null==H?void 0:H.query}})};z.queryExtent=async function(G,H){await this.load();return this.queryTask.executeForExtent(G,{...H,query:{...this.layer.customParameters,...null==H?void 0:H.query}})};z.queryRelatedFeatures=async function(G,H){await this.load();return this.queryTask.executeRelationshipQuery(G,
{...H,query:{...this.layer.customParameters,...null==H?void 0:H.query}})};z.queryRelatedFeaturesCount=async function(G,H){await this.load();return this.queryTask.executeRelationshipQueryForCount(G,{...H,query:{...this.layer.customParameters,...null==H?void 0:H.query}})};z._fetchService=async function(G){let H=this.layer.sourceJSON;H||({data:G}=await u(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:b("featurelayer-advanced-symbols")?{returnAdvancedSymbols:!0}:{},signal:G})),H=G);this.sourceJSON=
this._patchServiceJSON(H);G=H.type;if(!F.has(G))throw new q("feature-layer-source:unsupported-type",`Source type "${G}" is not supported`);};z._patchServiceJSON=function(G){var H;"Table"===G.type||!G.geometryType||null!=G&&null!=(H=G.drawingInfo)&&H.renderer||G.defaultSymbol||(H=E.createDrawingInfo(G.geometryType).renderer,r.setDeepValue("drawingInfo.renderer",H,G));return G};z._serializeFeature=function(G){const {geometry:H,attributes:I}=G;return k.isNone(H)?{attributes:I}:"mesh"===H.type||"extent"===
H.type?null:{geometry:H.toJSON(),attributes:I}};z._serializeAttachment=async function(G){const {feature:H,attachment:I}=G,{globalId:K,name:L,contentType:T,data:O,uploadId:U}=I;G={globalId:K,parentGlobalId:null,contentType:null,name:null,uploadId:null,data:null};H&&(G.parentGlobalId="attributes"in H?H.attributes&&H.attributes[this.layer.globalIdField]:H.globalId);if(U)G.uploadId=U;else if(O){const W=await x(O);G.contentType=W.mediaType;G.data=W.data;O instanceof File&&(G.name=O.name)}L&&(G.name=L);
T&&(G.contentType=T);return G};z._getFeatureIds=function(G,H){const I=G[0];return I?this._canUseGlobalIds(H,G)?this._getGlobalIdsFromFeatureIdentifier(G):"objectId"in I?this._getObjectIdsFromFeatureIdentifier(G):this._getIdsFromFeatures(G):[]};z._getIdsFromFeatures=function(G){const H=this.layer.objectIdField;return G.map(I=>I.attributes&&I.attributes[H])};z._canUseGlobalIds=function(G,H){return G&&"globalId"in H[0]};z._getObjectIdsFromFeatureIdentifier=function(G){return G.map(H=>H.objectId)};z._getGlobalIdsFromFeatureIdentifier=
function(G){return G.map(H=>H.globalId)};z._createEditsResult=function(G){const H=G.data;G=G.data&&G.data.attachments;return{addFeatureResults:H.addResults?H.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:H.updateResults?H.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:H.deleteResults?H.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:G&&G.addResults?G.addResults.map(this._createFeatureEditResult,this):[],updateAttachmentResults:G&&
G.updateResults?G.updateResults.map(this._createFeatureEditResult,this):[],deleteAttachmentResults:G&&G.deleteResults?G.deleteResults.map(this._createFeatureEditResult,this):[]}};z._createFeatureEditResult=function(G){const H=!0===G.success?null:G.error||{code:void 0,description:void 0};return{objectId:G.objectId,globalId:G.globalId,error:H?new q("feature-layer-source:edit-failure",H.description,{code:H.code}):null}};z._createAttachmentErrorResult=function(G,H){return{objectId:G,globalId:null,error:new q("feature-layer-source:attachment-failure",
H.details.messages&&H.details.messages[0]||H.message,{code:H.details.httpStatus||H.details.messageCode})}};z._getFormDataForAttachment=function(G,H){if(G=G instanceof FormData?G:G&&G.elements?new FormData(G):null)for(const I in H){const K=H[I];null!=K&&(G.set?G.set(I,K):G.append(I,K))}return G};z._getLayerRequestOptions=function(G={}){const {parsedUrl:H,gdbVersion:I,dynamicDataSource:K}=this.layer;return{...G,query:n.fixJson({gdbVersion:I,layer:K?JSON.stringify({source:K}):void 0,...H.query,f:"json",
...this.layer.customParameters,...null==G?void 0:G.query}),responseType:"json"}};a._createClass(C,[{key:"queryTask",get:function(){const {capabilities:{query:{supportsFormatPBF:G}},parsedUrl:H,dynamicDataSource:I,gdbVersion:K,spatialReference:L,fieldsIndex:T}=this.layer,O=b("featurelayer-pbf")&&G?"pbf":"json";return new A({url:H.path,format:O,fieldsIndex:T,dynamicDataSource:I,gdbVersion:K,sourceSpatialReference:L})}}]);return C}(w);c.__decorate([m.property()],d.prototype,"type",void 0);c.__decorate([m.property({constructOnly:!0})],
d.prototype,"layer",void 0);c.__decorate([m.property({readOnly:!0})],d.prototype,"queryTask",null);return d=c.__decorate([p.subclass("esri.layers.graphics.sources.FeatureLayerSource")],d)})},"esri/rest/query/operations/queryAttachments":function(){define("exports ../../../core/urlUtils ../../../kernel ../../../request ../support/AttachmentInfo ../../../tasks/operations/urlUtils".split(" "),function(a,c,b,n,r,k){function d(h){h=h.toJSON();h.attachmentTypes&&(h.attachmentTypes=h.attachmentTypes.join(","));
h.keywords&&(h.keywords=h.keywords.join(","));h.globalIds&&(h.globalIds=h.globalIds.join(","));h.objectIds&&(h.objectIds=h.objectIds.join(","));h.size&&(h.size=h.size.join(","));return h}a.executeAttachmentQuery=function(h,m,t){m={query:k.mapParameters({...h.query,f:"json",...d(m)})};t&&(m={...t,...m,query:{...t.query,...m.query}});return n(h.path+"/queryAttachments",m)};a.processAttachmentQueryResult=function(h,m){const t={};for(const p of h){const {parentObjectId:q,parentGlobalId:l,attachmentInfos:g}=
p;for(const e of g){({id:h}=e);h=c.addProxy(b.addTokenParameter(`${m}/${q}/attachments/${h}`));const f=r.fromJSON(e);f.set({url:h,parentObjectId:q,parentGlobalId:l});t[q]?t[q].push(f):t[q]=[f]}}return t};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/support/AttachmentInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/JSONSupport ../../../layers/support/exifUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){var g;const e={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};b=g=function(f){function u(w){w=f.call(this,w)||this;w.contentType=null;w.exifInfo=null;w.id=null;w.globalId=null;w.keywords=null;w.name=null;w.parentGlobalId=null;w.parentObjectId=null;
w.size=null;w.url=null;return w}a._inheritsLoose(u,f);u.prototype.clone=function(){return new g({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};a._createClass(u,[{key:"orientationInfo",get:function(){var {exifInfo:w}=this;w=l.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:w});return e[w]||null}}]);return u}(q.JSONSupport);
c.__decorate([k.property({type:String})],b.prototype,"contentType",void 0);c.__decorate([k.property()],b.prototype,"exifInfo",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"orientationInfo",null);c.__decorate([k.property({type:r.Integer})],b.prototype,"id",void 0);c.__decorate([k.property({type:String})],b.prototype,"globalId",void 0);c.__decorate([k.property({type:String})],b.prototype,"keywords",void 0);c.__decorate([k.property({type:String})],b.prototype,"name",void 0);c.__decorate([k.property({json:{read:!1}})],
b.prototype,"parentGlobalId",void 0);c.__decorate([k.property({json:{read:!1}})],b.prototype,"parentObjectId",void 0);c.__decorate([k.property({type:r.Integer})],b.prototype,"size",void 0);c.__decorate([k.property({json:{read:!1}})],b.prototype,"url",void 0);return b=g=c.__decorate([h.subclass("esri.layers.support.AttachmentInfo")],b)})},"esri/layers/support/exifUtils":function(){define(["exports"],function(a){function c(b){const {tagName:n,tags:r}=b;return r&&n?(b=r.find(k=>k.name===n))&&b.value||
null:null}a.getExifValue=function(b){const {exifInfo:n,exifName:r,tagName:k}=b;return n&&r&&k?(b=n.find(d=>d.name===r))?c({tagName:k,tags:b.tags}):null:null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/operations/urlUtils":function(){define(["exports"],function(a){function c(b){const n={};for(const r in b){if("declaredClass"===r)continue;const k=b[r];if(null!=k&&"function"!==typeof k)if(Array.isArray(k)){n[r]=[];for(let d=0;d<k.length;d++)n[r][d]=c(k[d])}else"object"===typeof k?
k.toJSON&&(n[r]=JSON.stringify(k)):n[r]=k}return n}a.mapParameters=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/QueryTask":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ./support/FeatureSet ../layers/support/source/DataLayerSource ./support/Query ./support/RelationshipQuery ../rest/query/executeAttachmentQuery ../rest/query/executeForCount ../rest/query/executeForExtent ../rest/query/executeForIds ../rest/query/executeQueryJSON ../rest/query/executeQueryPBF ../rest/query/executeRelationshipQuery ./Task".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x){r=function(F){function B(z){z=F.call(this,z)||this;z.dynamicDataSource=null;z.format="json";z.gdbVersion=null;z.sourceSpatialReference=null;return z}a._inheritsLoose(B,F);var C=B.prototype;C.execute=function(z,G){return this.executeJSON(z,G).then(H=>l.fromJSON(H))};C.executeJSON=async function(z,G){var H;G={...this.requestOptions,...G};const I=this._normalizeQuery(z);z=null!=(null==(H=z.outStatistics)?void 0:H[0]);H=b("featurelayer-pbf-statistics");
H=!z||H;let K;if("pbf"===this.format&&H)try{K=await A.executeRawQueryPBF(this.url,I,G)}catch(L){if("query:parsing-pbf"===L.name)this.format="json";else throw L;}"json"!==this.format&&H||(K=await y.executeRawQueryJSON(this.url,I,G));this._normalizeFields(K.fields);return K};C.executeForCount=function(z,G){G={...this.requestOptions,...G};z=this._normalizeQuery(z);return w.executeForCount(this.url,z,G)};C.executeForExtent=function(z,G){G={...this.requestOptions,...G};z=this._normalizeQuery(z);return D.executeForExtent(this.url,
z,G)};C.executeForIds=function(z,G){G={...this.requestOptions,...G};z=this._normalizeQuery(z);return v.executeForIds(this.url,z,G)};C.executeRelationshipQuery=function(z,G){z=f.from(z);G={...this.requestOptions,...G};if(this.gdbVersion||this.dynamicDataSource)z=z.clone(),z.gdbVersion=z.gdbVersion||this.gdbVersion,z.dynamicDataSource=z.dynamicDataSource||this.dynamicDataSource;return E.executeRelationshipQuery(this.url,z,G)};C.executeRelationshipQueryForCount=function(z,G){z=f.from(z);G={...this.requestOptions,
...G};if(this.gdbVersion||this.dynamicDataSource)z=z.clone(),z.gdbVersion=z.gdbVersion||this.gdbVersion,z.dynamicDataSource=z.dynamicDataSource||this.dynamicDataSource;return E.executeRelationshipQueryForCount(this.url,z,G)};C.executeAttachmentQuery=function(z,G){return u.executeAttachmentQuery(this.url,z,{...this.requestOptions,...G})};C._normalizeQuery=function(z){var G=e.from(z);G.sourceSpatialReference=G.sourceSpatialReference||this.sourceSpatialReference;if(!this.gdbVersion&&!this.dynamicDataSource)return G;
G=G===z?G.clone():G;G.gdbVersion=z.gdbVersion||this.gdbVersion;G.dynamicDataSource=z.dynamicDataSource?g.DataLayerSource.from(z.dynamicDataSource):this.dynamicDataSource;return G};C._normalizeFields=function(z){if(n.isSome(this.fieldsIndex)&&n.isSome(z))for(const G of z)(z=this.fieldsIndex.get(G.name))&&Object.assign(G,z.toJSON())};return B}(x);c.__decorate([d.property({type:g.DataLayerSource})],r.prototype,"dynamicDataSource",void 0);c.__decorate([d.property()],r.prototype,"fieldsIndex",void 0);
c.__decorate([d.property()],r.prototype,"format",void 0);c.__decorate([d.property()],r.prototype,"gdbVersion",void 0);c.__decorate([d.property()],r.prototype,"sourceSpatialReference",void 0);return r=c.__decorate([m.subclass("esri.tasks.QueryTask")],r)})},"esri/rest/query/executeAttachmentQuery":function(){define(["exports","../../tasks/support/AttachmentQuery","../utils","./operations/queryAttachments"],function(a,c,b,n){a.executeAttachmentQuery=async function(r,k,d){const h=b.parseUrl(r);return n.executeAttachmentQuery(h,
c.from(k),{...d}).then(m=>n.processAttachmentQueryResult(m.data.attachmentGroups,h.path))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/utils":function(){define(["exports","../core/urlUtils"],function(a,c){function b(n,r,k){const d={};for(const m in n)if("declaredClass"!==m){var h=n[m];if(null!=h&&"function"!==typeof h)if(Array.isArray(h)){d[m]=[];for(let t=0;t<h.length;t++)d[m][t]=b(h[t])}else"object"===typeof h?h.toJSON?(h=h.toJSON(k&&k[m]),d[m]=r?h:JSON.stringify(h)):d[m]=r?h:
JSON.stringify(h):d[m]=h}return d}a.asValidOptions=function(n,r){n={query:n};r&&(n={...r,...n},n.query={...n.query,...r.query});return n};a.encode=b;a.parseUrl=function(n){return"string"===typeof n?c.urlToObject(n):n};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForCount":function(){define(["exports","../../tasks/support/Query","../utils","./operations/query"],function(a,c,b,n){a.executeForCount=async function(r,k,d){r=b.parseUrl(r);return n.executeQueryForCount(r,c.from(k),
{...d}).then(h=>h.data.count)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/query":function(){define("exports ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../request ../../../geometry/support/normalizeUtils ./queryZScale ../../../tasks/operations/urlUtils ./pbfQueryUtils".split(" "),function(a,c,b,n,r,k,d,h,m){function t(l,g){const e=l.geometry;l=l.toJSON();c.isSome(e)&&(l.geometry=JSON.stringify(e),l.geometryType=n.getJsonType(e),
l.inSR=e.spatialReference.wkid||JSON.stringify(e.spatialReference));l.groupByFieldsForStatistics&&(l.groupByFieldsForStatistics=l.groupByFieldsForStatistics.join(","));l.objectIds&&(l.objectIds=l.objectIds.join(","));l.orderByFields&&(l.orderByFields=l.orderByFields.join(","));!l.outFields||!l.returnDistinctValues&&(null!=g&&g.returnCountOnly||null!=g&&g.returnExtentOnly||null!=g&&g.returnIdsOnly)?delete l.outFields:-1!==l.outFields.indexOf("*")?l.outFields="*":l.outFields=l.outFields.join(",");l.outSR?
l.outSR=l.outSR.wkid||JSON.stringify(l.outSR):e&&(l.returnGeometry||l.returnCentroid)&&(l.outSR=l.inSR);l.returnGeometry&&delete l.returnGeometry;l.outStatistics&&(l.outStatistics=JSON.stringify(l.outStatistics));l.pixelSize&&(l.pixelSize=JSON.stringify(l.pixelSize));l.quantizationParameters&&(l.quantizationParameters=JSON.stringify(l.quantizationParameters));l.parameterValues&&(l.parameterValues=JSON.stringify(l.parameterValues));l.rangeValues&&(l.rangeValues=JSON.stringify(l.rangeValues));l.dynamicDataSource&&
(l.layer=JSON.stringify({source:l.dynamicDataSource}),delete l.dynamicDataSource);if(l.timeExtent){const {start:f,end:u}=l.timeExtent;if(null!=f||null!=u)l.time=f===u?f:`${null==f?"null":f},${null==u?"null":u}`;delete l.timeExtent}return l}function p(l,g,e){return q(l,g,"pbf",e)}function q(l,g,e,f={},u={}){const w="string"===typeof l?b.urlToObject(l):l;l=g.geometry?[g.geometry]:[];f.responseType="pbf"===e?"array-buffer":"json";return k.normalizeCentralMeridian(l,null,f).then(D=>{D=D&&D[0];c.isSome(D)&&
(g=g.clone(),g.geometry=D);D=h.mapParameters({...w.query,f:e,...u,...t(g,u)});return r(b.join(w.path,"query"),{...f,query:{...D,...f.query}})})}a.executeQuery=async function(l,g,e,f){l=c.isSome(g.timeExtent)&&g.timeExtent.isEmpty?{data:{features:[]}}:await q(l,g,"json",f);d.applyFeatureSetZUnitScaling(g,e,l.data);return l};a.executeQueryForCount=function(l,g,e){return c.isSome(g.timeExtent)&&g.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):q(l,g,"json",e,{returnIdsOnly:!0,returnCountOnly:!0})};
a.executeQueryForExtent=function(l,g,e){return c.isSome(g.timeExtent)&&g.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):q(l,g,"json",e,{returnExtentOnly:!0,returnCountOnly:!0}).then(f=>{const u=f.data;if(u.hasOwnProperty("extent"))return f;if(u.features)throw Error("Layer does not support extent calculation.");if(u.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return f})};a.executeQueryForIds=function(l,g,e){return c.isSome(g.timeExtent)&&g.timeExtent.isEmpty?
Promise.resolve({data:{objectIds:[]}}):q(l,g,"json",e,{returnIdsOnly:!0})};a.executeQueryPBF=async function(l,g,e,f){if(c.isSome(g.timeExtent)&&g.timeExtent.isEmpty)return Promise.resolve({data:e.createFeatureResult()});l=await p(l,g,f);l.data=m.parsePBFFeatureQuery(l.data,e);return l};a.executeQueryPBFBuffer=p;a.queryToQueryStringParameters=t;a.runQuery=q;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/maybe ../../core/Logger ../../core/Error ./spatialReferenceUtils ./webMercatorUtils ../Polygon ../Polyline ./normalizeUtilsCommon ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){function l(v){const y=[];let A=0,E=0;for(let x=0;x<v.length;x++){const F=v[x];let B=null;for(let C=0;C<F.length;C++)B=F[C],y.push(B),0===C?E=A=B[0]:(A=Math.min(A,B[0]),E=Math.max(E,B[0]));B&&y.push([(A+E)/2,0])}return y}function g(v,y){if(!(v instanceof m||v instanceof h))throw D.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new r("straightLineDensify: the input geometry is neither polyline nor polygon");var A=t.getGeometryParts(v);
const E=[];for(const F of A){A=[];E.push(A);A.push([F[0][0],F[0][1]]);for(let B=0;B<F.length-1;B++){const C=F[B][0],z=F[B][1],G=F[B+1][0],H=F[B+1][1];var x=Math.sqrt((G-C)*(G-C)+(H-z)*(H-z));const I=(H-z)/x,K=(G-C)/x,L=x/y;if(1<L){for(let T=1;T<=L-1;T++){const O=T*y;A.push([K*O+C,I*O+z])}x=(x+Math.floor(L-1)*y)/2;A.push([K*x+C,I*x+z])}A.push([G,H])}}return"polygon"===v.type?new h({rings:E,spatialReference:v.spatialReference}):new m({paths:E,spatialReference:v.spatialReference})}function e(v,y,A){y&&
(v=g(v,1E6),v=d.webMercatorToGeographic(v,!0));A&&(v=t.updatePolyGeometry(v,A));return v}function f(v,y,A){if(Array.isArray(v)){var E=v[0];E>y?(A=t.offsetMagnitude(E,y),v[0]=E+-2*A*y):E<A&&(y=t.offsetMagnitude(E,A),v[0]=E+-2*y*A)}else E=v.x,E>y?(A=t.offsetMagnitude(E,y),v=v.clone().offset(-2*A*y,0)):E<A&&(y=t.offsetMagnitude(E,A),v=v.clone().offset(-2*y*A,0));return v}function u(v,y){let A=-1;for(let E=0;E<y.cutIndexes.length;E++){const x=y.cutIndexes[E],F=y.geometries[E],B=t.getGeometryParts(F);
for(let C=0;C<B.length;C++){const z=B[C];z.some(G=>{if(180>G[0])return!0;G=0;for(var H=0;H<z.length;H++){var I=z[H][0];G=I>G?I:G}G=Number(G.toFixed(9));G=-360*t.offsetMagnitude(G,180);for(H=0;H<z.length;H++)I=F.getPoint(C,H),F.setPoint(C,H,I.clone().offset(G,0));return!0})}if(x===A)if("polygon"===v[0].type)for(const C of t.getGeometryParts(F))v[x]=v[x].addRing(C);else{if("polyline"===v[0].type)for(const C of t.getGeometryParts(F))v[x]=v[x].addPath(C)}else A=x,v[x]=F}return v}async function w(v,y,
A){if(!Array.isArray(v))return w([v],y);var E=y?y.url:c.geometryServiceUrl;let x,F,B;let C=0;var z=[];y=[];for(var G of v)if(b.isNone(G))y.push(G);else{if(!H){var H=G.spatialReference;var I=k.getInfo(H);var K=(x=H.isWebMercator)?102100:4326;F=t.cutParams[K].maxX;B=t.cutParams[K].minX;var L=t.cutParams[K].plus180Line;K=t.cutParams[K].minus180Line}if(I)if("mesh"===G.type)y.push(G);else if("point"===G.type)y.push(f(G.clone(),F,B));else if("multipoint"===G.type){var T=G.clone();T.points=T.points.map(O=>
f(O,F,B));y.push(T)}else if("extent"===G.type)T=G.clone()._normalize(!1,!1,I),y.push(T.rings?new h(T):T);else if(G.extent){T=G.extent;const O=2*t.offsetMagnitude(T.xmin,B)*F;let U=0===O?G.clone():t.updatePolyGeometry(G.clone(),O);T.offset(O,0);T.intersects(L)&&T.xmax!==F?(C=T.xmax>C?T.xmax:C,U=e(U,x),z.push(U),y.push("cut")):T.intersects(K)&&T.xmin!==B?(C=2*T.xmax*F>C?2*T.xmax*F:C,U=e(U,x,360),z.push(U),y.push("cut")):y.push(U)}else y.push(G.clone());else y.push(G)}H=t.offsetMagnitude(C,F);I=-90;
L=H;for(G=new m;0<H;)K=-180+360*H,G.addPath([[K,I],[K,-1*I]]),I*=-1,H--;if(0<z.length&&0<L){H=await p.cut(E,z,G,A);H=u(z,H);I=[];z=[];for(L=0;L<y.length;L++)G=y[L],"cut"!==G?z.push(G):(G=H.shift(),K=v[L],b.isSome(K)&&"polygon"===K.type&&K.rings&&1<K.rings.length&&G.rings.length>=K.rings.length?(I.push(G),z.push("simplify")):z.push(x?d.geographicToWebMercator(G):G));if(!I.length)return z;y=await q.simplify(E,I,A);v=[];for(A=0;A<z.length;A++)E=z[A],"simplify"!==E?v.push(E):v.push(x?d.geographicToWebMercator(y.shift()):
y.shift());return v}v=[];for(A=0;A<y.length;A++)E=y[A],"cut"!==E?v.push(E):(E=z.shift(),v.push(!0===x?d.geographicToWebMercator(E):E));return Promise.resolve(v)}const D=n.getLogger("esri.geometry.support.normalizeUtils");a.getDenormalizedExtent=function(v){if(!v)return null;const y=v.extent;if(!y)return null;var A=v.spatialReference&&k.getInfo(v.spatialReference);if(!A)return y;const [E,x]=A.valid;({width:A}=y);let {xmin:F,xmax:B}=y;[F,B]=[B,F];if("extent"===v.type||0===A||A<=x||A>2*x||F<E||B>x)return y;
let C;switch(v.type){case "polygon":if(1<v.rings.length)C=l(v.rings);else return y;break;case "polyline":if(1<v.paths.length)C=l(v.paths);else return y;break;case "multipoint":C=v.points}v=y.clone();for(let z=0;z<C.length;z++){let G=C[z][0];0>G?(G+=x,B=Math.max(G,B)):(G-=x,F=Math.min(G,F))}v.xmin=F;v.xmax=B;return v.width<A?(v.xmin-=x,v.xmax-=x,v):y};a.normalizeCentralMeridian=w;a.normalizeMapX=function(v,y){if(y=k.getInfo(y)){const [A,E]=y.valid;y=E-A;if(v<A)for(;v<A;)v+=y;if(v>E)for(;v>E;)v-=y}return v};
a.straightLineDensify=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../SpatialReference","../Polyline","./jsonUtils"],function(a,c,b,n){function r(d){return n.isPolygon(d)?d.rings:d.paths}const k={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,
-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:c.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:c.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:c.WGS84})}};a.cutParams=k;a.getGeometryParts=r;a.getSpatialReferenceMinMaxX=function(d){d=(null==d?0:d.isWebMercator)?102100:4326;return[k[d].minX,k[d].maxX]};a.offsetMagnitude=function(d,h){return Math.ceil((d-h)/(2*h))};a.updatePolyGeometry=
function(d,h){const m=r(d);for(const t of m)for(const p of t)p[0]+=h;return d};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/geometry/cut":function(){define(["exports","../../core/urlUtils","../../geometry/support/jsonUtils","../../geometry","../../request"],function(a,c,b,n,r){a.cut=async function(k,d,h,m){k="string"===typeof k?c.urlToObject(k):k;const t=d[0].spatialReference;d={...m,query:{...k.query,f:"json",sr:JSON.stringify(t),target:JSON.stringify({geometryType:b.getJsonType(d[0]),
geometries:d}),cutter:JSON.stringify(h)}};d=await r(k.path+"/cut",d);const {cutIndexes:p,geometries:q=[]}=d.data;return{cutIndexes:p,geometries:q.map(l=>{l=b.fromJSON(l);l.spatialReference=t;return l})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/geometry/simplify":function(){define(["exports","../../core/urlUtils","../../geometry/support/jsonUtils","../../request"],function(a,c,b,n){function r(d){return{geometryType:b.getJsonType(d[0]),geometries:d.map(h=>h.toJSON())}}function k(d,
h,m){const t=b.getGeometryType(h);return d.map(p=>{p=t.fromJSON(p);p.spatialReference=m;return p})}a.simplify=async function(d,h,m){const t="string"===typeof d?c.urlToObject(d):d;d=h[0].spatialReference;const p=b.getJsonType(h[0]);h={...m,query:{...t.query,f:"json",sr:d.wkid?d.wkid:JSON.stringify(d),geometries:JSON.stringify(r(h))}};h=await n(t.path+"/simplify",h);return k(h.data,p,d)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports",
"./pbfFeatureServiceParser"],function(a,c){a.parsePBFFeatureQuery=function(b,n){var r=c.parseFeatureQuery(b,n);b=r.queryResult.featureResult;n=r.queryResult.queryGeometry;r=r.queryResult.queryGeometryType;if(b&&b.features&&b.features.length&&b.objectIdFieldName){const k=b.objectIdFieldName;for(const d of b.features)d.attributes&&(d.objectId=d.attributes[k])}b&&(b.queryGeometry=n,b.queryGeometryType=r);return b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/maybe ../../../core/Logger ../../../core/Error ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet ../../../core/pbf".split(" "),
function(a,c,b,n,r,k,d){function h(C){return C>=x.length?null:x[C]}function m(C,z,G){for(G=z.createPointGeometry(G);C.next();)switch(C.tag()){case 3:{var H=C.getUInt32();H=C.pos()+H;let I=0;for(;C.pos()<H;)z.addCoordinatePoint(G,C.getSInt64(),I++);break}default:C.skip()}return G}function t(C,z,G){const H=z.createGeometry(G);for(G=2+(G.hasZ?1:0)+(G.hasM?1:0);C.next();)switch(C.tag()){case 2:var I=C.getUInt32();I=C.pos()+I;for(var K=0;C.pos()<I;)z.addLength(H,C.getUInt32(),K++);break;case 3:I=C.getUInt32();
I=C.pos()+I;K=0;for(z.allocateCoordinates(H);C.pos()<I;)z.addCoordinate(H,C.getSInt64(),K),K++,K===G&&(K=0);break;default:C.skip()}return H}function p(C){const z=new r;let G="esriGeometryPoint";for(;C.next();)switch(C.tag()){case 2:var H=C.getUInt32();for(H=C.pos()+H;C.pos()<H;)z.lengths.push(C.getUInt32());break;case 3:H=C.getUInt32();for(H=C.pos()+H;C.pos()<H;)z.coords.push(C.getSInt64());break;case 1:G=k.OPTIMIZED_GEOMETRY_TYPES[C.getEnum()];break;default:C.skip()}return{queryGeometry:z,queryGeometryType:G}}
function q(C){for(;C.next();)switch(C.tag()){case 1:return C.getString();case 2:return C.getFloat();case 3:return C.getDouble();case 4:return C.getSInt32();case 5:return C.getUInt32();case 6:return C.getInt64();case 7:return C.getUInt64();case 8:return C.getSInt64();case 9:return C.getBool();default:return C.skip(),null}return null}function l(C){const z={type:h(0)};for(;C.next();)switch(C.tag()){case 1:z.name=C.getString();break;case 2:z.type=h(C.getEnum());break;case 3:z.alias=C.getString();break;
case 4:var G=C.getEnum();G=G>=F.length?null:F[G];z.sqlType=G;break;case 5:try{z.domain=JSON.parse(C.getString())}catch(H){E.error(new n("query:parsing-pbf","Failed to parse domain",{error:H})),z.domain=null}break;case 6:z.defaultValue=C.getString();break;default:C.skip()}return z}function g(C){const z={};for(;C.next();)switch(C.tag()){case 1:z.name=C.getString();break;case 2:z.isSystemMaintained=C.getBool();break;default:C.skip()}return z}function e(C,z,G,H){const I=z.createFeature(G);let K=0;for(;C.next();)switch(C.tag()){case 1:{const L=
H[K++].name;I.attributes[L]=C.processMessage(q);break}case 2:I.geometry=C.processMessageWithArgs(t,z,G);break;case 4:I.centroid=C.processMessageWithArgs(m,z,G);break;default:C.skip()}return I}function f(C){const z=[1,1,1,1];for(;C.next();)switch(C.tag()){case 1:z[0]=C.getDouble();break;case 2:z[1]=C.getDouble();break;case 4:z[2]=C.getDouble();break;case 3:z[3]=C.getDouble();break;default:C.skip()}return z}function u(C){const z=[0,0,0,0];for(;C.next();)switch(C.tag()){case 1:z[0]=C.getDouble();break;
case 2:z[1]=C.getDouble();break;case 4:z[2]=C.getDouble();break;case 3:z[3]=C.getDouble();break;default:C.skip()}return z}function w(C){const z={originPosition:0>=B.length?null:B[0]};for(;C.next();)switch(C.tag()){case 1:var G=C.getEnum();z.originPosition=G>=B.length?null:B[G];break;case 2:z.scale=C.processMessage(f);break;case 3:z.translate=C.processMessage(u);break;default:C.skip()}return z}function D(C){const z={};for(;C.next();)switch(C.tag()){case 1:z.shapeAreaFieldName=C.getString();break;case 2:z.shapeLengthFieldName=
C.getString();break;case 3:z.units=C.getString();break;default:C.skip()}return z}function v(C,z){for(z=z.createSpatialReference();C.next();)switch(C.tag()){case 1:z.wkid=C.getUInt32();break;case 5:z.wkt=C.getString();break;case 2:z.latestWkid=C.getUInt32();break;case 3:z.vcsWkid=C.getUInt32();break;case 4:z.latestVcsWkid=C.getUInt32();break;default:C.skip()}return z}function y(C,z){const G=z.createFeatureResult();G.geometryType=0>=z.geometryTypes.length?null:z.geometryTypes[0];let H=!1;for(;C.next();)switch(C.tag()){case 1:G.objectIdFieldName=
C.getString();break;case 3:G.globalIdFieldName=C.getString();break;case 4:G.geohashFieldName=C.getString();break;case 5:G.geometryProperties=C.processMessage(D);break;case 7:var I=C.getEnum();G.geometryType=I>=z.geometryTypes.length?null:z.geometryTypes[I];break;case 8:G.spatialReference=C.processMessageWithArgs(v,z);break;case 10:G.hasZ=C.getBool();break;case 11:G.hasM=C.getBool();break;case 12:G.transform=C.processMessage(w);break;case 9:I=C.getBool();G.exceededTransferLimit=I;break;case 13:z.addField(G,
C.processMessage(l));break;case 15:H||(z.prepareFeatures(G),H=!0);z.addFeature(G,C.processMessageWithArgs(e,z,G,G.fields));break;case 2:G.uniqueIdField=C.processMessage(g);break;default:C.skip()}z.finishFeatureResult(G);return G}function A(C,z){const G={};let H=null;for(;C.next();)switch(C.tag()){case 4:H=C.processMessageWithArgs(p);break;case 1:G.featureResult=C.processMessageWithArgs(y,z);break;default:C.skip()}c.isSome(H)&&G.featureResult&&z.addQueryGeometry(G,H);return G}const E=b.getLogger("esri.tasks.operations.pbfFeatureServiceParser"),
x="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),F="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
B=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(C,z){try{const G=new d(new Uint8Array(C),new DataView(C));for(C={};G.next();)switch(G.tag()){case 2:C.queryResult=G.processMessageWithArgs(A,z);break;default:G.skip()}return C}catch(G){throw new n("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:G});}};a.parseFieldType=h;a.parseTransform=w;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(a){return function(){function c(n=[],r=[],k=!1){this.lengths=null!=n?n:[];this.coords=null!=r?r:[];this.hasIndeterminateRingOrder=k}var b=c.prototype;b.forEachVertex=function(n){let r=0;this.lengths.length||n(this.coords[0],this.coords[1]);for(let k=0;k<this.lengths.length;k++){const d=this.lengths[k];for(let h=0;h<d;h++)n(this.coords[2*(h+r)],this.coords[2*(h+r)+1]);r+=d}};b.clone=function(){return new c(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};a._createClass(c,
[{key:"isPoint",get:function(){return 0===this.lengths.length}}]);return c}()})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../geometry/support/spatialReferenceUtils ../../../core/unitUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),function(a,c,b,n,r,k){const d=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let h=
function(){function m(p){this.options=p;this.geometryTypes=d;this._vertexDimension=this._coordinatePtr=0}var t=m.prototype;t.createFeatureResult=function(){return new r};t.prepareFeatures=function(p){this._vertexDimension=2;p.hasZ&&this._vertexDimension++;p.hasM&&this._vertexDimension++};t.finishFeatureResult=function(p){if(p&&p.features&&p.hasZ&&this.options.sourceSpatialReference&&p.spatialReference&&!c.equals(p.spatialReference,this.options.sourceSpatialReference)&&!p.spatialReference.vcsWkid){var q=
b.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),l=b.getMetersPerVerticalUnitForSR(p.spatialReference);q/=l;if(1!==q)for(const g of p.features)if(g.geometry&&g.geometry.coords)for(p=g.geometry.coords,l=2;l<p.length;l+=3)p[l]*=q}};t.addFeature=function(p,q){p.features.push(q)};t.createFeature=function(){return new n};t.createSpatialReference=function(){return{wkid:0}};t.createGeometry=function(){return new k};t.addField=function(p,q){p.fields.push(q)};t.allocateCoordinates=function(p){p.coords.length=
p.lengths.reduce((q,l)=>q+l,0)*this._vertexDimension;this._coordinatePtr=0};t.addCoordinate=function(p,q){p.coords[this._coordinatePtr++]=q};t.addCoordinatePoint=function(p,q){p.coords.push(q)};t.addLength=function(p,q){p.lengths.push(q)};t.addQueryGeometry=function(p,q){p.queryGeometry=q.queryGeometry;p.queryGeometryType=q.queryGeometryType};t.createPointGeometry=function(){return new k};return m}();a.OPTIMIZED_GEOMETRY_TYPES=d;a.OptimizedFeatureSetParserContext=h;Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function c(b=null,n={},r,k){this.geohashY=this.geohashX=this.displayId=0;this.geometry=b;n&&(this.attributes=n);r&&(this.centroid=r);null!=k&&(this.objectId=k)}c.prototype.weakClone=function(){const b=new c(this.geometry,this.attributes,this.centroid,this.objectId);b.displayId=this.displayId;b.geohashX=this.geohashX;b.geohashY=this.geohashY;return b};a._createClass(c,
[{key:"hasGeometry",get:function(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}}]);return c}()})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function a(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=
this.uniqueIdField=null}a.prototype.weakClone=function(){const c=new a;c.objectIdFieldName=this.objectIdFieldName;c.globalIdFieldName=this.globalIdFieldName;c.geohashFieldName=this.geohashFieldName;c.geometryProperties=this.geometryProperties;c.geometryType=this.geometryType;c.spatialReference=this.spatialReference;c.hasZ=this.hasZ;c.hasM=this.hasM;c.features=this.features;c.fields=this.fields;c.transform=this.transform;c.exceededTransferLimit=this.exceededTransferLimit;c.uniqueIdField=this.uniqueIdField;
c.queryGeometry=this.queryGeometry;c.queryGeometryType=this.queryGeometryType;return c};return a}()})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,c){const b=a("esri-text-decoder")?new TextDecoder("utf-8"):null,n=a("safari")||a("ios")?6:a("ff")?12:32;a=function(){function r(d,h,m=0,t=d?d.byteLength:0){this._tag=0;this._dataType=99;this.init(d,h,m,t)}var k=r.prototype;k.init=function(d,h,m,t){this._data=d;this._dataView=h;this._pos=m;this._end=t};k.clone=function(){return new r(this._data,
this._dataView,this._pos,this._end)};k.pos=function(){return this._pos};k.move=function(d){this._pos=d};k.nextTag=function(d){for(;;){if(this._pos===this._end)return!1;const h=this._decodeVarint();this._tag=h>>3;this._dataType=h&7;if(!d||d===this._tag)break;this.skip()}return!0};k.next=function(){if(this._pos===this._end)return!1;const d=this._decodeVarint();this._tag=d>>3;this._dataType=d&7;return!0};k.empty=function(){return this._pos>=this._end};k.tag=function(){return this._tag};k.getInt32=function(){return this._decodeVarint()};
k.getInt64=function(){return this._decodeVarint()};k.getUInt32=function(){let d=4294967295;d=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return d;d=(d|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return d;d=(d|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return d;d=(d|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return d;d=(d|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return d};k.getUInt64=
function(){return this._decodeVarint()};k.getSInt32=function(){const d=this.getUInt32();return d>>>1^-(d&1)|0};k.getSInt64=function(){return this._decodeSVarint()};k.getBool=function(){const d=0!==this._data[this._pos];this._skip(1);return d};k.getEnum=function(){return this._decodeVarint()};k.getFixed64=function(){var d=this._dataView;const h=this._pos;d=d.getUint32(h,!0)+4294967296*d.getUint32(h+4,!0);this._skip(8);return d};k.getSFixed64=function(){var d=this._dataView;const h=this._pos;d=d.getUint32(h,
!0)+4294967296*d.getInt32(h+4,!0);this._skip(8);return d};k.getDouble=function(){const d=this._dataView.getFloat64(this._pos,!0);this._skip(8);return d};k.getFixed32=function(){const d=this._dataView.getUint32(this._pos,!0);this._skip(4);return d};k.getSFixed32=function(){const d=this._dataView.getInt32(this._pos,!0);this._skip(4);return d};k.getFloat=function(){const d=this._dataView.getFloat32(this._pos,!0);this._skip(4);return d};k.getString=function(){const d=this._getLength();var h=this._pos;
h=this._toString(this._data,h,h+d);this._skip(d);return h};k.getBytes=function(){const d=this._getLength();var h=this._pos;h=this._toBytes(this._data,h,h+d);this._skip(d);return h};k.getLength=function(){return this._getLengthUnsafe()};k.processMessageWithArgs=function(d,h,m,t){const p=this.getMessage();d=d(p,h,m,t);p.release();return d};k.processMessage=function(d){const h=this.getMessage();d=d(h);h.release();return d};k.getMessage=function(){const d=this._getLength(),h=r.pool.acquire();h.init(this._data,
this._dataView,this._pos,this._pos+d);this._skip(d);return h};k.release=function(){r.pool.release(this)};k.dataType=function(){return this._dataType};k.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};k.skipLen=function(d){this._skip(d)};k._skip=function(d){if(this._pos+d>this._end)throw Error("Attempt to skip past the end of buffer!");
this._pos+=d};k._decodeVarint=function(){const d=this._data;let h=this._pos,m=0,t;if(10<=this._end-h){if(t=d[h++],m|=t&127,0!==(t&128)&&(t=d[h++],m|=(t&127)<<7,0!==(t&128)&&(t=d[h++],m|=(t&127)<<14,0!==(t&128)&&(t=d[h++],m|=(t&127)<<21,0!==(t&128)&&(t=d[h++],m+=268435456*(t&127),0!==(t&128)&&(t=d[h++],m+=34359738368*(t&127),0!==(t&128)&&(t=d[h++],m+=4398046511104*(t&127),0!==(t&128)&&(t=d[h++],m+=562949953421312*(t&127),0!==(t&128)&&(t=d[h++],m+=72057594037927936*(t&127),0!==(t&128)&&(t=d[h++],m+=
0x7fffffffffffffff*(t&127),0!==(t&128)))))))))))throw Error("Varint too long!");}else{let p=1;for(;h!==this._end;){t=d[h];if(0===(t&128))break;++h;m+=(t&127)*p;p*=128}if(h===this._end)throw Error("Varint overrun!");++h;m+=t*p}this._pos=h;return m};k._decodeSVarint=function(){const d=this._decodeVarint();return d%2?-(d+1)/2:d/2};k._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};k._getLengthUnsafe=function(){return this.getUInt32()};
k._toString=function(d,h,m){m=Math.min(this._end,m);if(m-h>n&&b)return d=d.subarray(h,m),b.decode(d);let t="",p="";for(;h<m;++h){const q=d[h];q&128?p+="%"+q.toString(16):(t+=decodeURIComponent(p)+String.fromCharCode(q),p="")}p.length&&(t+=decodeURIComponent(p));return t};k._toBytes=function(d,h,m){m=Math.min(this._end,m);return new Uint8Array(d.buffer,h,m-h)};return r}();a.pool=new c(a,null,r=>{r._data=null;r._dataView=null});return a})},"esri/rest/query/executeForExtent":function(){define("exports ../../geometry/Extent ../../geometry ../../tasks/support/Query ../utils ./operations/query".split(" "),
function(a,c,b,n,r,k){a.executeForExtent=async function(d,h,m){d=r.parseUrl(d);return k.executeQueryForExtent(d,n.from(h),{...m}).then(t=>({count:t.data.count,extent:c.fromJSON(t.data.extent)}))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeForIds":function(){define(["exports","../../tasks/support/Query","../utils","./operations/query"],function(a,c,b,n){a.executeForIds=async function(r,k,d){r=b.parseUrl(r);return n.executeQueryForIds(r,c.from(k),{...d}).then(h=>h.data.objectIds)};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeQueryJSON":function(){define(["exports","../../tasks/support/FeatureSet","../../tasks/support/Query","../utils","./operations/query"],function(a,c,b,n,r){async function k(d,h,m){d=n.parseUrl(d);m={...m};h=b.from(h);({data:h}=await r.executeQuery(d,h,h.sourceSpatialReference,m));return h}a.executeQueryJSON=async function(d,h,m){d=await k(d,h,m);return c.fromJSON(d)};a.executeRawQueryJSON=k;Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../../tasks/support/FeatureSet ../../tasks/support/Query ../utils ./operations/query ./operations/pbfJSONFeatureSet".split(" "),function(a,c,b,n,r,k){async function d(h,m,t){h=n.parseUrl(h);t={...t};m=b.from(m);({data:m}=await r.executeQueryPBF(h,m,new k.JSONFeatureSetParserContext({sourceSpatialReference:m.sourceSpatialReference,applyTransform:!m.quantizationParameters}),t));return m}a.executeQueryPBF=async function(h,m,
t){h=await d(h,m,t);return c.fromJSON(h)};a.executeRawQueryPBF=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports","../../../core/compilerUtils","../../../layers/graphics/featureConversionUtils","./zscale"],function(a,c,b,n){function r(l,g){return g}function k(l,g,e,f){switch(e){case 0:return t(l,g+f,0);case 1:return"lowerLeft"===l.originPosition?t(l,g+f,1):p(l,g+f,1)}}function d(l,g,e,f){switch(e){case 2:return t(l,g,2);
default:return k(l,g,e,f)}}function h(l,g,e,f){switch(e){case 2:return t(l,g,3);default:return k(l,g,e,f)}}function m(l,g,e,f){switch(e){case 3:return t(l,g,3);default:return d(l,g,e,f)}}function t({translate:l,scale:g},e,f){return l[f]+e*g[f]}function p({translate:l,scale:g},e,f){return l[f]-e*g[f]}let q=function(){function l(e){this.options=e;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];this.previousCoordinate=[0,0];this.transform=
null;this.applyTransform=r;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}var g=l.prototype;g.createFeatureResult=function(){return{fields:[],features:[]}};g.finishFeatureResult=function(e){this.options.applyTransform&&(e.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0;if(e.hasZ){var f=n.getGeometryZScaler(e.geometryType,
this.options.sourceSpatialReference,e.spatialReference);if(f)for(const u of e.features)f(u.geometry)}};g.createSpatialReference=function(){return{}};g.addField=function(e,f){e.fields.push(f);const u=e.fields.map(w=>w.name);this.AttributesConstructor=function(){for(const w of u)this[w]=null}};g.addFeature=function(e,f){e.features.push(f)};g.prepareFeatures=function(e){this.transform=e.transform;this.options.applyTransform&&e.transform&&(this.applyTransform=this.deriveApplyTransform(e));this.vertexDimension=
2;e.hasZ&&this.vertexDimension++;e.hasM&&this.vertexDimension++;switch(e.geometryType){case "esriGeometryPoint":this.addCoordinate=(f,u,w)=>this.addCoordinatePoint(f,u,w);this.createGeometry=f=>this.createPointGeometry(f);break;case "esriGeometryPolygon":this.addCoordinate=(f,u,w)=>this.addCoordinatePolygon(f,u,w);this.createGeometry=f=>this.createPolygonGeometry(f);break;case "esriGeometryPolyline":this.addCoordinate=(f,u,w)=>this.addCoordinatePolyline(f,u,w);this.createGeometry=f=>this.createPolylineGeometry(f);
break;case "esriGeometryMultipoint":this.addCoordinate=(f,u,w)=>this.addCoordinateMultipoint(f,u,w);this.createGeometry=f=>this.createMultipointGeometry(f);break;default:c.neverReached(e.geometryType)}};g.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;return{attributes:new this.AttributesConstructor}};g.allocateCoordinates=function(){};g.addLength=function(e,f,u){0===
this.lengths.length&&(this.toAddInCurrentPath=f);this.lengths.push(f)};g.addQueryGeometry=function(e,f){const {queryGeometry:u,queryGeometryType:w}=f;f=b.unquantizeOptimizedGeometry(u.clone(),u,!1,!1,this.transform);f=b.convertToGeometry(f,w,!1,!1);e.queryGeometryType=w;e.queryGeometry={...f}};g.createPointGeometry=function(e){const f={x:0,y:0,spatialReference:e.spatialReference};e.hasZ&&(f.z=0);e.hasM&&(f.m=0);return f};g.addCoordinatePoint=function(e,f,u){f=this.applyTransform(this.transform,f,
u,0);switch(u){case 0:e.x=f;break;case 1:e.y=f;break;case 2:"z"in e?e.z=f:e.m=f;break;case 3:e.m=f}};g.transformPathLikeValue=function(e,f){let u=0;1>=f&&(u=this.previousCoordinate[f],this.previousCoordinate[f]+=e);return this.applyTransform(this.transform,e,f,u)};g.addCoordinatePolyline=function(e,f,u){this.dehydratedAddPointsCoordinate(e.paths,f,u)};g.addCoordinatePolygon=function(e,f,u){this.dehydratedAddPointsCoordinate(e.rings,f,u)};g.addCoordinateMultipoint=function(e,f,u){0===u&&e.points.push([]);
f=this.transformPathLikeValue(f,u);e.points[e.points.length-1].push(f)};g.createPolygonGeometry=function(e){return{rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}};g.createPolylineGeometry=function(e){return{paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}};g.createMultipointGeometry=function(e){return{points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}};g.dehydratedAddPointsCoordinate=function(e,f,u){0===u&&0===this.toAddInCurrentPath--&&
(e.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);f=this.transformPathLikeValue(f,u);e=e[e.length-1];0===u&&(this.coordinateBufferPtr=0,this.coordinateBuffer=Array(this.vertexDimension),e.push(this.coordinateBuffer));this.coordinateBuffer[this.coordinateBufferPtr++]=f};g.deriveApplyTransform=function(e){const {hasZ:f,hasM:u}=e;return f&&u?m:f?d:u?h:k};return l}();a.JSONFeatureSetParserContext=q;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Logger ../../core/Error ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(a,c,b,n,r,k,d){function h(Z,V){return Z?V?4:3:V?3:2}function m(Z,V,ba,Q){if(Z){if(ba)return V&&Q?ja:ia;if(V&&Q)return ha}else if(V&&Q)return ia;return X}function t({scale:Z,translate:V},ba){return Math.round((ba-V[0])/Z[0])}function p({scale:Z,translate:V},
ba){return Math.round((V[1]-ba)/Z[1])}function q({scale:Z,translate:V},ba){return ba*Z[0]+V[0]}function l({scale:Z,translate:V},ba){return V[1]-ba*Z[1]}function g(Z){Z=Z.coords;return{x:Z[0],y:Z[1]}}function e(Z,V){Z.coords[0]=V.x;Z.coords[1]=V.y;return Z}function f(Z){Z=Z.coords;return{x:Z[0],y:Z[1],z:Z[2]}}function u(Z,V){Z.coords[0]=V.x;Z.coords[1]=V.y;Z.coords[2]=V.z;return Z}function w(Z){Z=Z.coords;return{x:Z[0],y:Z[1],m:Z[2]}}function D(Z,V){Z.coords[0]=V.x;Z.coords[1]=V.y;Z.coords[2]=V.m;
return Z}function v(Z){Z=Z.coords;return{x:Z[0],y:Z[1],z:Z[2],m:Z[3]}}function y(Z,V){Z.coords[0]=V.x;Z.coords[1]=V.y;Z.coords[2]=V.z;Z.coords[3]=V.m;return Z}function A(Z,V){return Z&&V?y:Z?u:V?D:e}function E(Z,V,ba,Q,Y){ba=A(ba,Q);for(const aa of V){const {geometry:fa,attributes:ka}=aa;let la;fa&&(la=ba(new d,fa));Z.push(new r(la,ka,null,ka[Y]))}return Z}function x(Z,V,ba,Q){for(const Y of V){const {geometry:aa,attributes:fa}=Y;let ka;aa&&(ka=F(aa,ba,Q));Z.push({attributes:fa,geometry:ka})}return Z}
function F(Z,V,ba){if(!Z)return null;const Q=h(V,ba),Y=[];for(let aa=0;aa<Z.coords.length;aa+=Q){const fa=[];for(let ka=0;ka<Q;ka++)fa.push(Z.coords[aa+ka]);Y.push(fa)}return V?ba?{points:Y,hasZ:V,hasM:ba}:{points:Y,hasZ:V}:ba?{points:Y,hasM:ba}:{points:Y}}function B(Z,V,ba,Q,Y){ba=h(ba,Q);for(const aa of V){V=aa.geometry;Q=aa.attributes;let fa;V&&(fa=C(new d,V,ba));Z.push(new r(fa,Q,null,Q[Y]))}return Z}function C(Z,V,ba=h(V.hasZ,V.hasM)){Z.lengths[0]=V.points.length;const Q=Z.coords;let Y=0;for(const aa of V.points)for(V=
0;V<ba;V++)Q[Y++]=aa[V];return Z}function z(Z,V,ba){if(!Z)return null;const Q=h(V,ba),{coords:Y,lengths:aa}=Z;Z=[];let fa=0;for(const ka of aa){const la=[];for(let oa=0;oa<ka;oa++){const ra=[];for(let va=0;va<Q;va++)ra.push(Y[fa++]);la.push(ra)}Z.push(la)}return V?ba?{paths:Z,hasZ:V,hasM:ba}:{paths:Z,hasZ:V}:ba?{paths:Z,hasM:ba}:{paths:Z}}function G(Z,V,ba,Q,Y){ba=h(ba,Q);for(const aa of V){V=aa.geometry;Q=aa.attributes;let fa;V&&(fa=H(new d,V,ba));Z.push(new r(fa,Q,null,Q[Y]))}return Z}function H(Z,
V,ba=h(V.hasZ,V.hasM)){const {lengths:Q,coords:Y}=Z;let aa=0;for(const fa of V.paths){for(const ka of fa)for(V=0;V<ba;V++)Y[aa++]=ka[V];Q.push(fa.length)}return Z}function I(Z,V,ba){if(!Z)return null;const Q=h(V,ba),{coords:Y,lengths:aa}=Z;Z=[];let fa=0;for(const ka of aa){const la=[];for(let oa=0;oa<ka;oa++){const ra=[];for(let va=0;va<Q;va++)ra.push(Y[fa++]);la.push(ra)}Z.push(la)}return V?ba?{rings:Z,hasZ:V,hasM:ba}:{rings:Z,hasZ:V}:ba?{rings:Z,hasM:ba}:{rings:Z}}function K(Z,V,ba,Q,Y){for(const aa of V){V=
aa.geometry;const fa=aa.centroid,ka=aa.attributes;let la;V&&(la=L(new d,V,ba,Q));fa?Z.push(new r(la,ka,e(new d,fa),ka[Y])):Z.push(new r(la,ka,null,ka[Y]))}return Z}function L(Z,V,ba=V.hasZ,Q=V.hasM){T(Z,V.rings,ba,Q);return Z}function T(Z,V,ba,Q){ba=h(ba,Q);const {lengths:Y,coords:aa}=Z;Q=0;Y.length=aa.length=0;for(const fa of V){for(const ka of fa)for(V=0;V<ba;V++)aa[Q++]=ka[V];Y.push(fa.length)}return Z}function O(Z,V,ba,Q,Y,aa){Z.length=0;if(!ba){for(const fa of V)Z.push(new r(null,fa.attributes,
null,fa.attributes[aa]));return Z}switch(ba){case "esriGeometryPoint":return E(Z,V,Q,Y,aa);case "esriGeometryMultipoint":return B(Z,V,Q,Y,aa);case "esriGeometryPolyline":return G(Z,V,Q,Y,aa);case "esriGeometryPolygon":return K(Z,V,Q,Y,aa);default:M.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ba}'`)),Z.length=0}return Z}function U(Z,V,ba,Q){Z=Z&&("coords"in Z?Z:Z.geometry);if(!Z)return null;switch(V){case "esriGeometryPoint":return V=g,ba&&Q?V=v:ba?
V=f:Q&&(V=w),V(Z);case "esriGeometryMultipoint":return F(Z,ba,Q);case "esriGeometryPolyline":return z(Z,ba,Q);case "esriGeometryPolygon":return I(Z,ba,Q);default:M.error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${V}'`))}}function W(Z,V,ba,Q,Y){Z.length=0;switch(ba){case "esriGeometryPoint":var aa=g;Q&&Y?aa=v:Q?aa=f:Y&&(aa=w);for(var fa of V){const {geometry:ka,attributes:la}=fa;Q=ka?aa(ka):null;Z.push({attributes:la,geometry:Q})}break;case "esriGeometryMultipoint":return x(Z,
V,Q,Y);case "esriGeometryPolyline":for(const ka of V){const {geometry:la,attributes:oa}=ka;let ra;la&&(ra=z(la,Q,Y));Z.push({attributes:oa,geometry:ra})}break;case "esriGeometryPolygon":for(aa of V){const {geometry:ka,attributes:la,centroid:oa}=aa;let ra;ka&&(ra=I(ka,Q,Y));oa?(fa=g(oa),Z.push({attributes:la,centroid:fa,geometry:ra})):Z.push({attributes:la,geometry:ra})}break;default:M.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ba}'`))}return Z}function S(Z,
V,ba,Q,Y,aa,fa=ba,ka=Q){Z.lengths.length&&(Z.lengths.length=0);Z.coords.length&&(Z.coords.length=0);if(!V||!V.coords.length)return null;Y=R[Y];const {coords:la,lengths:oa}=V;V=h(ba,Q);const ra=h(ba&&fa,Q&&ka);ba=m(ba,Q,fa,ka);if(!oa.length)return ba(Z.coords,la,0,0,t(aa,la[0]),p(aa,la[1])),Z.lengths.length&&(Z.lengths.length=0),Z.coords.length=V,Z;let va,Aa=0,ya,Da=0;for(const Ea of oa){if(Ea<Y)continue;let Ha=0;ya=Da;ka=Q=t(aa,la[Aa]);va=fa=p(aa,la[Aa+1]);ba(Z.coords,la,ya,Aa,ka,va);Ha++;Aa+=V;ya+=
ra;for(let Ga=1;Ga<Ea;Ga++,Aa+=V)if(ka=t(aa,la[Aa]),va=p(aa,la[Aa+1]),ka!==Q||va!==fa)ba(Z.coords,la,ya,Aa,ka-Q,va-fa),ya+=ra,Ha++,Q=ka,fa=va;Ha>=Y&&(Z.lengths.push(Ha),Da=ya)}Z.coords.length=Da;return Z.coords.length?Z:null}function N(Z,V,ba,Q,Y,aa,fa){let ka=Q,la=0;for(let ra=aa+ba;ra<fa;ra+=ba){{var oa=V[ra];const va=V[ra+1],Aa=V[fa],ya=V[fa+1];let Da=V[aa],Ea=V[aa+1],Ha=Aa-Da,Ga=ya-Ea;if(0!==Ha||0!==Ga){const Ja=((oa-Da)*Ha+(va-Ea)*Ga)/(Ha*Ha+Ga*Ga);1<Ja?(Da=Aa,Ea=ya):0<Ja&&(Da+=Ha*Ja,Ea+=Ga*
Ja)}Ha=oa-Da;Ga=va-Ea;oa=Ha*Ha+Ga*Ga}oa>ka&&(la=ra,ka=oa)}ka>Q&&(la-aa>ba&&N(Z,V,ba,Q,Y,aa,la),Y(Z,V,Z.length,la,V[la],V[la+1]),fa-la>ba&&N(Z,V,ba,Q,Y,la,fa))}function P(Z,V,ba,Q,Y){const {coords:aa,lengths:fa}=V,ka=ba?Q?ja:ia:Q?ia:X;ba=h(ba,Q);if(!aa.length)return Z!==V&&(Z.lengths.length=0,Z.coords.length=0),Z;if(!fa.length)return ka(Z.coords,aa,0,0,q(Y,aa[0]),l(Y,aa[1])),Z!==V&&(Z.lengths.length=0,Z.coords.length=ba),Z;const [la,oa]=Y.scale;Q=0;for(let ra=0;ra<fa.length;ra++){const va=fa[ra];Z.lengths[ra]=
va;let Aa=q(Y,aa[Q]),ya=l(Y,aa[Q+1]);ka(Z.coords,aa,Q,Q,Aa,ya);Q+=ba;for(let Da=1;Da<va;Da++,Q+=ba)Aa+=aa[Q]*la,ya-=aa[Q+1]*oa,ka(Z.coords,aa,Q,Q,Aa,ya)}Z!==V&&(Z.lengths.length=fa.length,Z.coords.length=aa.length);return Z}function J(Z,V,ba,Q){let Y=0,aa=Z[Q*V],fa=Z[Q*(V+1)];for(let ka=1;ka<ba;ka++){const la=aa+Z[Q*(V+ka)],oa=fa+Z[Q*(V+ka)+1],ra=(la-aa)*(oa+fa);aa=la;fa=oa;Y+=ra}return.5*Y}const M=c.getLogger("esri.tasks.support.optimizedFeatureSet"),R={esriGeometryPoint:0,esriGeometryPolyline:2,
esriGeometryPolygon:3,esriGeometryMultipoint:0},X=(Z,V,ba,Q,Y,aa)=>{Z[ba]=Y;Z[ba+1]=aa},ia=(Z,V,ba,Q,Y,aa)=>{Z[ba]=Y;Z[ba+1]=aa;Z[ba+2]=V[Q+2]},ha=(Z,V,ba,Q,Y,aa)=>{Z[ba]=Y;Z[ba+1]=aa;Z[ba+2]=V[Q+3]},ja=(Z,V,ba,Q,Y,aa)=>{Z[ba]=Y;Z[ba+1]=aa;Z[ba+2]=V[Q+2];Z[ba+3]=V[Q+3]},ma=[],ta=[];a.convertFromFeature=function(Z,V,ba,Q,Y){ma[0]=Z;[Z]=O(ta,ma,V,ba,Q,Y);ma.length=ta.length=0;return Z};a.convertFromFeatureSet=function(Z,V){const ba=new k,{hasM:Q,hasZ:Y,features:aa,objectIdFieldName:fa,spatialReference:ka,
geometryType:la,exceededTransferLimit:oa,transform:ra,fields:va}=Z;va&&(ba.fields=va);ba.geometryType=la;ba.objectIdFieldName=fa||V;ba.spatialReference=ka;if(!ba.objectIdFieldName)return M.error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),ba;aa&&O(ba.features,aa,la,Y,Q,ba.objectIdFieldName);oa&&(ba.exceededTransferLimit=oa);Q&&(ba.hasM=Q);Y&&(ba.hasZ=Y);ra&&(ba.transform=ra);return ba};a.convertFromFeatures=O;a.convertFromGeometry=function(Z,V,ba){if(!Z)return null;
const Q=new d;"hasZ"in Z&&null==V&&(V=Z.hasZ);"hasM"in Z&&null==ba&&(ba=Z.hasM);if(n.isPoint(Z))return A(null!=V?V:null!=Z.z,null!=ba?ba:null!=Z.m)(Q,Z);if(n.isPolygon(Z))return L(Q,Z,V,ba);if(n.isPolyline(Z))return H(Q,Z,h(V,ba));if(n.isMultipoint(Z))return C(Q,Z,h(V,ba));M.error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${Z}'`))};a.convertFromGraphics=function(Z,V,ba,Q,Y,aa){const fa=Z.length;switch(ba){case "esriGeometryPoint":E(Z,V,Q,Y,aa);break;case "esriGeometryMultipoint":B(Z,
V,Q,Y,aa);break;case "esriGeometryPolyline":G(Z,V,Q,Y,aa);break;case "esriGeometryPolygon":K(Z,V,Q,Y,aa);break;default:M.error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${ba}'`))}for(Q=0;Q<V.length;Q++)Z[Q+fa].geometryType=ba,Z[Q+fa].insertAfter=V[Q].insertAfter,Z[Q+fa].groupId=V[Q].groupId;return Z};a.convertFromMultipoint=C;a.convertFromMultipointFeatures=B;a.convertFromNestedArray=T;a.convertFromPoint=function(Z,V,ba=A(null!=V.z,null!=V.m)){return ba(Z,
V)};a.convertFromPointFeatures=E;a.convertFromPolygon=L;a.convertFromPolyline=H;a.convertFromPolylineFeatures=G;a.convertToFeature=function(Z,V,ba,Q){ta[0]=Z;W(ma,ta,V,ba,Q);Z=ma[0];ma.length=ta.length=0;return Z};a.convertToFeatureSet=function(Z){const {objectIdFieldName:V,spatialReference:ba,transform:Q,fields:Y,hasM:aa,hasZ:fa,features:ka,geometryType:la,exceededTransferLimit:oa,uniqueIdField:ra,queryGeometry:va,queryGeometryType:Aa}=Z;Z=W([],ka,la,fa,aa);const ya=U(va,Aa,!1,!1);Z={features:Z,
fields:Y,geometryType:la,objectIdFieldName:V,spatialReference:ba,uniqueIdField:ra,queryGeometry:ya};Q&&(Z.transform=Q);oa&&(Z.exceededTransferLimit=oa);aa&&(Z.hasM=aa);fa&&(Z.hasZ=fa);return Z};a.convertToFeatures=W;a.convertToGeometry=U;a.convertToMultipoint=F;a.convertToMultipointFeatures=x;a.convertToPoint=function(Z,V,ba){return Z?V?ba?v(Z):f(Z):ba?w(Z):g(Z):null};a.convertToPolygon=I;a.convertToPolyline=z;a.deltaDecodeGeometry=function(Z,V){const ba=Z.clone(),Q=Z.coords;Z=Z.lengths;let Y=0;for(let ka=
0;ka<Z.length;ka++){const la=Z[ka];var aa=Q[V*Y],fa=Q[V*Y+1];for(let oa=1;oa<la;oa++)aa+=Q[V*(Y+oa)],fa+=Q[V*(Y+oa)+1],ba.coords[V*(Y+oa)]=aa,ba.coords[V*(Y+oa)+1]=fa;Y+=la}return ba};a.deltaEncodeGeometry=function(Z,V){const ba=Z.clone(),Q=Z.coords;Z=Z.lengths;let Y=0;for(let fa=0;fa<Z.length;fa++){const ka=Z[fa];let la=Q[V*Y];var aa=Q[V*Y+1];for(let oa=1;oa<ka;oa++){const ra=Q[V*(Y+oa)],va=Q[V*(Y+oa)+1];aa=va-aa;ba.coords[V*(Y+oa)]=ra-la;ba.coords[V*(Y+oa)+1]=aa;la=ra;aa=va}Y+=ka}return ba};a.generalizeOptimizedGeometry=
function(Z,V,ba,Q,Y,aa,fa=ba,ka=Q){Z.lengths.length&&(Z.lengths.length=0);Z.coords.length&&(Z.coords.length=0);if(!V||!V.coords.length)return null;Y=R[Y];const {coords:la,lengths:oa}=V;V=h(ba,Q);const ra=h(ba&&fa,Q&&ka);ba=m(ba,Q,fa,ka);if(!oa.length)return ba(Z.coords,la,0,0,la[0],la[1]),Z.lengths.length&&(Z.lengths.length=0),Z.coords.length=V,Z;Q=0;aa*=aa;for(const va of oa){if(va<Y){Q+=va*V;continue}fa=Z.coords.length/ra;ka=Q;const Aa=Q+(va-1)*V;ba(Z.coords,la,Z.coords.length,ka,la[ka],la[ka+1]);
N(Z.coords,la,V,aa,ba,ka,Aa);ba(Z.coords,la,Z.coords.length,Aa,la[Aa],la[Aa+1]);ka=Z.coords.length/ra-fa;ka>=Y?Z.lengths.push(ka):Z.coords.length=fa*ra;Q+=va*V}return Z.coords.length?Z:null};a.getBoundsOptimizedGeometry=function(Z,V,ba,Q){if(!V||!V.coords||!V.coords.length)return null;ba=h(ba,Q);let Y=Q=Number.POSITIVE_INFINITY,aa=Number.NEGATIVE_INFINITY,fa=Number.NEGATIVE_INFINITY;if(V&&V.coords){V=V.coords;for(let ka=0;ka<V.length;ka+=ba){const la=V[ka],oa=V[ka+1];Q=Math.min(Q,la);aa=Math.max(aa,
la);Y=Math.min(Y,oa);fa=Math.max(fa,oa)}}Z[0]=Q;Z[1]=Y;Z[2]=aa;Z[3]=fa;return Z};a.getQuantizedArea=function(Z,V){const {coords:ba,lengths:Q}=Z;let Y=Z=0;for(let aa=0;aa<Q.length;aa++)Y+=J(ba,Z,Q[aa],V),Z+=aa;return Math.abs(Y)};a.getQuantizedBoundsOptimizedGeometry=function(Z,V,ba,Q){ba=h(ba,Q);const {lengths:Y,coords:aa}=V;Q=V=Number.POSITIVE_INFINITY;let fa=Number.NEGATIVE_INFINITY,ka=Number.NEGATIVE_INFINITY,la=0;for(const oa of Y){let ra=aa[la],va=aa[la+1];V=Math.min(ra,V);Q=Math.min(va,Q);fa=
Math.max(ra,fa);ka=Math.max(va,ka);la+=ba;for(let Aa=1;Aa<oa;Aa++,la+=ba){const ya=aa[la],Da=aa[la+1];ra+=ya;va+=Da;0>ya&&(V=Math.min(V,ra));0<ya&&(fa=Math.max(fa,ra));0>Da?Q=Math.min(Q,va):0<Da&&(ka=Math.max(ka,va))}}Z[0]=V;Z[1]=Q;Z[2]=fa;Z[3]=ka;return Z};a.getSignedQuantizedRingArea=J;a.quantizeOptimizedFeatureSet=function(Z,V){const {geometryType:ba,features:Q,hasM:Y,hasZ:aa}=V;if(!Z)return V;for(let fa=0;fa<Q.length;fa++){const ka=Q[fa],la=ka.weakClone();la.geometry=new d;S(la.geometry,ka.geometry,
Y,aa,ba,Z);ka.centroid&&(la.centroid=new d,S(la.centroid,ka.centroid,Y,aa,"esriGeometryPoint",Z));Q[fa]=la}V.transform=Z;return V};a.quantizeOptimizedGeometry=S;a.quantizeX=t;a.quantizeY=p;a.removeCollinearVectices=function(Z,V,ba,Q,Y){if(!V||!V.coords||!V.coords.length)return null;ba=R[ba];const {coords:aa,lengths:fa}=V;V=m(Q,Y,Q,Y);Q=h(Q,Y);let ka=Y=0,la=0,oa=0;for(const Aa of fa){ka=oa;V(Z.coords,aa,ka,Y,aa[Y],aa[Y+1]);Y+=Q;var ra=aa[Y];let ya=aa[Y+1],Da=ra,Ea=ya;var va=ya/ra;ka+=Q;V(Z.coords,
aa,ka,Y,Da,Ea);Y+=Q;for(let Ha=2;Ha<Aa;Ha++){ra=aa[Y];ya=aa[Y+1];const Ga=ya/ra,Ja=va===Ga||!isFinite(va)&&!isFinite(Ga);va=Ja&&isFinite(Ga)?0<=va&&0<=Ga||0>=va&&0>=Ga:0<=Ea&&0<=ya||0>=Ea&&0>=ya;Ja&&va?(Da+=ra,Ea+=ya):(Da=ra,Ea=ya,ka+=Q);V(Z.coords,aa,ka,Y,Da,Ea);Y+=Q;va=Ga}ka+=Q;ra=(ka-oa)/Q;ra>=ba&&(Z.lengths[la]=ra,oa=ka,la++)}Z.coords.length>oa&&(Z.coords.length=oa);Z.lengths.length>la&&(Z.lengths.length=la);return Z.coords.length&&Z.lengths.length?Z:null};a.removeZMValues=function(Z,V,ba,Q,Y,
aa){const fa=h(ba,Q);ba=m(ba,Q,Y,aa);Q=V.coords;Z.coords.length=0;Z.lengths.length=0;Z.lengths.push(...V.lengths);for(V=0;V<Q.length;V+=fa)ba(Z.coords,Q,Z.coords.length,V,Q[V],Q[V+1]);return Z};a.unquantizeOptimizedFeatureSet=function(Z){const {transform:V,features:ba,hasM:Q,hasZ:Y}=Z;if(!V)return Z;for(const aa of ba)aa.geometry&&P(aa.geometry,aa.geometry,Q,Y,V),aa.centroid&&P(aa.centroid,aa.centroid,Q,Y,V);Z.transform=null;return Z};a.unquantizeOptimizedGeometry=P;a.unquantizeX=q;a.unquantizeY=
l;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/executeRelationshipQuery":function(){define(["exports","../../tasks/support/FeatureSet","../../tasks/support/RelationshipQuery","../utils","./operations/queryRelatedRecords"],function(a,c,b,n,r){a.executeRelationshipQuery=async function(k,d,h){d=b.from(d);k=n.parseUrl(k);return r.executeRelationshipQuery(k,d,h).then(m=>{const t=m.data,p={};Object.keys(t).forEach(q=>p[q]=c.fromJSON(t[q]));return p})};a.executeRelationshipQueryForCount=
async function(k,d,h){d=b.from(d);k=n.parseUrl(k);return r.executeRelationshipQueryForCount(k,d,{...h}).then(m=>m.data)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/rest/query/operations/queryRelatedRecords":function(){define(["exports","../../../request","../../../tasks/operations/urlUtils"],function(a,c,b){function n(k,d){k=k.toJSON();k.objectIds&&(k.objectIds=k.objectIds.join(","));k.orderByFields&&(k.orderByFields=k.orderByFields.join(","));!k.outFields||null!=d&&d.returnCountOnly?
delete k.outFields:-1!==k.outFields.indexOf("*")?k.outFields="*":k.outFields=k.outFields.join(",");k.outSpatialReference&&(k.outSR=k.outSR.wkid||JSON.stringify(k.outSR.toJSON()),delete k.outSpatialReference);k.dynamicDataSource&&(k.layer=JSON.stringify({source:k.dynamicDataSource}),delete k.dynamicDataSource);return k}async function r(k,d,h={},m){d=b.mapParameters({...k.query,f:"json",...m,...n(d,m)});return c(k.path+"/queryRelatedRecords",{...h,query:{...h.query,...d}})}a.executeRelationshipQuery=
async function(k,d,h){k=await r(k,d,h);d=k.data;h=d.geometryType;const m=d.spatialReference,t={};for(const p of d.relatedRecordGroups){const q={fields:void 0,objectIdFieldName:void 0,geometryType:h,spatialReference:m,hasZ:!!d.hasZ,hasM:!!d.hasM,features:p.relatedRecords};if(null!=p.objectId)t[p.objectId]=q;else for(const l in p)p.hasOwnProperty(l)&&"relatedRecords"!==l&&(t[p[l]]=q)}return{...k,data:t}};a.executeRelationshipQueryForCount=async function(k,d,h){k=await r(k,d,h,{returnCountOnly:!0});
d=k.data;h={};for(const m of d.relatedRecordGroups)null!=m.objectId&&(h[m.objectId]=m.count);return{...k,data:h}};a.toQueryStringParameters=n;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/tasks/Task":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(...f){f=l.call(this,...f)||this;f.requestOptions=null;f.url=null;return f}a._inheritsLoose(g,l);var e=g.prototype;e.normalizeCtorArgs=function(f,u){return"string"!==typeof f?f:{url:f,...u}};e._parseUrl=function(f){return f?m.urlToObject(f):null};e._encode=function(f,u,w){const D={};for(const y in f)if("declaredClass"!==y){var v=f[y];if(null!=v&&"function"!==typeof v)if(Array.isArray(v)){D[y]=[];for(let A=0;A<v.length;A++)D[y][A]=this._encode(v[A])}else"object"===
typeof v?v.toJSON?(v=v.toJSON(w&&w[y]),D[y]=u?v:JSON.stringify(v)):D[y]=u?v:JSON.stringify(v):D[y]=v}return D};a._createClass(g,[{key:"parsedUrl",get:function(){return this._parseUrl(this.url)}}]);return g}(q);c.__decorate([k.property({readOnly:!0})],b.prototype,"parsedUrl",null);c.__decorate([k.property()],b.prototype,"requestOptions",void 0);c.__decorate([k.property({type:String})],b.prototype,"url",void 0);return b=c.__decorate([h.subclass("esri.tasks.Task")],b)})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports",
"../../../../core/has","../../../../core/lang","../../../../symbols/support/defaultsJSON"],function(a,c,b,n){a.createDefaultAttributesFunction=function(r,k){if(c("csp-restrictions"))return()=>({[k]:null,...r});try{let d=`this.${k} = null;`;for(const m in r){const t=m.indexOf(".")?`["${m}"]`:`.${m}`;d+=`this${t} = ${JSON.stringify(r[m])};`}const h=new Function(d);return()=>new h}catch(d){return()=>({[k]:null,...r})}};a.createDefaultTemplate=function(r={}){return[{name:"New Feature",description:"",
prototype:{attributes:b.clone(r)}}]};a.createDrawingInfo=function(r){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===r||"esriGeometryMultipoint"===r?n.defaultPointSymbolJSON:"esriGeometryPolyline"===r?n.defaultPolylineSymbolJSON:n.defaultPolygonSymbolJSON}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/View":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/scheduling ../core/Accessor ../geometry/support/spatialReferenceUtils ../geometry/SpatialReference ../geometry/Extent ../core/Evented ../core/Collection ../core/Promise ../core/Loadable ../core/CollectionFlattener ../Map ../TimeExtent ../core/watchUtils ../geometry/HeightModelInfo ../core/HandleOwner ../support/GraphicsCollection ./BasemapView ./LayerViewManager ./Magnifier ./RefreshManager ./input/ViewEvents ./ToolViewManager ./3d/interactive/graphics/AnalysisManager ./input/Input ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C,z,G,H,I,K,L,T,O,U,W,S,N,P,J){var M;const R=r.getLogger("esri.views.View");b=M=function(X){function ia(ja){var ma=X.call(this,ja)||this;ma._userSpatialReference=null;ma._cursor=null;ma.allLayerViews=new F({root:a._assertThisInitialized(ma),rootCollectionNames:["basemapView.baseLayerViews","groundView?.layerViews","layerViews","basemapView.referenceLayerViews"],getChildrenFunction:ta=>ta.layerViews});ma.animation=null;ma.basemapView=null;
ma.defaultsFromMap=new J({view:a._assertThisInitialized(ma)});ma.fatalError=null;ma.extent=null;ma.graphics=new I["default"];ma.navigating=!1;ma.layerViews=new A;ma.magnifier=new T;ma.padding={left:0,top:0,right:0,bottom:0};ma.ready=!1;ma.spatialReferenceWarningDelay=1E3;ma.supportsGround=!0;ma.timeExtent=null;ma.type=null;ma.scale=null;ma.updating=!1;ma.initialExtentRequired=!0;ma.renderContext=null;ma.input=new N;ma.navigation=new P;ma.layerViewManager=null;ma.refreshManager=null;ma.isHeightModelInfoRequired=
!1;ma.width=null;ma.height=null;ma.resizing=!1;ma.suspended=!1;ma.viewEvents=new U.ViewEvents(a._assertThisInitialized(ma));ma.persistableViewModels=new A;ma._isValid=!1;ma._readyCycleForced=!1;ma.handles.add(ma.watch("preconditionsReady",ta=>{ta?(ma._currentSpatialReference=ma.spatialReference,M.views.add(a._assertThisInitialized(ma))):(ma._currentSpatialReference=null,M.views.remove(a._assertThisInitialized(ma)));ma.notifyChange("spatialReference");!ta&&ma.ready?(ma.layerViewManager.clear(),ma.toolViewManager.detach(),
ma._teardown()):ta&&!ma.ready&&(ma._startup(),ma.toolViewManager.attach())},!0));return ma}a._inheritsLoose(ia,X);var ha=ia.prototype;ha.initialize=function(){this.addResolvingPromise(this.validate().then(()=>{this._isValid=!0;return z.whenOnce(this,"ready")}));this.basemapView=new K.BasemapView({view:this});this.layerViewManager=new L({view:this,layerViewImporter:{importLayerView:ma=>this.importLayerView(ma),hasLayerViewModule:ma=>this.hasLayerViewModule(ma)},supportsGround:this.supportsGround});
this.refreshManager=new O({view:this});this.toolViewManager=new W({view:this});this.analysisManager=new S.AnalysisManager({viewFactory:ma=>this.createAnalysisView(ma),controllerFactory:ma=>this.createAnalysisController(ma)});this._resetInitialViewPropertiesFromContent();let ja;z.init(this.defaultsFromMap,"isSpatialReferenceDone",ma=>{const ta=!!(this.map&&0<this.map.allLayers.length);if((!ma||this.spatialReference||!ta)&&ja)ja=null;else if(ma&&!this.spatialReference&&ta&&!ja){const Z=ja=e.after(this.spatialReferenceWarningDelay);
ja.then(()=>{Z===ja&&R.warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}).catch(()=>{})}},!0)};ha.destroy=function(){if(!this.destroyed){this.viewEvents.destroy();this.allLayerViews.destroy();this.navigation&&(this.navigation.destroy(),this._set("navigation",null));this.graphics.destroy();this.graphics=null;this.handles.remove("defaultsFromMap");this.defaultsFromMap.destroy();this._set("defaultsFromMap",null);this.toolViewManager.destroy();this.toolViewManager=
null;this.refreshManager.destroy();this.refreshManager=null;this.layerViewManager.destroy();this.layerViewManager=null;this.basemapView.destroy();this.basemapView=null;this.invalidate();this._emitter.clear();this.handles.removeAll();var ja=this.map;this.map=null;null==ja?void 0:ja.destroy()}};ha._startup=function(){this._set("ready",!0)};ha._teardown=function(){this._set("ready",!1)};ha.whenReady=function(){return Promise.resolve(this)};ha.toMap=function(){R.error("#toMap()","Not implemented on this instance of View");
return null};ha.whenLayerView=function(ja){return this.layerViewManager.whenLayerView(ja)};ha.getAnalysisView=function(ja){return this.analysisManager.getAnalysisView(ja)};ha.whenAnalysisView=function(ja){return this.analysisManager.whenAnalysisView(ja)};ha.getDefaultSpatialReference=function(){return this.get("defaultsFromMap.spatialReference")};ha.getDefaultHeightModelInfo=function(){return this.get("map.supportsHeightModelInfo")&&this.get("map.heightModelInfo")||this.get("defaultsFromMap.heightModelInfo")||
null};ha.importLayerView=function(ja){throw new p("importLayerView() not implemented");};ha.hasLayerViewModule=function(ja){return!1};ha.createAnalysisView=async function(ja){throw new p("createAnalysisView() not implemented");};ha.createAnalysisController=async function(ja){throw new p("createAnalysisController() not implemented");};ha.validate=async function(){};ha.invalidate=function(){this._isValid=!1};ha.isSpatialReferenceSupported=function(ja,ma,ta){return!0};ha.isTileInfoRequired=function(){return!1};
ha.when=function(ja,ma){this.isResolved()&&!this.ready&&R.warn("#when()",'Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use watchUtils.whenOnce(view, "ready").then(...) instead.');return X.prototype.when.call(this,ja,ma)};ha.forceReadyCycle=function(){this.ready&&(this._readyCycleForced=!0,z.whenFalseOnce(this,"preconditionsReady",()=>this._readyCycleForced=!1))};ha.createTool=function(ja,ma,ta){return this.toolViewManager.createTool(ja,
ma,ta)};ha.tryFatalErrorRecovery=function(){this.fatalError=null};ha._resetInitialViewPropertiesFromContent=function(){if(this.defaultsFromMap){var ja=()=>this.defaultsFromMap&&this.defaultsFromMap.start();this.defaultsFromMap.reset();this._currentSpatialReference=null;this.notifyChange("spatialReference");this.handles.remove("defaultsFromMap");this.handles.add([z.watch(this,"spatialReference",(ma,ta)=>{w.equals(ma,ta)||ja()}),z.watch(this,"initialExtentRequired",ja),f.schedule(ja)],"defaultsFromMap")}};
a._createClass(ia,[{key:"heightModelInfo",get:function(){return this.getDefaultHeightModelInfo()}},{key:"interacting",get:function(){return this.navigating}},{key:"preconditionsReady",get:function(){return!!(!this.fatalError&&this._isValid&&!this._readyCycleForced&&this.map&&(!x.isLoadable(this.map)||this.map.loaded)&&0!==this.width&&0!==this.height&&this.spatialReference&&this.isSpatialReferenceSupported(this.spatialReference)&&(this._currentSpatialReference||!this.initialExtentRequired||this.initialExtent||
this.defaultsFromMap&&this.defaultsFromMap.isSpatialReferenceDone)&&this.defaultsFromMap&&this.defaultsFromMap.isTileInfoDone)}},{key:"map",set:function(ja){var ma;const ta=this._get("map");ja!==ta&&(null!=(ma=ja)&&ma.destroyed&&(R.warn("#map","The provided map is already destroyed",{map:ja}),ja=null),x.isLoadable(ja)&&ja.load().catch(()=>{}),this.initialized&&(this.forceReadyCycle(),this._resetInitialViewPropertiesFromContent()),this._set("map",ja))}},{key:"spatialReference",get:function(){let ja=
this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;ja&&this.isHeightModelInfoRequired&&this.defaultsFromMap&&(ja=ja.clone(),ja.vcsWkid=this.defaultsFromMap.vcsWkid,ja.latestVcsWkid=this.defaultsFromMap.latestVcsWkid);return ja},set:function(ja){this._userSpatialReference=ja;this._set("spatialReference",ja)}},{key:"stationary",get:function(){return!this.animation&&!this.navigating&&!this.resizing}},{key:"initialExtent",get:function(){return this.defaultsFromMap&&
this.defaultsFromMap.extent}},{key:"cursor",get:function(){const ja=this.toolViewManager?this.toolViewManager.cursor:null;return n.isSome(ja)?ja:this._cursor||"default"},set:function(ja){this._cursor=ja;this.notifyChange("cursor")}},{key:"size",get:function(){return[this.width,this.height]}}]);return ia}(H.HandleOwnerMixin(y.EventedMixin(E.EsriPromiseMixin(u))));b.views=new A;c.__decorate([h.aliasOf("toolViewManager.activeTool")],b.prototype,"activeTool",void 0);c.__decorate([d.property({readOnly:!0})],
b.prototype,"allLayerViews",void 0);c.__decorate([d.property()],b.prototype,"animation",void 0);c.__decorate([d.property()],b.prototype,"basemapView",void 0);c.__decorate([d.property()],b.prototype,"defaultsFromMap",void 0);c.__decorate([d.property()],b.prototype,"fatalError",void 0);c.__decorate([d.property({type:v})],b.prototype,"extent",void 0);c.__decorate([d.property(I.graphicsCollectionProperty())],b.prototype,"graphics",void 0);c.__decorate([d.property({readOnly:!0,type:G,dependsOn:["map.heightModelInfo?",
"defaultsFromMap.heightModelInfo"]})],b.prototype,"heightModelInfo",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"interacting",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"navigating",void 0);c.__decorate([d.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _currentSpatialReference initialExtentRequired initialExtent defaultsFromMap.isSpatialReferenceDone defaultsFromMap.isTileInfoDone".split(" ")})],b.prototype,
"preconditionsReady",null);c.__decorate([d.property({type:A,readOnly:!0})],b.prototype,"layerViews",void 0);c.__decorate([d.property({type:T})],b.prototype,"magnifier",void 0);c.__decorate([d.property({value:null,type:B})],b.prototype,"map",null);c.__decorate([d.property()],b.prototype,"padding",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"ready",void 0);c.__decorate([d.property({type:D})],b.prototype,"spatialReference",null);c.__decorate([d.property()],b.prototype,"spatialReferenceWarningDelay",
void 0);c.__decorate([d.property()],b.prototype,"stationary",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"supportsGround",void 0);c.__decorate([d.property({type:C})],b.prototype,"timeExtent",void 0);c.__decorate([h.aliasOf("toolViewManager.tools")],b.prototype,"tools",void 0);c.__decorate([d.property()],b.prototype,"toolViewManager",void 0);c.__decorate([h.aliasOf("analysisManager.analyses")],b.prototype,"analyses",void 0);c.__decorate([d.property()],b.prototype,"analysisManager",void 0);
c.__decorate([d.property({readOnly:!0})],b.prototype,"type",void 0);c.__decorate([d.property({type:Number})],b.prototype,"scale",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"updating",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"initialExtentRequired",void 0);c.__decorate([d.property({readOnly:!0,type:v})],b.prototype,"initialExtent",null);c.__decorate([d.property()],b.prototype,"cursor",null);c.__decorate([d.property()],b.prototype,"renderContext",void 0);c.__decorate([d.property({readOnly:!0})],
b.prototype,"input",void 0);c.__decorate([d.property({type:P,nonNullable:!0})],b.prototype,"navigation",void 0);c.__decorate([d.property()],b.prototype,"layerViewManager",void 0);c.__decorate([d.property()],b.prototype,"width",void 0);c.__decorate([d.property()],b.prototype,"height",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"resizing",void 0);c.__decorate([d.property({value:null,readOnly:!0})],b.prototype,"size",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"suspended",
void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"viewEvents",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"persistableViewModels",void 0);c.__decorate([d.property()],b.prototype,"_isValid",void 0);c.__decorate([d.property()],b.prototype,"_readyCycleForced",void 0);c.__decorate([d.property()],b.prototype,"_currentSpatialReference",void 0);return b=M=c.__decorate([t.subclass("esri.views.View")],b)})},"esri/core/HandleOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./Accessor ./Handles ../views/support/WatchUpdatingTracking".split(" "),
function(a,c,b,n,r,k,d,h){const m=t=>{t=function(p){function q(){return p.apply(this,arguments)||this}c._inheritsLoose(q,p);q.prototype.destroy=function(){this.destroyed||(this.handles.destroy(),this.updatingHandles.destroy())};c._createClass(q,[{key:"handles",get:function(){return this._get("handles")||new d}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new h.WatchUpdatingTracking}}]);return q}(t);b.__decorate([n.property({readOnly:!0})],t.prototype,"handles",null);
b.__decorate([n.property({readOnly:!0})],t.prototype,"updatingHandles",null);return t=b.__decorate([r.subclass("esri.core.HandleOwner")],t)};a.HandleOwner=function(t){function p(){return t.apply(this,arguments)||this}c._inheritsLoose(p,t);return p}(m(k));a.HandleOwner=b.__decorate([r.subclass("esri.core.HandleOwner")],a.HandleOwner);a.HandleOwnerMixin=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/WatchUpdatingTracking":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/maybe ../../core/accessorSupport/get ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass ../../core/scheduling ../../core/accessorSupport/trackingUtils ../../core/Accessor ../../core/Handles ../../core/watchUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){a.WatchUpdatingTracking=function(l){function g(){var f=l.apply(this,arguments)||this;f.updating=!1;f.handleId=0;f.handles=new p;f.scheduleHandleId=0;f.pendingPromises=new Set;return f}c._inheritsLoose(g,l);var e=g.prototype;e.destroy=function(){this.removeAll();this.handles.destroy()};e.add=function(f,u,w,D=0){const v=0!==(D&1),y=++this.handleId;v||this.installSyncUpdatingWatch(f,u,y);f=0!==(D&2)?q.init(f,u,w,v):f.watch(u,w,v);this.handles.add(f,y);return{remove:()=>
{this.handles.remove(y)}}};e.addOnCollectionPropertyChange=function(f,u,w,D=0){D=0!==(D&2);const v=++this.handleId;this.handles.add([q.on(f,u,"after-changes",this.createSyncUpdatingCallback()),q.on(f,u,"change",w,D?y=>{w({added:y.items,removed:[],moved:[],target:y})}:void 0)],v);return{remove:()=>{this.handles.remove(v)}}};e.addOnCollectionChange=function(f,u,w=0){w=0!==(w&2);const D=++this.handleId;this.handles.add([f.on("after-changes",this.createSyncUpdatingCallback()),f.on("change",u)],D);w&&
u({added:f.items,removed:[],moved:[],target:f});return{remove:()=>{this.handles.remove(D)}}};e.addPromise=function(f){if(n.isNone(f))return f;const u=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(f)&&(0!==this.pendingPromises.size||this.handles.has(-42)||this._set("updating",!1))}},u);this.pendingPromises.add(f);this._set("updating",!0);const w=()=>this.handles.remove(u);f.then(w,w);return f};e.removeAll=function(){this.pendingPromises.clear();this.handles.removeAll();
this._set("updating",!1)};e.installSyncUpdatingWatch=function(f,u,w){var D=this.createSyncUpdatingCallback();D=m.reaction(()=>r.valueOf(f,u),D);this.handles.add(D,w);return D};e.createSyncUpdatingCallback=function(){return()=>{this.handles.remove(-42);++this.scheduleHandleId;const f=this.scheduleHandleId;this._get("updating")||this._set("updating",!0);this.handles.add(h.schedule(()=>{f===this.scheduleHandleId&&(this._set("updating",0<this.pendingPromises.size),this.handles.remove(-42))}),-42)}};return g}(t);
b.__decorate([k.property({readOnly:!0})],a.WatchUpdatingTracking.prototype,"updating",void 0);a.WatchUpdatingTracking=b.__decorate([d.subclass("esri.views.support.WatchUpdatingTracking")],a.WatchUpdatingTracking);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Collection ../core/collectionUtils ../Graphic".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){const f=l.ofType(e);r.getLogger("esri.support.GraphicsCollection");a.GraphicsCollection=function(u){function w(v){var y=u.call(this,v)||this;y.on("before-add",A=>{A.item||A.preventDefault()});y.on("after-add",A=>y._own(A.item));y.on("after-remove",({item:A})=>{A.layer=null});return y}c._inheritsLoose(w,u);var D=w.prototype;D.destroy=function(){this._unownAll()};D._createNewInstance=function(v){return new f(v)};D._ownAll=function(){this.items.forEach(v=>this._own(v))};
D._own=function(v){v.layer&&"remove"in v.layer&&v.layer!==this.owner&&v.layer.remove(v);v.layer=this.owner};D._unownAll=function(){this.items.forEach(v=>this._unown(v))};D._unown=function(v){v.layer===this.owner&&(v.layer=null)};c._createClass(w,[{key:"owner",get:function(){return this._get("owner")},set:function(v){v!==this._get("owner")&&(this._unownAll(),this._set("owner",v),this._ownAll())}}]);return w}(f);b.__decorate([d.property()],a.GraphicsCollection.prototype,"owner",null);a.GraphicsCollection=
b.__decorate([m.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);b=a.GraphicsCollection;a.castGraphicsCollection=function(u){if(u=k.ensureType(a.GraphicsCollection,u))u.owner=this;return u};a.default=b;a.graphicsCollectionProperty=(u="graphics")=>({type:a.GraphicsCollection,cast:g.castForReferenceSetter,set(w){w=g.referenceSetter(w,this._get(u),a.GraphicsCollection);w.owner=this;this._set(u,w)}});Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/BasemapView":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Accessor ../core/Collection ../core/watchUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){a.BasemapView=function(f){function u(w){w=f.call(this,w)||this;w.view=null;w.baseLayerViews=new g;w.referenceLayerViews=new g;w._loadingHandle=e.init(c._assertThisInitialized(w),"view.map.basemap",D=>{D&&D.load().catch(()=>{})});return w}c._inheritsLoose(u,f);u.prototype.destroy=function(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null)};c._createClass(u,[{key:"suspended",get:function(){return this.view?this.view.suspended:
!0}},{key:"updating",get:function(){return this.view&&this.view.suspended?!1:!(!(this.view&&this.view.map&&this.view.map.basemap)||this.view.map.basemap.loaded)}}]);return u}(l);b.__decorate([d.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);b.__decorate([d.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);b.__decorate([d.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",void 0);b.__decorate([d.property({readOnly:!0})],a.BasemapView.prototype,
"suspended",null);b.__decorate([d.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,"updating",null);a.BasemapView=b.__decorate([m.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/LayerViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/scheduling ../core/CollectionFlattener ../core/watchUtils ./support/WatchUpdatingTracking ../core/HandleOwner ../core/MapUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){const y=r.getLogger("esri.views.LayerViewManager");let A=function(){function E(F,B,C){this.layer=F;this.view=B;this.layerViewImporter=C;this._controller=g.createAbortController();this._deferred=g.createDeferred();this.done=this._started=!1;g.onAbort(this._controller.signal,()=>{const z=new t("cancelled:layerview-create","layerview creation cancelled",{layer:F});this._deferred.reject(z)})}var x=E.prototype;x.destroy=function(){this._controller.abort();
const {layerView:F}=this;if(F){var {layer:B,view:C}=this;B.emit("layerview-destroy",{view:C,layerView:F});C.emit("layerview-destroy",{layer:B,layerView:F});this.done=!0;this.layerViewImporter=this.view=this.layerView=this.layer=null}};x.start=async function(){if(!this._started){this._started=!0;var {_controller:{signal:F},layer:B,view:C}=this;this._map=C.map;try{var z,G;await B.load({signal:F});"prefetchResources"in B&&await B.prefetchResources({signal:F});let I;if(B.createLayerView)I=await B.createLayerView(C,
{signal:F});else{if(!this.layerViewImporter.hasLayerViewModule(B))throw new t("layer:view-not-supported","No layerview implementation was found");var H=await this.layerViewImporter.importLayerView(B);g.throwIfAborted(F);I="default"in H?new H.default({layer:B,view:C}):new H({layer:B,view:C})}let K;H=()=>{K=n.removeMaybe(K);I.destroy();I.layer=null;I.parent=null;I.view=null;this.done=!0};K=g.onAbort(F,H);g.throwIfAborted(F);try{await I.when()}catch(L){throw H(),L;}(null==(z=this._map)?0:null==(G=z.allLayers)?
0:G.includes(B))?(this.layerView=I,B.emit("layerview-create",{view:C,layerView:I}),C.emit("layerview-create",{layer:B,layerView:I}),this.done=!0,this._deferred.resolve(I)):(H(),this._deferred.reject(new t("view:no-layerview-for-layer","The layer has been removed from the map",{layer:B})))}catch(I){B.emit("layerview-create-error",{view:C,error:I}),C.emit("layerview-create-error",{layer:B,error:I}),this.done=!0,this._deferred.reject(new t("layerview:create-error","layerview creation failed",{layer:B,
error:I}))}}};a._createClass(E,[{key:"promise",get:function(){return this._deferred.promise}}]);return E}();b=function(E){function x(B){var C=E.call(this,B)||this;C._layerLayerViewInfoMap=new Map;C._watchUpdatingTracking=new w.WatchUpdatingTracking;C.supportsGround=!0;C._preloadLayerViewModules=()=>{var z;const G=null==(z=C.view.map)?void 0:z.allLayers;if(G)for(const H of G)C.layerViewImporter.hasLayerViewModule(H)&&C.layerViewImporter.importLayerView(H)};C._reschedule=()=>{n.isNone(C._workPromise)&&
(C._workPromise=g.createDeferred());C.handles.remove("reschedule");C.handles.add(e.schedule(C._doWork),"reschedule");return C._workPromise.promise};C._doWork=()=>{var z,G,H,I=C.view.map;C._map!==I&&(C.clear(),C._map=I);if(n.isNone(C._workPromise))C.notifyChange("updating");else{C.handles.remove("reschedule");C.handles.remove("collection-change");var K=new f({root:a._assertThisInitialized(C),rootCollectionNames:C._rootCollectionNames,getChildrenFunction:L=>L.layers});for(const L of K)C._createLayerView(L);
C._refreshCollections();for(const [L,T]of C._layerLayerViewInfoMap)K.includes(L)||(C._layerLayerViewInfoMap.delete(T.layer),T.destroy());K=K.filter(L=>"group"===L.type).map(L=>L.layers);I=[null==I?void 0:null==(z=I.ground)?void 0:z.layers,null==I?void 0:null==(G=I.basemap)?void 0:G.baseLayers,null==I?void 0:null==(H=I.basemap)?void 0:H.referenceLayers,null==I?void 0:I.layers,...K].filter(L=>!!L);C.handles.add(I.map(L=>C._watchUpdatingTracking.addOnCollectionChange(L,C._reschedule)),"collection-change");
C._workPromise.resolve();C._workPromise=null}};return C}a._inheritsLoose(x,E);var F=x.prototype;F.initialize=function(){this.handles.add([u.on(this,"view.map.allLayers","change",this._preloadLayerViewModules,this._preloadLayerViewModules),u.init(this.view,["map.basemap","map.ground","map.layers","ready"],this._reschedule,!0)]);this._preloadLayerViewModules();this._reschedule()};F.destroy=function(){this.clear();this._watchUpdatingTracking.destroy();this._map=null};F.clear=function(){if(!this.destroyed){for(const B of this._layerLayerViewInfoMap.values())B.destroy();
this._layerLayerViewInfoMap.clear();this._refreshCollections()}};F.whenLayerView=async function(B){await this._reschedule();if(!this._layerLayerViewInfoMap.has(B))throw new t("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:B});return this._layerLayerViewInfoMap.get(B).promise};F._refreshCollections=function(){for(const [B,C]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(B),this.get(C),this.view);this.notifyChange("updating")};F._populateLayerViewsOwners=
function(B,C,z){if(B&&C){var G=0;for(const H of B)(B=this._layerLayerViewInfoMap.get(H))&&B.layerView&&(B=B.layerView,B.layer=H,B.parent=z,C.getItemAt(G)!==B&&C.splice(G,0,B),H.layers&&this._populateLayerViewsOwners(H.layers,B.layerViews,B),G+=1);G<C.length&&C.splice(G,C.length)}else C&&C.removeAll()};F._createLayerView=function(B){if(this._layerLayerViewInfoMap.has(B))this.view.ready&&this._layerLayerViewInfoMap.get(B).start();else{B.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(B)&&
this.layerViewImporter.importLayerView(B);var C=new A(B,this.view,this.layerViewImporter);C.promise.then(()=>this._refreshCollections(),z=>{if(!z||!g.isAbortError(z)&&"cancelled:layerview-create"!==z.name){var G,H;y.error(`Failed to create layerview for layer title:'${null!=(G=B.title)?G:"no title"}', id:'${null!=(H=B.id)?H:"no id"}' of type '${B.type}'.`,{layer:B,error:z})}this._refreshCollections()});this._layerLayerViewInfoMap.set(B,C);this.view.ready&&C.start()}this.notifyChange("updating")};
a._createClass(x,[{key:"_layersToLayerViews",get:function(){const B=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];this.supportsGround&&B.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(B)}},{key:"_rootCollectionNames",get:function(){return Array.from(this._layersToLayerViews.keys())}},{key:"updating",get:function(){return n.isSome(this._workPromise)||
this._watchUpdatingTracking.updating?!0:v.someMap(this._layerLayerViewInfoMap,B=>!B.done)}}]);return x}(D.HandleOwner);c.__decorate([d.property()],b.prototype,"_workPromise",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"_layersToLayerViews",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"_rootCollectionNames",null);c.__decorate([d.property()],b.prototype,"layerViewImporter",void 0);c.__decorate([d.property()],
b.prototype,"supportsGround",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"updating",null);c.__decorate([d.property({constructOnly:!0})],b.prototype,"view",void 0);return b=c.__decorate([m.subclass("esri.views.LayerViewManager")],b)})},"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(c,b){for(const [n,r]of c)if(b(r,n))return r;return null};a.someMap=function(c,b){for(const [n,r]of c)if(b(r,n))return!0;return!1};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/views/Magnifier":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Accessor ../core/screenUtils".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.factor=1.5;f.offset=
l.createScreenPoint(0,0);f.position=null;f.size=120;f.maskUrl=null;f.maskEnabled=!0;f.overlayUrl=null;f.overlayEnabled=!0;f.visible=!0;return f}a._inheritsLoose(e,g);a._createClass(e,[{key:"version",get:function(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");
return(this._get("version")||0)+1}}]);return e}(q);c.__decorate([k.property({type:Number})],b.prototype,"factor",void 0);c.__decorate([k.property({nonNullable:!0})],b.prototype,"offset",void 0);c.__decorate([k.property()],b.prototype,"position",void 0);c.__decorate([k.property({type:Number,range:{min:0}})],b.prototype,"size",void 0);c.__decorate([k.property()],b.prototype,"maskUrl",void 0);c.__decorate([k.property()],b.prototype,"maskEnabled",void 0);c.__decorate([k.property()],b.prototype,"overlayUrl",
void 0);c.__decorate([k.property()],b.prototype,"overlayEnabled",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"version",null);c.__decorate([k.property({type:Boolean})],b.prototype,"visible",void 0);return b=c.__decorate([h.subclass("esri.views.Magnifier")],b)})},"esri/views/RefreshManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/Evented ../core/Handles ./layers/RefreshableLayerView".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){b=function(e){function f(){var w=e.apply(this,arguments)||this;w._handles=new l;w._currentTick=0;return w}a._inheritsLoose(f,e);var u=f.prototype;u.initialize=function(){this._handles.add([this.view.allLayerViews.on("after-changes",()=>{this.notifyChange("tickInterval");this._handles.remove("layerViewsUpdating");this._handles.add(this._getLayerViewHandles(),"layerViewsUpdating")}),this.watch("tickInterval",()=>this._restartTicking()),this.watch("view.ready",()=>
this._restartTicking())]);this._restartTicking()};u.destroy=function(){this._handles&&(this._handles.destroy(),this._handles=null,this._intervalID&&clearInterval(this._intervalID),this._currentTick=0)};u._restartTicking=function(){this._currentTick=0;this._intervalID&&clearInterval(this._intervalID);this.get("view.ready")&&this.tickInterval&&(this._intervalID=setInterval(()=>{const w=Date.now();this._currentTick+=this.tickInterval;this.view.allLayerViews.forEach(D=>{if(g.isRefreshableLayerView(D)){const v=
Math.round(6E4*D.refreshInterval),y=0===this._currentTick%v,A=5400>w-D.refreshTimestamp;v&&y&&!A&&(D.refresh(w),this.emit("refresh",{layerView:D,timestamp:w,trigger:"interval"}))}})},this.tickInterval))};u._getLayerViewHandles=function(){const w=[],D=()=>this.notifyChange("tickInterval");this.view.allLayerViews.forEach(v=>{g.isRefreshableLayerView(v)&&v.layer&&w.push(v.watch("refreshInterval",D),v.layer.on("refresh",()=>{const y=Date.now();v.refresh(y);this.emit("refresh",{layerView:v,timestamp:y,
trigger:"layer-refresh"})}))});return w};u._getCommonInterval=function(w){const D=(v,y)=>isNaN(v)||isNaN(y)?0:0>=y?v:D(y,v%y);return w.toArray().reduce((v,y)=>D(Math.round(6E4*y.refreshInterval),v),0)};a._createClass(f,[{key:"tickInterval",get:function(){const w=this.view.allLayerViews.filter(D=>g.isRefreshableLayerView(D));return this._getCommonInterval(w)}}]);return f}(q.EventedAccessor);c.__decorate([k.property()],b.prototype,"view",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,
"tickInterval",null);return b=c.__decorate([h.subclass("esri.views.RefreshManager")],b)})},"esri/views/layers/RefreshableLayerView":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){n=e=>{e=function(f){function u(){var w=f.apply(this,arguments)||this;w.refreshTimestamp=null;w.refreshDebounced=g.debounce(async(D,v)=>{let y;"number"===typeof D?y=D:(y=Date.now(),v=D);w._set("refreshTimestamp",y);w.doRefresh&&await w.doRefresh(v)},2E3);return w}c._inheritsLoose(u,f);u.prototype.refresh=function(w=Date.now()){this._set("refreshTimestamp",w);this.doRefresh&&this.doRefresh()};return u}(e);b.__decorate([d.property()],e.prototype,"layer",void 0);
b.__decorate([h.aliasOf("layer.refreshInterval")],e.prototype,"refreshInterval",void 0);b.__decorate([d.property({readOnly:!0})],e.prototype,"refreshTimestamp",void 0);return e=b.__decorate([t.subclass("esri.layers.mixins.RefreshableLayerView")],e)};a.RefreshableLayerView=n;a.default=n;a.isRefreshableLayerView=function(e){return"refresh"in e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/ViewEvents":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../core/has ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager".split(" "),
function(a,c,b,n,r,k,d){function h(l){return!!t[l]}function m(l){for(const g of l)if(!h(g))return!1;return!0}b="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const t={};b.forEach(l=>{t[l]=!0});let p=function(){function l(e){this.handlers=new Map;this.counter=0;this.handlerCounts=new Map;this.view=e;this.inputManager=null}var g=l.prototype;g.connect=
function(e){e&&this.disconnect();this.inputManager=e;this.handlers.forEach(({handler:f,priority:u},w)=>this.inputManager.installHandlers(w,[f],u))};g.disconnect=function(){this.inputManager&&this.handlers.forEach((e,f)=>this.inputManager.uninstallHandlers(f));this.inputManager=null};g.destroy=function(){this.disconnect();this.handlers.clear();this.view=null};g.on=function(e,f,u,w){const D=Array.isArray(e)?e:e.split(",");if(!m(D))return D.some(h)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),
null;if(Array.isArray(f))e=f;else{var v=f;e=[]}"function"===typeof u?v=u:w=u;w=null!=w?w:d.ViewEventPriorities.DEFAULT;const y=this.createUniqueGroupName();u=new q(this.view,D,e,v);this.handlers.set(y,{handler:u,priority:w});for(const A of D)v=this.handlerCounts.get(A)||0,this.handlerCounts.set(A,v+1);this.inputManager&&this.inputManager.installHandlers(y,[u],w);return{remove:()=>this.removeHandler(y,D)}};g.hasHandler=function(e){return!!this.handlerCounts.get(e)};g.removeHandler=function(e,f){if(this.handlers.has(e)){this.handlers.delete(e);
for(const u of f)f=this.handlerCounts.get(u),void 0===f?console.error("Trying to remove handler for event that has no handlers registered: ",u):1===f?this.handlerCounts.delete(u):this.handlerCounts.set(u,f-1)}this.inputManager&&this.inputManager.uninstallHandlers(e)};g.createUniqueGroupName=function(){this.counter+=1;return`viewEvents_${this.counter}`};return l}(),q=function(l){function g(f,u,w,D){var v=l.call(this,!0)||this;v.view=f;for(const y of u)switch(y){case "click":v.registerIncoming("click",
w,A=>D(v.wrapClick(A)));break;case "double-click":v.registerIncoming("double-click",w,A=>D(v.wrapDoubleClick(A)));break;case "immediate-click":v.registerIncoming("immediate-click",w,A=>D(v.wrapImmediateClick(A)));break;case "immediate-double-click":v.registerIncoming("immediate-double-click",w,A=>D(v.wrapImmediateDoubleClick(A)));break;case "hold":v.registerIncoming("hold",w,A=>D(v.wrapHold(A)));break;case "drag":v.registerIncoming("drag",w,A=>{(A=v.wrapDrag(A))&&D(A)});break;case "key-down":v.registerIncoming("key-down",
w,A=>D(v.wrapKeyDown(A)));break;case "key-up":v.registerIncoming("key-up",w,A=>D(v.wrapKeyUp(A)));break;case "pointer-down":v.registerIncoming("pointer-down",w,A=>D(v.wrapPointer(A,"pointer-down")));break;case "pointer-move":v.registerIncoming("pointer-move",w,A=>D(v.wrapPointer(A,"pointer-move")));break;case "pointer-up":v.registerIncoming("pointer-up",w,A=>D(v.wrapPointer(A,"pointer-up")));break;case "pointer-drag":v.registerIncoming("pointer-drag",w,A=>D(v.wrapPointerDrag(A)));break;case "mouse-wheel":v.registerIncoming("mouse-wheel",
w,A=>D(v.wrapMouseWheel(A)));break;case "pointer-enter":v.registerIncoming("pointer-enter",w,A=>D(v.wrapPointer(A,"pointer-enter")));break;case "pointer-leave":v.registerIncoming("pointer-leave",w,A=>D(v.wrapPointer(A,"pointer-leave")));break;case "gamepad":v.registerIncoming("gamepad",w,A=>{D(v.wrapGamepad(A))});break;case "focus":v.registerIncoming("focus",w,A=>{D(v.wrapFocus(A))});break;case "blur":v.registerIncoming("blur",w,A=>{D(v.wrapBlur(A))})}return v}c._inheritsLoose(g,l);var e=g.prototype;
e.wrapFocus=function(f){return{type:"focus",timestamp:f.timestamp,native:f.data.native,cancelable:f.cancelable,stopPropagation:()=>f.stopPropagation(),async:u=>f.async(u),preventDefault:()=>f.preventDefault()}};e.wrapBlur=function(f){return{type:"blur",timestamp:f.timestamp,native:f.data.native,cancelable:f.cancelable,stopPropagation:()=>f.stopPropagation(),async:u=>f.async(u),preventDefault:()=>f.preventDefault()}};e.wrapClick=function(f){const {pointerType:u,button:w,buttons:D,x:v,y,native:A,eventId:E}=
f.data,{cancelable:x,timestamp:F}=f,B=r.createScreenPoint(v,y),C=this.getMapPoint(v,y);return{type:"click",pointerType:u,button:w,buttons:D,x:v,y,native:A,timestamp:F,screenPoint:B,mapPoint:C,eventId:E,cancelable:x,stopPropagation:()=>f.stopPropagation(),async:z=>f.async(z),preventDefault:()=>f.preventDefault()}};e.wrapDoubleClick=function(f){const {pointerType:u,button:w,buttons:D,x:v,y,native:A,eventId:E}=f.data,{cancelable:x,timestamp:F}=f;return{type:"double-click",pointerType:u,button:w,buttons:D,
x:v,y,native:A,timestamp:F,mapPoint:this.getMapPoint(v,y),eventId:E,cancelable:x,stopPropagation:()=>f.stopPropagation(),async:B=>f.async(B),preventDefault:()=>f.preventDefault()}};e.wrapImmediateClick=function(f){const {pointerType:u,button:w,buttons:D,x:v,y,native:A,eventId:E}=f.data,x=A.pointerId,{cancelable:F,timestamp:B}=f;return{type:"immediate-click",pointerId:x,pointerType:u,button:w,buttons:D,x:v,y,native:A,timestamp:B,mapPoint:this.getMapPoint(v,y),eventId:E,cancelable:F,stopPropagation:()=>
f.stopPropagation(),async:C=>f.async(C),preventDefault:()=>f.preventDefault()}};e.wrapImmediateDoubleClick=function(f){const {pointerType:u,button:w,buttons:D,x:v,y,native:A,eventId:E}=f.data,x=A.pointerId,{cancelable:F,timestamp:B}=f;return{type:"immediate-double-click",pointerId:x,pointerType:u,button:w,buttons:D,x:v,y,native:A,timestamp:B,mapPoint:this.getMapPoint(v,y),eventId:E,cancelable:F,stopPropagation:()=>f.stopPropagation(),async:C=>f.async(C),preventDefault:()=>f.preventDefault()}};e.wrapHold=
function(f){const {pointerType:u,button:w,buttons:D,x:v,y,native:A}=f.data,{cancelable:E,timestamp:x}=f;return{type:"hold",pointerType:u,button:w,buttons:D,x:v,y,native:A,timestamp:x,mapPoint:this.getMapPoint(v,y),cancelable:E,stopPropagation:()=>f.stopPropagation(),async:F=>f.async(F),preventDefault:()=>f.preventDefault()}};e.getMapPoint=function(f,u){return this.view.toMap(r.createScreenPoint(f,u),{exclude:[]})};e.wrapDrag=function(f){const u=f.data,{x:w,y:D}=u.center,{action:v,pointerType:y,button:A}=
u;"start"===v&&(this.latestDragStart=u);if(this.latestDragStart){var E=u.pointer.native,x=u.buttons,{cancelable:F,timestamp:B}=f,C={x:this.latestDragStart.center.x,y:this.latestDragStart.center.y};"end"===v&&(this.latestDragStart=void 0);return{type:"drag",action:v,x:w,y:D,origin:C,pointerType:y,button:A,buttons:x,radius:u.radius,angle:n.rad2deg(u.angle),native:E,timestamp:B,cancelable:F,stopPropagation:()=>f.stopPropagation(),async:z=>f.async(z),preventDefault:()=>f.preventDefault()}}};e.wrapKeyDown=
function(f){const {key:u,repeat:w,native:D}=f.data,{cancelable:v,timestamp:y}=f;return{type:"key-down",key:u,repeat:w,native:D,timestamp:y,cancelable:v,stopPropagation:()=>f.stopPropagation(),async:A=>f.async(A),preventDefault:()=>f.preventDefault()}};e.wrapKeyUp=function(f){const {key:u,native:w}=f.data,{cancelable:D,timestamp:v}=f;return{type:"key-up",key:u,native:w,timestamp:v,cancelable:D,stopPropagation:()=>f.stopPropagation(),async:y=>f.async(y),preventDefault:()=>f.preventDefault()}};e.wrapPointer=
function(f,u){const {x:w,y:D,button:v,buttons:y,native:A,eventId:E}=f.data,x=A.pointerId,F=A.pointerType,{cancelable:B,timestamp:C}=f;return{type:u,x:w,y:D,pointerId:x,pointerType:F,button:v,buttons:y,native:A,timestamp:C,eventId:E,cancelable:B,stopPropagation:()=>f.stopPropagation(),async:z=>f.async(z),preventDefault:()=>f.preventDefault()}};e.wrapPointerDrag=function(f){const {x:u,y:w,buttons:D,native:v,eventId:y}=f.data.currentEvent,{button:A}=f.data.startEvent,E=f.data.startEvent.native.pointerId,
x=f.data.startEvent.native.pointerType,F=f.data.action,B={x:f.data.startEvent.x,y:f.data.startEvent.y},{cancelable:C,timestamp:z}=f;return{type:"pointer-drag",x:u,y:w,pointerId:E,pointerType:x,button:A,buttons:D,action:F,origin:B,native:v,timestamp:z,eventId:y,cancelable:C,stopPropagation:()=>f.stopPropagation(),async:G=>f.async(G),preventDefault:()=>f.preventDefault()}};e.wrapMouseWheel=function(f){const {cancelable:u,data:w,timestamp:D}=f,{x:v,y,deltaY:A,native:E}=w;return{type:"mouse-wheel",x:v,
y,deltaY:A,native:E,timestamp:D,cancelable:u,stopPropagation:()=>f.stopPropagation(),async:x=>f.async(x),preventDefault:()=>f.preventDefault()}};e.wrapGamepad=function(f){const {action:u,state:w,device:D}=f.data,{cancelable:v,timestamp:y}=f,{buttons:A,axes:E}=w;return{type:"gamepad",device:D,timestamp:y,action:u,buttons:A,axes:E,cancelable:v,stopPropagation:()=>f.stopPropagation(),async:x=>f.async(x),preventDefault:()=>f.preventDefault()}};return g}(k.InputHandler);a.ViewEvents=p;a.eventTypes=b;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/views/input/InputHandler":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/Logger","./EventMatch"],function(a,c,b,n){const r=b.getLogger("esri.views.input.InputHandler");b=function(){function h(t){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=t}var m=h.prototype;m.onInstall=function(t){this._manager?r.error("This InputHandler has already been registered with an InputManager"):
(t.setEventCallback(p=>this._handleEvent(p)),t.setUninstallCallback(()=>this._onUninstall()),this._manager=t)};m.onUninstall=function(){};m.registerIncoming=function(t,p,q){"function"===typeof p?(q=p,p=[]):p=p||[];t="string"===typeof t?new n.EventMatch(t,p):t;const l=()=>{this._incomingEventMatches=this._incomingEventTypes=null};p=g=>{const e=this._incoming[g.match.eventType];e&&(g=e.indexOf(g),e.splice(g,1),l(),this._manager&&this._manager.updateDependencies())};q=new k(t,q,{onPause:p,onRemove:p,
onResume:g=>{const e=this._incoming[g.match.eventType];e&&-1===e.indexOf(g)&&(e.push(g),l(),this._manager&&this._manager.updateDependencies())}});p=this._incoming[t.eventType];p||(p=[],this._incoming[t.eventType]=p);p.push(q);l();this._manager&&this._manager.updateDependencies();return q};m.registerOutgoing=function(t){if(this._outgoing[t])throw Error("There is already a callback registered for this outgoing InputEvent: "+t);const p=new d(t,{onEmit:(q,l,g,e)=>{this._manager.emit(q.eventType,l,g,e)},
onRemove:q=>{delete this._outgoing[q.eventType];this._manager.updateDependencies()}});this._outgoing[t]=p;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return p};m.startCapturingPointer=function(t){this._manager.setPointerCapture(t,!0)};m.stopCapturingPointer=function(t){this._manager.setPointerCapture(t,!1)};m.refreshHasPendingInputs=function(){this._manager.refreshHasPendingInputs()};m._onUninstall=function(){this._manager?(this.onUninstall(),this._manager=null):
r.error("This InputHandler is not registered with an InputManager")};m._handleEvent=function(t){const p=this._incoming[t.type];if(p)for(const q of p)if(q.match.matches(t)&&(q.callback(t),t.shouldStopPropagation()))break};c._createClass(h,[{key:"incomingEventMatches",get:function(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const t in this._incoming){const p=this._incoming[t];for(const q of p)this._incomingEventMatches.push(q.match)}}return this._incomingEventMatches}},{key:"incomingEventTypes",
get:function(){this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(t=>t.eventType));return this._incomingEventTypes}},{key:"outgoingEventTypes",get:function(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}},{key:"hasSideEffects",get:function(){return this._hasSideEffects}},{key:"hasPendingInputs",get:function(){return!1}}]);return h}();let k=function(){function h(t,p,q){this.match=t;this._callback=p;this._handler=
q}var m=h.prototype;m.pause=function(){this._handler.onPause(this)};m.resume=function(){this._handler.onResume(this)};m.remove=function(){this._handler.onRemove(this)};c._createClass(h,[{key:"callback",get:function(){return this._callback}}]);return h}(),d=function(){function h(t,p){this.eventType=t;this._removed=!1;this._handler=p}var m=h.prototype;m.emit=function(t,p,q){if(!this._removed)this._handler.onEmit(this,t,p,q)};m.remove=function(){this._removed=!0;this._handler.onRemove(this)};return h}();
a.InputHandler=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){let c=function(){function b(n,r=[]){this.eventType=n;this.keyModifiers=r}b.prototype.matches=function(n){if(n.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;n=n.modifiers;for(const r of this.keyModifiers)if(!n.has(r))return!1;return!0};return b}();a.EventMatch=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../core/Queue ./keys ./handlers/LatestPointerType".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){const u=r.getLogger("esri.views.input.InputManager");a.InputManager=function(v){function y(E){var x=v.call(this,E)||this;x._pointerCaptures=new Map;x._nameToGroup={};x._handlers=[];x._currentPropagation=null;x._sourceEvents=new Set;x._keyModifiers=new Set;x._activeKeyModifiers=new Set;x._stoppedPropagationEventIds=new Set;x.primaryKey=e.primaryKey;x.latestPointerType="mouse";x.test={timestamp:void 0,hasCurrentPropagation:()=>!!x._currentPropagation};return x}
c._inheritsLoose(y,v);var A=y.prototype;A.initialize=function(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()};A.destroy=function(){const E=Object.keys(this._nameToGroup);for(const x of E)this.uninstallHandlers(x);this._currentPropagation=this.eventSource=null};A.installHandlers=function(E,x,F=D.INTERNAL){if(this._nameToGroup[E])u.error("There is already an InputHandler group registered under the name `"+E+"`");else if(0===x.length)u.error("Can't register a group of zero handlers");
else{var B={name:E,handlers:x.map(C=>({handler:C,active:!0,removed:!1,priorityIndex:0,groupPriority:F,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[E]=B;for(E=B.handlers.length-1;0<=E;E--){const C=B.handlers[E];this._handlers.push(C);C.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(z,G,H,I,K)=>{this._emitInputEvent(C.priorityIndex+1,z,G,H,K,I)},setPointerCapture:(z,G)=>{this._setPointerCapture(B,C,z,G)},setEventCallback:z=>{C.eventCallback=z},setUninstallCallback:z=>
{C.uninstallCallback=z},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}};A.uninstallHandlers=function(E){const x=this._nameToGroup[E];x?(x.handlers.forEach(F=>{F.removed=!0;F.uninstallCallback()}),delete this._nameToGroup[E],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):u.error("There is no InputHandler group registered under the name `"+E+"`")};A.hasHandlers=function(E){return void 0!==
this._nameToGroup[E]};A.updateDependencies=function(){const E=new Set,x=new Set;this._handlersPriority=[];for(var F=this._handlers.length-1;0<=F;F--){var B=this._handlers[F];B.priorityIndex=F;this._handlersPriority.push(B)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(F=this._handlersPriority.length-1;0<=F;F--){B=this._handlersPriority[F];B.priorityIndex=F;let C=B.handler.hasSideEffects;if(!C)for(const z of B.handler.outgoingEventTypes)if(E.has(z)){C=!0;break}if(C)for(const z of B.handler.incomingEventMatches){E.add(z.eventType);
for(const G of z.keyModifiers)e.isSystemModifier(G)||x.add(G)}B.active=C}this._sourceEvents=E;this._keyModifiers=x;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)};A._setLatestPointerType=function(E){this._set("latestPointerType",E)};A._onEventReceived=function(E,x){"pointer-capture-lost"===E&&this._pointerCaptures.delete(x.native.pointerId);
this._updateKeyModifiers(E,x);this._emitInputEventFromSource(E,x,null!=this.test.timestamp?this.test.timestamp:x.native?x.native.timestamp:void 0,x.native?x.native.cancelable:void 0)};A._updateKeyModifiers=function(E,x){if(x){var F=!1,B=()=>{if(!F){const z=new Set;this._activeKeyModifiers.forEach(G=>{z.add(G)});this._activeKeyModifiers=z;F=!0}},C=(z,G)=>{G&&!this._activeKeyModifiers.has(z)?(B(),this._activeKeyModifiers.add(z)):!G&&this._activeKeyModifiers.has(z)&&(B(),this._activeKeyModifiers.delete(z))};
if("key-down"===E||"key-up"===E){const z=x.key;this._keyModifiers.has(z)&&C(z,"key-down"===E)}E=x.native;C("Alt",!(!E||!E.altKey));C("Ctrl",!(!E||!E.ctrlKey));C("Shift",!(!E||!E.shiftKey));C("Meta",!(!E||!E.metaKey));C("Primary",this._activeKeyModifiers.has(this.primaryKey))}};A._installRecognizers=function(){this._latestPointerTypeHandler=new f.LatestPointerType(E=>this._setLatestPointerType(E));0<this.recognizers.length&&this.installHandlers("default",this.recognizers,D.INTERNAL);this.installHandlers("input-manager-logic",
[this._latestPointerTypeHandler],D.INTERNAL)};A._setPointerCapture=function(E,x,F,B){E=E.name+"-"+x.priorityIndex;x=this._pointerCaptures.get(F.pointerId)||new Set;this._pointerCaptures.set(F.pointerId,x);B?(x.add(E),1===x.size&&this.eventSource&&this.eventSource.setPointerCapture(F,!0)):x.has(E)&&(x.delete(E),0===x.size&&(this._pointerCaptures.delete(F.pointerId),this.eventSource&&this.eventSource.setPointerCapture(F,!1)))};A._garbageCollectRemovedHandlers=function(){this._handlers=this._handlers.filter(E=>
!E.removed);this.updateDependencies()};A._emitInputEventFromSource=function(E,x,F,B){this._emitInputEvent(0,E,x,F,B)};A._emitInputEvent=function(E,x,F,B,C,z){B=void 0!==B?B:this._currentPropagation?this._currentPropagation.timestamp:performance.now();E={event:new w(x,F,B,z||this._activeKeyModifiers,void 0!==C?C:!1),priorityIndex:E};this._currentPropagation?this._currentPropagation.events.push(E):this._doNewPropagation(E)};A._doNewPropagation=function(E){this._currentPropagation={events:new g,currentHandler:null,
needsHandlerGarbageCollect:!1,timestamp:E.event.timestamp};this._currentPropagation.events.push(E);this._continuePropagation()};A._continuePropagation=function(){const E=this._currentPropagation;if(E){for(;0<this._currentPropagation.events.length;){const {event:x,priorityIndex:F}=this._currentPropagation.events.pop(),B=x.data&&x.data.eventId;if(null==B||!this._stoppedPropagationEventIds.has(B))for(E.currentHandler=this._handlersPriority[F];E.currentHandler;){if(E.currentHandler.removed)E.needsHandlerGarbageCollect=
!0;else{E.currentHandler.active&&!x.shouldStopPropagation()&&E.currentHandler.eventCallback(x);if(x.shouldStopPropagation()){null!=B&&this._stoppedPropagationEventIds.add(B);break}if(x.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:x,priorityIndex:E.currentHandler.priorityIndex+1});return}}E.currentHandler=this._handlersPriority[E.currentHandler.priorityIndex+1]}}E.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();
this._currentPropagation=null}};A._pausePropagation=function(E){const x=new g;for(x.push(E);this._currentPropagation.events.length;)x.push(this._currentPropagation.events.pop());this._currentPropagation.events=x;this._currentPropagation.currentHandler=null};A._compareHandlerPriority=function(E,x){if(E.handler.hasSideEffects!==x.handler.hasSideEffects)return E.handler.hasSideEffects?1:-1;if(E.groupPriority!==x.groupPriority)return E.groupPriority>x.groupPriority?-1:1;for(const F of E.handler.incomingEventMatches)for(const B of x.handler.incomingEventMatches){if(F.eventType!==
B.eventType)continue;const C=F.keyModifiers.filter(z=>-1!==B.keyModifiers.indexOf(z));if(C.length===F.keyModifiers.length!==(C.length===B.keyModifiers.length))return F.keyModifiers.length>B.keyModifiers.length?-1:1}return E.priorityIndex>x.priorityIndex?-1:1};A._sortHandlersPriority=function(E){const x=[];for(const F of E){for(E=0;E<x.length&&0<=this._compareHandlerPriority(F,x[E]);)E++;x.splice(E,0,F)}return x};c._createClass(y,[{key:"hasPendingInputs",get:function(){return this._handlers.some(E=>
E.handler.hasPendingInputs)}},{key:"debug",get:function(){const E=x=>{const F=this._setPointerCapture;this._setPointerCapture=()=>{};x();this._setPointerCapture=F};return{injectEvent:(x,F)=>{E(()=>{this._onEventReceived(x,F)})},disablePointerCapture:E}}}]);return y}(l);b.__decorate([d.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);b.__decorate([d.property()],a.InputManager.prototype,"eventSource",void 0);b.__decorate([d.property()],a.InputManager.prototype,"recognizers",
void 0);b.__decorate([d.property({readOnly:!0})],a.InputManager.prototype,"latestPointerType",void 0);a.InputManager=b.__decorate([m.subclass("esri.views.input.InputManager")],a.InputManager);let w=function(){function v(A,E,x,F,B){this.type=A;this.data=E;this.timestamp=x;this.modifiers=F;this.cancelable=B;this._propagationState=0;this._resumeCallback=null}var y=v.prototype;y.stopPropagation=function(){this._propagationState|=1};y.shouldStopPropagation=function(){return 0!==(this._propagationState&
1)};y.async=function(A){this._propagationState|=2;const E=(x,F)=>{this._propagationState&=-3;const B=this._resumeCallback;this._resumeCallback=null;B&&B();if(F)throw x;return x};return("function"===typeof A?A():A).then(x=>E(x,!1),x=>E(x,!0))};y.shouldPausePropagation=function(A){return this._propagationState&2?(this._resumeCallback=A,!0):!1};y.preventDefault=function(){this.data.native.preventDefault()};return v}();const D={DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};a.ViewEventPriorities=D;Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/core/Queue":function(){define(["../chunks/_rollupPluginBabelHelpers","./maybe"],function(a,c){return function(){function b(r=k=>k.values().next().value){this._peeker=r;this._items=new Set}var n=b.prototype;n.clear=function(){this._items.clear()};n.peek=function(){if(0!==this._items.size)return this._peeker(this._items)};n.push=function(r){this.contains(r)||this._items.add(r)};n.contains=function(r){return this._items.has(r)};n.pop=function(){if(0!==this.length){var r=
this.peek();this._items.delete(c.assumeNonNull(r));return r}};n.remove=function(r){this._items.delete(r)};n.filter=function(r){this._items.forEach(k=>{r(k)||this._items.delete(k)});return this};a._createClass(b,[{key:"length",get:function(){return this._items.size}}]);return b}()})},"esri/views/input/keys":function(){define(["exports","../../core/has","../../core/events"],function(a,c,b){c=c("mac")?"Meta":"Ctrl";const n={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",
36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(var r=48;58>r;r++)n[r]=String.fromCharCode(r);for(r=1;25>r;r++)n[111+r]=`F${r}`;for(r=65;91>r;r++)n[r]=[String.fromCharCode(r+32),String.fromCharCode(r)];a.eventKey=function(k){if(void 0!==k.key)return b.eventKey(k);const d=n[k.keyCode];return Array.isArray(d)?k.shiftKey?d[1]:d[0]:d};a.isSystemModifier=function(k){switch(k){case "Ctrl":case "Alt":case "Shift":case "Meta":case "Primary":return!0}return!1};
a.primaryKey=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/handlers/LatestPointerType":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../InputHandler"],function(a,c,b){b=function(n){function r(k){var d=n.call(this,!0)||this;d._onChange=k;d._value="mouse";d.registerIncoming("pointer-down",h=>{d._setValue("touch"===h.data.native.pointerType?"touch":"mouse")});d._moveHandler=d.registerIncoming("pointer-move",h=>{d._setValue("touch"===h.data.native.pointerType?
"touch":"mouse")});d._moveHandler.pause();return d}c._inheritsLoose(r,n);r.prototype._setValue=function(k){k!==this._value&&("touch"===k?this._moveHandler.resume():this._moveHandler.pause(),this._value=k,this._onChange(k))};return r}(b.InputHandler);a.LatestPointerType=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/ToolViewManager":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/Accessor ../core/Collection ../core/Handles ../core/watchUtils ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y){const A=r.getLogger("esri.views.ToolViewManager");b=function(E){function x(B){var C=E.call(this,B)||this;C._handles=new f;C._creatingTool=null;C._manipulatorState=new y;C.tools=v.newToolCollection();C.cursor=null;C._forEachTool=z=>{if(!n.isSome(C._creatingTool)||!z(C._creatingTool))for(const G of C.tools.items)if(z(G))break};return C}a._inheritsLoose(x,E);var F=x.prototype;F.initialize=function(){this._handles.add([this.view.on(D.eventTypes,B=>{this._handleInputEvent(B)},
w.ViewEventPriorities.TOOL),this.tools.on("before-add",B=>{const C=B.item;null==C||this.tools.includes(C)?B.preventDefault():null==C.created||C.created||(A.error("tools","Tool can not be added to view before it has been created"),B.preventDefault())}),this.tools.on("before-remove",({item:B})=>{this._manipulatorState.clearPointers(B,this._forEachTool)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])};F.destroy=function(){this._forEachTool(B=>B.destroy());this._handles.destroy();this._handles=
null};F.createTool=async function(B,C,z){await this.view.whenReady();if(l.isAborted(z))throw l.createAbortError("Tool creation was interrupted by another tool being created");C=v.evaluateToolConstructorArguments(C);const G=new B({...C,view:this.view});B=l.onAbort(z,()=>this.activeTool=null);this._rejectCreatingTool("Tool creation was interrupted by another tool being created");this._creatingTool=G;G.attach();this._refreshToolWatchers();v.setActive(G,!0);await G.when();n.isSome(B)&&B.remove();this._creatingTool=
null;this.tools.add(G);G instanceof g&&null!=G.completed&&u.whenOnce(G,"completed").then(()=>{v.setActive(G,!1)});return G};F.attach=function(){this._forEachTool(B=>B.attach());"3d"===this.view.type?this._handles.add([this.view.state.watch("camera",()=>{this.forEachManipulator(B=>{if(null!=B.onViewChange)B.onViewChange()})}),this.view.elevationProvider.on("elevation-change",B=>{this.forEachManipulator(C=>{if(null!=C.onElevationChange)C.onElevationChange(B)})})],"manipulators"):this._handles.add(this.view.watch("extent",
()=>{this.forEachManipulator(B=>{if(null!=B.onViewChange)B.onViewChange()})}))};F.detach=function(){this.activeTool=null;this._forEachTool(B=>{B.detach();B.destroy()});this.tools.removeAll();this._handles.remove("manipulators")};F.forEachManipulator=function(B){this._forEachTool(C=>{C.manipulators&&C.manipulators.forEach(({manipulator:z})=>B(z,C))})};F._handleInputEvent=function(B){let C=!1;const z={...B,stopPropagation:()=>{C=!0;B.stopPropagation()}};n.isSome(this.activeTool)?this.activeTool.handleInputEvent&&
this.activeTool.handleInputEvent(z):this._forEachTool(G=>{!C&&!1!==G.visible&&G.handleInputEvent&&G.handleInputEvent(z)});!C&&"key-down"===B.type&&"Escape"===B.key&&this.activeTool&&(B.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(z,{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:G=>{this.activeTool=G},creatingTool:this._creatingTool,view:this.view});!C&&n.isSome(this.activeTool)&&this.activeTool.handleInputEventAfter&&this.activeTool.handleInputEventAfter(z);
this._manipulatorState.handleHoverEvent(z,this._forEachTool);this._updateCursor()};F._refreshToolWatchers=function(){this._handles.remove("tools");this._forEachTool(B=>{if(B instanceof g){const C=u.watch(B,["cursor","visible","editable"],()=>{v.areToolManipulatorsEditable(B)||this._manipulatorState.clearPointers(B,this._forEachTool);this._updateCursor()});this._handles.add(C,"tools")}B.manipulators&&this._handles.add(B.manipulators.on("change",C=>{C.removed.forEach(({id:z})=>{this._manipulatorState.clearPointers(B,
this._forEachTool,!0,z)});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}),"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()};F._updateCursor=function(){let B=null;this._forEachTool(C=>null!=C.cursor&&!1!==C.visible?(B=C.cursor,!0):!1);B||(B=this._manipulatorState.cursor);this._get("cursor")!==B&&this._set("cursor",B)};F._rejectCreatingTool=function(B){const C=this._creatingTool;n.isNone(C)||
(this._manipulatorState.clearPointers(C,this._forEachTool),C.rejectCreation&&C.rejectCreation(l.createAbortError(B)),C.destroy(),this._creatingTool=null,this._refreshToolWatchers())};F._removeIncompleteTools=function(B){this.tools.filter(C=>(n.isNone(B)||C!==B)&&null!=C.completed&&!C.completed).forEach(C=>{this.tools.remove(C)})};a._createClass(x,[{key:"activeTool",set:function(B){n.isSome(B)&&!this.view.ready?A.error("#activeTool\x3d","cannot set active tool while view is not ready"):(v.swap(this,
B,C=>{this._set("activeTool",C);this._removeIncompleteTools(B);this._forEachTool(z=>{var G=n.isNone(this.activeTool)||z===this.activeTool;z.setEditableFlag&&z.setEditableFlag(1,G);G=v.areToolManipulatorsEditable(z);!n.isNone(this.activeTool)&&G||this._manipulatorState.clearPointers(z,this._forEachTool,!G)});this._updateCursor()}),this._creatingTool!==B&&this._rejectCreatingTool())}}]);return x}(g);c.__decorate([d.property({constructOnly:!0,nonNullable:!0})],b.prototype,"view",void 0);c.__decorate([d.property({value:null})],
b.prototype,"activeTool",null);c.__decorate([d.property({readOnly:!0,type:e})],b.prototype,"tools",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"cursor",void 0);return b=c.__decorate([m.subclass("esri.views.ToolViewManager")],b)})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/maybe","../../core/Collection","../DOMContainer"],function(a,c,b,n){function r(k,d){const h=k.view;h&&(d&&h.ready&&h.activeTool!==k?(h.activeTool=k,n.isDOMContainer(h)&&
h.focus()):d||h.activeTool!==k||(h.activeTool=null))}a.areToolManipulatorsEditable=function(k){return!1!==k.visible&&!1!==k.editable&&(null==k.hasEditableFlag||k.hasEditableFlag(1))};a.evaluateToolConstructorArguments=function(k){return c.isNone(k)?{}:"function"===typeof k?k():k};a.newToolCollection=function(){const k=new b;k.on("after-add",d=>{d=d.item;d.view&&d.view.ready&&d.attach()});k.on("after-remove",d=>{d=d.item;r(d,!1);d.destroyed||d.detach()});return k};a.setActive=r;a.swap=function(k,d,
h){k=k.activeTool;d!==k&&(c.isSome(k)&&k.deactivate&&k.deactivate(),h(d),c.isSome(d)&&d.activate&&d.activate())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/DOMContainer":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/scheduling ../core/watchUtils ../core/domUtils ./overlay/ViewOverlay ../widgets/Popup".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){function w(v){v&&(e.empty(v),v.parentNode&&v.parentNode.removeChild(v))}const D=[0,0];a.DOMContainer=v=>{v=function(y){function A(...x){var F=y.call(this,...x)||this;F._freqInfo={freq:16,time:750};F._overlayRenderTaskHandle=null;F.height=0;F.position=null;F.resizing=!1;F.root=null;F.surface=null;F.suspended=!0;F.ui=null;F.userContent=null;F.width=0;F.widthBreakpoint=null;F.handles.add([F.watch("cursor",B=>{const C=F.surface;C&&C.setAttribute("data-cursor",
B)}),F.watch("interacting",B=>{const C=F.surface;C&&C.setAttribute("data-interacting",B.toString())})]);return F}c._inheritsLoose(A,y);var E=A.prototype;E.initialize=function(){this.handles.add(this.watch("ui",(x,F)=>this._handleUIChange(x,F)));this._wireUI(this.ui);this.handles.add([this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])};E.destroy=function(){this.destroyed||(this.ui&&(this.ui.destroy(),this.ui=null),this.popup&&!this.popup.destroyed&&
this.popup.destroy(),this.container=null)};E.blur=function(){this.surface&&this.surface.blur()};E.focus=function(){this.surface&&this.surface.focus()};E.pageToContainer=function(x,F,B){const C=this.position;x-=C[0];F-=C[1];B?(B[0]=x,B[1]=F):B=[x,F];return B};E.containerToPage=function(x,F,B){const C=this.position;x+=C[0];F+=C[1];B?(B[0]=x,B[1]=F):B=[x,F];return B};E._handleUIChange=function(x,F){F&&(this.handles.remove("ui"),F.destroy());x&&this._wireUI(x);this._set("ui",x)};E._wireUI=function(x){this.handles.remove("ui");
x&&(x.view=this,this.handles.add([g.init(this,"root",F=>{if(F){{const B=document.createElement("div");F.appendChild(B);F=B}}else F=null;x.container=F}),g.init(this,"popup",(F,B)=>{B&&x.remove(B,"popup");F&&(F.view=x.view,x.add(F,{key:"popup",position:"manual"}))})],"ui"))};E._stopMeasuring=function(){this.handles.remove("measuring");this._get("resizing")&&this._set("resizing",!1)};E._startMeasuring=function(){const x=this._freqInfo;x.freq=16;x.time=750;this.handles.add([(()=>{const F=()=>{x.freq=
16;x.time=750};window.addEventListener("resize",F);return{remove(){window.removeEventListener("resize",F)}}})(),l.addFrameTask({prepare:F=>{const B=this._measure(),C=this._freqInfo;C.time+=F.deltaTime;B&&(C.freq=16,this._get("resizing")||this._set("resizing",!0));C.time<C.freq||(C.time=0,this._position()||B?C.freq=16:C.freq=Math.min(750,2*C.freq),!B&&512<=C.freq&&this._get("resizing")&&this._set("resizing",!1))}})],"measuring");this._measure();this._position()};E._measure=function(){var x=this.container;
const F=x?x.clientWidth:0;x=x?x.clientHeight:0;if(0===F||0===x)return this.suspended||this._set("suspended",!0),!1;const B=this.width,C=this.height;if(F===B&&x===C)return this.suspended&&this._set("suspended",!1),!1;this._set("width",F);this._set("height",x);this.suspended&&this._set("suspended",!1);this.emit("resize",{oldWidth:B,oldHeight:C,width:F,height:x});return!0};E._position=function(){var x=this.container;const F=this.position;{const B=(x.ownerDocument||window.document).defaultView;x=x.getBoundingClientRect();
D[0]=x.left+B.pageXOffset;D[1]=x.top+B.pageYOffset}return F&&D[0]===F[0]&&D[1]===F[1]?!1:(this._set("position",[D[0],D[1]]),!0)};E.forceDOMReadyCycle=function(){};c._createClass(A,[{key:"container",set:function(x){var F=this._get("container");if(F!==x)if(this.handles.remove("dom-size"),this._stopMeasuring(),F&&(F.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay.destroy(),this._set("overlay",null),
w(this.root),this._set("root",null),e.reparent(this.userContent,F),w(this.userContent),this._set("userContent",null)),x){x.classList.add("esri-view");F=document.createElement("div");F.className="esri-view-user-storage";e.reparent(x,F);x.appendChild(F);this._set("userContent",F);F=document.createElement("div");F.className="esri-view-root";x.insertBefore(F,x.firstChild);this._set("root",F);const B=document.createElement("div");B.className="esri-view-surface";B.setAttribute("role","application");B.tabIndex=
0;F.appendChild(B);this._set("surface",B);const C=new f;F.appendChild(C.surface);this._set("overlay",C);C.watch("needsRender",z=>{z&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=l.addFrameTask({render:()=>{this.overlay.render()}}):this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null)});this.forceDOMReadyCycle();this.handles.add(g.init(this,"size",z=>{const [G,H]=z;G>=document.body.clientWidth||H>=document.body.clientHeight?B.classList.add("esri-view-surface--inset-outline"):
B.classList.remove("esri-view-surface--inset-outline")}),"dom-size");this._set("container",x);this._startMeasuring()}else this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),this._set("container",null)}},{key:"focused",get:function(){const x=document.activeElement===this.surface;return document.hasFocus()&&x}},{key:"popup",get:function(){return this._get("popup")||new u({view:this})},set:function(x){const F=this._get("popup");F&&
F!==x&&F.destroy();this._set("popup",x)}},{key:"size",get:function(){return[this.width,this.height]}}]);return A}(v);b.__decorate([d.property({value:null,cast:y=>e.byId(y)})],v.prototype,"container",null);b.__decorate([d.property({readOnly:!0})],v.prototype,"focused",null);b.__decorate([d.property({readOnly:!0})],v.prototype,"height",void 0);b.__decorate([d.property({type:u})],v.prototype,"popup",null);b.__decorate([d.property({type:f})],v.prototype,"overlay",void 0);b.__decorate([d.property({readOnly:!0})],
v.prototype,"position",void 0);b.__decorate([d.property({readOnly:!0})],v.prototype,"resizing",void 0);b.__decorate([d.property({readOnly:!0})],v.prototype,"root",void 0);b.__decorate([d.property({value:null,readOnly:!0})],v.prototype,"size",null);b.__decorate([d.property({readOnly:!0})],v.prototype,"surface",void 0);b.__decorate([d.property({readOnly:!0})],v.prototype,"suspended",void 0);b.__decorate([d.property()],v.prototype,"ui",void 0);b.__decorate([d.property({readOnly:!0})],v.prototype,"userContent",
void 0);b.__decorate([d.property({readOnly:!0})],v.prototype,"width",void 0);b.__decorate([d.property()],v.prototype,"widthBreakpoint",void 0);return v=b.__decorate([m.subclass("esri.views.DOMContainer")],v)};a.isDOMContainer=function(v){return v&&"focus"in v};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/domUtils":function(){define(["exports"],function(a){const c=(()=>{if("function"===typeof Element.prototype.closest)return(n,r)=>n.closest(r);const b=Element.prototype.matches||Element.prototype.msMatchesSelector;
return(n,r)=>{do{if(b.call(n,r))return n;n=n.parentElement}while(null!==n&&1===n.nodeType);return null}})();a.byId=function(b){return"string"===typeof b?document.getElementById(b):b};a.closest=c;a.empty=function(b){for(;b.hasChildNodes();)b.removeChild(b.firstChild)};a.insertAfter=function(b,n){const r=n.parentNode;r&&(r.lastChild===n?r.appendChild(b):r.insertBefore(b,n.nextSibling))};a.insertBefore=function(b,n){const r=n.parentNode;r&&r.insertBefore(b,n)};a.remove=function(b){b.parentNode&&b.parentNode.removeChild(b)};
a.reparent=function(b,n){for(;;){const r=b.firstChild;if(!r)break;n.appendChild(r)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/overlay/ViewOverlay":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../core/Collection ../support/WatchUpdatingTracking ../../libs/maquette/projection ../../libs/maquette/projector".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){b=function(u){function w(){var v=u.apply(this,arguments)||this;v.items=new l;v._watchUpdatingTracking=new g.WatchUpdatingTracking;v._callbacks=new Map;v._projector=f.createProjector();v._hiddenProjector=f.createProjector();return v}a._inheritsLoose(w,u);var D=w.prototype;D.initialize=function(){const v=document.createElement("div");v.className="esri-overlay-surface";this._set("surface",v);this._hiddenSurface=document.createElement("div");this._hiddenSurface.setAttribute("style",
"visibility: hidden;");v.appendChild(this._hiddenSurface);this._watchUpdatingTracking.addOnCollectionChange(this.items,y=>{y.added.map(A=>{const E=()=>A.render();this._callbacks.set(A,E);this._projector.append(this.surface,E)});y.removed.map(A=>{const E=this._projector.detach(this._callbacks.get(A));this.surface.removeChild(E.domNode);this._callbacks.delete(A)})})};D.addItem=function(v){this.items.add(v)};D.removeItem=function(v){this.items.remove(v)};D.destroy=function(){this.items.removeAll();this._callbacks.forEach(v=>
this._projector.detach(v));this._projector=this._callbacks=null;this._watchUpdatingTracking.destroy()};D.render=function(){this._projector.renderNow()};D.computeBoundingRect=function(v){const y=this._hiddenSurface,A=this._hiddenProjector;let E=null;const x=()=>E=v.render();A.append(y,x);A.renderNow();const F={left:0,top:0,right:0,bottom:0};if(E&&E.domNode){const B=E.domNode.getBoundingClientRect();F.left=B.left;F.top=B.top;F.right=B.right;F.bottom=B.bottom}for(A.detach(x);y.firstChild;)y.removeChild(y.firstChild);
return F};D.overlaps=function(v,y){v=this.computeBoundingRect(v);y=this.computeBoundingRect(y);return Math.max(v.left,y.left)<=Math.min(v.right,y.right)&&Math.max(v.top,y.top)<=Math.min(v.bottom,y.bottom)};D.renderCanvas=function(v){if(this.items.some(A=>A.visible)){var y=v.getContext("2d");y.save();y.font=`10px ${getComputedStyle(this.surface).fontFamily}`;this.items.forEach(A=>{y.save();A.renderCanvas(y);y.restore()});y.restore()}};a._createClass(w,[{key:"needsRender",get:function(){return 0<this.items.length}},
{key:"hasVisibleItems",get:function(){return this.items.some(v=>v.visible)}}]);return w}(q);c.__decorate([k.property({readOnly:!0})],b.prototype,"surface",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"items",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"needsRender",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);c.__decorate([k.property({readOnly:!0,aliasOf:"_watchUpdatingTracking.updating"})],b.prototype,"updating",void 0);
return b=c.__decorate([h.subclass("esri.views.overlay.ViewOverlay")],b)})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,c){let b=[],n=(D,v)=>{let y={};Object.keys(D).forEach(A=>{y[A]=D[A]});v&&Object.keys(v).forEach(A=>{y[A]=v[A]});return y},r=(D,v)=>D.vnodeSelector!==v.vnodeSelector?!1:D.properties&&v.properties?D.properties.key!==v.properties.key?!1:D.properties.bind===v.properties.bind:!D.properties&&!v.properties,k=D=>{if("string"!==
typeof D)throw Error("Style values must be strings");},d=(D,v,y,A)=>{let E=D[v];if(""!==E.vnodeSelector){var x=E.properties;if(!(x&&(void 0===x.key?x.bind:x.key)))for(x=0;x<D.length;x++)if(x!==v&&r(D[x],E))throw Error(`${y.vnodeSelector} had a ${E.vnodeSelector} child ${"added"===A?A:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},h=[],m=!1,t=D=>{(D.children||[]).forEach(t);D.properties&&D.properties.afterRemoved&&D.properties.afterRemoved.apply(D.properties.bind||
D.properties,[D.domNode])},p=()=>{m=!1;h.forEach(t);h.length=0},q=D=>{h.push(D);m||(m=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(p,{timeout:16}):setTimeout(p,16))},l=D=>{let v=D.domNode;if(D.properties){let y=D.properties.exitAnimation;if(y){v.style.pointerEvents="none";y(v,()=>{v.parentNode&&(v.parentNode.removeChild(v),q(D))},D.properties);return}}v.parentNode&&(v.parentNode.removeChild(v),q(D))},g=(D,v,y)=>{if(v){var A=y.eventHandlerInterceptor,E=
Object.keys(v),x=E.length;for(let G=0;G<x;G++){var F=E[G];let H=v[F];if("className"===F)throw Error('Property "className" is not supported, use "class".');if("class"===F)w(D,H,!0);else if("classes"===F){F=Object.keys(H);var B=F.length;for(var C=0;C<B;C++){var z=F[C];H[z]&&D.classList.add(z)}}else if("styles"===F)for(F=Object.keys(H),B=F.length,C=0;C<B;C++){z=F[C];let I=H[z];I&&(k(I),y.styleApplyer(D,z,I))}else"key"!==F&&null!==H&&void 0!==H&&(B=typeof H,"function"===B?(0===F.lastIndexOf("on",0)&&
(A&&(H=A(F,H,D,v)),"oninput"===F&&function(){let I=H;H=function(K){I.apply(this,[K]);K.target["oninput-value"]=K.target.value}}()),D[F]=H):"http://www.w3.org/2000/svg"===y.namespace?"href"===F?D.setAttributeNS("http://www.w3.org/1999/xlink",F,H):D.setAttribute(F,H):"string"===B&&"value"!==F?"innerHTML"===F?D[F]=c.renderingSanitizer.sanitize(H):D.setAttribute(F,H):D[F]=H)}}},e=(D,v,y)=>{var A=v.children;if(A)for(let E of A)f(E,D,void 0,y);v.text&&(D.textContent=v.text);g(D,v.properties,y);v.properties&&
v.properties.afterCreate&&v.properties.afterCreate.apply(v.properties.bind||v.properties,[D,y,v.vnodeSelector,v.properties,v.children])},f=(D,v,y,A)=>{let E;var x=0;let F=D.vnodeSelector,B=v.ownerDocument;if(""===F)E=D.domNode=B.createTextNode(D.text),void 0!==y?v.insertBefore(E,y):v.appendChild(E);else{for(let z=0;z<=F.length;++z){var C=F.charAt(z);if(z===F.length||"."===C||"#"===C)C=F.charAt(x-1),x=F.slice(x,z),"."===C?E.classList.add(x):"#"===C?E.id=x:("svg"===x&&(A=n(A,{namespace:"http://www.w3.org/2000/svg"})),
void 0!==A.namespace?E=D.domNode=B.createElementNS(A.namespace,x):(E=D.domNode=D.domNode||B.createElement(x),"input"===x&&D.properties&&void 0!==D.properties.type&&E.setAttribute("type",D.properties.type)),void 0!==y?v.insertBefore(E,y):E.parentNode!==v&&v.appendChild(E)),x=z+1}e(E,D,A)}},u,w=(D,v,y)=>{v&&v.split(" ").forEach(A=>{A&&D.classList.toggle(A,y)})};u=(D,v,y)=>{let A=D.domNode;if(D===v)return!1;let E=!1;if(""===v.vnodeSelector){if(v.text!==D.text)return D=A.ownerDocument.createTextNode(v.text),
A.parentNode.replaceChild(D,A),v.domNode=D,!0;v.domNode=A}else{0===v.vnodeSelector.lastIndexOf("svg",0)&&(y=n(y,{namespace:"http://www.w3.org/2000/svg"}));D.text!==v.text&&(E=!0,void 0===v.text?A.removeChild(A.firstChild):A.textContent=v.text);v.domNode=A;var x=D.children;var F=v.children,B=y;if(x===F)x=!1;else{x=x||b;F=F||b;for(var C=x.length,z=F.length,G=0,H=0,I=!1;H<z;){var K=G<C?x[G]:void 0,L=F[H];if(void 0!==K&&r(K,L))I=u(K,L,B)||I,G++;else{b:{K=x;var T=L,O=G+1;if(""!==T.vnodeSelector)for(;O<
K.length;O++)if(r(K[O],T)){K=O;break b}K=-1}if(0<=K){for(;G<K;G++)l(x[G]),d(x,G,v,"removed");I=u(x[K],L,B)||I;G=K+1}else f(L,A,G<C?x[G].domNode:void 0,B),L.properties&&(K=L.properties.enterAnimation)&&K(L.domNode,L.properties),d(F,H,v,"added")}H++}if(C>G)for(;G<C;G++)l(x[G]),d(x,G,v,"removed");x=I}E=x||E;x=D.properties;F=v.properties;B=y;if(F){C=!1;z=Object.keys(F);H=z.length;for(I=0;I<H;I++)if(K=z[I],L=F[K],G=x[K],"class"===K)G!==L&&(w(A,G,!1),w(A,L,!0));else if("classes"===K){K=A.classList;T=Object.keys(L);
O=T.length;for(var U=0;U<O;U++){var W=T[U];let S=!!L[W];S!==!!G[W]&&(C=!0,S?K.add(W):K.remove(W))}}else if("styles"===K)for(K=Object.keys(L),T=K.length,O=0;O<T;O++)U=K[O],W=L[U],W!==G[U]&&(C=!0,W?(k(W),B.styleApplyer(A,U,W)):B.styleApplyer(A,U,""));else L||"string"!==typeof G||(L=""),"value"===K?(T=A[K],T!==L&&(A["oninput-value"]?T===A["oninput-value"]:L!==G)&&(A[K]=L,A["oninput-value"]=void 0),L!==G&&(C=!0)):L!==G&&(G=typeof L,"function"===G&&B.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===
B.namespace?"href"===K?A.setAttributeNS("http://www.w3.org/1999/xlink",K,L):A.setAttribute(K,L):"string"===G?"innerHTML"===K?A[K]=c.renderingSanitizer.sanitize(L):"role"===K&&""===L?A.removeAttribute(K):A.setAttribute(K,L):A[K]!==L&&(A[K]=L),C=!0));x=C}else x=void 0;E=x||E;v.properties&&v.properties.afterUpdate&&v.properties.afterUpdate.apply(v.properties.bind||v.properties,[A,y,v.vnodeSelector,v.properties,v.children])}E&&v.properties&&v.properties.updateAnimation&&v.properties.updateAnimation(A,
v.properties,D.properties);return!1};a.createDom=f;a.createProjection=(D,v)=>({getLastRender:()=>D,update:y=>{if(D.vnodeSelector!==y.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let A=D;D=y;u(A,y,v)},domNode:D.domNode});a.extend=n;a.initPropertiesAndChildren=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/widgetUtils":function(){define(["exports","../../core/has","../../core/Logger",
"../../core/ArrayPool","../../chunks/index2"],function(a,c,b,n,r){function k(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}var d,h,m=function(l){if("WebkitTransition"in l.style)d="webkitTransitionEnd",h="webkitAnimationEnd";else if("transition"in l.style)d="transitionend",h="animationend";else throw Error("Your browser is not supported!");},t=function(l,g){void 0===g&&(g=l+"-active");return function(e){d||m(e);var f=!1,u=function(w){f||
(f=!0,e.removeEventListener(d,u),e.removeEventListener(h,u),e.classList.remove(l),e.classList.remove(g))};e.classList.add(l);e.addEventListener(d,u);e.addEventListener(h,u);requestAnimationFrame(function(){e.classList.add(g)})}},p=function(l,g){void 0===g&&(g=l+"-active");return function(e,f){d||m(e);var u=!1,w=function(D){u||(u=!0,e.removeEventListener(d,w),e.removeEventListener(h,w),f())};e.classList.add(l);e.addEventListener(d,w);e.addEventListener(h,w);requestAnimationFrame(function(){e.classList.add(g)})}};
b.getLogger("esri.widgets.support.widgetUtils");c="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");b=c.reduce((l,g)=>{l[g]=[];return l},{});const q="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");
r=new r.Sanitizer({whiteList:b,onTagAttr:(l,g,e)=>{l=`${g}="${e}"`;if(q.includes(g))return l},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);a.additionalAllowedTags=c;a.classes=function(l){const g=n.acquire();for(var e=0;e<arguments.length;e++){const f=arguments[e],u=typeof f;if("string"===u)g.push(f);else if(Array.isArray(f))g.push.apply(g,f);else if("object"===u)for(const w in f)f[w]&&g.push(w)}e=g.join(" ");n.release(g);return e};a.cssTransition=function(l,g){return("enter"===l?t:
p)(g)};a.discardNode=function(l){this[l.getAttribute("data-node-ref")]=null};a.getThemeName=k;a.isDarkTheme=function(){return k().startsWith("dark")};a.isRTL=function(){return"rtl"===document.dir};a.keepMenuItemWithinView=function(l,g){const e=l.getBoundingClientRect();g=g.getBoundingClientRect();const f=e.top,u=g.top;(e.top+e.height>g.top+g.height||f<u)&&l.scrollIntoView({block:"end"})};a.renderingSanitizer=r;a.safeAttrs=q;a.storeNode=function(l){this[l.getAttribute("data-node-ref")]=l};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/chunks/index2":function(){define(["exports"],function(a){function c(V,ba,Q){return Q={path:ba,exports:{},require:function(Y,aa){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},V(Q,Q.exports),Q.exports}function b(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,
"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,
"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,
"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,
"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,
"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,
"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,
"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,
"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,
"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,
"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,
"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,
"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function n(V){V=V||{};var ba={},Q;for(Q in V)ba[Q]=V[Q];V=ba;V.whiteList=V.whiteList||C.whiteList;V.onAttr=V.onAttr||C.onAttr;V.onIgnoreAttr=V.onIgnoreAttr||C.onIgnoreAttr;V.safeAttrValue=V.safeAttrValue||
C.safeAttrValue;this.options=V}function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],
h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls loop preload src height width".split(" ")}}
function k(V){return V.replace(L,"\x26lt;").replace(T,"\x26gt;")}function d(V){return V.replace(O,"\x26quot;")}function h(V){return V.replace(U,'"')}function m(V){return V.replace(W,function(ba,Q){return"x"===Q[0]||"X"===Q[0]?String.fromCharCode(parseInt(Q.substr(1),16)):String.fromCharCode(parseInt(Q,10))})}function t(V){return V.replace(S,":").replace(N," ")}function p(V){for(var ba="",Q=0,Y=V.length;Q<Y;Q++)ba+=32>V.charCodeAt(Q)?" ":V.charAt(Q);return H.trim(ba)}function q(V){V=h(V);V=m(V);V=
t(V);return V=p(V)}function l(V){V=d(V);return V=k(V)}function g(V,ba){for(;ba<V.length;ba++){var Q=V[ba];if(" "!==Q)return"\x3d"===Q?ba:-1}}function e(V,ba){for(;0<ba;ba--){var Q=V[ba];if(" "!==Q)return"\x3d"===Q?ba:-1}}function f(V){var ba='"'===V[0]&&'"'===V[V.length-1]||"'"===V[0]&&"'"===V[V.length-1]?!0:!1;return ba?V.substr(1,V.length-2):V}function u(V){var ba=H.spaceIndex(V);if(-1===ba)return{html:"",closing:"/"===V[V.length-2]};V=H.trim(V.slice(ba+1,-1));(ba="/"===V[V.length-1])&&(V=H.trim(V.slice(0,
-1)));return{html:V,closing:ba}}function w(V){V=V||{};var ba={},Q;for(Q in V)ba[Q]=V[Q];V=ba;V.stripIgnoreTag&&(V.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),V.onIgnoreTag=X.onIgnoreTagStripAll);V.whiteList=V.whiteList||X.whiteList;V.onTag=V.onTag||X.onTag;V.onTagAttr=V.onTagAttr||X.onTagAttr;V.onIgnoreTag=V.onIgnoreTag||X.onIgnoreTag;V.onIgnoreTagAttr=V.onIgnoreTagAttr||X.onIgnoreTagAttr;V.safeAttrValue=V.safeAttrValue||X.safeAttrValue;
V.escapeHtml=V.escapeHtml||X.escapeHtml;this.options=V;!1===V.css?this.cssFilter=!1:(V.css=V.css||{},this.cssFilter=new ja(V.css))}var D=Object.prototype,v=Function.prototype.toString,y=D.hasOwnProperty,A=v.call(Object),E=D.toString,x=function(V,ba){return function(Q){return V(ba(Q))}}(Object.getPrototypeOf,Object),F=function(V){var ba;if(!(ba=!(V&&"object"==typeof V)||"[object Object]"!=E.call(V))&&(ba=!1,null!=V&&"function"!=typeof V.toString))try{ba=!!(V+"")}catch(Q){}if(ba)return!1;V=x(V);if(null===
V)return!0;V=y.call(V,"constructor")&&V.constructor;return"function"==typeof V&&V instanceof V&&v.call(V)==A},B=/javascript\s*:/img,C={whiteList:b(),getDefaultWhiteList:b,onAttr:function(V,ba,Q){},onIgnoreAttr:function(V,ba,Q){},safeAttrValue:function(V,ba){return B.test(ba)?"":ba}},z={indexOf:function(V,ba){var Q;if(Array.prototype.indexOf)return V.indexOf(ba);var Y=0;for(Q=V.length;Y<Q;Y++)if(V[Y]===ba)return Y;return-1},forEach:function(V,ba,Q){var Y;if(Array.prototype.forEach)return V.forEach(ba,
Q);var aa=0;for(Y=V.length;aa<Y;aa++)ba.call(Q,V[aa],aa,V)},trim:function(V){return String.prototype.trim?V.trim():V.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(V){return String.prototype.trimRight?V.trimRight():V.replace(/(\s*$)/g,"")}},G=function(V,ba){function Q(){if(!aa){var ra=z.trim(V.slice(fa,ka)),va=ra.indexOf(":");if(-1!==va){var Aa=z.trim(ra.slice(0,va));va=z.trim(ra.slice(va+1));Aa&&(ra=ba(fa,la.length,Aa,va,ra))&&(la+=ra+"; ")}}fa=ka+1}V=z.trimRight(V);";"!==V[V.length-1]&&(V+=";");
for(var Y=V.length,aa=!1,fa=0,ka=0,la="";ka<Y;ka++){var oa=V[ka];if("/"===oa&&"*"===V[ka+1]){oa=V.indexOf("*/",ka+2);if(-1===oa)break;ka=oa+1;fa=ka+1;aa=!1}else"("===oa?aa=!0:")"===oa?aa=!1:";"===oa?aa||Q():"\n"===oa&&Q()}return z.trim(la)};n.prototype.process=function(V){V=(V||"").toString();if(!V)return"";var ba=this.options,Q=ba.whiteList,Y=ba.onAttr,aa=ba.onIgnoreAttr,fa=ba.safeAttrValue;return G(V,function(ka,la,oa,ra,va){var Aa=Q[oa],ya=!1;!0===Aa?ya=Aa:"function"===typeof Aa?ya=Aa(ra):Aa instanceof
RegExp&&(ya=Aa.test(ra));!0!==ya&&(ya=!1);if(ra=fa(oa,ra)){ka={position:la,sourcePosition:ka,source:va,isWhite:ya};if(ya)return ya=Y(oa,ra,ka),void 0===ya||null===ya?oa+":"+ra:ya;ya=aa(oa,ra,ka);if(void 0!==ya&&null!==ya)return ya}})};D=c(function(V,ba){ba=V.exports=function(Y,aa){return(new n(aa)).process(Y)};ba.FilterCSS=n;for(var Q in C)ba[Q]=C[Q]});var H={indexOf:function(V,ba){var Q;if(Array.prototype.indexOf)return V.indexOf(ba);var Y=0;for(Q=V.length;Y<Q;Y++)if(V[Y]===ba)return Y;return-1},
forEach:function(V,ba,Q){var Y;if(Array.prototype.forEach)return V.forEach(ba,Q);var aa=0;for(Y=V.length;aa<Y;aa++)ba.call(Q,V[aa],aa,V)},trim:function(V){return String.prototype.trim?V.trim():V.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(V){return(V=/\s|\n|\t/.exec(V))?V.index:-1}},I=D.getDefaultWhiteList,K=new D.FilterCSS,L=/</g,T=/>/g,O=/"/g,U=/&quot;/g,W=/&#([a-zA-Z0-9]*);?/gim,S=/&colon;?/gim,N=/&newline;?/gim,P=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,
J=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,M=/u\s*r\s*l\s*\(.*/gi,R=/\x3c!--[\s\S]*?--\x3e/g,X={whiteList:r(),getDefaultWhiteList:r,onTag:function(V,ba,Q){},onIgnoreTag:function(V,ba,Q){},onTagAttr:function(V,ba,Q){},onIgnoreTagAttr:function(V,ba,Q){},safeAttrValue:function(V,ba,Q,Y){Q=q(Q);if("href"===ba||"src"===ba){Q=H.trim(Q);if("#"===Q)return"#";if("http://"!==Q.substr(0,7)&&"https://"!==Q.substr(0,8)&&"mailto:"!==Q.substr(0,7)&&"tel:"!==Q.substr(0,4)&&"data:image/"!==Q.substr(0,11)&&
"ftp://"!==Q.substr(0,6)&&"./"!==Q.substr(0,2)&&"../"!==Q.substr(0,3)&&"#"!==Q[0]&&"/"!==Q[0])return""}else if("background"===ba){if(P.lastIndex=0,P.test(Q))return""}else if("style"===ba){J.lastIndex=0;if(J.test(Q))return"";M.lastIndex=0;if(M.test(Q)&&(P.lastIndex=0,P.test(Q)))return"";!1!==Y&&(Y=Y||K,Q=Y.process(Q))}return Q=l(Q)},escapeHtml:k,escapeQuote:d,unescapeQuote:h,escapeHtmlEntities:m,escapeDangerHtml5Entities:t,clearNonPrintableCharacter:p,friendlyAttrValue:q,escapeAttrValue:l,onIgnoreTagStripAll:function(){return""},
StripTagBody:function(V,ba){"function"!==typeof ba&&(ba=function(){});var Q=!Array.isArray(V),Y=[],aa=!1;return{onIgnoreTag:function(fa,ka,la){var oa=Q?!0:-1!==H.indexOf(V,fa);if(oa){if(la.isClosing)return Y.push([!1!==aa?aa:la.position,la.position+10]),aa=!1,"[/removed]";aa||(aa=la.position);return"[removed]"}return ba(fa,ka,la)},remove:function(fa){var ka="",la=0;H.forEach(Y,function(oa){ka+=fa.slice(la,oa[0]);la=oa[1]});return ka+=fa.slice(la)}}},stripCommentTag:function(V){return V.replace(R,
"")},stripBlankChar:function(V){V=V.split("");V=V.filter(function(ba){ba=ba.charCodeAt(0);return 127===ba?!1:31>=ba?10===ba||13===ba?!0:!1:!0});return V.join("")},cssFilter:K,getDefaultCSSWhiteList:I},ia=/[^a-zA-Z0-9_:\.\-]/gim,ha={parseTag:function(V,ba,Q){var Y="",aa=0,fa=!1,ka=!1,la=0,oa=V.length,ra="",va="";la=0;a:for(;la<oa;la++)if(va=V.charAt(la),!1===fa)"\x3c"===va&&(fa=la);else if(!1===ka)if("\x3c"===va)Y+=Q(V.slice(aa,la)),aa=fa=la;else if("\x3e"===va)Y+=Q(V.slice(aa,fa)),aa=va=V.slice(fa,
la+1),ra=H.spaceIndex(aa),aa=-1===ra?aa.slice(1,-1):aa.slice(1,ra+1),aa=H.trim(aa).toLowerCase(),"/"===aa.slice(0,1)&&(aa=aa.slice(1)),"/"===aa.slice(-1)&&(aa=aa.slice(0,-1)),ra=aa,Y+=ba(fa,Y.length,ra,va,"\x3c/"===va.slice(0,2)),aa=la+1,fa=!1;else{if('"'===va||"'"===va){ra=1;for(var Aa=V.charAt(la-ra);" "===Aa||"\x3d"===Aa;){if("\x3d"===Aa){ka=va;continue a}Aa=V.charAt(la-++ra)}}}else va===ka&&(ka=!1);aa<V.length&&(Y+=Q(V.substr(aa)));return Y},parseAttr:function(V,ba){function Q(ra,va){ra=H.trim(ra);
ra=ra.replace(ia,"").toLowerCase();1>ra.length||(ra=ba(ra,va||""))&&aa.push(ra)}for(var Y=0,aa=[],fa=!1,ka=V.length,la=0;la<ka;la++){var oa=V.charAt(la);if(!1===fa&&"\x3d"===oa)fa=V.slice(Y,la),Y=la+1;else{if(!1!==fa&&la===Y&&('"'===oa||"'"===oa)&&"\x3d"===V.charAt(la-1))if(oa=V.indexOf(oa,la+1),-1===oa)break;else{Y=H.trim(V.slice(Y+1,oa));Q(fa,Y);fa=!1;la=oa;Y=la+1;continue}/\s|\n|\t/.test(oa)&&(V=V.replace(/\s|\n|\t/g," "),!1===fa?(oa=g(V,la),-1===oa?(Y=H.trim(V.slice(Y,la)),Q(Y),fa=!1,Y=la+1):
la=oa-1):(oa=e(V,la-1),-1===oa&&(Y=H.trim(V.slice(Y,la)),Y=f(Y),Q(fa,Y),fa=!1,Y=la+1)))}}Y<V.length&&(!1===fa?Q(V.slice(Y)):Q(fa,f(H.trim(V.slice(Y)))));return H.trim(aa.join(" "))}},ja=D.FilterCSS,ma=ha.parseTag,ta=ha.parseAttr;w.prototype.process=function(V){V=(V||"").toString();if(!V)return"";var ba=this.options,Q=ba.whiteList,Y=ba.onTag,aa=ba.onIgnoreTag,fa=ba.onTagAttr,ka=ba.onIgnoreTagAttr,la=ba.safeAttrValue,oa=ba.escapeHtml,ra=this.cssFilter;ba.stripBlankChar&&(V=X.stripBlankChar(V));ba.allowCommentTag||
(V=X.stripCommentTag(V));var va=!1;ba.stripIgnoreTagBody&&(va=X.StripTagBody(ba.stripIgnoreTagBody,aa),aa=va.onIgnoreTag);V=ma(V,function(Aa,ya,Da,Ea,Ha){Aa={sourcePosition:Aa,position:ya,isClosing:Ha,isWhite:Q.hasOwnProperty(Da)};ya=Y(Da,Ea,Aa);if(void 0!==ya&&null!==ya)return ya;if(Aa.isWhite){if(Aa.isClosing)return"\x3c/"+Da+"\x3e";Aa=u(Ea);var Ga=Q[Da];ya=ta(Aa.html,function(Ja,Ra){var Ua=-1!==H.indexOf(Ga,Ja),Oa=fa(Da,Ja,Ra,Ua);if(void 0!==Oa&&null!==Oa)return Oa;if(Ua)return(Ra=la(Da,Ja,Ra,
ra))?Ja+'\x3d"'+Ra+'"':Ja;Oa=ka(Da,Ja,Ra,Ua);if(void 0!==Oa&&null!==Oa)return Oa});Ea="\x3c"+Da;ya&&(Ea+=" "+ya);Aa.closing&&(Ea+=" /");return Ea+"\x3e"}ya=aa(Da,Ea,Aa);return void 0!==ya&&null!==ya?ya:oa(Ea)},oa);va&&(V=va.remove(V));return V};var Z=c(function(V,ba){function Q(aa,fa){return(new w(fa)).process(aa)}ba=V.exports=Q;ba.filterXSS=Q;ba.FilterXSS=w;for(var Y in X)ba[Y]=X[Y];for(Y in ha)ba[Y]=ha[Y];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof
DedicatedWorkerGlobalScope&&(self.filterXSS=V.exports)});D=function(){function V(ba,Q){var Y=this;this.arcgisWhiteList={a:["href","target","style"],img:"src width height border alt style".split(" "),video:"autoplay controls height loop muted poster preload width".split(" "),audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:"width height cellpadding cellspacing border style".split(" "),div:["style","align"],font:["size","color","style"],tr:["height",
"valign","align","style"],td:"height width valign align colspan rowspan nowrap style".split(" "),th:"height width valign align colspan rowspan nowrap style".split(" "),p:["style"],b:[],strong:[],i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(fa,ka,la,oa){return"a"===fa&&"href"===ka||("img"===fa||"source"===fa)&&"src"===ka?Y.sanitizeUrl(la):Z.safeAttrValue(fa,ka,la,oa)}};if(ba&&!Q)var aa=ba;else ba&&Q?(aa=Object.create(this.arcgisFilterOptions),Object.keys(ba).forEach(function(fa){"whiteList"===fa?aa.whiteList=Y._extendObjectOfArrays([Y.arcgisWhiteList,ba.whiteList||{}]):aa[fa]=ba[fa]})):(aa=Object.create(this.arcgisFilterOptions),aa.whiteList=this.arcgisWhiteList);this.xssFilterOptions=
aa;this._xssFilter=new Z.FilterXSS(aa)}V.prototype.sanitize=function(ba,Q){void 0===Q&&(Q={});switch(typeof ba){case "number":return isNaN(ba)||!isFinite(ba)?null:ba;case "boolean":return ba;case "string":return this._xssFilter.process(ba);case "object":return this._iterateOverObject(ba,Q);default:if(!Q.allowUndefined||"undefined"!==typeof ba)return null}};V.prototype.sanitizeUrl=function(ba){var Q=this._trim(ba.substring(0,ba.indexOf(":")));return"/"===ba||"#"===ba||"#"===ba[0]||-1<this.allowedProtocols.indexOf(Q.toLowerCase())?
Z.escapeAttrValue(ba):""};V.prototype.sanitizeHTMLAttribute=function(ba,Q,Y,aa){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(ba,Q,Y,aa):Z.safeAttrValue(ba,Q,Y,aa)};V.prototype.validate=function(ba,Q){void 0===Q&&(Q={});Q=this.sanitize(ba,Q);return{isValid:ba===Q,sanitized:Q}};V.prototype._extendObjectOfArrays=function(ba){var Q={};ba.forEach(function(Y){Object.keys(Y).forEach(function(aa){Array.isArray(Y[aa])&&Array.isArray(Q[aa])?Q[aa]=Q[aa].concat(Y[aa]):
Q[aa]=Y[aa]})});return Q};V.prototype._iterateOverObject=function(ba,Q){var Y=this;void 0===Q&&(Q={});try{var aa=!1,fa=void 0;if(Array.isArray(ba))fa=ba.reduce(function(ka,la){var oa=Y.validate(la,Q);if(oa.isValid)return ka.concat([la]);aa=!0;return ka.concat([oa.sanitized])},[]);else if(F(ba))fa=Object.keys(ba).reduce(function(ka,la){var oa=ba[la],ra=Y.validate(oa,Q);ra.isValid?ka[la]=oa:(aa=!0,ka[la]=ra.sanitized);return ka},{});else return Q.allowUndefined&&"undefined"===typeof ba?void 0:null;
return aa?fa:ba}catch(ka){return null}};V.prototype._trim=function(ba){return String.prototype.trim?ba.trim():ba.replace(/(^\s*)|(\s*$)/g,"")};return V}();a.Sanitizer=D})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,c){let b;b=Array.prototype.find?(k,d)=>k.find(d):(k,d)=>k.filter(d)[0];let n=(k,d)=>{let h=k;d.forEach(m=>{h=h&&h.children?b(h.children,t=>t.domNode===m):void 0});return h},r=(k,d,h)=>{let m=function(t){h("domEvent",t);var p=d();{var q=t.currentTarget;
var l=p.domNode;let e=[];for(;q&&q!==l;)e.push(q),q=q.parentNode;q=e}q.reverse();p=n(p.getLastRender(),q);k.scheduleRender();let g;p&&(g=p.properties[`on${t.type}`].apply(p.properties.bind||this,arguments));h("domEventProcessed",t);return g};return(t,p,q,l)=>m};a.createProjector=k=>{let d,h=c.applyDefaultProjectionOptions(k),m=h.performanceLogger,t=!0,p,q=!1,l=[],g=[],e=(u,w,D)=>{let v;h.eventHandlerInterceptor=r(d,()=>v,m);v=u(w,D(),h);l.push(v);g.push(D)},f=()=>{p=void 0;if(t){t=!1;m("renderStart",
void 0);for(let u=0;u<l.length;u++){let w=g[u]();m("rendered",void 0);l[u].update(w);m("patched",void 0)}m("renderDone",void 0);t=!0}};return d={renderNow:f,scheduleRender:()=>{p||q||(p=requestAnimationFrame(f))},stop:()=>{p&&(cancelAnimationFrame(p),p=void 0);q=!0},resume:()=>{q=!1;t=!0;d.scheduleRender()},append:(u,w)=>{e(c.dom.append,u,w)},insertBefore:(u,w)=>{e(c.dom.insertBefore,u,w)},merge:(u,w)=>{e(c.dom.merge,u,w)},replace:(u,w)=>{e(c.dom.replace,u,w)},detach:u=>{for(let w=0;w<g.length;w++)if(g[w]===
u)return g.splice(w,1),l.splice(w,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/libs/maquette/dom":function(){define(["exports","./projection"],function(a,c){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(n,r,k)=>{"-"===r.charAt(0)?n.style.setProperty(r,k):n.style[r]=k}};a.applyDefaultProjectionOptions=n=>c.extend(b,n);a.dom={create:(n,r)=>{r=c.extend(b,r);c.createDom(n,document.createElement("div"),
void 0,r);return c.createProjection(n,r)},append:(n,r,k)=>{k=c.extend(b,k);c.createDom(r,n,void 0,k);return c.createProjection(r,k)},insertBefore:(n,r,k)=>{k=c.extend(b,k);c.createDom(r,n.parentNode,n,k);return c.createProjection(r,k)},merge:(n,r,k)=>{k=c.extend(b,k);r.domNode=n;c.initPropertiesAndChildren(n,r,k);return c.createProjection(r,k)},replace:(n,r,k)=>{k=c.extend(b,k);c.createDom(r,n.parentNode,n,k);n.parentNode.removeChild(n);return c.createProjection(r,k)}};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/widgets/Popup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/cast ../core/deprecate ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/events ../core/Collection ../intl/substitute ../intl ../core/Handles ../core/watchUtils ../core/throttle ./support/widgetUtils ./support/decorators/accessibleHandler ./support/decorators/messageBundle ./support/decorators/vmEvent ../chunks/index ./Widget ./Feature/support/FeatureContentMixin ./Feature ./Spinner ./Popup/PopupViewModel".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C,z,G,H,I){function K(U,W){return void 0===W?`${"esri-popup"}__${U}`:`${"esri-popup"}__${U}-${W}`}const L={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},T=r.getLogger("esri.widgets.Popup"),O={closeButton:!0,featureNavigation:!0};b=function(U){function W(N,P){var J=U.call(this,N,P)||this;J._blurClose=!1;J._blurContainer=!1;J._containerNode=null;J._mainContainerNode=null;J._featureMenuNode=null;J._actionsMenuNode=null;J._focusClose=
!1;J._focusContainer=!1;J._focusDockButton=!1;J._focusFeatureMenuButton=!1;J._focusActionsMenuButton=!1;J._focusFirstFeature=!1;J._focusFirstAction=!1;J._handles=new D;J._pointerOffsetInPx=16;J._spinner=null;J._feature=null;J._featureMenuIntersectionObserverCallback=([M])=>{null!=M&&M.isIntersecting&&J.viewModel.featurePage++};J._featureMenuIntersectionObserver=new IntersectionObserver(J._featureMenuIntersectionObserverCallback);J._displaySpinnerThrottled=y.throttle(()=>J._displaySpinner(),0);J.actions=
null;J.alignment="auto";J.autoCloseEnabled=null;J.autoOpenEnabled=null;J.defaultPopupTemplateEnabled=null;J.content=null;J.collapsed=!1;J.collapseEnabled=!0;J.dockEnabled=!1;J.featureCount=null;J.featureMenuOpen=!1;J.features=null;J.goToOverride=null;J.highlightEnabled=null;J.location=null;J.label=void 0;J.maxInlineActions=3;J.messages=null;J.messagesCommon=null;J.promises=null;J.selectedFeature=null;J.selectedFeatureIndex=null;J.spinnerEnabled=!0;J.title=null;J.updateLocationEnabled=null;J.view=
null;J.viewModel=new I;J.visible=null;J.visibleElements={...O};J._addSelectedFeatureIndexHandle();J.own([v.watch(a._assertThisInitialized(J),"viewModel.screenLocation",()=>J._positionContainer()),v.watch(a._assertThisInitialized(J),["viewModel.active","dockEnabled"],()=>J._toggleScreenLocationEnabled()),v.watch(a._assertThisInitialized(J),"viewModel.screenLocation",(M,R)=>{!!M!==!!R&&J.reposition()}),v.watch(a._assertThisInitialized(J),["viewModel.view.padding","viewModel.view.size","viewModel.active",
"viewModel.location","alignment"],()=>J.reposition()),v.watch(a._assertThisInitialized(J),"spinnerEnabled",M=>J._spinnerEnabledChange(M)),v.watch(a._assertThisInitialized(J),"viewModel.view.size",(M,R)=>J._updateDockEnabledForViewSize(M,R)),v.watch(a._assertThisInitialized(J),"viewModel.view",(M,R)=>J._viewChange(M,R)),v.watch(a._assertThisInitialized(J),"viewModel.view.ready",(M,R)=>J._viewReadyChange(M,R)),v.watch(a._assertThisInitialized(J),["viewModel.waitingForResult","viewModel.location"],()=>
{J._hideSpinner();J._displaySpinnerThrottled()}),v.watch(a._assertThisInitialized(J),"selectedFeatureWidget.viewModel.title",M=>J._setTitleFromFeatureWidget(M)),v.watch(a._assertThisInitialized(J),["selectedFeatureWidget.viewModel.content","selectedFeatureWidget.viewModel.waitingForContent"],()=>J._setContentFromFeatureWidget()),v.whenFalse(a._assertThisInitialized(J),"collapsed",()=>{var M,R;"xsmall"===(null==(M=J.viewModel)?void 0:null==(R=M.view)?void 0:R.widthBreakpoint)&&J.viewModel.active&&
J.collapseEnabled&&J.viewModel.centerAtLocation()}),v.on(a._assertThisInitialized(J),"viewModel.allActions","change",()=>J._watchActions()),v.init(a._assertThisInitialized(J),"viewModel.allActions",()=>J._watchActions()),v.watch(a._assertThisInitialized(J),"viewModel.featureViewModels",()=>J._featureMenuViewportScrollTop())]);return J}a._inheritsLoose(W,U);var S=W.prototype;S.destroy=function(){var N,P;this._destroySelectedFeatureWidget();this._destroySpinner();null==(N=this._handles)?void 0:N.destroy();
this._unobserveFeatureMenuObserver();null==(P=this._featureMenuIntersectionObserver)?void 0:P.disconnect();this._handles=null};S.castVisibleElements=function(N){return{...O,...N}};S.blur=function(){const {active:N}=this.viewModel;N||T.warn("Popup can only be blurred when currently active.");this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=!0;this.scheduleRender()};S.clear=function(){this.viewModel.clear()};S.close=function(){this.visible=!1};S.fetchFeatures=function(N,P){return this.viewModel.fetchFeatures(N,
P)};S.focus=function(){const {active:N}=this.viewModel;N||T.warn("Popup can only be focused when currently active.");this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0;this.scheduleRender()};S.next=function(){return this.viewModel.next()};S.open=function(N){var P,J;this._handles.remove("selected-index");const M={collapsed:N?!!N.collapsed:!1,actionsMenuOpen:N?!!N.actionsMenuOpen:!1,featureMenuOpen:N?!!N.featureMenuOpen:!1};"xsmall"===(null==(P=this.viewModel)?void 0:null==
(J=P.view)?void 0:J.widthBreakpoint)&&(M.collapsed=!0);this.set(M);this.viewModel.open(N);this._addSelectedFeatureIndexHandle()};S.previous=function(){return this.viewModel.previous()};S.reposition=function(){this.renderNow();this._positionContainer();this._setCurrentAlignment()};S.triggerAction=function(N){this.viewModel.triggerAction(N)};S.render=function(){var N,P,J,M;const {actionsMenuOpen:R,dockEnabled:X,featureMenuVisible:ia,dividedActions:ha,currentAlignment:ja,currentDockPosition:ma}=this,
{active:ta}=this.viewModel;var {menuActions:Z}=ha;Z=ta&&1<Z.length&&R;const V=null==(N=this.selectedFeature)?void 0:null==(P=N.layer)?void 0:P.title;N=null==(J=this.selectedFeature)?void 0:null==(M=J.layer)?void 0:M.id;return B.jsx("div",{class:this.classes("esri-popup",{["esri-popup--aligned-top-center"]:"top-center"===ja,["esri-popup--aligned-bottom-center"]:"bottom-center"===ja,["esri-popup--aligned-top-left"]:"top-left"===ja,["esri-popup--aligned-bottom-left"]:"bottom-left"===ja,["esri-popup--aligned-top-right"]:"top-right"===
ja,["esri-popup--aligned-bottom-right"]:"bottom-right"===ja,["esri-popup--is-docked"]:ta&&X,["esri-popup--shadow"]:ta&&!X,["esri-popup--is-docked-top-left"]:"top-left"===ma,["esri-popup--is-docked-top-center"]:"top-center"===ma,["esri-popup--is-docked-top-right"]:"top-right"===ma,["esri-popup--is-docked-bottom-left"]:"bottom-left"===ma,["esri-popup--is-docked-bottom-center"]:"bottom-center"===ma,["esri-popup--is-docked-bottom-right"]:"bottom-right"===ma,["esri-popup--feature-menu-open"]:ia,["esri-popup--actions-menu-open"]:Z}),
role:"presentation","data-layer-title":V,"data-layer-id":N,bind:this,afterCreate:this._positionContainer,afterUpdate:this._positionContainer},ta?[this.renderMainContainer(),this.renderPointer()]:null)};S.renderLoadingIcon=function(){return B.jsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon","esri-icon-loading-indicator","esri-rotating")})};S.renderNavigationLoading=function(){const {messagesCommon:N}=this;return this.viewModel.pendingPromisesCount?B.jsx("div",{key:K("loading-container"),
role:"presentation",class:"esri-popup__loading-container","aria-label":N.loading,title:N.loading},this.renderLoadingIcon()):null};S.renderPreviousIcon=function(){const N=A.isRTL();return B.jsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon",{["esri-icon-right-triangle-arrow"]:N,["esri-popup__pagination-previous-icon--rtl"]:N,["esri-icon-left-triangle-arrow"]:!N,["esri-popup__pagination-previous-icon"]:!N})})};S.renderPreviousButton=function(){const {messages:N}=this;return B.jsx("div",
{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes("esri-popup__button","esri-popup__pagination-previous"),"aria-label":N.previous,title:N.previous},this.renderPreviousIcon())};S.renderNextIcon=function(){const N=A.isRTL();return B.jsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon",{["esri-icon-left-triangle-arrow"]:N,["esri-popup__pagination-next-icon--rtl"]:N,["esri-icon-right-triangle-arrow"]:!N,["esri-popup__pagination-next-icon"]:!N})})};
S.renderNextButton=function(){const {messages:N}=this;return B.jsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes("esri-popup__button","esri-popup__pagination-next"),"aria-label":N.next,title:N.next},this.renderNextIcon())};S.renderFeatureMenuButton=function(){const {featureMenuOpen:N,featureMenuId:P,messagesCommon:J}=this,{featureCount:M,selectedFeatureIndex:R}=this.viewModel;return B.jsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,
onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes("esri-popup__button","esri-popup__feature-menu-button"),"aria-haspopup":"true","aria-controls":P,"aria-expanded":N.toString(),"aria-label":J.menu,title:J.menu},this._getPageText(M,R))};S.renderNavigationButtons=function(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:
null};S.renderDockIcon=function(){const {dockEnabled:N}=this,P=this._wouldDockTo();return B.jsx("span",{"aria-hidden":"true",class:this.classes({["esri-icon-minimize"]:N,["esri-popup__icon--dock-icon"]:!N,["esri-icon-dock-right"]:!N&&("top-right"===P||"bottom-right"===P),["esri-icon-dock-left"]:!N&&("top-left"===P||"bottom-left"===P),["esri-icon-maximize"]:!N&&"top-center"===P,["esri-icon-dock-bottom"]:!N&&"bottom-center"===P},"esri-popup__icon")})};S.renderDockButton=function(){var N,P,J;const {dockEnabled:M,
messages:R}=this,X=null==(N=this.viewModel)?void 0:null==(P=N.view)?void 0:P.widthBreakpoint;N=M?R.undock:R.dock;return"xsmall"!==X&&null!=(J=this.dockOptions)&&J.buttonEnabled?B.jsx("div",{role:"button","aria-label":N,title:N,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes("esri-popup__button","esri-popup__button--dock")},this.renderDockIcon()):null};S.renderTitle=
function(){const {title:N}=this.viewModel,{titleId:P,collapsible:J,contentCollapsed:M,messagesCommon:R}=this;var X={["esri-popup__header-container--button"]:J};const ia=B.jsx("h2",{class:"esri-popup__header-title",innerHTML:N});X=J?B.jsx("button",{key:`${N}--collapsible`,id:P,title:M?R.expand:R.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",X),"aria-expanded":M?"false":"true",onclick:this._toggleCollapsed},ia):B.jsx("div",
{key:N,id:P,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes("esri-popup__header-container",X)},ia);return N?X:null};S.renderCloseIcon=function(){return B.jsx("span",{"aria-hidden":"true",class:this.classes("esri-popup__icon","esri-icon-close")})};S.renderCloseButton=function(){const {visibleElements:N,messagesCommon:P}=this;return N.closeButton?B.jsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:"esri-popup__button","aria-label":P.close,
title:P.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null};S.renderHeader=function(){return B.jsx("header",{class:"esri-popup__header"},this.renderTitle(),B.jsx("div",{class:"esri-popup__header-buttons"},this.renderDockButton(),this.renderCloseButton()))};S.renderContentContainer=function(){const {contentId:N,hasContent:P,contentCollapsed:J}=this,{content:M}=this.viewModel;return P&&!J?B.jsx("article",{key:M,enterAnimation:this._createFeatureUpdatedAnimation(),
id:N,class:"esri-popup__content"},this.renderContent()):null};S.renderActionsMenuButton=function(){const {actionsMenuId:N,actionsMenuButtonId:P,actionsMenuOpen:J,dividedActions:M,messagesCommon:R}=this,X=J?R.close:R.open,{menuActions:ia}=M;return ia.length?B.jsx("div",{key:K("actions-menu-button"),class:this.classes("esri-popup__button","esri-popup__actions-menu-button"),role:"button",id:P,"aria-haspopup":"true","aria-controls":J?N:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,
afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":X,title:X},B.jsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"})):null};S.renderMenuActions=function(){const {actionsMenuId:N,actionsMenuButtonId:P,actionsMenuOpen:J,dividedActions:M}=this,{menuActions:R,inlineActions:X}=M;return R.length&&J?B.jsx("ul",{id:N,role:"menu","aria-labelledby":P,key:K("actions"),class:"esri-popup__actions",bind:this,onkeyup:this._handleActionMenuKeyup,
afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},R.toArray().map((ia,ha)=>this.renderAction({action:ia,index:ha+X.length,type:"menu-item"}))):null};S.renderInlineActions=function(){const {inlineActions:N}=this.dividedActions;return!!N.length&&N.toArray().map((P,J)=>this.renderAction({action:P,index:J,type:"inline"}))};S.renderInlineActionsContainer=function(){const {inlineActions:N,menuActions:P}=this.dividedActions,J=!!N.length,M=!!P.length;return J||M?B.jsx("div",
{key:"inline-actions-container","data-inline-actions":J.toString(),"data-menu-actions":M.toString(),class:"esri-popup__inline-actions-container"},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null};S.renderNavigation=function(){return this.featureNavigationVisible?B.jsx("section",{key:K("navigation"),class:this.classes("esri-popup__navigation")},this.renderNavigationButtons()):null};S.renderFooter=function(){const {featureNavigationVisible:N,dividedActions:P}=
this,{inlineActions:J,menuActions:M}=P,R=!!J.length,X={["esri-popup__footer--has-pagination"]:N,["esri-popup__footer--has-actions"]:R,["esri-popup__footer--has-actions-menu"]:!!M.length};return N||R?B.jsx("div",{key:K("feature-buttons"),class:this.classes("esri-popup__footer",X)},this.renderInlineActionsContainer(),this.renderNavigation()):null};S.renderFeatureMenuContainer=function(){var {messages:N}=this;const {featureViewModels:P,isLoadingFeature:J}=this.viewModel;N=u.substitute(N.selectedFeatures,
{total:P.length});return B.jsx("section",{key:K("menu"),class:"esri-popup__feature-menu"},B.jsx("h2",{class:"esri-popup__feature-menu-header"},N),B.jsx("nav",{bind:this,class:"esri-popup__feature-menu-viewport","data-node-ref":"_featureMenuViewportNode",afterCreate:A.storeNode},this.renderFeatureMenu(),B.jsx("div",{class:"esri-popup__feature-menu-observer",bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),J?B.jsx("div",{class:"esri-popup__feature-menu-loader"},this.renderLoadingIcon()):
null))};S.renderPointer=function(){return this.dockEnabled?null:B.jsx("div",{key:K("pointer"),class:"esri-popup__pointer",role:"presentation"},B.jsx("div",{class:this.classes("esri-popup__pointer-direction","esri-popup--shadow")}))};S.renderMainContainer=function(){const {dockEnabled:N,currentAlignment:P,currentDockPosition:J,titleId:M,contentId:R,collapsible:X,hasContent:ia,contentCollapsed:ha,visibleElements:ja}=this,{title:ma}=this.viewModel,ta="bottom-left"===P||"bottom-center"===P||"bottom-right"===
P||"top-left"===J||"top-center"===J||"top-right"===J,Z="top-left"===P||"top-center"===P||"top-right"===P||"bottom-left"===J||"bottom-center"===J||"bottom-right"===J;return B.jsx("div",{class:this.classes("esri-popup__main-container","esri-widget",{["esri-popup--shadow"]:N,["esri-popup--is-collapsible"]:X,["esri-popup--is-collapsed"]:ha}),tabIndex:ja.closeButton?null:-1,role:"dialog","aria-labelledby":ma?M:"","aria-describedby":ia&&!ha?R:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,
afterUpdate:this._mainContainerNodeUpdated},ta?this.renderFooter():null,ta?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),Z?this.renderFooter():null,Z?this.renderFeatureMenuContainer():null)};S.renderContent=function(){var N;const P=null==(N=this.viewModel)?void 0:N.content;return P?"string"===typeof P?B.jsx("div",{key:P,innerHTML:P}):this.renderNodeContent(P):null};S.renderActionText=function(N){return B.jsx("span",{key:"text",class:"esri-popup__action-text"},
N)};S.renderActionIcon=function(N){const P=this._getActionClass(N),J=this._getActionImage(N),M={["esri-icon-loading-indicator"]:N.active,["esri-rotating"]:N.active,["esri-popup__icon"]:!!P,["esri-popup__action-image"]:!N.active&&!!J};P&&(M[P]=!N.active);return B.jsx("span",{key:"icon","aria-hidden":"true",class:this.classes("esri-popup__icon",M),styles:this._getIconStyles(J)})};S.renderAction=function(N){const {action:P,index:J,type:M}=N;N=this._getActionTitle(P);const R={["esri-popup__action"]:"toggle"!==
P.type,["esri-popup__action-toggle"]:"toggle"===P.type,["esri-popup__action-toggle--on"]:"toggle"===P.type&&P.value,["esri-popup__button--disabled"]:P.disabled},X=[this.renderActionIcon(P),this.renderActionText(N)];N="menu-item"===M?B.jsx("li",{key:P.uid,role:"menuitem",tabIndex:0,title:N,"aria-label":N,class:this.classes("esri-popup__button",R),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":J,onclick:this._triggerAction,onkeydown:this._triggerAction},X):B.jsx("div",{key:P.uid,
role:"button",tabIndex:0,title:N,"aria-label":N,class:this.classes("esri-popup__button",R),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-index":J,onclick:this._triggerAction,onkeydown:this._triggerAction},X);return P.visible?N:null};S.renderFeatureMenuItem=function(N,P){const {messages:J,messagesCommon:M}=this,{selectedFeatureIndex:R,selectedFeatureViewModel:X}=this.viewModel;var ia=N===X;const ha={["esri-popup__feature-menu-item--selected"]:ia};ia=ia?B.jsx("span",{key:K(`feature-menu-selected-feature-${R}`),
title:J.selectedFeature,"aria-label":J.selectedFeature,class:"esri-icon-check-mark"}):null;N=B.jsx("span",{innerHTML:N.title||M.untitled});return B.jsx("li",{role:"menuitem",tabIndex:-1,key:K(`feature-menu-feature-${R}`),class:this.classes(ha,"esri-popup__feature-menu-item"),bind:this,"data-feature-index":P,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature},B.jsx("span",{class:"esri-popup__feature-menu-title"},N,ia))};S.renderFeatureMenu=function(){const {featureMenuId:N}=
this,{featureViewModels:P}=this.viewModel;return 1<P.length?B.jsx("ol",{class:"esri-popup__feature-menu-list",id:N,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},P.filter(J=>!!J.graphic).map((J,M)=>this.renderFeatureMenuItem(J,M))):null};S._getActionTitle=function(N){const {messages:P,selectedFeature:J,messagesCommon:M}=this,{id:R}=N,X=null==J?void 0:J.attributes;return(N="zoom-to-feature"===R?u.substitute(N.title,
{messages:P}):"remove-selected-feature"===R?u.substitute(N.title,{messages:M}):"zoom-to-clustered-features"===R?u.substitute(N.title,{messages:P}):"browse-clustered-features"===R?u.substitute(N.title,{messages:P}):N.title)&&X?u.substitute(N,X):N};S._getActionClass=function(N){var {selectedFeature:P}=this;P=null==P?void 0:P.attributes;const {className:J,image:M}=N;return(N=M||J?J:"esri-icon-default-action")&&P?u.substitute(N,P):N};S._getActionImage=function(N){var {selectedFeature:P}=this;P=null==
P?void 0:P.attributes;({image:N}=N);return N&&P?u.substitute(N,P):N};S._createFeatureUpdatedAnimation=function(){return A.cssTransition("enter","esri-popup--feature-updated")};S._getInlineActionCount=function(){const {maxInlineActions:N,featureNavigationVisible:P}=this;if("number"!==typeof N)return null;const J=Math.round(N);return Math.max(P?J-1:J,0)};S._watchActions=function(){const {allActions:N}=this.viewModel;this.notifyChange("dividedActions");this._handles.remove("actions");N&&N.forEach(P=>
{this._handles.add(v.watch(P,"active className disabled id title image visible".split(" "),()=>this.scheduleRender()),"actions")})};S._divideActions=function(){const {allActions:N}=this.viewModel,P=this._getInlineActionCount(),J=null===P,M=0===P;return{inlineActions:J?N.slice(0):M?new f:N.slice(0,P),menuActions:J?new f:M?N.slice(0):N.slice(P)}};S._featureMenuOpenChanged=function(N){N?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0};S._actionsMenuOpenChanged=function(N){N?this._focusFirstAction=
!0:this._focusActionsMenuButton=!0};S._setTitleFromFeatureWidget=function(N){const {selectedFeatureWidget:P}=this;P&&(this.viewModel.title=N||"")};S._setContentFromFeatureWidget=function(){const {selectedFeatureWidget:N}=this;N&&(this.viewModel.content=N)};S._unobserveFeatureMenuObserver=function(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)};S._featureMenuIntersectionObserverCreated=function(N){this._unobserveFeatureMenuObserver();
this._featureMenuIntersectionObserver.observe(N);this._featureMenuIntersectionObserverNode=N};S._handleFeatureMenuKeyup=function(N){"Escape"===e.eventKey(N)&&(N.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())};S._handleActionMenuKeyup=function(N){"Escape"===e.eventKey(N)&&(N.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())};S._handleFeatureMenuItemKeyup=function(N){const P=e.eventKey(N);var {_featureMenuNode:J}=
this;const M=N.currentTarget["data-feature-index"];if(J){J=J.querySelectorAll("li");var R=J.length;"ArrowUp"===P?(N.stopPropagation(),J[(M-1+R)%R].focus()):"ArrowDown"===P?(N.stopPropagation(),J[(M+1+R)%R].focus()):"Home"===P?(N.stopPropagation(),J[0].focus()):"End"===P&&(N.stopPropagation(),J[J.length-1].focus())}};S._handleActionMenuItemKeyup=function(N){const P=e.eventKey(N);var {_actionsMenuNode:J}=this;const M=N.currentTarget["data-action-index"];if(J){J=J.querySelectorAll("li");var R=J.length;
"ArrowUp"===P?(N.stopPropagation(),J[(M-1+R)%R].focus()):"ArrowDown"===P?(N.stopPropagation(),J[(M+1+R)%R].focus()):"Home"===P?(N.stopPropagation(),J[0].focus()):"End"===P&&(N.stopPropagation(),J[J.length-1].focus())}};S._handleMainKeyup=function(N){const P=e.eventKey(N);"ArrowLeft"===P&&(N.stopPropagation(),this.previous());"ArrowRight"===P&&(N.stopPropagation(),this.next())};S._spinnerEnabledChange=function(N){this._destroySpinner();N&&(N=this.get("viewModel.view"),this._createSpinner(N))};S._hideSpinner=
function(){const {_spinner:N}=this;N&&(N.location=null,N.hide())};S._displaySpinner=function(){const {_spinner:N}=this;if(N){var {location:P,waitingForResult:J}=this.viewModel;J?N.show({location:P}):N.hide()}};S._getIconStyles=function(N){return{"background-image":N?`url(${N})`:""}};S._addSelectedFeatureIndexHandle=function(){const N=v.watch(this,"viewModel.selectedFeatureIndex",(P,J)=>this._selectedFeatureIndexUpdated(P,J));this._handles.add(N,"selected-index")};S._selectedFeatureIndexUpdated=function(N,
P){const {featureCount:J}=this;J&&N!==P&&-1!==N&&(this.featureMenuOpen=this.actionsMenuOpen=!1)};S._destroySelectedFeatureWidget=function(){const {_feature:N}=this;N&&(N.viewModel=null,N&&!N.destroyed&&N.destroy());this._feature=null};S._isScreenLocationWithinView=function(N,P){return-1<N.x&&-1<N.y&&N.x<=P.width&&N.y<=P.height};S._isOutsideView=function(N){const {popupHeight:P,popupWidth:J,screenLocation:M,side:R,view:X}=N;if(isNaN(J)||isNaN(P)||!X||!M)return!1;N=X.padding;return"right"===R&&M.x+
J/2>X.width-N.right||"left"===R&&M.x-J/2<N.left||"top"===R&&M.y-P<N.top||"bottom"===R&&M.y+P>X.height-N.bottom?!0:!1};S._calculateAutoAlignment=function(N){if("auto"!==N)return N;const {_pointerOffsetInPx:P,_containerNode:J,_mainContainerNode:M,viewModel:R}=this,{screenLocation:X,view:ia}=R;if(n.isNone(X)||!ia||!J)return"top-center";if(!this._isScreenLocationWithinView(X,ia))return this._get("currentAlignment")||"top-center";var ha=(N=M?window.getComputedStyle(M,null):null)?parseInt(N.getPropertyValue("max-height").replace(/[^-\d\.]/g,
""),10):0,ja=N?parseInt(N.getPropertyValue("height").replace(/[^-\d\.]/g,""),10):0;const {height:ma,width:ta}=J.getBoundingClientRect();N=ta+P;const Z=Math.max(ma,ha,ja)+P;ha=this._isOutsideView({popupHeight:Z,popupWidth:N,screenLocation:X,side:"right",view:ia});ja=this._isOutsideView({popupHeight:Z,popupWidth:N,screenLocation:X,side:"left",view:ia});const V=this._isOutsideView({popupHeight:Z,popupWidth:N,screenLocation:X,side:"top",view:ia});N=this._isOutsideView({popupHeight:Z,popupWidth:N,screenLocation:X,
side:"bottom",view:ia});return ja?V?"bottom-right":"top-right":ha?V?"bottom-left":"top-left":V?N?"top-center":"bottom-center":"top-center"};S._callCurrentAlignment=function(N){return"function"===typeof N?N.call(this):N};S._getCurrentAlignment=function(){const {alignment:N,dockEnabled:P}=this;return P||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(N)))};S._setCurrentAlignment=function(){this._set("currentAlignment",this._getCurrentAlignment())};
S._setCurrentDockPosition=function(){this._set("currentDockPosition",this._getCurrentDockPosition())};S._calculatePositionResult=function(N){const P=["left","right"];A.isRTL()&&P.reverse();return N.replace(/leading/gi,P[0]).replace(/trailing/gi,P[1])};S._callDockPosition=function(N){return"function"===typeof N?N.call(this):N};S._getDockPosition=function(){var N;return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(null==(N=this.dockOptions)?void 0:N.position)))};
S._getCurrentDockPosition=function(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null};S._wouldDockTo=function(){return this.dockEnabled?null:this._getDockPosition()};S._calculateAutoDockPosition=function(N){var P;if("auto"!==N)return N;N=null==(P=this.viewModel)?void 0:P.view;P=A.isRTL()?"top-left":"top-right";if(!N)return P;var J=N.padding||{left:0,right:0,top:0,bottom:0};J=N.width-J.left-J.right;({breakpoints:N}=N);return N&&J<=N.xsmall?"bottom-center":P};S._positionContainer=
function(N=this._containerNode){N&&(this._containerNode=N);if(N){var {screenLocation:P}=this.viewModel,{width:J}=N.getBoundingClientRect();if(P=this._calculatePositionStyle(P,J))N.style.top=P.top,N.style.left=P.left,N.style.bottom=P.bottom,N.style.right=P.right}};S._calculateFullWidth=function(N){const {currentAlignment:P,_pointerOffsetInPx:J}=this;return"top-left"===P||"bottom-left"===P||"top-right"===P||"bottom-right"===P?N+J:N};S._calculateAlignmentPosition=function(N,P,J,M){const {currentAlignment:R,
_pointerOffsetInPx:X}=this;M/=2;const ia=J.height-P;J=J.width-N;const {padding:ha}=this.view;if("bottom-center"===R)return{top:P+X-ha.top,left:N-M-ha.left};if("top-left"===R)return{bottom:ia+X-ha.bottom,right:J+X-ha.right};if("bottom-left"===R)return{top:P+X-ha.top,right:J+X-ha.right};if("top-right"===R)return{bottom:ia+X-ha.bottom,left:N+X-ha.left};if("bottom-right"===R)return{top:P+X-ha.top,left:N+X-ha.left};if("top-center"===R)return{bottom:ia+X-ha.bottom,left:N-M-ha.left}};S._calculatePositionStyle=
function(N,P){const {dockEnabled:J,view:M}=this;if(M){if(J)return{left:"",top:"",right:"",bottom:""};if(!n.isNone(N)&&P&&(P=this._calculateFullWidth(P),N=this._calculateAlignmentPosition(N.x,N.y,M,P)))return{top:void 0!==N.top?`${N.top}px`:"auto",left:void 0!==N.left?`${N.left}px`:"auto",bottom:void 0!==N.bottom?`${N.bottom}px`:"auto",right:void 0!==N.right?`${N.right}px`:"auto"}}};S._viewChange=function(N,P){N&&P&&(this.close(),this.clear())};S._viewReadyChange=function(N,P){N?(N=this.get("viewModel.view"),
this._wireUpView(N)):P&&(this.close(),this.clear())};S._wireUpView=function(N){this._destroySpinner();if(N){var {spinnerEnabled:P}=this;P&&this._createSpinner(N);this._setDockEnabledForViewSize(this.dockOptions)}};S._dockingThresholdCrossed=function(N,P,J){const [M,R]=N,[X,ia]=P,{width:ha,height:ja}=J;return M<=ha&&X>ha||M>ha&&X<=ha||R<=ja&&ia>ja||R>ja&&ia<=ja};S._updateDockEnabledForViewSize=function(N,P){if(N&&P){var J=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},M=J.left+
J.right,R=J.top+J.bottom;J=[];var X=[];J[0]=N[0]-M;J[1]=N[1]-R;X[0]=P[0]-M;X[1]=P[1]-R;({dockOptions:N}=this);this._dockingThresholdCrossed(J,X,N.breakpoint)&&this._setDockEnabledForViewSize(N);this._setCurrentDockPosition()}};S._focusDockButtonNode=function(N){this._focusDockButton&&(this._focusDockButton=!1,N.focus())};S._closeButtonNodeUpdated=function(N){this._focusClose?(this._focusClose=!1,N.focus()):this._blurClose&&(this._blurClose=!1,N.blur())};S._mainContainerNodeUpdated=function(N){this._mainContainerNode=
N;this._focusContainer?(this._focusContainer=!1,N.focus()):this._blurContainer&&(this._blurContainer=!1,N.blur())};S._featureMenuNodeUpdated=function(N){(this._featureMenuNode=N)&&this._focusFirstFeature&&(this._focusFirstFeature=!1,N=N.querySelectorAll("li"),N.length&&N[0].focus())};S._actionsMenuNodeUpdated=function(N){(this._actionsMenuNode=N)&&this._focusFirstAction&&(this._focusFirstAction=!1,N=N.querySelectorAll("li"),N.length&&N[0].focus())};S._focusFeatureMenuButtonNode=function(N){this._focusFeatureMenuButton&&
(this._focusFeatureMenuButton=!1,N.focus())};S._focusActionsMenuButtonNode=function(N){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,N.focus())};S._featureMenuViewportScrollTop=function(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)};S._toggleScreenLocationEnabled=function(){const {dockEnabled:N,viewModel:P}=this;P&&(P.screenLocationEnabled=P.active&&!N)};S._shouldDockAtCurrentViewSize=function(N){var P,J;N=N.breakpoint;const M=null==(P=this.viewModel)?
void 0:null==(J=P.view)?void 0:J.ui;if(!M)return!1;const {width:R,height:X}=M;if(isNaN(R)||isNaN(X))return!1;P=N.hasOwnProperty("width")&&R<=N.width;J=N.hasOwnProperty("height")&&X<=N.height;return P||J};S._setDockEnabledForViewSize=function(N){N.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(N))};S._getPageText=function(N,P){return this.featureNavigationVisible?u.substitute(this.messages.pageText,{index:P+1,total:N}):null};S._destroySpinner=function(){const {_spinner:N,view:P}=this;
N&&(P&&P.ui&&P.ui.remove(this._spinner,"popup-spinner"),N.destroy(),this._spinner=null)};S._createSpinner=function(N){N&&(this._spinner=new H({view:N}),N.ui.add(this._spinner,{key:"popup-spinner",position:"manual"}))};S._toggleCollapsed=function(){this.collapsed=!this.collapsed};S._close=function(){this.close();this.view&&this.view.focus()};S._toggleDockEnabled=function(){this.dockEnabled=!this.dockEnabled;this._focusDockButton=!0;this.scheduleRender()};S._toggleFeatureMenu=function(){const N=!this.featureMenuOpen;
this._featureMenuOpenChanged(N);this.actionsMenuOpen=!1;this.featureMenuOpen=N};S._toggleActionsMenu=function(){const N=!this.actionsMenuOpen;this._actionsMenuOpenChanged(N);this.featureMenuOpen=!1;this.actionsMenuOpen=N};S._triggerAction=function(N){N=N.currentTarget["data-action-index"];const P=this.viewModel.allActions.getItemAt(N);P&&"toggle"===P.type&&(P.value=!P.value);this.actionsMenuOpen=!1;this.viewModel.triggerAction(N)};S._selectFeature=function(N){N=N.currentTarget["data-feature-index"];
isNaN(N)||(this.viewModel.selectedFeatureIndex=N);this.featureMenuOpen=!1;this._focusFeatureMenuButton=!0;this.scheduleRender()};S._next=function(){this.next()};S._previous=function(){this.previous()};a._createClass(W,[{key:"actionsMenuId",get:function(){return`${this.id}-actions-menu`}},{key:"actionsMenuButtonId",get:function(){return`${this.id}-actions-menu-button`}},{key:"featureMenuId",get:function(){return`${this.id}-feature-menu`}},{key:"titleId",get:function(){return`${this.id}-popup-title`}},
{key:"contentId",get:function(){return`${this.id}-popup-content`}},{key:"hasContent",get:function(){var N,P,J,M,R;return!!(this.selectedFeatureWidget?(null==(N=this.selectedFeatureWidget)?0:null==(P=N.viewModel)?0:P.waitingForContent)||(null==(J=this.selectedFeatureWidget)?0:null==(M=J.viewModel)?0:M.content):null==(R=this.viewModel)?0:R.content)}},{key:"featureNavigationVisible",get:function(){return this.viewModel.active&&1<this.viewModel.featureCount&&this.visibleElements.featureNavigation}},{key:"collapsible",
get:function(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}},{key:"featureMenuVisible",get:function(){return this.featureNavigationVisible&&this.featureMenuOpen}},{key:"contentCollapsed",get:function(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}},{key:"dividedActions",get:function(){return this._divideActions()}},{key:"actionsMenuOpen",get:function(){return this.viewModel.active?this._get("actionsMenuOpen"):!1},set:function(N){this._set("actionsMenuOpen",
!!N)}},{key:"currentAlignment",get:function(){return this._getCurrentAlignment()}},{key:"currentDockPosition",get:function(){return this._getCurrentDockPosition()}},{key:"dockOptions",get:function(){return this._get("dockOptions")||L},set:function(N){var P={...L};const J=this.get("viewModel.view.breakpoints");var M={};J&&(M.width=J.xsmall,M.height=J.xsmall);N={...P,...N};P={...P.breakpoint,...M};({breakpoint:M}=N);!0===M?N.breakpoint=P:"object"===typeof M&&(N.breakpoint={...P,...M});this._set("dockOptions",
N);this._setCurrentDockPosition();this.reposition()}},{key:"featureNavigationEnabled",set:function(N){m.deprecatedProperty(T,"featureNavigationEnabled",{replacement:"visibleElements.featureNavigation",version:"4.15"});this.visibleElements={...this.visibleElements,featureNavigation:N}}},{key:"selectedFeatureWidget",get:function(){const {_feature:N,visibleElements:P}=this,{selectedFeatureViewModel:J}=this.viewModel,M={...P,title:!1};if(!J)return null;N?(N.viewModel=J,N.visibleElements=M):this._feature=
new G({viewModel:J,visibleElements:M});return this._feature}}]);return W}(z.FeatureContentMixin(C));c.__decorate([k.property({readOnly:!0})],b.prototype,"actionsMenuId",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"actionsMenuButtonId",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"featureMenuId",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"titleId",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"contentId",null);c.__decorate([k.property({readOnly:!0})],
b.prototype,"hasContent",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"featureNavigationVisible",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"collapsible",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"featureMenuVisible",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"contentCollapsed",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"dividedActions",null);c.__decorate([d.aliasOf("viewModel.actions")],b.prototype,"actions",void 0);c.__decorate([k.property()],
b.prototype,"actionsMenuOpen",null);c.__decorate([k.property()],b.prototype,"alignment",void 0);c.__decorate([d.aliasOf("viewModel.autoCloseEnabled")],b.prototype,"autoCloseEnabled",void 0);c.__decorate([d.aliasOf("viewModel.autoOpenEnabled")],b.prototype,"autoOpenEnabled",void 0);c.__decorate([d.aliasOf("viewModel.defaultPopupTemplateEnabled")],b.prototype,"defaultPopupTemplateEnabled",void 0);c.__decorate([d.aliasOf("viewModel.content")],b.prototype,"content",void 0);c.__decorate([k.property()],
b.prototype,"collapsed",void 0);c.__decorate([k.property()],b.prototype,"collapseEnabled",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"currentAlignment",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"currentDockPosition",null);c.__decorate([k.property()],b.prototype,"dockOptions",null);c.__decorate([k.property()],b.prototype,"dockEnabled",void 0);c.__decorate([d.aliasOf("viewModel.featureCount")],b.prototype,"featureCount",void 0);c.__decorate([k.property()],b.prototype,
"featureMenuOpen",void 0);c.__decorate([d.aliasOf("viewModel.features")],b.prototype,"features",void 0);c.__decorate([k.property()],b.prototype,"featureNavigationEnabled",null);c.__decorate([d.aliasOf("viewModel.goToOverride")],b.prototype,"goToOverride",void 0);c.__decorate([d.aliasOf("viewModel.highlightEnabled")],b.prototype,"highlightEnabled",void 0);c.__decorate([d.aliasOf("viewModel.location")],b.prototype,"location",void 0);c.__decorate([k.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],
b.prototype,"label",void 0);c.__decorate([k.property()],b.prototype,"maxInlineActions",void 0);c.__decorate([k.property(),x.messageBundle("esri/widgets/Popup/t9n/Popup")],b.prototype,"messages",void 0);c.__decorate([k.property(),x.messageBundle("esri/t9n/common")],b.prototype,"messagesCommon",void 0);c.__decorate([d.aliasOf("viewModel.promises")],b.prototype,"promises",void 0);c.__decorate([d.aliasOf("viewModel.selectedFeature")],b.prototype,"selectedFeature",void 0);c.__decorate([d.aliasOf("viewModel.selectedFeatureIndex")],
b.prototype,"selectedFeatureIndex",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"selectedFeatureWidget",null);c.__decorate([k.property()],b.prototype,"spinnerEnabled",void 0);c.__decorate([d.aliasOf("viewModel.title")],b.prototype,"title",void 0);c.__decorate([d.aliasOf("viewModel.updateLocationEnabled")],b.prototype,"updateLocationEnabled",void 0);c.__decorate([d.aliasOf("viewModel.view")],b.prototype,"view",void 0);c.__decorate([k.property({type:I}),F.vmEvent(["triggerAction","trigger-action"])],
b.prototype,"viewModel",void 0);c.__decorate([d.aliasOf("viewModel.visible")],b.prototype,"visible",void 0);c.__decorate([k.property()],b.prototype,"visibleElements",void 0);c.__decorate([h.cast("visibleElements")],b.prototype,"castVisibleElements",null);c.__decorate([E.accessibleHandler()],b.prototype,"_close",null);c.__decorate([E.accessibleHandler()],b.prototype,"_toggleDockEnabled",null);c.__decorate([E.accessibleHandler()],b.prototype,"_toggleFeatureMenu",null);c.__decorate([E.accessibleHandler()],
b.prototype,"_toggleActionsMenu",null);c.__decorate([E.accessibleHandler()],b.prototype,"_triggerAction",null);c.__decorate([E.accessibleHandler()],b.prototype,"_selectFeature",null);c.__decorate([E.accessibleHandler()],b.prototype,"_next",null);c.__decorate([E.accessibleHandler()],b.prototype,"_previous",null);return b=c.__decorate([p.subclass("esri.widgets.Popup")],b)})},"esri/core/throttle":function(){define(["exports"],function(a){function c(b,n,r,k){let d=null,h=1E3;"number"===typeof n?(h=n,
k=r):(d=null!=n?n:null,h=r);let m=0,t;const p=()=>{m=0;b.apply(k,t)};n=(...q)=>{d&&d.apply(k,q);t=q;h?m||(m=setTimeout(p,h)):p()};n.remove=()=>{m&&(clearTimeout(m),m=0)};n.forceUpdate=()=>{m&&(clearTimeout(m),p())};n.hasPendingUpdates=()=>!!m;return n}a.default=c;a.throttle=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports"],function(a){function c(b){return function(n,...r){var k;({type:k}=n);if(k=n instanceof KeyboardEvent||
"keyup"===k||"keydown"===k||"keypress"===k){if("Enter"===n.key||" "===n.key)n.preventDefault(),n.stopPropagation(),n.target.click()}else b.call(this,n,...r)}}a.accessibleHandler=function(){return function(b,n){if(!b[n])throw new TypeError(`Cannot auto bind undefined function '${n}'`);return{value:c(b[n])}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=function(c){return function(b,n){b.hasOwnProperty("_messageBundleProps")||
(b._messageBundleProps=b._messageBundleProps?b._messageBundleProps.slice():[]);b._messageBundleProps.push({bundlePath:c,propertyName:n})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports","./propUtils"],function(a,c){a.vmEvent=function(b){return n=>{n.hasOwnProperty("_delegatedEventNames")||(n._delegatedEventNames=n._delegatedEventNames?n._delegatedEventNames.slice():[]);n=n._delegatedEventNames;const r=Array.isArray(b)?b:c.splitProps(b);
n.push(...r)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/decorators/propUtils":function(){define(["exports"],function(a){a.normalizePropNames=function(c,b){return c.map(n=>{n=0===n.indexOf(b)?n:`${b}.${n}`;return n})};a.splitProps=function(c){return c.split(",").map(b=>b.trim())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/index":function(){define(["exports"],function(a){var c=function(b,n){for(var r=0,k=b.length;r<k;r++){var d=b[r];Array.isArray(d)?
c(d,n):null!==d&&void 0!==d&&!1!==d&&(d.hasOwnProperty("vnodeSelector")||(d={vnodeSelector:"",properties:void 0,children:void 0,text:d.toString(),domNode:null}),n.push(d))}};a.jsx=function(b,n){for(var r=[],k=2;k<arguments.length;k++)r[k-2]=arguments[k];if(1===r.length&&"string"===typeof r[0])return{vnodeSelector:b,properties:n||void 0,children:void 0,text:r[0],domNode:null};k=[];c(r,k);return{vnodeSelector:b,properties:n||void 0,children:k,text:void 0,domNode:null}}})},"esri/widgets/Widget":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/deprecate ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/accessorSupport/tracking ../core/promiseUtils ../core/accessorSupport/tracking/SimpleTrackingTarget ../core/Evented ../intl/locale ../intl/messages ../intl ../core/Promise ../core/Handles ../core/watchUtils ../core/domUtils ./support/widgetUtils ../libs/maquette/projection ../libs/maquette/projector".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B){const C=n.getLogger("esri.widgets.Widget");let z=0;const G=B.createProjector();let H=!1;b=function(I){function K(T,O){var U=I.call(this,T,O)||this;U._attached=!1;U._internalHandles=new y;U._projector=G;U.domNode=null;U.iconClass="esri-icon-checkbox-unchecked";U.label=U.declaredClass.split(".").pop();U.visible=!0;U._loadLocale=g.debounce(async()=>{if(U._messageBundleProps&&U._messageBundleProps.length){const J=await g.eachAlways(U._messageBundleProps.map(async({bundlePath:M,
propertyName:R})=>{U[R]=await w.fetchMessageBundle(M)}));for(const M of J)M.error&&C.error("widget-intl:locale-error",U.declaredClass,M.error)}await U.loadLocale()});T=x.getThemeName()||"light";["light","dark"].includes(T)||d.deprecated(C,"The following themes are deprecated: light-blue, dark-blue, light-green, dark-green, light-purple, dark-purple, light-red, and dark-red.",{version:"4.19",warnOnce:!0,see:"https://developers.arcgis.com/javascript/latest/styling/"});const W="esri-widget-uid-"+p.generateUUID(),
S=U.render.bind(a._assertThisInitialized(U));let N=!1;U._trackingTarget=new e.SimpleTrackingTarget(()=>U.scheduleRender());const P=()=>{if(!N||U.destroyed)return null;const J=S();J.properties?J.properties.key||(J.properties.key=W):J.properties={key:W};return J};U.render=()=>{if(H)return P();U._trackingTarget.clear();H=!0;let J;try{J=l.runTracked(U._trackingTarget,P)}finally{H=!1}return J};U.addResolvingPromise(U._resourcesFetch=U.beforeFirstRender().then(()=>{N=!0;U._postInitialize()}));return U}
a._inheritsLoose(K,I);var L=K.prototype;L.normalizeCtorArgs=function(T,O){T={...T};O&&(T.container=O);return T};L.postInitialize=function(){};L.beforeFirstRender=function(){return this._loadLocale().catch(g.throwIfNotAbortError)};L.loadLocale=async function(){};L.destroy=function(){this.destroyed||(this._trackingTarget.destroy(),this._trackingTarget=null,this.viewModel&&(this.viewModel.destroy(),this.viewModel=null),this._detach(this.container),this._set("container",null),this._internalHandles.destroy(),
this._emitter.clear(),this.render=()=>null,this._projector=null)};L.castContainer=function(T){return E.byId(T)};L.render=function(){throw Error("not implemented");};L.scheduleRender=function(){this.destroyed||this._projector.scheduleRender()};L.classes=function(...T){return x.classes.apply(this,T)};L.own=function(T){1<arguments.length&&(T=Array.prototype.slice.call(arguments));this._internalHandles.add(T)};L.renderNow=function(){this._projector.renderNow()};L._postInitialize=function(){var T;this.destroyed||
(this.scheduleRender(),null!=(T=this._delegatedEventNames)&&T.length&&this._internalHandles.add(A.init(this,"viewModel",(O,U)=>{U&&this._internalHandles.remove("delegated-events");O&&this._internalHandles.add(this._delegatedEventNames.map(W=>O.on(W,S=>{this.emit(W,S)})),"delegated-events")})),this.postInitialize(),this._internalHandles.add(u.onLocaleChange(async()=>{await this._loadLocale().catch(g.throwIfNotAbortError);this.scheduleRender()})),this._internalHandles.add(A.whenOnce(this,"container",
async O=>{this.destroyed||this._attach(O)})))};L._attach=function(T){T&&(this._projector.merge(T,this.render),this._attached=!0)};L._detach=function(T){T&&this._attached&&(this._projector.detach(this.render),T.parentNode&&T.parentNode.removeChild(T),this._attached=!1)};a._createClass(K,[{key:"container",set:function(T){this._get("container")||this._set("container",T)}},{key:"id",get:function(){return this._get("id")||this.get("container.id")||Date.now().toString(16)+"-widget-"+z++},set:function(T){T&&
this._set("id",T)}},{key:"renderable",get:function(){return this._resourcesFetch}}]);return K}(v.EsriPromiseMixin(f.EventedAccessor));c.__decorate([r.property({value:null})],b.prototype,"container",null);c.__decorate([k.cast("container")],b.prototype,"castContainer",null);c.__decorate([r.property({aliasOf:"container"})],b.prototype,"domNode",void 0);c.__decorate([r.property()],b.prototype,"iconClass",void 0);c.__decorate([r.property()],b.prototype,"id",null);c.__decorate([r.property()],b.prototype,
"label",void 0);c.__decorate([r.property()],b.prototype,"renderable",null);c.__decorate([r.property()],b.prototype,"viewModel",void 0);c.__decorate([r.property()],b.prototype,"visible",void 0);return b=c.__decorate([m.subclass("esri.widgets.Widget")],b)})},"esri/widgets/Feature/support/FeatureContentMixin":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../chunks/index ../../support/widget".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){a.FeatureContentMixin=e=>{e=function(f){function u(){var w=f.apply(this,arguments)||this;w.renderNodeContent=D=>g.isWidget(D)&&!D.destroyed?l.jsx("div",{key:D},D.render()):D instanceof HTMLElement?l.jsx("div",{key:D,bind:D,afterCreate:w._attachToNode}):g.hasDomNode(D)?l.jsx("div",{key:D,bind:D.domNode,afterCreate:w._attachToNode}):null;return w}c._inheritsLoose(u,f);u.prototype._attachToNode=function(w){w.appendChild(this)};return u}(e);return e=b.__decorate([m.subclass("esri.widgets.Feature.ContentMixin")],
e)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/widget":function(){define("exports ./widgetUtils ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/renderable ./decorators/vmEvent ../../chunks/index".split(" "),function(a,c,b,n,r,k,d){a.additionalAllowedTags=c.additionalAllowedTags;a.classes=c.classes;a.cssTransition=c.cssTransition;a.discardNode=c.discardNode;a.getThemeName=c.getThemeName;a.isDarkTheme=c.isDarkTheme;a.isRTL=c.isRTL;a.keepMenuItemWithinView=
c.keepMenuItemWithinView;a.renderingSanitizer=c.renderingSanitizer;a.safeAttrs=c.safeAttrs;a.storeNode=c.storeNode;a.accessibleHandler=b.accessibleHandler;a.messageBundle=n.messageBundle;a.renderable=r.renderable;a.vmEvent=k.vmEvent;a.tsx=d.jsx;a.hasDomNode=function(h){return h&&"function"===typeof h.postMixInProperties&&"function"===typeof h.buildRendering&&"function"===typeof h.postCreate&&"function"===typeof h.startup};a.isWidget=function(h){return h&&"function"===typeof h.render};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/widgets/support/decorators/renderable":function(){define(["exports","../../../core/has","../../../core/Logger","../../../core/deprecate"],function(a,c,b,n){a.renderable=function(r){return function(k,d){c("esri-deprecation-warnings")&&n.deprecated(b.getLogger("esri.core.accessorSupport.decorators"),"'@renderable()' decorator",{version:"4.19",warnOnce:!0})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Feature":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../intl/substitute ../intl ../core/watchUtils ./support/widgetUtils ./support/decorators/messageBundle ../chunks/index ./Widget ./Feature/FeatureAttachments ./Feature/FeatureContent ./Feature/FeatureFields ./Feature/FeatureMedia ./Feature/FeatureViewModel ./Feature/support/FeatureContentMixin".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F){const B={title:!0,content:!0,lastEditedInfo:!0};b=function(C){function z(H,I){H=C.call(this,H,I)||this;H._contentWidgets=[];H.graphic=null;H.defaultPopupTemplateEnabled=!1;H.label=void 0;H.messages=null;H.messagesURIUtils=null;H.spatialReference=null;H.title=null;H.visibleElements={...B};H.map=null;H.view=null;H.viewModel=new x;return H}a._inheritsLoose(z,C);var G=z.prototype;G.initialize=function(){this.own(e.init(this,"viewModel.contentViewModels",
()=>this._setupContentWidgets()))};G.destroy=function(){this._destroyContentWidgets()};G.castVisibleElements=function(H){return{...B,...H}};G.render=function(){const {waitingForContent:H}=this.viewModel;return w.jsx("div",{class:this.classes("esri-feature","esri-widget")},w.jsx("div",{class:"esri-feature__size-container"},this.renderTitle(),H?this.renderLoading():this.renderContentContainer()))};G.setActiveMedia=function(H,I){this.viewModel.setActiveMedia(H,I)};G.nextMedia=function(H){this.viewModel.nextMedia(H)};
G.previousMedia=function(H){this.viewModel.previousMedia(H)};G.renderLoading=function(){return w.jsx("div",{key:"loading-container",class:"esri-feature__loading-container"},w.jsx("span",{class:this.classes("esri-icon-loading-indicator esri-rotating","esri-feature__loading-spinner")}))};G.renderContentContainer=function(){const {visibleElements:H}=this;return H.content?w.jsx("div",{class:"esri-feature__main-container"},[this.renderContent(),this.renderLastEditInfo()]):null};G.renderTitle=function(){const {visibleElements:H,
title:I}=this;return H.title?w.jsx("h4",{class:"esri-feature__title",innerHTML:I}):null};G.renderContent=function(){var H=this.viewModel.content;return H?Array.isArray(H)?H.length?w.jsx("div",{key:"content-content-elements"},H.map(this.renderContentElement,this)):null:"string"===typeof H?(H=this._contentWidgets[0],!H||H.destroyed?null:w.jsx("div",{key:"content-content"},H.render())):this.renderNodeContent(H):null};G.renderContentElement=function(H,I){const {visibleElements:K}=this;if("boolean"!==
typeof K.content&&!K.content[H.type])return null;switch(H.type){case "attachments":return this.renderAttachments(I);case "custom":return this.renderCustom(H,I);case "fields":return this.renderFields(I);case "media":return this.renderMedia(I);case "text":return this.renderText(H,I);default:return null}};G.renderAttachments=function(H){const I=this._contentWidgets[H];if(!I||I.destroyed)return null;const {state:K,attachmentInfos:L}=I.viewModel;return"loading"===K||0<L.length?w.jsx("div",{key:this._buildKey("attachments-element",
H),class:this.classes("esri-feature__content-element")},I.render()):null};G.renderCustom=function(H,I){({creator:H}=H);const K=this._contentWidgets[I];return!K||K.destroyed?null:H?w.jsx("div",{key:this._buildKey("custom-element",I),class:"esri-feature__content-element"},K.render()):null};G.renderFields=function(H){const I=this._contentWidgets[H];return!I||I.destroyed?null:w.jsx("div",{key:this._buildKey("fields-element",H),class:"esri-feature__content-element"},I.render())};G.renderMedia=function(H){const I=
this._contentWidgets[H];return!I||I.destroyed?null:w.jsx("div",{key:this._buildKey("media-element",H),class:"esri-feature__content-element"},I.render())};G.renderLastEditInfo=function(){const {visibleElements:H,messages:I}=this;var {lastEditInfo:K}=this.viewModel;if(!K||!H.lastEditedInfo)return null;const {date:L,user:T}=K;K=l.substitute("edit"===K.type?T?I.lastEditedByUser:I.lastEdited:T?I.lastCreatedByUser:I.lastCreated,{date:L,user:T});return w.jsx("div",{key:"edit-info-element",class:this.classes("esri-feature__last-edited-info",
"esri-feature__content-element")},K)};G.renderText=function(H,I){const K=this._contentWidgets[I];return!K||K.destroyed?null:H.text?w.jsx("div",{key:this._buildKey("text-element",I),class:this.classes("esri-feature__content-element","esri-feature__text")},K.render()):null};G._buildKey=function(H,...I){const K=this.get("viewModel.graphic.uid")||"0";I=I.join("-");return`${H}__${K}-${I}`};G._destroyContentWidgets=function(){this._contentWidgets.forEach(H=>{H.viewModel=null;H&&!H.destroyed&&H.destroy()});
this._contentWidgets=[]};G._setupContentWidgets=function(){this._destroyContentWidgets();var H=this.get("viewModel.content");const {contentViewModels:I}=this.viewModel;Array.isArray(H)?H.forEach((K,L)=>{"attachments"===K.type&&(this._contentWidgets[L]=new v({displayType:K.displayType,viewModel:I[L]}));"fields"===K.type&&(this._contentWidgets[L]=new A({viewModel:I[L]}));"media"===K.type&&(this._contentWidgets[L]=new E({viewModel:I[L]}));"text"===K.type&&(this._contentWidgets[L]=new y({viewModel:I[L]}));
"custom"===K.type&&(this._contentWidgets[L]=new y({viewModel:I[L]}))},this):(H=I[0])&&!H.destroyed&&(this._contentWidgets[0]=new y({viewModel:H}));this.scheduleRender()};return z}(F.FeatureContentMixin(D));c.__decorate([k.aliasOf("viewModel.graphic")],b.prototype,"graphic",void 0);c.__decorate([k.aliasOf("viewModel.defaultPopupTemplateEnabled")],b.prototype,"defaultPopupTemplateEnabled",void 0);c.__decorate([r.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",
void 0);c.__decorate([r.property(),u.messageBundle("esri/widgets/Feature/t9n/Feature")],b.prototype,"messages",void 0);c.__decorate([r.property(),u.messageBundle("esri/widgets/support/t9n/uriUtils")],b.prototype,"messagesURIUtils",void 0);c.__decorate([k.aliasOf("viewModel.spatialReference")],b.prototype,"spatialReference",void 0);c.__decorate([k.aliasOf("viewModel.title")],b.prototype,"title",void 0);c.__decorate([r.property()],b.prototype,"visibleElements",void 0);c.__decorate([d.cast("visibleElements")],
b.prototype,"castVisibleElements",null);c.__decorate([k.aliasOf("viewModel.map")],b.prototype,"map",void 0);c.__decorate([k.aliasOf("viewModel.view")],b.prototype,"view",void 0);c.__decorate([r.property({type:x})],b.prototype,"viewModel",void 0);return b=c.__decorate([m.subclass("esri.widgets.Feature")],b)})},"esri/widgets/Feature/FeatureAttachments":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/watchUtils ../support/widgetUtils ../../chunks/index ../Widget ../Attachments ./FeatureAttachments/FeatureAttachmentsViewModel ./support/FeatureElementInfo".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){b=function(v){function y(E,x){E=v.call(this,E,x)||this;E._featureElementInfo=null;E.attachmentsWidget=new u;E.description=null;E.displayType=null;E.graphic=null;E.title=null;E.viewModel=new w;return E}a._inheritsLoose(y,v);var A=y.prototype;A.initialize=function(){this._featureElementInfo=new D;l.init(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo());l.init(this,"viewModel.graphic",E=>this.attachmentsWidget.graphic=
E)};A.destroy=function(){this.attachmentsWidget.destroy();this._featureElementInfo.destroy()};A.render=function(){var E;const {attachmentsWidget:x}=this;return e.jsx("div",{class:"esri-feature-attachments"},null==(E=this._featureElementInfo)?void 0:E.render(),null==x?void 0:x.render())};A._setupFeatureElementInfo=function(){const {description:E,title:x}=this;this._featureElementInfo.set({description:E,title:x})};return y}(f);c.__decorate([k.property({readOnly:!0})],b.prototype,"attachmentsWidget",
void 0);c.__decorate([d.aliasOf("viewModel.description")],b.prototype,"description",void 0);c.__decorate([d.aliasOf("attachmentsWidget.displayType")],b.prototype,"displayType",void 0);c.__decorate([d.aliasOf("viewModel.graphic")],b.prototype,"graphic",void 0);c.__decorate([d.aliasOf("viewModel.title")],b.prototype,"title",void 0);c.__decorate([k.property({type:w})],b.prototype,"viewModel",void 0);return b=c.__decorate([m.subclass("esri.widgets.Feature.FeatureAttachments")],b)})},"esri/widgets/Attachments":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/watchUtils ../core/unitFormatUtils ./support/widgetUtils ./support/decorators/messageBundle ../chunks/index ./Widget ./Attachments/AttachmentsViewModel ./Attachments/support/attachmentUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y){const A={addButton:!0,addSubmitButton:!0,cancelAddButton:!0,cancelUpdateButton:!0,deleteButton:!0,errorMessage:!0,progressBar:!0,updateButton:!0},E=window.CSS;b=function(x){function F(C,z){C=x.call(this,C,z)||this;C.abilities=null;C.displayType="list";C.graphic=null;C.label=void 0;C.messages=null;C.messagesUnits=null;C.selectedFile=null;C.submitting=!1;C.viewModel=new v;C.visibleElements={...A};C._supportsImageOrientation=E&&E.supports&&E.supports("image-orientation",
"from-image");C._addAttachmentForm=null;C._updateAttachmentForm=null;return C}a._inheritsLoose(F,x);var B=F.prototype;B.initialize=function(){this.own(g.on(this,"viewModel.attachmentInfos","change",()=>this.scheduleRender()),g.init(this,"viewModel.mode",()=>this._modeChanged()))};B.castVisibleElements=function(C){return{...A,...C}};B.addAttachment=function(){const {_addAttachmentForm:C,viewModel:z}=this;this._set("submitting",!0);this._set("error",null);return z.addAttachment(C).then(G=>{this._set("submitting",
!1);this._set("error",null);z.mode="view";return G}).catch(G=>{this._set("submitting",!1);this._set("error",new t("attachments:add-attachment",this.messages.addErrorMessage,G));throw G;})};B.deleteAttachment=function(C){const {viewModel:z}=this;this._set("submitting",!0);this._set("error",null);return z.deleteAttachment(C).then(G=>{this._set("submitting",!1);this._set("error",null);z.mode="view";return G}).catch(G=>{this._set("submitting",!1);this._set("error",new t("attachments:delete-attachment",
this.messages.deleteErrorMessage,G));throw G;})};B.updateAttachment=function(){const {viewModel:C}=this,{_updateAttachmentForm:z}=this;this._set("submitting",!0);this._set("error",null);return C.updateAttachment(z).then(G=>{this._set("submitting",!1);this._set("error",null);C.mode="view";return G}).catch(G=>{this._set("submitting",!1);this._set("error",new t("attachments:update-attachment",this.messages.updateErrorMessage,G));throw G;})};B.render=function(){const {submitting:C,viewModel:z}=this,{state:G}=
z;return w.jsx("div",{class:this.classes("esri-attachments","esri-widget")},C?this.renderProgressBar():null,"loading"===G?this.renderLoading():this.renderAttachments(),this.renderErrorMessage())};B.renderErrorMessage=function(){const {error:C,visibleElements:z}=this;return C&&z.errorMessage?w.jsx("div",{key:"error-message",class:"esri-attachments__error-message"},C.message):null};B.renderAttachments=function(){const {mode:C,activeAttachmentInfo:z}=this.viewModel;return"add"===C?this.renderAddForm():
"edit"===C?this.renderDetailsForm(z):this.renderAttachmentContainer()};B.renderLoading=function(){return w.jsx("div",{class:"esri-attachments__loader-container",key:"loader"},w.jsx("div",{class:"esri-attachments__loader"}))};B.renderProgressBar=function(){return this.visibleElements.progressBar?w.jsx("div",{class:"esri-attachments__progress-bar",key:"progress-bar"}):null};B.renderAddForm=function(){const {submitting:C,selectedFile:z}=this;var G=C||!z,H=this.visibleElements.cancelAddButton?w.jsx("button",
{type:"button",bind:this,disabled:C,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--tertiary","esri-button--small","esri-button--half",C&&"esri-button--disabled")},this.messages.cancel):null;G=this.visibleElements.addSubmitButton?w.jsx("button",{type:"submit",disabled:G,class:this.classes("esri-button","esri-button--secondary","esri-button--small","esri-button--half",{["esri-button--disabled"]:G})},this.messages.add):null;const I=z?w.jsx("span",{key:"file-name",class:"esri-attachments__file-name"},
z.name):null;H=w.jsx("form",{bind:this,afterCreate:f.storeNode,afterRemoved:f.discardNode,"data-node-ref":"_addAttachmentForm",onsubmit:this._submitAddAttachment},w.jsx("fieldset",{class:"esri-attachments__file-fieldset"},I,w.jsx("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},z?this.messages.changeFile:this.messages.selectFile,w.jsx("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",bind:this,onchange:this._handleFileInputChange}))),
G,H);return w.jsx("div",{key:"add-form-container",class:"esri-attachments__form-node"},H)};B.renderDetailsForm=function(C){const {visibleElements:z,viewModel:G,selectedFile:H,submitting:I}=this,{contentType:K,size:L,url:T}=C;var {abilities:O}=G,U=I||!H,W=O.editing&&O.operations.delete&&z.deleteButton?w.jsx("button",{key:"delete-button",type:"button",disabled:I,bind:this,onclick:J=>this._submitDeleteAttachment(J,C),class:this.classes("esri-button","esri-button--small","esri-button--tertiary","esri-attachments__delete-button",
{["esri-button--disabled"]:I})},this.messages.delete):null;U=O.editing&&O.operations.update&&z.updateButton?w.jsx("button",{disabled:U,key:"update-button",type:"submit",class:this.classes("esri-button","esri-button--small","esri-button--third",{["esri-button--disabled"]:U})},this.messages.update):null;const S=this.visibleElements.cancelUpdateButton?w.jsx("button",{disabled:I,key:"cancel-button",type:"button",bind:this,onclick:this._cancelForm,class:this.classes("esri-button","esri-button--small",
"esri-button--tertiary","esri-button--third",{["esri-button--disabled"]:I})},this.messages.cancel):null;var N=H?w.jsx("span",{key:"file-name",class:"esri-attachments__file-name"},H.name):null;O=O.editing&&O.operations.update?w.jsx("fieldset",{key:"file",class:"esri-attachments__file-fieldset"},N,w.jsx("label",{class:this.classes("esri-attachments__file-label","esri-button","esri-button--secondary")},this.messages.changeFile,w.jsx("input",{class:"esri-attachments__file-input",type:"file",name:"attachment",
bind:this,onchange:this._handleFileInputChange}))):null;N=w.jsx("fieldset",{key:"size",class:"esri-attachments__metadata-fieldset"},w.jsx("label",null,e.formatFileSize(this.messagesUnits,L)));const P=w.jsx("fieldset",{key:"content-type",class:"esri-attachments__metadata-fieldset"},w.jsx("label",null,K));W=w.jsx("form",{bind:this,afterCreate:f.storeNode,afterRemoved:f.discardNode,"data-node-ref":"_updateAttachmentForm",onsubmit:this._submitUpdateAttachment},w.jsx("div",{class:"esri-attachments__metadata"},
N,P),O,w.jsx("div",{class:"esri-attachments__actions"},W,S,U));return w.jsx("div",{key:"edit-form-container",class:"esri-attachments__form-node"},w.jsx("a",{class:"esri-attachments__item-link",href:T,rel:"noreferrer",target:"_blank"},this.renderImageMask({attachmentInfo:C,size:400}),w.jsx("div",{class:"esri-attachments__item-link-overlay"},w.jsx("span",{class:"esri-attachments__item-link-overlay-icon"},w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},w.jsx("path",
{d:"M28 13h1v16H3V3h16v1H4v24h24zm-5-9h4.293L15.646 15.638l.707.707L28 4.707V9h1V3h-6z"}),w.jsx("path",{fill:"none",d:"M0 0h32v32H0z"}))))),W)};B.renderImageMask=function({attachmentInfo:C,size:z}){var {supportsResizeAttachments:G}=this.viewModel;const {contentType:H,name:I,url:K}=C,L=G&&y.isSupportedImage(H);C=(C=this._getCSSTransform(C,L))?{transform:C,"image-orientation":"none"}:{};const T=-1===K.indexOf("?")?"?":"\x26";z=L?`${K}${T}w=${z}`:y.getIconPath(H);G={["esri-attachments__image--resizable"]:G};
return w.jsx("div",{class:this.classes({["esri-attachments__item-mask--icon"]:!L},"esri-attachments__item-mask")},w.jsx("img",{styles:C,alt:I,src:z,class:this.classes(G,"esri-attachments__image")}))};B.renderAttachmentInfo=function({attachmentInfo:C,displayType:z}){var {viewModel:G}=this;({abilities:G}=G);const {name:H,url:I}=C;z=this.renderImageMask({attachmentInfo:C,size:"list"===z?48:400});var K=G.editing?w.jsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-chevron-icon",
f.isRTL()?"esri-icon-left":"esri-icon-right")}):null;K=w.jsx("label",{class:"esri-attachments__label"},w.jsx("span",{class:"esri-attachments__filename"},H||this.messages.noTitle),K);z=[z,K];G=G.editing?w.jsx("button",{key:"details-button",bind:this,class:"esri-attachments__item-button",title:this.messages.attachmentDetails,"aria-label":this.messages.attachmentDetails,"data-attachment-info-id":C.id,onclick:()=>this._startEditAttachment(C),type:"button"},z):w.jsx("a",{key:"details-link",class:"esri-attachments__item-button",
href:I,target:"_blank"},z);return w.jsx("li",{class:"esri-attachments__item",key:C},G)};B.renderAttachmentContainer=function(){const {displayType:C,viewModel:z,visibleElements:G}=this,{attachmentInfos:H,abilities:I}=z;var K=H&&H.length;const L={["esri-attachments__container--list"]:"preview"!==C,["esri-attachments__container--preview"]:"preview"===C},T=I.editing&&I.operations.add&&G.addButton?w.jsx("button",{bind:this,onclick:()=>this._startAddAttachment(),class:this.classes("esri-button","esri-button--tertiary",
"esri-attachments__add-attachment-button"),type:"button"},w.jsx("span",{"aria-hidden":"true",class:this.classes("esri-attachments__item-add-icon","esri-icon-plus")}),this.messages.add):null;K=K?w.jsx("ul",{class:"esri-attachments__items"},H.toArray().map(O=>this.renderAttachmentInfo({attachmentInfo:O,displayType:C}))):w.jsx("div",{class:"esri-widget__content--empty"},this.messages.noAttachments);return w.jsx("div",{key:"attachments-container",class:this.classes("esri-attachments__container",L)},K,
T)};B._modeChanged=function(){this._set("error",null);this._set("selectedFile",null)};B._handleFileInputChange=function(C){C=(C=C.target)&&C.files&&C.files.item(0);this._set("selectedFile",C)};B._submitDeleteAttachment=function(C,z){C.preventDefault();this.deleteAttachment(z)};B._submitAddAttachment=function(C){C.preventDefault();this.addAttachment()};B._submitUpdateAttachment=function(C){C.preventDefault();this.updateAttachment()};B._startEditAttachment=function(C){const {viewModel:z}=this;z.activeAttachmentInfo=
C;z.mode="edit"};B._startAddAttachment=function(){this.viewModel.mode="add"};B._cancelForm=function(C){C.preventDefault();this.viewModel.mode="view"};B._getCSSTransform=function(C,z){({orientationInfo:C}=C);return!this._supportsImageOrientation&&z&&C?[C.rotation?`rotate(${C.rotation}deg)`:"",C.mirrored?"scaleX(-1)":""].join(" "):""};return F}(D);c.__decorate([k.aliasOf("viewModel.abilities")],b.prototype,"abilities",void 0);c.__decorate([r.property()],b.prototype,"displayType",void 0);c.__decorate([k.aliasOf("viewModel.graphic")],
b.prototype,"graphic",void 0);c.__decorate([r.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",void 0);c.__decorate([r.property(),u.messageBundle("esri/widgets/Attachments/t9n/Attachments")],b.prototype,"messages",void 0);c.__decorate([r.property(),u.messageBundle("esri/core/t9n/Units")],b.prototype,"messagesUnits",void 0);c.__decorate([r.property({readOnly:!0})],b.prototype,"selectedFile",void 0);c.__decorate([r.property({readOnly:!0})],b.prototype,"submitting",
void 0);c.__decorate([r.property({readOnly:!0})],b.prototype,"error",void 0);c.__decorate([r.property({type:v})],b.prototype,"viewModel",void 0);c.__decorate([r.property()],b.prototype,"visibleElements",void 0);c.__decorate([d.cast("visibleElements")],b.prototype,"castVisibleElements",null);return b=c.__decorate([m.subclass("esri.widgets.Attachments")],b)})},"esri/core/unitFormatUtils":function(){define(["exports","./string","../intl/number","./mathUtils","./unitUtils"],function(a,c,b,n,r){function k(m,
t,p){return m.units[t][p]}function d(m,t,p,q=2,l="abbr"){return`${b.formatNumber(t,{minimumFractionDigits:q,maximumFractionDigits:q})} ${k(m,p,l)}`}const h=["B","kB","MB","GB","TB"];a.formatAngleDegrees=function(m,t,p=2){return`${r.convertUnit(m,t,"degrees").toFixed(p)}\u00b0`};a.formatDMS=function(m,t,p=2){m=r.convertUnit(m,t,"degrees");t=m-Math.floor(m);m-=t;t*=60;let q=t-Math.floor(t);t-=q;q*=60;return`${m.toFixed()}\u00b0 ${t.toFixed()}' ${q.toFixed(p)}"`};a.formatDecimal=d;a.formatFileSize=function(m,
t){let p=0===t?0:Math.floor(Math.log(t)/Math.log(1024));p=n.clamp(p,0,h.length-1);t=b.formatNumber(t/1024**p,{maximumFractionDigits:2});return c.replace(m.units.bytes[h[p]],{fileSize:t})};a.formatImperialArea=function(m,t,p,q=2,l="abbr"){const g=r.preferredImperialAreaUnit(t,p);return d(m,r.convertUnit(t,p,g),g,q,l)};a.formatImperialLength=function(m,t,p,q=2,l="abbr"){const g=r.preferredImperialLengthUnit(t,p);return d(m,r.convertUnit(t,p,g),g,q,l)};a.formatImperialVerticalLength=function(m,t,p,q=
2,l="abbr"){const g=r.preferredImperialVerticalLengthUnit(t,p);return d(m,r.convertUnit(t,p,g),g,q,l)};a.formatMetricArea=function(m,t,p,q=2,l="abbr"){const g=r.preferredMetricAreaUnit(t,p);return d(m,r.convertUnit(t,p,g),g,q,l)};a.formatMetricLength=function(m,t,p,q=2,l="abbr"){const g=r.preferredMetricLengthUnit(t,p);return d(m,r.convertUnit(t,p,g),g,q,l)};a.formatMetricVerticalLength=function(m,t,p,q=2,l="abbr"){const g=r.preferredMetricVerticalLengthUnit(t,p);return d(m,r.convertUnit(t,p,g),g,
q,l)};a.unitName=k;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Attachments/AttachmentsViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Collection ../../Graphic ../../core/watchUtils ../../tasks/support/AttachmentQuery ../../rest/query/support/AttachmentInfo ../../core/HandleOwner ../Feature/support/featureUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){const y={editing:!1,operations:{add:!0,update:!0,delete:!0}},A=g.ofType(w);b=function(E){function x(B){var C=E.call(this,B)||this;C._getAttachmentsPromise=null;C._attachmentLayer=null;C.abilities={...y};C.activeAttachmentInfo=null;C.attachmentInfos=new A;C.graphic=null;C.mode="view";C.handles.add([f.init(a._assertThisInitialized(C),"graphic",()=>C._graphicChanged())]);return C}a._inheritsLoose(x,E);var F=x.prototype;F.destroy=function(){this.graphic=
this._attachmentLayer=null};F.castAbilities=function(B){return{...y,...B}};F.getAttachments=async function(){const {_attachmentLayer:B,attachmentInfos:C}=this;if(!B||"function"!==typeof B.queryAttachments)throw new t("invalid-layer","getAttachments(): A valid layer is required.");const z=this._getFeatureId();var G=new u({objectIds:[z],returnMetadata:!0});const H=[];this._getAttachmentsPromise=G=B.queryAttachments(G).then(I=>I[z]||H).catch(()=>H);this.notifyChange("state");G=await G;C.removeAll();
G.length&&C.addMany(G);this._getAttachmentsPromise=null;this.notifyChange("state");return G};F.addAttachment=async function(B){const {_attachmentLayer:C,attachmentInfos:z,graphic:G,abilities:H}=this;if(!B)throw new t("invalid-attachment","addAttachment(): An attachment is required.",{attachment:B});if(!H.operations.add)throw new t("invalid-abilities","addAttachment(): add abilities are required.");if(!C||"function"!==typeof C.addAttachment)throw new t("invalid-layer","addAttachment(): A valid layer is required.");
B=await C.addAttachment(G,B).then(I=>this._queryAttachment(I.objectId));z.add(B);return B};F.deleteAttachment=async function(B){const {_attachmentLayer:C,attachmentInfos:z,graphic:G,abilities:H}=this;if(!B)throw new t("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:B});if(!H.operations.delete)throw new t("invalid-abilities","deleteAttachment(): delete abilities are required.");if(!C||"function"!==typeof C.deleteAttachments)throw new t("invalid-layer",
"deleteAttachment(): A valid layer is required.");const I=await C.deleteAttachments(G,[B.id]).then(()=>B);z.remove(I);return I};F.updateAttachment=async function(B,C=this.activeAttachmentInfo){const {_attachmentLayer:z,attachmentInfos:G,graphic:H,abilities:I}=this;if(!B)throw new t("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:B});if(!C)throw new t("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:C});if(!I.operations.update)throw new t("invalid-abilities",
"updateAttachment(): Update abilities are required.");const K=G.findIndex(L=>L===C);if(!z||"function"!==typeof z.updateAttachment)throw new t("invalid-layer","updateAttachment(): A valid layer is required.");B=await z.updateAttachment(H,C.id,B).then(L=>this._queryAttachment(L.objectId));G.splice(K,1,B);return B};F._queryAttachment=async function(B){if(!B)throw new t("invalid-attachment-id","Could not query attachment.");const {_attachmentLayer:C}=this,z=this._getFeatureId();B=new u({objectIds:[z],
attachmentsWhere:`AttachmentId=${B}`,returnMetadata:!0});return C.queryAttachments(B).then(G=>G[z][0])};F._getFeatureId=function(){const {_attachmentLayer:B,graphic:C}=this;if(!B||!C)return null;const {objectIdField:z}=B,{attributes:G}=C;return G&&G[z]};F._graphicChanged=function(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch(()=>{}))};F._setAttachmentLayer=function(){var {graphic:B}=this;this._attachmentLayer=(B=v.getSourceLayer(B))?"scene"===B.type&&n.isSome(B.associatedLayer)?
B.associatedLayer:B:null};a._createClass(x,[{key:"state",get:function(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}},{key:"supportsResizeAttachments",get:function(){return this.get("graphic.layer.capabilities.operations.supportsResizeAttachments")||!1}}]);return x}(D.HandleOwner);c.__decorate([k.property()],b.prototype,"abilities",void 0);c.__decorate([d.cast("abilities")],b.prototype,"castAbilities",null);c.__decorate([k.property()],b.prototype,"activeAttachmentInfo",
void 0);c.__decorate([k.property({readOnly:!0,type:A})],b.prototype,"attachmentInfos",void 0);c.__decorate([k.property({type:e})],b.prototype,"graphic",void 0);c.__decorate([k.property()],b.prototype,"mode",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"state",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"supportsResizeAttachments",null);return b=c.__decorate([m.subclass("esri.widgets.Attachments.AttachmentsViewModel")],b)})},"esri/widgets/Feature/support/featureUtils":function(){define("exports ../../../core/maybe ../../../core/string ../../../core/Logger ../../../core/Error ../../../layers/support/fieldUtils ../../../intl/date ../../../intl/number ../../../popup/support/FieldInfoFormat ../../../intl".split(" "),
function(a,c,b,n,r,k,d,h,m,t){function p(P){return T.test(P)}function q(P,J){if(!p(J)||!P)return null;const M=J.replace(T,"").toLowerCase();let R;P.some(X=>X.name.toLowerCase()===M?(R=X,!0):!1);return R}function l(P,J){return(J=g(J,P))?J.name:P}function g(P,J){return P&&"function"===typeof P.getField?P.getField(J):null}function e({formattedAttributes:P,template:J,fieldInfoMap:M}){return`${b.replace(b.replace(J,R=>{{const X=M.get(R.toLowerCase());R=`{${X&&X.fieldName||R}}`}return R}),P).replace(I,
"")}`.trim()}function f(P,J,M=!1){const R=J[P];"string"===typeof R&&(M=(M?encodeURIComponent(R):R).replace(L,"%27"),J[P]=M)}function u(P,J=!1){const M={...P};Object.keys(M).forEach(R=>f(R,M,J));return M}function w(P,J){return P.replace(K,(M,R,X)=>(M=g(J,X))?`{${M.name}}`:R)}function D(P,J,M){return(P=w(P,M))?P.replace(W,(R,X,ia)=>{X=`${X||ia}`.trim();return b.replace(R,u(J,X&&"{"!==X[0]))}):P}function v(P,J){const M=J.fieldName;var R=y(J.fieldInfos,M),X=null==R?void 0:R.clone();R=J.preventPlacesFormatting;
J=g(J.layer,M);X&&J&&"date"===J.type&&(J=X.format||new m,J.dateFormat=J.dateFormat||"short-date-short-time",X.format=J);X=X&&X.format;"string"!==typeof P||!X||null!=X.dateFormat||null==X.places&&null==X.digitSeparator||(J=Number(P),isNaN(J)||(P=J));return"string"===typeof P||null==P||null==X?P:R?h.formatNumber(P,{...h.convertNumberFormatToIntlOptions(X),minimumFractionDigits:0,maximumFractionDigits:20}):X.format(P)}function y(P,J){if(P&&P.length&&J){var M=J.toLowerCase(),R=void 0;P.some(X=>X.fieldName&&
X.fieldName.toLowerCase()===M?(R=X,!0):!1);return R}}function A({fieldName:P,graphic:J,layer:M}){if(C(P)||!M||"function"!==typeof M.getFeatureType)return null;const {typeIdField:R}=M;return R&&P===R?(P=M.getFeatureType(J))?P.name:null:null}function E({fieldName:P,value:J,graphic:M,layer:R}){return C(P)||!R||"function"!==typeof R.getFieldDomain?null:(P=R.getFieldDomain(P,{feature:M}))&&"coded-value"===P.type?P.getName(J):null}function x(P){return"string"===typeof P?P.replace(O,'\x3cbr class\x3d"esri-text-new-line" /\x3e'):
P}function F(P){const {value:J,fieldName:M,fieldInfos:R,fieldInfoMap:X,layer:ia,graphic:ha}=P;return null==J?"":(P=E({fieldName:M,value:J,graphic:ha,layer:ia}))||(P=A({fieldName:M,graphic:ha,layer:ia}))?P:X.get(M.toLowerCase())?v(J,{fieldInfos:R,fieldName:M,layer:ia}):(P=ia&&ia.fieldsIndex)&&P.isDateField(M)?d.formatDate(J,N):x(J)}async function B(P,J){const {layer:M,graphic:R,outFields:X,objectIds:ia,returnGeometry:ha,spatialReference:ja}=P;P=ia[0];if("number"!==typeof P&&"string"!==typeof P)throw J=
{layer:M,graphic:R,objectId:P,requiredFields:X},P=new r("layer-query-features-invalid-objectid","Could not query required fields for the specified feature. The feature's ID is invalid.",J),H.warn("Could not query required fields for the specified feature. The feature's ID is invalid.",J),P;if("function"!==typeof M.queryFeatures)throw J={layer:M,graphic:R,requiredFields:X},P=new r("layer-query-features-unsupported","The specified layer does not support the method 'queryFeatures'. The following fields will not be available.",
J),H.warn("The specified layer does not support the method 'queryFeatures'. The following fields will not be available.",J),P;P=M.createQuery();P.objectIds=ia;P.outFields=X;P.returnGeometry=!!ha;P.outSpatialReference=ja;return(await M.queryFeatures(P,J)).features[0]}function C(P=""){return P?-1!==P.indexOf("relationships/"):!1}function z({attributes:P,graphic:J,relatedInfo:M}){P&&J&&M&&Object.keys(J.attributes).forEach(R=>{var X={layerId:M.relation.id.toString(),fieldName:R};P[X?`${"relationships/"}${X.layerId}/${X.fieldName}`:
""]=J.attributes[R]})}function G(P,J){P&&J&&(J.relatedFeatures&&J.relatedFeatures&&J.relatedFeatures.forEach(M=>z({attributes:P,graphic:M,relatedInfo:J})),J.relatedStatsFeatures&&J.relatedStatsFeatures&&J.relatedStatsFeatures.forEach(M=>z({attributes:P,graphic:M,relatedInfo:J})))}const H=n.getLogger("esri.widgets.Feature.support.featureUtils"),I=/href=(""|'')/gi,K=/(\{([^\{\r\n]+)\})/g,L=/'/g,T=/^\s*expression\//i,O=/(\n)/gi,U=/[\u00A0-\u9999<>&]/gim,W=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,S=/^(?:mailto:|tel:)/,
N=d.convertDateFormatToIntlOptions("short-date-short-time");a.applyTextFormattingHTML=x;a.createfieldInfoMap=function(P,J){const M=new Map;P&&P.forEach(R=>{const X=l(R.fieldName,J);R.fieldName=X;M.set(X.toLowerCase(),R)});return M};a.fixTokens=w;a.formatAttributes=function({fieldInfos:P,attributes:J,layer:M,graphic:R,fieldInfoMap:X,relatedInfos:ia}){const ha={...J};null==ia?void 0:ia.forEach(ja=>G(ha,ja));Object.keys(ha).forEach(ja=>{ha[ja]=F({fieldName:ja,fieldInfos:P,fieldInfoMap:X,layer:M,value:ha[ja],
graphic:R})});return ha};a.formatEditInfo=function(P,J){const {creatorField:M,creationDateField:R,editorField:X,editDateField:ia}=P;if(J){P=J[ia];if("number"===typeof P)return J=J[X],{type:"edit",date:d.formatDate(P,N),user:J};P=J[R];return"number"===typeof P?(J=J[M],{type:"create",date:d.formatDate(P,N),user:J}):null}};a.formatValueToFieldInfo=v;a.getAllFieldInfos=function(P){const J=[];if(!P)return J;const {fieldInfos:M,content:R}=P;M&&J.push(...M);if(!R||!Array.isArray(R))return J;R.forEach(X=>
{"fields"===X.type&&(X=X&&X.fieldInfos)&&J.push(...X)});return J};a.getFieldInfo=y;a.getFieldInfoLabel=function(P,J){return(J=q(J,null==P?void 0:P.fieldName))?J.title||null:P?P.label||P.fieldName:null};a.getFixedFieldName=l;a.getFixedFieldNames=function(P,J){return P&&P.map(M=>l(M,J))};a.getSourceLayer=function(P){if(!c.isNone(P))return P.get("sourceLayer")||P.get("layer")};a.graphicCallback=async function(P,J){return"function"===typeof P?P.call(null,J):P};a.htmlEntities=function(P){return P.replace(U,
J=>`&#${J.charCodeAt(0)};`)};a.isExpressionField=p;a.isRelatedField=C;a.queryUpdatedFeature=async function({graphic:P,popupTemplate:J,layer:M,spatialReference:R},X){if(M&&J){var {returnGeometry:ia}=J;"function"===typeof M.load&&await M.load(X);var ha=P.attributes[M.objectIdField];if(null!=ha){ha=[ha];J=await J.getRequiredFields(M.fields);var ja=k.featureHasFields(J,P);if(!ja||ia)if(M=await B({layer:M,graphic:P,outFields:ja?[]:J,objectIds:ha,returnGeometry:ia,spatialReference:R},X))M.geometry&&(P.geometry=
M.geometry),M.attributes&&(P.attributes={...P.attributes,...M.attributes})}}};a.shouldOpenInNewTab=function(P=""){if(P)return!S.test(P.trim().toLowerCase())};a.substituteAttributes=e;a.substituteFieldsInLinksAndAttributes=function({attributes:P,globalAttributes:J,layer:M,text:R,fieldInfoMap:X}){return R?e({formattedAttributes:J,template:D(R,{...J,...P},M),fieldInfoMap:X}):""};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Attachments/support/attachmentUtils":function(){define(["exports",
"../../../assets"],function(a,c){a.getIconPath=function(b){const n=c.getAssetUrl("esri/themes/base/images/files/");return b?"text/plain"===b?`${n}text-32.svg`:"application/pdf"===b?`${n}pdf-32.svg`:"text/csv"===b?`${n}csv-32.svg`:"application/gpx+xml"===b?`${n}gpx-32.svg`:"application/x-dwf"===b?`${n}cad-32.svg`:"application/postscript"===b||"application/json"===b||"text/xml"===b||"model/vrml"===b?`${n}code-32.svg`:"application/x-zip-compressed"===b||"application/x-7z-compressed"===b||"application/x-gzip"===
b||"application/x-tar"===b||"application/x-gtar"===b||"application/x-bzip2"===b||"application/gzip"===b||"application/x-compress"===b||"application/x-apple-diskimage"===b||"application/x-rar-compressed"===b||"application/zip"===b?`${n}zip-32.svg`:-1!==b.indexOf("image/")?`${n}image-32.svg`:-1!==b.indexOf("audio/")?`${n}sound-32.svg`:-1!==b.indexOf("video/")?`${n}video-32.svg`:-1!==b.indexOf("msexcel")||-1!==b.indexOf("ms-excel")||-1!==b.indexOf("spreadsheetml")?`${n}excel-32.svg`:-1!==b.indexOf("msword")||
-1!==b.indexOf("ms-word")||-1!==b.indexOf("wordprocessingml")?`${n}word-32.svg`:-1!==b.indexOf("powerpoint")||-1!==b.indexOf("presentationml")?`${n}report-32.svg`:`${n}generic-32.svg`:`${n}generic-32.svg`};a.isSupportedImage=function(b){b=b.toLowerCase();return"image/bmp"===b||"image/emf"===b||"image/exif"===b||"image/gif"===b||"image/x-icon"===b||"image/jpeg"===b||"image/png"===b||"image/tiff"===b||"image/x-wmf"===b};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Feature/FeatureAttachments/FeatureAttachmentsViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../Attachments/AttachmentsViewModel".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,e)||this;e.description=null;e.title=null;return e}a._inheritsLoose(g,l);return g}(q);c.__decorate([k.property()],b.prototype,"description",void 0);c.__decorate([k.property()],b.prototype,"title",void 0);return b=c.__decorate([h.subclass("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],b)})},"esri/widgets/Feature/support/FeatureElementInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../support/widgetUtils ../../../chunks/index ../../Widget".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){b=function(e){function f(w,D){w=e.call(this,w,D)||this;w.description=null;w.title=null;return w}a._inheritsLoose(f,e);var u=f.prototype;u.render=function(){return l.jsx("div",{class:"esri-feature-element-info"},this.renderTitle(),this.renderDescription())};u.renderTitle=function(){const {title:w}=this;return w?l.jsx("h2",{key:"title",class:"esri-feature-element-info__title"},w):null};u.renderDescription=function(){const {description:w}=this;return w?l.jsx("div",
{key:"description",class:"esri-feature-element-info__description"},w):null};return f}(g);c.__decorate([k.property()],b.prototype,"description",void 0);c.__decorate([k.property()],b.prototype,"title",void 0);return b=c.__decorate([h.subclass("esri.widgets.Feature.support.FeatureElementInfo")],b)})},"esri/widgets/Feature/FeatureContent":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../chunks/index ../support/widget ../Widget ./support/featureUtils ./FeatureContent/FeatureContentViewModel".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u){b=function(w){function D(y,A){y=w.call(this,y,A)||this;y.creator=null;y.graphic=null;y.viewModel=null;y._addTargetToAnchors=E=>{Array.from(E.querySelectorAll("a")).forEach(x=>{f.shouldOpenInNewTab(x.href)&&!x.hasAttribute("target")&&x.setAttribute("target","_blank")})};return y}a._inheritsLoose(D,w);var v=D.prototype;v.renderLoading=function(){return l.jsx("div",{class:"esri-feature-content__loader-container",key:"loader"},l.jsx("div",{class:"esri-feature-content__loader"}))};
v.renderCreated=function(){var y;const A=null==(y=this.viewModel)?void 0:y.created;return A?A instanceof HTMLElement?l.jsx("div",{key:A,bind:A,afterCreate:this._attachToNode}):g.isWidget(A)?l.jsx("div",{key:A},!A.destroyed&&A.render()):l.jsx("div",{key:A,innerHTML:A,afterCreate:this._addTargetToAnchors}):null};v.render=function(){var y;const A=null==(y=this.viewModel)?void 0:y.state;return l.jsx("div",{class:"esri-feature-content"},"loading"===A?this.renderLoading():this.renderCreated())};v._attachToNode=
function(y){y.appendChild(this)};return D}(e);c.__decorate([d.aliasOf("viewModel.creator")],b.prototype,"creator",void 0);c.__decorate([d.aliasOf("viewModel.graphic")],b.prototype,"graphic",void 0);c.__decorate([k.property({type:u})],b.prototype,"viewModel",void 0);return b=c.__decorate([m.subclass("esri.widgets.Feature.FeatureContent")],b)})},"esri/widgets/Feature/FeatureContent/FeatureContentViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../../Graphic ../../../core/watchUtils ../../../core/HandleOwner ../support/featureUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){b=function(u){function w(v){var y=u.call(this,v)||this;y._loadingPromise=null;y.created=null;y.creator=null;y.destroyer=null;y.graphic=null;y.handles.add(g.init(a._assertThisInitialized(y),"creator",A=>{y._destroyContent();y._createContent(A)}));return y}a._inheritsLoose(w,u);var D=w.prototype;D.destroy=function(){this._destroyContent()};D._destroyContent=function(){const {created:v,graphic:y,destroyer:A}=this;v&&(f.graphicCallback(A,{graphic:y}).catch(()=>
null),this._set("created",null))};D._createContent=async function(v){var {graphic:y}=this;this._loadingPromise=v=f.graphicCallback(v,{graphic:y}).catch(()=>null);this.notifyChange("state");y=await v;v===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",y))};a._createClass(w,[{key:"state",get:function(){return this._loadingPromise?"loading":"ready"}}]);return w}(e.HandleOwnerMixin(q));c.__decorate([k.property({readOnly:!0})],b.prototype,"created",void 0);
c.__decorate([k.property()],b.prototype,"creator",void 0);c.__decorate([k.property()],b.prototype,"destroyer",void 0);c.__decorate([k.property({type:l})],b.prototype,"graphic",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"state",null);return b=c.__decorate([h.subclass("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],b)})},"esri/widgets/Feature/FeatureFields":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/watchUtils ../support/widgetUtils ../support/decorators/messageBundle ../../chunks/index ../Widget ./support/FeatureElementInfo ./FeatureFields/FeatureFieldsViewModel ../support/uriUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v){b=function(y){function A(x,F){x=y.call(this,x,F)||this;x._featureElementInfo=null;x.attributes=null;x.description=null;x.expressionInfos=null;x.fieldInfos=null;x.title=null;x.viewModel=new D;x.messages=null;x.messagesURIUtils=null;return x}a._inheritsLoose(A,y);var E=A.prototype;E.initialize=function(){this._featureElementInfo=new w;l.init(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo())};E.destroy=function(){this._featureElementInfo.destroy()};
E.renderFieldInfo=function(x,F){var {attributes:B}=this.viewModel;const C=x.fieldName,z=x.label||C;B=B?null==B[C]?"":B[C]:"";x=!(!x.format||!x.format.dateFormat);B="number"!==typeof B||x?v.autoLink(this.messagesURIUtils,B):this._forceLTR(B);x={["esri-feature-fields__field-data--date"]:x};return f.jsx("tr",{key:`fields-element-info-row-${C}-${F}`},f.jsx("th",{key:`fields-element-info-row-header-${C}-${F}`,class:"esri-feature-fields__field-header",innerHTML:z}),f.jsx("td",{key:`fields-element-info-row-data-${C}-${F}`,
class:this.classes("esri-feature-fields__field-data",x),innerHTML:B}))};E.renderFields=function(){const {formattedFieldInfos:x}=this.viewModel;return x.length?f.jsx("table",{class:"esri-widget__table",summary:this.messages.fieldsSummary},f.jsx("tbody",null,x.map((F,B)=>this.renderFieldInfo(F,B)))):null};E.render=function(){var x;return f.jsx("div",{class:"esri-feature-fields"},null==(x=this._featureElementInfo)?void 0:x.render(),this.renderFields())};E._setupFeatureElementInfo=function(){const {description:x,
title:F}=this;this._featureElementInfo.set({description:x,title:F})};E._forceLTR=function(x){return`&lrm;${x}`};return A}(u);c.__decorate([d.aliasOf("viewModel.attributes")],b.prototype,"attributes",void 0);c.__decorate([d.aliasOf("viewModel.description")],b.prototype,"description",void 0);c.__decorate([d.aliasOf("viewModel.expressionInfos")],b.prototype,"expressionInfos",void 0);c.__decorate([d.aliasOf("viewModel.fieldInfos")],b.prototype,"fieldInfos",void 0);c.__decorate([d.aliasOf("viewModel.title")],
b.prototype,"title",void 0);c.__decorate([k.property({type:D})],b.prototype,"viewModel",void 0);c.__decorate([k.property(),e.messageBundle("esri/widgets/Feature/t9n/Feature")],b.prototype,"messages",void 0);c.__decorate([k.property(),e.messageBundle("esri/widgets/support/t9n/uriUtils")],b.prototype,"messagesURIUtils",void 0);return b=c.__decorate([m.subclass("esri.widgets.Feature.FeatureFields")],b)})},"esri/widgets/Feature/FeatureFields/FeatureFieldsViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../../popup/FieldInfo ../../../popup/ExpressionInfo ../support/featureUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){b=function(f){function u(w){w=f.call(this,w)||this;w.attributes=null;w.expressionInfos=null;w.description=null;w.fieldInfos=null;w.title=null;return w}a._inheritsLoose(u,f);a._createClass(u,[{key:"formattedFieldInfos",get:function(){const {expressionInfos:w,fieldInfos:D}=this,v=[];null==D?void 0:D.forEach(y=>{if(!y.hasOwnProperty("visible")||y.visible)y=y.clone(),y.label=e.getFieldInfoLabel(y,w),v.push(y)});return v}}]);return u}(q);c.__decorate([k.property()],
b.prototype,"attributes",void 0);c.__decorate([k.property({type:[g]})],b.prototype,"expressionInfos",void 0);c.__decorate([k.property()],b.prototype,"description",void 0);c.__decorate([k.property({type:[l]})],b.prototype,"fieldInfos",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"formattedFieldInfos",null);c.__decorate([k.property()],b.prototype,"title",void 0);return b=c.__decorate([h.subclass("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],b)})},"esri/widgets/support/uriUtils":function(){define(["exports",
"../../core/string"],function(a,c){function b(r){let k=null;n.some(d=>{d.pattern.test(r)&&(k=d);return!!k});return k}const n=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",
appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",
appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];a.autoLink=function(r,k){if("string"!==typeof k||!k)return k;const d=b(k);if(!d)return k;const h=k.match(d.pattern);
r=c.replace(c.replace(d.label,{messages:r,hierPart:h&&h[2]}),{appName:d.appName});return k.replace(d.pattern,`<a${d.target?` target="${d.target}"`:""} href="$1"${"_blank"===d.target?' rel\x3d"noreferrer"':""}>${r}</a>`)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Feature/FeatureMedia":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/aliasOf ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/events ../../core/watchUtils ../support/widgetUtils ../support/decorators/messageBundle ../../chunks/index ../Widget ./support/featureUtils ./support/FeatureElementInfo ./FeatureMedia/FeatureMediaViewModel ../support/chartUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A){b=function(E){function x(B,C){B=E.call(this,B,C)||this;B._refreshTimer=null;B._refreshIntervalInfo=null;B._featureElementInfo=null;B.attributes=null;B.activeMediaInfoIndex=null;B.description=null;B.fieldInfoMap=null;B.layer=null;B.mediaInfos=null;B.popupTemplate=null;B.relatedInfos=null;B.title=null;B.viewModel=new y;B.messages=null;return B}a._inheritsLoose(x,E);var F=x.prototype;F.initialize=function(){this._featureElementInfo=new v;this.own(g.init(this,
["viewModel.activeMediaInfo","viewModel.activeMediaInfoIndex"],()=>this._setupMediaRefreshTimer()),g.init(this,["viewModel.description","viewModel.title"],()=>this._setupFeatureElementInfo()))};F.destroy=function(){this._clearMediaRefreshTimer();this._featureElementInfo.destroy()};F.render=function(){var B;return u.jsx("div",{bind:this,class:"esri-feature-media",onkeyup:this._handleMediaKeyup},null==(B=this._featureElementInfo)?void 0:B.render(),this.renderMedia())};F.renderMedia=function(){const {formattedMediaInfoCount:B}=
this.viewModel;return B?u.jsx("div",{key:"media-element-container",class:"esri-feature-media__container"},this.renderMediaPageButton("previous"),this.renderMediaInfo(),this.renderMediaPageButton("next")):null};F.renderImageMediaInfo=function(B){var {_refreshIntervalInfo:C}=this;const {activeMediaInfoIndex:z,formattedMediaInfoCount:G}=this.viewModel,{value:H,refreshInterval:I,altText:K,title:L,type:T}=B,{sourceURL:O,linkURL:U}=H;B=D.shouldOpenInNewTab(U)?"_blank":"_self";const W="_blank"===B?"noreferrer":
"";C=I?C:null;C=u.jsx("img",{alt:K||L,key:`media-${T}-${z}-${G}-${C?C.timestamp:0}`,src:C?C.sourceURL:O});return(B=U?u.jsx("a",{title:L,href:U,rel:W,target:B},C):null)?B:C};F.renderChartMediaInfo=function(B){const {activeMediaInfoIndex:C,formattedMediaInfoCount:z}=this.viewModel;return u.jsx("div",{key:`media-${B.type}-${C}-${z}`,bind:this,class:"esri-feature-media__chart",afterCreate:this._getChartDependencies})};F.renderMediaInfoType=function(){const {activeMediaInfo:B}=this.viewModel;return B?
"image"===B.type?this.renderImageMediaInfo(B):-1!==B.type.indexOf("chart")?this.renderChartMediaInfo(B):null:null};F.renderMediaInfo=function(){var {activeMediaInfo:B}=this.viewModel;const C=B.title?u.jsx("div",{key:"media-title",class:"esri-feature-media__item-title",innerHTML:B.title}):null;B=B.caption?u.jsx("div",{key:"media-caption",class:"esri-feature-media__item-caption",innerHTML:B.caption}):null;return u.jsx("div",{key:"media-container",class:"esri-feature-media__item-container"},u.jsx("div",
{key:"media-item-container",class:"esri-feature-media__item"},this.renderMediaInfoType()),C,B)};F.renderMediaPageButton=function(B){if(2>this.viewModel.formattedMediaInfoCount)return null;const C=(B="previous"===B)?this.messages.previous:this.messages.next,z=B?this.classes("esri-feature-media__button","esri-feature-media__previous"):this.classes("esri-feature-media__button","esri-feature-media__next"),G=B?this.classes("esri-feature-media__icon","esri-feature-media__previous-icon","esri-icon-left-triangle-arrow"):
this.classes("esri-feature-media__icon","esri-feature-media__next-icon","esri-icon-right-triangle-arrow"),H=B?this.classes("esri-feature-media__icon","esri-feature-media__previous-icon--rtl","esri-icon-right-triangle-arrow"):this.classes("esri-feature-media__icon","esri-feature-media__next-icon--rtl","esri-icon-left-triangle-arrow");return u.jsx("button",{type:"button",key:B?"media-previous":"media-next",title:C,"aria-label":C,tabIndex:0,class:z,bind:this,onclick:B?this._previous:this._next},u.jsx("span",
{"aria-hidden":"true",class:G}),u.jsx("span",{"aria-hidden":"true",class:H}))};F._setupFeatureElementInfo=function(){const {description:B,title:C}=this;this._featureElementInfo.set({description:B,title:C})};F._next=function(){this.viewModel.next()};F._previous=function(){this.viewModel.previous()};F._getChartDependencies=async function(B){const C=await A.loadChartsModule(),{activeMediaInfo:z}=this.viewModel;this._renderChart({chartDiv:B,mediaInfo:z,chartsModule:C})};F._handleMediaKeyup=function(B){const C=
l.eventKey(B);"ArrowLeft"===C&&(B.stopPropagation(),this.viewModel.previous());"ArrowRight"===C&&(B.stopPropagation(),this.viewModel.next())};F._renderChart=function(B){const {chartsModule:C,chartDiv:z,mediaInfo:G}=B,{value:H,type:I}=G,{am4core:K}=C,L=A.getColorSet(K);e.isDarkTheme()&&K.useTheme(C.am4themes_dark);K.useTheme(C.am4themes_animated);K.useTheme(function(T){T instanceof K.ColorSet&&L&&(T.list=L)});B="pie-chart"===I?this._createPieChart(B):this._createXYChart(B);z.setAttribute("aria-label",
G.altText||G.title);B.data=H.series.map(T=>({tooltip:T.tooltip,value:T.value})).filter(T=>"pie-chart"===I?0<T.value:!0)};F._customizeChartTooltip=function(B,C){B.label.wrap=!0;B.label.maxWidth=200;B.autoTextColor=!1;B.getFillFromObject=!1;B.label.fill=C.color("#ffffff");B.background.fill=C.color({r:0,g:0,b:0,a:.7})};F._createPieChart=function(B){const {chartDiv:C,chartsModule:z}=B,{am4core:G,am4charts:H}=z;B=G.create(C,H.PieChart);B.rtl=e.isRTL();const I=B.series.push(new H.PieSeries);I.labels.template.disabled=
!0;I.ticks.template.disabled=!0;I.dataFields.value="value";I.dataFields.category="tooltip";this._customizeChartTooltip(I.tooltip,G);return B};F._getMinSeriesValue=function(B){let C=0;B.forEach(z=>C=Math.min(z.value,C));return C};F._createColumnChart=function(B,C){const {chartsModule:z,mediaInfo:G}=C;({value:C}=G);const {am4core:H,am4charts:I}=z,K=B.xAxes.push(new I.CategoryAxis);K.dataFields.category="tooltip";K.renderer.labels.template.disabled=!0;this._customizeChartTooltip(K.tooltip,H);K.tooltip.events.on("sizechanged",
()=>{K.tooltip.dy=-K.tooltip.contentHeight});var L=B.yAxes.push(new I.ValueAxis);const T=L.renderer.labels.template;L.renderer.minLabelPosition=.05;L.renderer.maxLabelPosition=.95;L.min=this._getMinSeriesValue(C.series);this._customizeChartTooltip(L.tooltip,H);T.wrap=!0;L=B.series.push(new I.ColumnSeries);L.dataFields.valueY="value";L.dataFields.categoryX="tooltip";B.cursor=new I.XYCursor;15<C.series.length&&(B.scrollbarX=new H.Scrollbar)};F._createBarChart=function(B,C){const {chartsModule:z,mediaInfo:G}=
C;({value:C}=G);const {am4core:H,am4charts:I}=z,K=B.yAxes.push(new I.CategoryAxis);K.dataFields.category="tooltip";K.renderer.inversed=!0;K.renderer.labels.template.disabled=!0;this._customizeChartTooltip(K.tooltip,H);K.tooltip.events.on("sizechanged",()=>{K.tooltip.dx=K.tooltip.contentWidth});var L=B.xAxes.push(new I.ValueAxis);const T=L.renderer.labels.template;L.renderer.minLabelPosition=.05;L.renderer.maxLabelPosition=.95;L.min=this._getMinSeriesValue(C.series);this._customizeChartTooltip(L.tooltip,
H);T.wrap=!0;L=B.series.push(new I.ColumnSeries);L.dataFields.valueX="value";L.dataFields.categoryY="tooltip";B.cursor=new I.XYCursor;15<C.series.length&&(B.scrollbarY=new H.Scrollbar)};F._createLineChart=function(B,C){const {chartsModule:z,mediaInfo:G}=C;({value:C}=G);const {am4core:H,am4charts:I}=z,K=B.xAxes.push(new I.CategoryAxis);K.dataFields.category="tooltip";K.renderer.labels.template.disabled=!0;this._customizeChartTooltip(K.tooltip,H);K.tooltip.events.on("sizechanged",()=>{K.tooltip.dy=
-K.tooltip.contentHeight});var L=B.yAxes.push(new I.ValueAxis);const T=L.renderer.labels.template;L.renderer.minLabelPosition=.05;L.renderer.maxLabelPosition=.95;L.min=this._getMinSeriesValue(C.series);this._customizeChartTooltip(L.tooltip,H);T.wrap=!0;L=B.series.push(new I.LineSeries);L.dataFields.categoryX="tooltip";L.dataFields.valueY="value";B.cursor=new I.XYCursor;15<C.series.length&&(B.scrollbarX=new H.Scrollbar)};F._createXYChart=function(B){const {chartDiv:C,chartsModule:z,mediaInfo:G}=B,
{type:H}=G,{am4core:I,am4charts:K}=z,L=I.create(C,K.XYChart);L.rtl=e.isRTL();"column-chart"===H&&this._createColumnChart(L,B);"bar-chart"===H&&this._createBarChart(L,B);"line-chart"===H&&this._createLineChart(L,B);return L};F._clearMediaRefreshTimer=function(){const {_refreshTimer:B}=this;B&&(clearTimeout(B),this._refreshTimer=null)};F._updateMediaInfoTimestamp=function(B){const C=Date.now();this._refreshIntervalInfo={timestamp:C,sourceURL:this._getImageSource(B,C)};this.scheduleRender()};F._setupMediaRefreshTimer=
function(){this._clearMediaRefreshTimer();const {activeMediaInfo:B}=this.viewModel;B&&"image"===B.type&&B.refreshInterval&&this._setRefreshTimeout(B)};F._setRefreshTimeout=function(B){const {refreshInterval:C,value:z}=B;C&&(B=6E4*C,this._updateMediaInfoTimestamp(z.sourceURL),this._refreshTimer=setInterval(()=>{this._updateMediaInfoTimestamp(z.sourceURL)},B))};F._getImageSource=function(B,C){const z=-1!==B.indexOf("?")?"\x26":"?",[G,H=""]=B.split("#");return`${G}${z}timestamp=${C}${H?"#":""}${H}`};
return x}(w);c.__decorate([d.aliasOf("viewModel.attributes")],b.prototype,"attributes",void 0);c.__decorate([d.aliasOf("viewModel.activeMediaInfoIndex")],b.prototype,"activeMediaInfoIndex",void 0);c.__decorate([d.aliasOf("viewModel.description")],b.prototype,"description",void 0);c.__decorate([d.aliasOf("viewModel.fieldInfoMap")],b.prototype,"fieldInfoMap",void 0);c.__decorate([d.aliasOf("viewModel.layer")],b.prototype,"layer",void 0);c.__decorate([d.aliasOf("viewModel.mediaInfos")],b.prototype,"mediaInfos",
void 0);c.__decorate([d.aliasOf("viewModel.popupTemplate")],b.prototype,"popupTemplate",void 0);c.__decorate([d.aliasOf("viewModel.relatedInfos")],b.prototype,"relatedInfos",void 0);c.__decorate([d.aliasOf("viewModel.title")],b.prototype,"title",void 0);c.__decorate([k.property({type:y})],b.prototype,"viewModel",void 0);c.__decorate([k.property(),f.messageBundle("esri/widgets/Feature/t9n/Feature")],b.prototype,"messages",void 0);return b=c.__decorate([m.subclass("esri.widgets.Feature.FeatureMedia")],
b)})},"esri/widgets/Feature/FeatureMedia/FeatureMediaViewModel":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../../popup/FieldInfo ../../../popup/content/support/ChartMediaInfoValueSeries ../support/featureUtils ../support/relatedFeatureUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){b=function(u){function w(v){v=u.call(this,v)||this;v.activeMediaInfoIndex=0;v.attributes=null;v.description=null;v.fieldInfoMap=null;v.formattedAttributes=null;v.layer=null;v.mediaInfos=null;v.popupTemplate=null;v.relatedInfos=null;v.title=null;return v}a._inheritsLoose(w,u);var D=w.prototype;D.setActiveMedia=function(v){this._setContentElementMedia(v)};D.next=function(){this._pageContentElementMedia(1)};D.previous=function(){this._pageContentElementMedia(-1)};
D._setContentElementMedia=function(v){const {formattedMediaInfoCount:y}=this;this.activeMediaInfoIndex=(v+y)%y};D._pageContentElementMedia=function(v){const {activeMediaInfoIndex:y}=this;this._setContentElementMedia(y+v)};D._formatMediaInfos=function(){const {attributes:v,mediaInfos:y,formattedAttributes:A,fieldInfoMap:E,layer:x}=this;return null==y?void 0:y.map(F=>{if(!F)return null;F.title=e.substituteFieldsInLinksAndAttributes({attributes:v,fieldInfoMap:E,globalAttributes:A,layer:x,text:F.title});
F.caption=e.substituteFieldsInLinksAndAttributes({attributes:v,fieldInfoMap:E,globalAttributes:A,layer:x,text:F.caption});F.altText=e.substituteFieldsInLinksAndAttributes({attributes:v,fieldInfoMap:E,globalAttributes:A,layer:x,text:F.altText});if("image"===F.type){var {value:B}=F;this._setImageValue({value:B,formattedAttributes:A,layer:x});return F.value.sourceURL?F:void 0}return"pie-chart"===F.type||"line-chart"===F.type||"column-chart"===F.type||"bar-chart"===F.type?({value:B}=F,this._setChartValue({value:B,
chartType:F.type,attributes:v,formattedAttributes:A,layer:x}),F):null}).filter(Boolean)};D._setImageValue=function(v){const {fieldInfoMap:y}=this,{value:A,formattedAttributes:E,layer:x}=v,{linkURL:F,sourceURL:B}=A;B&&(v=e.fixTokens(B,x),A.sourceURL=e.substituteAttributes({formattedAttributes:E,template:v,fieldInfoMap:y}));F&&(v=e.fixTokens(F,x),A.linkURL=e.substituteAttributes({formattedAttributes:E,template:v,fieldInfoMap:y}))};D._setChartValue=function(v){const {value:y,attributes:A,formattedAttributes:E,
chartType:x,layer:F}=v,{popupTemplate:B,relatedInfos:C}=this,{fields:z,normalizeField:G}=y;y.fields=e.getFixedFieldNames(z,F);G&&(y.normalizeField=e.getFixedFieldName(G,F));if(z.some(I=>!!(null!=E[I]||e.isRelatedField(I)&&C.size))){var H=null==B?void 0:B.fieldInfos;z.forEach(I=>{e.isRelatedField(I)?y.series=[...y.series,...this._getRelatedChartInfos({fieldInfos:H,fieldName:I,formattedAttributes:E,chartType:x,value:y})]:(I=this._getChartOption({value:y,attributes:A,chartType:x,formattedAttributes:E,
fieldName:I,fieldInfos:H}),y.series.push(I))})}};D._getRelatedChartInfos=function(v){var y;const {fieldInfos:A,fieldName:E,formattedAttributes:x,chartType:F,value:B}=v,C=[];v=f.getRelatedFieldInfo(E);const {layerId:z,fieldName:G}=v;v=null==(y=this.relatedInfos)?void 0:y.get(z.toString());if(!v)return C;const {relatedFeatures:H,relation:I}=v;if(!I||!H)return C;({cardinality:y}=I);H.forEach(K=>{const {attributes:L}=K;L&&Object.keys(L).forEach(T=>{T===G&&C.push(this._getChartOption({value:B,attributes:L,
formattedAttributes:x,fieldName:E,chartType:F,relatedFieldName:T,fieldInfos:A}))})});return"one-to-many"===y||"many-to-many"===y?C:[C[0]]};D._getTooltip=function({label:v,value:y,chartType:A}){return"pie-chart"===A?v:`${v}: ${y}`};D._getChartOption=function(v){const {value:y,attributes:A,formattedAttributes:E,fieldName:x,relatedFieldName:F,fieldInfos:B,chartType:C}=v;var {layer:z}=this;const {normalizeField:G,tooltipField:H}=y;var I=G?e.isRelatedField(G)?A[f.getRelatedFieldInfo(G).fieldName]:A[G]:
null;v=F&&void 0!==A[F]?A[F]:void 0!==A[x]?A[x]:E[x];const K=void 0===v?null:v&&I?v/I:v;v=new g({value:K});if(e.isRelatedField(x)){var L=f.getRelatedFieldInfo(x);var T=f.getRelatedFieldInfo(H);T=T?T.fieldName:null;z=e.formatValueToFieldInfo(K,{fieldInfos:B,fieldName:F,layer:z,preventPlacesFormatting:!!I});L=L?L.label||L.fieldName:F;v.tooltip=this._getTooltip({label:T&&void 0!==A[T]?A[T]:L,value:z,chartType:C});return v}I=e.getFieldInfo(B,x);z=e.getFixedFieldName(x,z);I=H&&void 0!==E[H]?E[H]:e.getFieldInfoLabel(I||
new l({fieldName:z}),null==(L=this.popupTemplate)?void 0:L.expressionInfos);v.tooltip=this._getTooltip({label:I,value:E[z],chartType:C});return v};a._createClass(w,[{key:"activeMediaInfo",get:function(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}},{key:"formattedMediaInfos",get:function(){return this._formatMediaInfos()||[]}},{key:"formattedMediaInfoCount",get:function(){return this.formattedMediaInfos.length}}]);return w}(q);c.__decorate([k.property()],b.prototype,"activeMediaInfoIndex",
void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"activeMediaInfo",null);c.__decorate([k.property()],b.prototype,"attributes",void 0);c.__decorate([k.property()],b.prototype,"description",void 0);c.__decorate([k.property()],b.prototype,"fieldInfoMap",void 0);c.__decorate([k.property()],b.prototype,"formattedAttributes",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"formattedMediaInfos",null);c.__decorate([k.property()],b.prototype,"layer",void 0);c.__decorate([k.property({readOnly:!0})],
b.prototype,"formattedMediaInfoCount",null);c.__decorate([k.property()],b.prototype,"mediaInfos",void 0);c.__decorate([k.property()],b.prototype,"popupTemplate",void 0);c.__decorate([k.property()],b.prototype,"relatedInfos",void 0);c.__decorate([k.property()],b.prototype,"title",void 0);return b=c.__decorate([h.subclass("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],b)})},"esri/widgets/Feature/support/relatedFeatureUtils":function(){define("exports ../../../core/Logger ../../../core/Error ../../../core/promiseUtils ../../../layers/support/fieldUtils ../../../request ../../../tasks/support/StatisticDefinition ../../../tasks/support/Query ../../../tasks/support/RelationshipQuery ../../../tasks/QueryTask ./featureUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p){function q(v,y){if(!y.relationships)return null;let A=null;({relationships:y}=y);y.some(E=>E.id===parseInt(v,10)?(A=E,!0):!1);return A}function l({originRelationship:v,relationships:y,layerId:A}){let E;y&&y.some(x=>{`${x.relatedTableId}`===A&&x.id===v.id&&(E=x);return!!E});return E}function g(v,y){y=y.toLowerCase();for(const A in v)if(A.toLowerCase()===y)return v[A];return null}function e(v,y,A,E){const x=new m;x.outFields=["*"];x.relationshipId="number"===typeof y.id?
y.id:parseInt(y.id,10);x.objectIds=[v.attributes[A.objectIdField]];return A.queryRelatedFeatures(x,E)}function f(v,y,A){let E=0;const x=[];for(;E<y.length;)x.push(`${v} IN (${y.slice(E,A+E)})`),E+=A;return x.join(" OR ")}async function u(v,y,A,E){var x=A.layerId.toString();const {layerInfo:F,queryTask:B,relation:C,relatedFields:z,outStatistics:G}=y;x=l({originRelationship:C,relationships:F.relationships,layerId:x});if(x.relationshipTableId&&x.keyFieldInRelationshipTable){A=(await e(v,x,A,E))[v.attributes[A.objectIdField]];
if(!A)return null;const H=A.features.map(I=>I.attributes[F.objectIdField]);if(0<(null==G?void 0:G.length)&&F.supportsStatistics)return y=new h,y.where=f(F.objectIdField,H,1E3),y.outFields=z,y.outStatistics=G,y={features:Promise.resolve(A),statsFeatures:B.execute(y)},n.eachAlways(y)}return(x=null==x?void 0:x.keyField)?(A=r.isNumericField(r.getField(F.fields,x)),v=g(v.attributes,C.keyField),x=A?`${x}=${v}`:`${x}='${v}'`,v=B.execute(new h({where:x,outFields:y.relatedFields}),E),y=y.outStatistics&&0<
y.outStatistics.length&&F.supportsStatistics?B.execute(new h({where:x,outFields:y.relatedFields,outStatistics:y.outStatistics}),E):null,E={features:v},y&&(E.statsFeatures=y),n.eachAlways(E)):null}const w=c.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),D=new Map;a.createRelatedInfo=function(v,y){if(v=q(v,y)){var A=`${y.url}/${v.relatedTableId}`;y=new t({url:A,sourceSpatialReference:y.spatialReference});return{url:A,queryTask:y,relation:v,relatedFields:[],outStatistics:[]}}};a.getDestinationRelation=
l;a.getRelatedFieldInfo=function(v){if(!p.isRelatedField(v))return null;const [y,A]=v.split("/").slice(1);return{layerId:y,fieldName:A}};a.queryLayerInfos=function({relatedInfos:v,layer:y},A){const E={};v.forEach((x,F)=>{({relation:x}=x);if(!x)throw F=new b("relation-required","A relation is required on a layer to retrieve related records."),w.error(F),F;({relatedTableId:x}=x);if("number"!==typeof x)throw F=new b("A related table ID is required on a layer to retrieve related records."),w.error(F),
F;x=`${y.url}/${x}`;const B=D.get(x),C=B?B:k(x,{query:{f:"json"},signal:A&&A.signal});B||D.set(x,C);E[F]=C});return n.eachAlways(E)};a.queryRelatedFeatures=function({graphic:v,relatedInfos:y,layer:A},E){const x={};y.forEach((F,B)=>{F.layerInfo&&(x[B]=u(v,F,A,E))});return n.eachAlways(x)};a.setRelatedFeatures=function(v,y){if(y&&v){var {features:A,statsFeatures:E}=v;v=A&&A.value;y.relatedFeatures=v?v.features:[];v=E&&E.value;y.relatedStatsFeatures=v?v.features:[]}};a.updateRelatedInfo=function({relatedInfo:v,
fieldName:y,fieldInfo:A}){v.relatedFields.push(y);A.statisticType&&(y=new d({statisticType:A.statisticType,onStatisticField:y,outStatisticFieldName:y}),v.outStatistics.push(y))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/chartUtils":function(){define(["require","exports","../../core/has","../../intl/locale","../../intl"],function(a,c,b,n,r){function k(p){if(!p)return"en-us";if(h.has(p.toLowerCase()))return p.toLowerCase();{p=p.split("-")[0].toLowerCase();let l=null;
for(q of h.keys())if(q.startsWith(p)){l=q;break}var q=l}return q||"en-us"}b="#ffffff #858585 #ffbebe #ffebbe #ffebaf #ffffbe #e9ffbe #d3ffbe #beffe8 #bee8ff #bed2ff #e8beff #ffbee8 #ebebeb #707070 #ff7f7f #ffa77f #ffd37f #ffff73 #d1ff73 #a3ff73 #73ffdf #73dfff #73b2ff #df73ff #ff73df #d6d6d6 #5c5c5c #ff0000 #ff5500 #ffaa00 #ffff00 #aaff00 #55ff00 #00ffc5 #00c5ff #0070ff #c500ff #ff00c5 #c2c2c2 #474747 #e60000 #e64c00 #e69800 #e6e600 #98e600 #4ce600 #00e6a9 #00a9e6 #005ce6 #a900e6 #e600a9 #adadad #242424 #a80000 #a83800 #a87000 #a8a800 #70a800 #38a800 #00a884 #0084a8 #004da8 #8400a8 #a80084 #999999 #1a1a1a #730000 #732600 #734c00 #737300 #4c7300 #267300 #00734c #004c73 #002673 #4c0073 #73004".split(" ");
var d=[{name:"default",colors:[].concat(b.slice(30,39),b.slice(28,30).reverse())},{name:"cat-dark",colors:"#ed5151 #149ece #a7c636 #9e559c #fc921f #ffde3e #f789d8 #b7814a #3caf99 #6b6bd6 #b54779 #7f7f7f".split(" ")},{name:"tropical-bliss",colors:"#fce138 #ff9399 #fcd27e #f1983c #a553b7 #b1a9d0 #6ecffc #4c81cd #fc6f84 #fc3e5a #6af689 #48885c".split(" ")},{name:"desert-blooms",colors:"#102432 #144d59 #ffc730 #ed9310 #a64f1b #661510 #d9351a #b31515 #4a0932 #8c213f #18382e #2c6954".split(" ")},{name:"under-the-sea",
colors:"#bf9727 #607100 #00734c #704489 #01acca #024e76 #f09100 #ea311f #c6004b #7570b3 #666666 #333333".split(" ")},{name:"vibrant-rainbow",colors:"#fffb00 #f5cb11 #9fd40c #46e39c #32b8a6 #7ff2fa #ac08cc #dd33ff #eb7200 #e8a784 #bf2e2e #6c7000".split(" ")},{name:"ocean-bay",colors:"#191921 #11495c #78b1c2 #454f4b #8f8f82 #9be0c0 #87b051 #f7ec88 #ebdcc1 #dbb658 #c43541 #75351e".split(" ")},{name:"prairie-summer",colors:"#332424 #751555 #d47013 #d68989 #211173 #82aad6 #7bfaeb #6ec9a8 #6b6408 #eada40 #ccc54a #1fc235".split(" ")},
{name:"pastel-chalk",colors:"#fffd99 #f5e6a4 #c1d48c #b8e3d0 #a0b8b5 #cbf7fa #d791f2 #dfc1eb #f2b983 #e8c4b2 #bf8e8e #94995c".split(" ")},{name:"seq-yellow-orange-red-bright",colors:"#910000 #b1260b #c0370f #e05919 #ef6a1d #ff7b22 #ffa143 #ffb454 #ffda74 #ffed85".split(" ")},{name:"seq-reds-bright",colors:"#57453b #7b4238 #9f4036 #c23d33 #d7483c #ec5244 #f3696c #f9816c #ffc4ae #fff0dc".split(" ")},{name:"seq-purples-bright",colors:"#4e465c #5a4a78 #695291 #775baa #8663c3 #946bdc #aa89e8 #c1a6f3 #d7c4ff #e6e1ff".split(" ")},
{name:"seq-blues-bright",colors:"#404d54 #435c6c #48799d #4b88b6 #4d96ce #50a5e7 #74bbed #98d0f3 #bce6f9 #e6faff".split(" ")},{name:"seq-greens-bright",colors:"#39544c #386757 #368165 #359b73 #33b581 #4bc392 #64d2a2 #7ce0b3 #cbf6d9 #f4ffea".split(" ")},{name:"seq-browns-bright",colors:"#524834 #715b38 #8f6e3c #ae8140 #cc9444 #eba748 #eeb664 #f0c47f #f9e0b7 #fff8eb".split(" ")}];const h=new Map([["ar",()=>(new Promise(function(p,q){a(["../../chunks/ar2"],p,q)})).then(function(p){return p.ar})],["bs-ba",
()=>(new Promise(function(p,q){a(["../../chunks/bs_BA"],p,q)})).then(function(p){return p.bs_BA})],["ca-es",()=>(new Promise(function(p,q){a(["../../chunks/ca_ES"],p,q)})).then(function(p){return p.ca_ES})],["cs-cz",()=>(new Promise(function(p,q){a(["../../chunks/cs_CZ"],p,q)})).then(function(p){return p.cs_CZ})],["da-dk",()=>(new Promise(function(p,q){a(["../../chunks/da_DK"],p,q)})).then(function(p){return p.da_DK})],["de-de",()=>(new Promise(function(p,q){a(["../../chunks/de_DE"],p,q)})).then(function(p){return p.de_DE})],
["de-ch",()=>(new Promise(function(p,q){a(["../../chunks/de_CH"],p,q)})).then(function(p){return p.de_CH})],["el-gr",()=>(new Promise(function(p,q){a(["../../chunks/el_GR"],p,q)})).then(function(p){return p.el_GR})],["en-us",()=>(new Promise(function(p,q){a(["../../chunks/en_US"],p,q)})).then(function(p){return p.en_US})],["en-ca",()=>(new Promise(function(p,q){a(["../../chunks/en_CA"],p,q)})).then(function(p){return p.en_CA})],["es-es",()=>(new Promise(function(p,q){a(["../../chunks/es_ES"],p,q)})).then(function(p){return p.es_ES})],
["et-ee",()=>(new Promise(function(p,q){a(["../../chunks/et_EE"],p,q)})).then(function(p){return p.et_EE})],["fi-fi",()=>(new Promise(function(p,q){a(["../../chunks/fi_FI"],p,q)})).then(function(p){return p.fi_FI})],["fr-fr",()=>(new Promise(function(p,q){a(["../../chunks/fr_FR"],p,q)})).then(function(p){return p.fr_FR})],["he-il",()=>(new Promise(function(p,q){a(["../../chunks/he_IL"],p,q)})).then(function(p){return p.he_IL})],["hr-hr",()=>(new Promise(function(p,q){a(["../../chunks/hr_HR"],p,q)})).then(function(p){return p.hr_HR})],
["hu-hu",()=>(new Promise(function(p,q){a(["../../chunks/hu_HU"],p,q)})).then(function(p){return p.hu_HU})],["id-id",()=>(new Promise(function(p,q){a(["../../chunks/id_ID"],p,q)})).then(function(p){return p.id_ID})],["it-it",()=>(new Promise(function(p,q){a(["../../chunks/it_IT"],p,q)})).then(function(p){return p.it_IT})],["ja-jp",()=>(new Promise(function(p,q){a(["../../chunks/ja_JP"],p,q)})).then(function(p){return p.ja_JP})],["ko-kr",()=>(new Promise(function(p,q){a(["../../chunks/ko_KR"],p,q)})).then(function(p){return p.ko_KR})],
["lt-lt",()=>(new Promise(function(p,q){a(["../../chunks/lt_LT"],p,q)})).then(function(p){return p.lt_LT})],["lv-lv",()=>(new Promise(function(p,q){a(["../../chunks/lv_LV"],p,q)})).then(function(p){return p.lv_LV})],["nb-no",()=>(new Promise(function(p,q){a(["../../chunks/nb_NO"],p,q)})).then(function(p){return p.nb_NO})],["nl-nl",()=>(new Promise(function(p,q){a(["../../chunks/nl_NL"],p,q)})).then(function(p){return p.nl_NL})],["pl-pl",()=>(new Promise(function(p,q){a(["../../chunks/pl_PL"],p,q)})).then(function(p){return p.pl_PL})],
["pt-br",()=>(new Promise(function(p,q){a(["../../chunks/pt_BR"],p,q)})).then(function(p){return p.pt_BR})],["pt-pt",()=>(new Promise(function(p,q){a(["../../chunks/pt_PT"],p,q)})).then(function(p){return p.pt_PT})],["ro-ro",()=>(new Promise(function(p,q){a(["../../chunks/ro_RO"],p,q)})).then(function(p){return p.ro_RO})],["ru-ru",()=>(new Promise(function(p,q){a(["../../chunks/ru_RU"],p,q)})).then(function(p){return p.ru_RU})],["sk-sk",()=>(new Promise(function(p,q){a(["../../chunks/sk_SK"],p,q)})).then(function(p){return p.sk_SK})],
["sl-sl",()=>(new Promise(function(p,q){a(["../../chunks/sl_SL"],p,q)})).then(function(p){return p.sl_SL})],["sr-rs",()=>(new Promise(function(p,q){a(["../../chunks/sr_RS"],p,q)})).then(function(p){return p.sr_RS})],["sv-se",()=>(new Promise(function(p,q){a(["../../chunks/sv_SE"],p,q)})).then(function(p){return p.sv_SE})],["th-th",()=>(new Promise(function(p,q){a(["../../chunks/th_TH"],p,q)})).then(function(p){return p.th_TH})],["tr-tr",()=>(new Promise(function(p,q){a(["../../chunks/tr_TR"],p,q)})).then(function(p){return p.tr_TR})],
["uk-ua",()=>(new Promise(function(p,q){a(["../../chunks/uk_UA"],p,q)})).then(function(p){return p.uk_UA})],["vi-vn",()=>(new Promise(function(p,q){a(["../../chunks/vi_VN"],p,q)})).then(function(p){return p.vi_VN})],["zh-cn",()=>(new Promise(function(p,q){a(["../../chunks/zh_Hans"],p,q)})).then(function(p){return p.zh_Hans})],["zh-hk",()=>(new Promise(function(p,q){a(["../../chunks/zh_Hant"],p,q)})).then(function(p){return p.zh_Hant})],["zh-tw",()=>(new Promise(function(p,q){a(["../../chunks/zh_Hant"],
p,q)})).then(function(p){return p.zh_Hant})]]);let m,t;c.getChartLocale=k;c.getColorSet=function(p,q="default"){const l=d.find(g=>g.name===q);return l?l.colors.map(g=>p.color(g)):null};c.loadChartsModule=async function(p=n.getLocale()){p=k(p);if(m&&p===t)return m;m=(new Promise(function(q,l){a(["../../chunks/index3"],q,l)})).then(function(q){return q.index});t=p;try{const [q,l]=await Promise.all([m,h.get(t)()]);t===p&&(q.am4core.options.defaultLocale=l.default);q.am4core.options.suppressWarnings=
!0;q.am4core.options.autoDispose=!0}catch{return t=m=null}return m};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/widgets/Feature/FeatureViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils ../../core/Accessor ../../popup/content/TextContent ../../Graphic ../../core/Handles ../../core/watchUtils ../../core/throttle ./support/featureUtils ./FeatureAttachments/FeatureAttachmentsViewModel ./FeatureContent/FeatureContentViewModel ./FeatureFields/FeatureFieldsViewModel ./support/relatedFeatureUtils ./FeatureMedia/FeatureMediaViewModel ./support/arcadeFeatureUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B){const C=r.getLogger("esri.widgets.FeatureViewModel");b=function(z){function G(I){var K=z.call(this,I)||this;K._handles=new u;K._featureAbortController=null;K.graphicChangedThrottled=D.throttle(K.graphicChanged,1,a._assertThisInitialized(K));K.content=null;K.contentViewModels=[];K.defaultPopupTemplateEnabled=!1;K.formattedAttributes=null;K.lastEditInfo=null;K.relatedInfos=new Map;K.title="";K.view=null;K._handles.add(w.init(a._assertThisInitialized(K),
["graphic","_effectivePopupTemplate"],()=>K.graphicChangedThrottled()));return K}a._inheritsLoose(G,z);var H=G.prototype;H.destroy=function(){this._clear();this._cancelFeatureQuery();this._handles.destroy();this.graphic=this._handles=null;this._destroyContentViewModels();this.relatedInfos.clear()};H.setActiveMedia=function(I,K){I=this.contentViewModels[I];I instanceof F&&I.setActiveMedia(K)};H.nextMedia=function(I){I=this.contentViewModels[I];I instanceof F&&I.next()};H.previousMedia=function(I){I=
this.contentViewModels[I];I instanceof F&&I.previous()};H._clear=function(){this._set("title","");this._set("content",null);this._set("formattedAttributes",null)};H.graphicChanged=async function(){this._cancelFeatureQuery();this._clear();const {graphic:I}=this;if(I){var K=l.createAbortController();this._featureAbortController=K;try{await this._queryFeature({signal:K.signal})}catch(L){C.error("error","error loading popupTemplate for graphic",{error:L,graphic:I})}this._featureAbortController===K&&(this._featureAbortController=
null)}};H._cancelFeatureQuery=function(){const {_featureAbortController:I}=this;I&&I.abort();this._featureAbortController=null};H._compileContent=function(I){this._destroyContentViewModels();if(this.graphic)return Array.isArray(I)?I.map((K,L)=>{if("attachments"===K.type)return this._compileAttachments(K,L);if("custom"===K.type)return this._compileCustom(K,L);if("fields"===K.type)return this._compileFields(K,L);if("media"===K.type)return this._compileMedia(K,L);if("text"===K.type)return this._compileText(K,
L)}):"string"===typeof I?this._compileText(new e({text:I}),0).text:I};H._destroyContentViewModels=function(){this.contentViewModels.forEach(I=>I&&!I.destroyed&&I.destroy());this._set("contentViewModels",[])};H._compileAttachments=function(I,K){const {graphic:L}=this,{description:T,title:O}=I;this.contentViewModels[K]=new y({graphic:L,...this._compileTitleAndDesc({title:O,description:T})});return I};H._compileCustom=function(I,K){const {graphic:L}=this,{creator:T,destroyer:O}=I;this.contentViewModels[K]=
new A({graphic:L,creator:T,destroyer:O});return I};H._compileTitleAndDesc=function({title:I,description:K}){const {_fieldInfoMap:L,_sourceLayer:T,graphic:O,formattedAttributes:U}=this,{attributes:W}=O,S=U.global;return{title:v.substituteFieldsInLinksAndAttributes({attributes:W,fieldInfoMap:L,globalAttributes:S,layer:T,text:I}),description:v.substituteFieldsInLinksAndAttributes({attributes:W,fieldInfoMap:L,globalAttributes:S,layer:T,text:K})}};H._compileFields=function(I,K){const {_effectivePopupTemplate:L,
formattedAttributes:T}=this,O=I.clone();I=(null==I?void 0:I.fieldInfos)||(null==L?void 0:L.fieldInfos);const U=null==L?void 0:L.expressionInfos,W={...T.global,...T.content[K]},{description:S,title:N}=O;I=new E({attributes:W,expressionInfos:U,fieldInfos:I,...this._compileTitleAndDesc({title:N,description:S})});this.contentViewModels[K]=I;O.fieldInfos=I.formattedFieldInfos.slice(0);return O};H._compileMedia=function(I,K){const {graphic:L,_fieldInfoMap:T,_effectivePopupTemplate:O,relatedInfos:U,_sourceLayer:W}=
this;var {attributes:S}=L;const N=this.formattedAttributes.global;I=I.clone();const {description:P,mediaInfos:J,title:M}=I;S=new F({activeMediaInfoIndex:I.activeMediaInfoIndex||0,attributes:S,layer:W,fieldInfoMap:T,formattedAttributes:N,mediaInfos:J,popupTemplate:O,relatedInfos:U,...this._compileTitleAndDesc({title:M,description:P})});I.mediaInfos=S.formattedMediaInfos.slice(0);this.contentViewModels[K]=S;return I};H._compileText=function(I,K){I=I.clone();const {graphic:L,_fieldInfoMap:T,_sourceLayer:O}=
this;if(I&&I.text){const {attributes:U}=L;I.text=v.substituteFieldsInLinksAndAttributes({attributes:U,fieldInfoMap:T,globalAttributes:this.formattedAttributes.global,layer:O,text:I.text})}this.contentViewModels[K]=new A({graphic:L,creator:I.text});return I};H._compileLastEditInfo=function(){const {_effectivePopupTemplate:I,_sourceLayer:K,graphic:L}=this;if(I){var {lastEditInfoEnabled:T}=I,O=null==K?void 0:K.editFieldsInfo;if(T&&O)return v.formatEditInfo(O,L.attributes)}};H._compileTitle=function(I){const {_fieldInfoMap:K,
_sourceLayer:L,graphic:T}=this,{attributes:O}=T;return v.substituteFieldsInLinksAndAttributes({attributes:O,fieldInfoMap:K,globalAttributes:this.formattedAttributes.global,layer:L,text:I})};H._getTitle=async function(){const {_effectivePopupTemplate:I,graphic:K}=this;return v.graphicCallback(null==I?void 0:I.title,{graphic:K})};H._getContent=async function(){const {_effectivePopupTemplate:I,graphic:K}=this;return v.graphicCallback(null==I?void 0:I.content,{graphic:K})};H._queryFeature=async function(I){const {_featureAbortController:K,
_sourceLayer:L,graphic:T,_effectivePopupTemplate:O,spatialReference:U,map:W,view:S}=this,{content:{value:N},title:{value:P}}=await l.eachAlways({content:this._getContent(),title:this._getTitle()});K===this._featureAbortController&&T&&({expressionAttributes:{value:I}}=await l.eachAlways({checkForRelatedFeatures:this._checkForRelatedFeatures(I),expressionAttributes:B.createFormattedExpressions({popupTemplate:this._effectivePopupTemplate,spatialReference:U,graphic:T,map:W,view:S}),queryUpdatedFeature:v.queryUpdatedFeature({graphic:T,
popupTemplate:O,layer:L,spatialReference:U},I)}),K===this._featureAbortController&&T&&(this._set("formattedAttributes",this._createFormattedAttributes(N,I)),this._set("title",this._compileTitle(P)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(N)||null)))};H._createFormattedAttributes=function(I,K){const {_effectivePopupTemplate:L,graphic:T,relatedInfos:O,_sourceLayer:U,_fieldInfoMap:W}=this,S={...T.attributes,...K},N={global:v.formatAttributes({fieldInfos:null==
L?void 0:L.fieldInfos,graphic:T,attributes:S,layer:U,fieldInfoMap:W,relatedInfos:O}),content:[]};Array.isArray(I)&&I.forEach((P,J)=>{"fields"===P.type&&P.fieldInfos&&(N.content[J]=v.formatAttributes({fieldInfos:P.fieldInfos,graphic:T,attributes:S,layer:U,fieldInfoMap:W,relatedInfos:O}))});return N};H._checkForRelatedFeatures=function(I){const {graphic:K,_effectivePopupTemplate:L}=this;return this._queryRelatedInfos(K,v.getAllFieldInfos(L),I)};H._queryRelatedInfos=async function(I,K,L){const {relatedInfos:T,
_sourceLayer:O}=this;T.clear();const U=n.isSome(O.associatedLayer)?await O.associatedLayer.load(L):O;if(U){var W=K.filter(P=>P&&v.isRelatedField(P.fieldName));if(W&&W.length){K.forEach(P=>this._configureRelatedInfo(P,U));var S=await x.queryLayerInfos({relatedInfos:T,layer:U},L);Object.keys(S).forEach(P=>{var J;const M=T.get(P.toString());P=null==(J=S[P])?void 0:J.value;M&&P&&(M.layerInfo=P.data)});var N=await x.queryRelatedFeatures({graphic:I,relatedInfos:T,layer:U},L);Object.keys(N).forEach(P=>{var J;
x.setRelatedFeatures(null==(J=N[P])?void 0:J.value,T.get(P.toString()))})}}};H._configureRelatedInfo=function(I,K){const {relatedInfos:L}=this,T=x.getRelatedFieldInfo(I.fieldName);if(T){var {layerId:O,fieldName:U}=T;O&&(K=L.get(O.toString())||x.createRelatedInfo(O,K))&&(x.updateRelatedInfo({relatedInfo:K,fieldName:U,fieldInfo:I}),this.relatedInfos.set(O,K))}};a._createClass(G,[{key:"_effectivePopupTemplate",get:function(){return n.isSome(this.graphic)?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):
null}},{key:"_fieldInfoMap",get:function(){return v.createfieldInfoMap(v.getAllFieldInfos(this._effectivePopupTemplate),this._sourceLayer)}},{key:"_sourceLayer",get:function(){return v.getSourceLayer(this.graphic)}},{key:"graphic",set:function(I){this._set("graphic",I?I.clone():null)}},{key:"spatialReference",get:function(){return this.get("view.spatialReference")||null},set:function(I){void 0===I?this._clearOverride("spatialReference"):this._override("spatialReference",I)}},{key:"map",get:function(){return this.get("view.map")||
null},set:function(I){void 0===I?this._clearOverride("map"):this._override("map",I)}},{key:"waitingForContent",get:function(){return!!this._featureAbortController}}]);return G}(g);c.__decorate([d.property()],b.prototype,"_featureAbortController",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"_effectivePopupTemplate",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"_fieldInfoMap",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"_sourceLayer",null);c.__decorate([d.property({readOnly:!0})],
b.prototype,"content",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"contentViewModels",void 0);c.__decorate([d.property({type:Boolean})],b.prototype,"defaultPopupTemplateEnabled",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"formattedAttributes",void 0);c.__decorate([d.property({type:f,value:null})],b.prototype,"graphic",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"lastEditInfo",void 0);c.__decorate([d.property()],b.prototype,"relatedInfos",void 0);c.__decorate([d.property()],
b.prototype,"spatialReference",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"title",void 0);c.__decorate([d.property()],b.prototype,"map",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"waitingForContent",null);c.__decorate([d.property()],b.prototype,"view",void 0);return b=c.__decorate([m.subclass("esri.widgets.FeatureViewModel")],b)})},"esri/widgets/Feature/support/arcadeFeatureUtils":function(){define("require exports ../../../core/Logger ../../../core/promiseUtils ../../../layers/FeatureLayer ./featureUtils".split(" "),
function(a,c,b,n,r,k){function d(e){return`<ul class="esri-widget__list">${e.map(f=>`<li>${"string"===typeof f?k.applyTextFormattingHTML(k.htmlEntities(f)):f}</li>`).join("")}</ul>`}function h(e){return`<table class="esri-widget__table">${e.keys().map(f=>{var u=e.field(f);u="string"===typeof u?k.applyTextFormattingHTML(k.htmlEntities(u)):u;return`<tr><th>${f}</th><td>${u}</td></tr>`}).join("")}</table>`}function m({aggregatedFeatures:e,arcadeUtils:f,featureSetVars:u,context:w,viewInfo:D,map:v,graphic:y}){u.forEach(A=>
{A=A.toLowerCase();var E={map:v,spatialReference:D.sr};"$map"===A&&(w.vars[A]=f.convertMapToFeatureSetCollection(E));"$layer"===A&&(w.vars[A]=f.convertFeatureLayerToFeatureSet(y.sourceLayer,D.sr));"$datastore"===A&&(w.vars[A]=f.convertServiceUrlToWorkspace(y.sourceLayer.url,D.sr));if("$aggregatedfeatures"===A){E=y.layer;const {fields:x,objectIdField:F,geometryType:B,spatialReference:C,displayField:z}=E;E=new r({fields:x,objectIdField:F,geometryType:B,spatialReference:C,displayField:z,..."feature"===
E.type?{templates:E.templates,typeIdField:E.typeIdField,types:E.types}:null,source:e});w.vars[A]=f.convertFeatureLayerToFeatureSet(E,D.sr)}})}function t(){return new Promise(function(e,f){a(["../../../support/arcadeUtils"],e,f)})}async function p({graphic:e,view:f}){const {isAggregate:u,layer:w}=e;if(!u||!w||"2d"!==(null==f?void 0:f.type))return[];f=await f.whenLayerView(w);if(!f.createQuery||!f.queryFeatures)return[];const D=f.createQuery();D.aggregateIds=[e.getObjectId()];({features:e}=await f.queryFeatures(D));
return e}async function q({expressionAttributes:e,info:f,arcadeUtils:u,spatialReference:w,map:D,graphic:v,view:y}){const A=`expression/${f.name}`,E=u.createSyntaxTree(f.expression),x=l.filter(B=>u.hasVariable(E,B));await u.loadScriptDependencies(E,!0,x);const F=u.getViewInfo({spatialReference:w});w=u.createExecContext(v,F);w.useAsync=!0;y=await p({graphic:v,view:y});m({aggregatedFeatures:y,arcadeUtils:u,featureSetVars:x,context:w,viewInfo:F,map:D,graphic:v});D=u.createFunction(E,w);D=await u.executeAsyncFunction(D,
w).catch(B=>g.error("arcade-execution-error",{error:B,graphic:v,expressionInfo:f}));e[A]="string"===typeof D?k.applyTextFormattingHTML(k.htmlEntities(D)):Array.isArray(D)?d(D):D&&"esri.arcade.Dictionary"===D.declaredClass?h(D):D}const l=["$datastore","$map","$layer","$aggregatedfeatures"],g=b.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");c.createFormattedExpressions=async function({popupTemplate:e,spatialReference:f,graphic:u,map:w,view:D}){e=e.expressionInfos;const v=[],y={};if(!e||
!e.length)return y;const A=await t();for(const E of e)v.push(q({expressionAttributes:y,info:E,arcadeUtils:A,spatialReference:f,map:w,graphic:u,view:D}));await n.eachAlways(v);return y};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/widgets/Spinner":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/maybe ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/aliasOf ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/watchUtils ./support/widgetUtils ../chunks/index ./Widget ./Spinner/SpinnerViewModel".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){b=function(v){function y(E,x){E=v.call(this,E,x)||this;E._animationDelay=500;E._animationPromise=null;E.location=null;E.view=null;E.viewModel=new D;E.visible=!1;return E}a._inheritsLoose(y,v);var A=y.prototype;A.initialize=function(){this.own([e.watch(this,"visible",E=>this._visibleChange(E))])};A.destroy=function(){this._animationPromise=null};A.show=function(E){const {location:x,promise:F}=E;x&&(this.viewModel.location=x);this.visible=!0;E=()=>this.hide();
F&&F.catch(()=>{}).then(E)};A.hide=function(){this.visible=!1};A.render=function(){var {visible:E}=this,{screenLocation:x}=this.viewModel;x=!!x;E={["esri-spinner--start"]:E&&x,["esri-spinner--finish"]:!E&&x};x=this._getPositionStyles();return u.jsx("div",{class:this.classes("esri-spinner",E),styles:x})};A._visibleChange=function(E){if(E)this.viewModel.screenLocationEnabled=!0;else{var x=g.after(this._animationDelay);this._animationPromise=x;x.catch(()=>{}).then(()=>{this._animationPromise===x&&(this.viewModel.screenLocationEnabled=
!1,this._animationPromise=null)})}};A._getPositionStyles=function(){const {screenLocation:E,view:x}=this.viewModel;if(!x||n.isNone(E))return{};const {padding:F}=x;return{left:`${E.x-F.left}px`,top:`${E.y-F.top}px`}};return y}(w);c.__decorate([h.aliasOf("viewModel.location")],b.prototype,"location",void 0);c.__decorate([h.aliasOf("viewModel.view")],b.prototype,"view",void 0);c.__decorate([d.property({type:D})],b.prototype,"viewModel",void 0);c.__decorate([h.aliasOf("viewModel.visible")],b.prototype,
"visible",void 0);return b=c.__decorate([t.subclass("esri.widgets.Spinner")],b)})},"esri/widgets/Spinner/SpinnerViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../support/AnchorElementViewModel".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(l){function g(e){e=l.call(this,e)||this;e.visible=!1;return e}a._inheritsLoose(g,l);return g}(q);c.__decorate([k.property()],b.prototype,"visible",void 0);return b=c.__decorate([h.subclass("esri.widgets.CompassViewModel")],b)})},"esri/widgets/support/AnchorElementViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Evented ../../core/Handles ../../core/watchUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e){b=function(f){function u(D){var v=f.call(this,D)||this;v._anchorHandles=new g;v.location=null;v.screenLocation=null;v.screenLocationEnabled=!1;v.view=null;v._anchorHandles.add([e.watch(a._assertThisInitialized(v),["screenLocationEnabled","location","view.size","view.stationary"],()=>v._updateScreenPointAndHandle()),e.watch(a._assertThisInitialized(v),["view","view.ready"],()=>v._wireUpView())]);return v}a._inheritsLoose(u,f);var w=u.prototype;w.destroy=function(){this.view=
null;this._anchorHandles&&this._anchorHandles.destroy();this._viewpointHandle=this._anchorHandles=null};w._wireUpView=function(){this._anchorHandles.remove("view");this._viewpointHandle=null;if(this.get("view.ready")){this._setScreenLocation();var {view:D}=this;D=e.pausable(D,"3d"===D.type?"camera":"viewpoint",()=>this._viewpointChange());this._anchorHandles.add(D,"view");this._viewpointHandle=D;this._toggleWatchingViewpoint()}};w._viewpointChange=function(){this._setScreenLocation();this.emit("view-change")};
w._updateScreenPointAndHandle=function(){this._setScreenLocation();this._toggleWatchingViewpoint()};w._toggleWatchingViewpoint=function(){const {_viewpointHandle:D,location:v,screenLocationEnabled:y}=this;D&&(v&&y?D.resume():D.pause())};w._setScreenLocation=function(){const {location:D,view:v,screenLocationEnabled:y}=this;var A=this.get("view.ready");A=y&&A&&n.isSome(D)?v.toScreen(D):null;this._set("screenLocation",A)};return u}(l.EventedAccessor);c.__decorate([d.property()],b.prototype,"location",
void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"screenLocation",void 0);c.__decorate([d.property()],b.prototype,"screenLocationEnabled",void 0);c.__decorate([d.property()],b.prototype,"view",void 0);return b=c.__decorate([m.subclass("esri.widgets.support.AnchorElementViewModel")],b)})},"esri/widgets/Popup/PopupViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/maybe ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/Error ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/promiseUtils ../../geometry/support/webMercatorUtils ../../geometry/Point ../../geometry ../../core/Collection ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionToggle ../../symbols/SimpleFillSymbol ../../symbols ../../Graphic ../../core/Handles ../../layers/Layer ../../core/watchUtils ../Feature/FeatureViewModel ../support/AnchorElementViewModel ../../symbols/support/symbolUtils ../../views/input/InputManager ../../views/support/layerViewUtils ./actions ./actionUtils ../support/GoTo".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D,v,y,A,E,x,F,B,C,z,G,H,I,K,L,T,O){const U=w.ofType({key:"type",defaultKeyValue:"button",base:D,typeMap:{button:v,toggle:y}}),W=r.getLogger("esri.widgets.Popup.PopupViewModel");b=function(S){function N(J){J=S.call(this,J)||this;J._handles=new F;J._pendingPromises=new Set;J._fetchFeaturesController=null;J._selectedClusterFeature=null;J.featurePage=null;J.featuresPerPage=20;J.actions=new U;J.defaultPopupTemplateEnabled=!1;J.autoCloseEnabled=!1;J.autoOpenEnabled=
!0;J.browseClusterEnabled=!1;J.content=null;J.featureViewModels=[];J.highlightEnabled=!0;J.includeDefaultActions=!0;J.selectedClusterBoundaryFeature=new x({symbol:new A({outline:{width:1.5,color:"cyan"},style:"none"})});J.title=null;J.updateLocationEnabled=!1;J.view=null;J.visible=!1;J.zoomFactor=4;J.zoomToLocation=null;return J}a._inheritsLoose(N,S);var P=N.prototype;P.initialize=function(){this._handles.add([C.init(this,["autoOpenEnabled","view"],()=>this._autoOpenEnabledChange()),this.on("view-change",
()=>this._autoClose()),C.watch(this,["highlightEnabled","selectedFeature","visible","view"],()=>this._highlightFeature()),C.watch(this,"view.animation.state",J=>this._animationStateChange(J)),C.watch(this,"location",J=>this._locationChange(J)),C.watch(this,"selectedFeature",J=>this._selectedFeatureChange(J)),C.watch(this,["selectedFeatureIndex","featureCount","featuresPerPage"],()=>this._selectedFeatureIndexChange()),C.watch(this,["featurePage","selectedFeatureIndex","featureCount","featuresPerPage, featureViewModels"],
()=>this._setGraphicOnFeatureViewModels()),C.watch(this,"featureViewModels",()=>this._featureViewModelsChange()),this.on("trigger-action",J=>T.triggerAction({event:J,view:this.view})),C.whenFalse(this,"waitingForResult",()=>this._waitingForResultChange()),C.watch(this,["features","view","view.map","view.spatialReference"],()=>this._updateFeatureVMs()),C.watch(this,["view.scale"],this._viewScaleChange),C.whenFalse(this,"visible",()=>this.browseClusterEnabled=!1),C.watch(this,"browseClusterEnabled",
J=>J?this.enableClusterBrowsing():this.disableClusterBrowsing())])};P.destroy=function(){this._cancelFetchingFeatures();this._handles.destroy();this._handles=null;this._pendingPromises.clear();this.browseClusterEnabled=!1;this.view=null};P.centerAtLocation=function(){var {view:J}=this;const M=T.getSelectedTarget(this);return M?this.callGoTo({target:{target:M,scale:J.scale}}):(J=new t("center-at-location:invalid-target-or-view","Cannot center at a location without a target and view.",{target:M,view:J}),
W.error(J),Promise.reject(J))};P.clear=function(){this.set({promises:[],features:[],content:null,title:null,location:null})};P.fetchFeatures=function(J,M){const {view:R}=this;return R&&J?R.fetchPopupFeatures(J,{event:M&&M.event,defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,signal:M&&M.signal}):(J=new t("fetch-features:invalid-screenpoint-or-view","Cannot fetch features without a screenPoint and view.",{screenPoint:J,view:R}),W.error(J),Promise.reject(J))};P.open=function(J){J={updateLocationEnabled:!1,
promises:[],fetchFeatures:!1,...J,visible:!0};const {fetchFeatures:M}=J;delete J.fetchFeatures;M&&this._setFetchFeaturesPromises(J.location);this.set(J)};P.triggerAction=function(J){(J=this.allActions.getItemAt(J))&&!J.disabled&&this.emit("trigger-action",{action:J})};P.next=function(){this.selectedFeatureIndex+=1;return this};P.previous=function(){--this.selectedFeatureIndex;return this};P.disableClusterBrowsing=function(){T.removeClusteredFeaturesForBrowsing(this);this._clearBrowsedClusterGraphics()};
P.enableClusterBrowsing=async function(){await T.displayClusterExtent(this);await T.browseAggregateFeatures(this)};P._animationStateChange=function(J){this.zoomToLocation||(L.zoomToFeature.disabled="waiting-for-target"===J)};P._clearBrowsedClusterGraphics=function(){var J;const M=null==(J=this.view)?void 0:J.graphics;M&&(M.remove(this.selectedClusterBoundaryFeature),M.remove(this._selectedClusterFeature));this._selectedClusterFeature=null;this.selectedClusterBoundaryFeature.geometry=null};P._viewScaleChange=
function(){var J;if(null!=(J=this.selectedFeature)&&J.isAggregate||this.browseClusterEnabled)this.visible=this.browseClusterEnabled=!1};P._locationChange=function(J){const {selectedFeature:M,updateLocationEnabled:R}=this;R&&J&&(!M||M.geometry)&&this.centerAtLocation()};P._selectedFeatureIndexChange=function(){this.featurePage=1<this.featureCount?Math.floor(this.selectedFeatureIndex/this.featuresPerPage)+1:null};P._featureViewModelsChange=function(){this.featurePage=1<this.featureCount?1:null};P._setGraphicOnFeatureViewModels=
function(){const {features:J,featureCount:M,featurePage:R,featuresPerPage:X,featureViewModels:ia}=this;if(null!==R){var ha=((R-1)*X+M)%M;ia.slice(ha,ha+X).forEach((ja,ma)=>{ja&&!ja.graphic&&(ja.graphic=J[ha+ma])})}};P._selectedFeatureChange=async function(J){if(J){var {location:M,updateLocationEnabled:R,view:X}=this;this.browseClusterEnabled?(this._selectedClusterFeature&&(X.graphics.remove(this._selectedClusterFeature),this._selectedClusterFeature=null),J.isAggregate||(J.symbol=await H.getDisplayedSymbol(J),
this._selectedClusterFeature=J,X.graphics.add(this._selectedClusterFeature))):!R&&M||!J.geometry?R&&!J.geometry&&this.centerAtLocation().then(()=>{this.location=X.center.clone()}):this.location=n.unwrap(this._getPointFromGeometry(J.geometry))}};P._waitingForResultChange=function(){!this.featureCount&&this.promises&&(this.visible=!1)};P._setFetchFeaturesPromises=function(J){return this._fetchFeaturesWithController(this._getScreenPoint(J||this.location)).then(M=>{const {clientOnlyGraphics:R,promisesPerLayerView:X}=
M;M=Promise.resolve(R);const ia=X.map(ha=>ha.promise);this.promises=[M,...ia]})};P._destroyFeatureVMs=function(){this.featureViewModels.forEach(J=>J&&!J.destroyed&&J.destroy());this._set("featureViewModels",[])};P._updateFeatureVMs=function(){const {selectedFeature:J,features:M,featureViewModels:R}=this;null!=J&&J.isAggregate||(this.browseClusterEnabled=!1);this._destroyFeatureVMs();if(M&&M.length){var X=R.slice(0),ia=[];M.forEach((ha,ja)=>{if(ha){var ma=null;X.some((V,ba)=>{V&&V.graphic===ha&&(ma=
V,X.splice(ba,1));return!!ma});if(ma)ia[ja]=ma;else{var ta,Z;const V=new z({defaultPopupTemplateEnabled:this.defaultPopupTemplateEnabled,spatialReference:null==(ta=this.view)?void 0:ta.spatialReference,graphic:ha===J?ha:null,map:null==(Z=this.view)?void 0:Z.map,view:this.view});ia[ja]=V}}});X.forEach(ha=>ha&&!ha.destroyed&&ha.destroy());this._set("featureViewModels",ia)}};P._getScreenPoint=function(J){const {view:M}=this;return M&&J&&"function"===typeof M.toScreen?M.toScreen(J):null};P._autoOpenEnabledChange=
function(){const {_handles:J,autoOpenEnabled:M}=this;J.remove("auto-fetch-features");if(M&&this.view){const R=this.view.on("click",X=>{"mouse"===X.pointerType&&0!==X.button||this._fetchFeaturesAndOpen(X)},I.ViewEventPriorities.WIDGET);J.add(R,"auto-fetch-features")}};P._cancelFetchingFeatures=function(){const J=this._fetchFeaturesController;J&&J.abort();this._fetchFeaturesController=null;this.notifyChange("waitingForResult")};P._fetchFeaturesWithController=function(J,M){this._cancelFetchingFeatures();
const R=g.createAbortController(),{signal:X}=R;this._fetchFeaturesController=R;this.notifyChange("waitingForResult");J=this.fetchFeatures(J,{signal:X,event:M});J.catch(()=>{}).then(()=>{this._fetchFeaturesController=null;this.notifyChange("waitingForResult")});return J};P._fetchFeaturesAndOpen=function(J){const {screenPoint:M,mapPoint:R}=J,{view:X}=this;this._fetchFeaturesWithController(M,J).then(ia=>{const {clientOnlyGraphics:ha,promisesPerLayerView:ja,location:ma}=ia,ta=[Promise.resolve(ha),...ja.map(Z=>
Z.promise)];X.popup.open({location:ma||R,promises:ta});return ia})};P._updatePendingPromises=function(J){J&&this._pendingPromises.has(J)&&(this._pendingPromises.delete(J),this.notifyChange("pendingPromisesCount"))};P._autoClose=function(){this.autoCloseEnabled&&(this.visible=!1)};P._getPointFromGeometry=function(J){return n.isNone(J)?null:"point"===J.type?J:"extent"===J.type?J.center:"polygon"===J.type?J.centroid:"multipoint"===J.type||"polyline"===J.type?J.extent.center:null};P._getLayerView=async function(J,
M){await J.when();return J.whenLayerView(M)};P._highlightFeature=async function(){this._handles.remove("highlight");const {selectedFeature:J,highlightEnabled:M,view:R,visible:X}=this;if(J&&R&&M&&X){var {layer:ia,sourceLayer:ha}=J;if(ia&&ia instanceof B){"map-notes"===(null==ha?void 0:ha.type)&&(ia=ha);var ja=this._getLayerView(R,ia);this._highlightPromise=ja;var ma=await ja;if(ma&&K.highlightsSupported(ma)&&this._highlightPromise===ja&&this.selectedFeature&&this.highlightEnabled&&this.visible){ja=
"objectIdField"in ia&&ia.objectIdField;var ta=J.attributes;ma=ma.highlight(ta&&ja&&ta[ja]||J);this._handles.add(ma,"highlight")}}}};P._updateFeatures=function(J){const {features:M}=this;J&&J.length&&(M.length?(J=J.filter(R=>-1===M.indexOf(R)),this.features=M.concat(J)):this.features=J)};a._createClass(N,[{key:"isLoadingFeature",get:function(){return this.featureViewModels.some(J=>J.waitingForContent)}},{key:"active",get:function(){return!(!this.visible||this.waitingForResult)}},{key:"allActions",
get:function(){const J=this._get("allActions")||new U;J.removeAll();const {actions:M,defaultActions:R,defaultPopupTemplateEnabled:X,includeDefaultActions:ia,selectedFeature:ha}=this;var ja=ia?R.concat(M):M;const ma=ha&&("function"===typeof ha.getEffectivePopupTemplate&&ha.getEffectivePopupTemplate(X)||ha.popupTemplate),ta=ma&&ma.actions;(ja=ma&&ma.overwriteActions?ta:ta?ta.concat(ja):ja)&&ja.filter(Boolean).forEach(Z=>J.add(Z));return J}},{key:"defaultActions",get:function(){var J;const M=this._get("defaultActions")||
new U;M.removeAll();M.addMany(null!=(J=this.selectedFeature)&&J.isAggregate?[L.zoomToClusteredFeatures.clone(),L.browseClusteredFeatures.clone()]:[L.zoomToFeature.clone()]);return M}},{key:"featureCount",get:function(){return this.features.length}},{key:"features",get:function(){return this._get("features")||[]},set:function(J){J=J||[];this._set("features",J);const {pendingPromisesCount:M,promiseCount:R,selectedFeatureIndex:X}=this,ia=R&&J.length;ia&&M&&-1===X?this.selectedFeatureIndex=0:ia&&-1!==
X||(this.selectedFeatureIndex=J.length?0:-1)}},{key:"location",get:function(){return this._get("location")||null},set:function(J){const M=this.get("view.spatialReference.isWebMercator");J&&J.get("spatialReference.isWGS84")&&M&&(J=e.geographicToWebMercator(J));this._set("location",J)}},{key:"pendingPromisesCount",get:function(){return this._pendingPromises.size}},{key:"waitingForResult",get:function(){return!(!(this._fetchFeaturesController||0<this.pendingPromisesCount)||0!==this.featureCount)}},{key:"promiseCount",
get:function(){return this.promises.length}},{key:"promises",get:function(){return this._get("promises")||[]},set:function(J){this._pendingPromises.clear();this.features=[];Array.isArray(J)&&J.length?(this._set("promises",J),J=J.slice(0),J.forEach(M=>{this._pendingPromises.add(M);M.then(R=>{this._pendingPromises.has(M)&&this._updateFeatures(R);this._updatePendingPromises(M)},()=>this._updatePendingPromises(M))})):this._set("promises",[]);this.notifyChange("pendingPromisesCount")}},{key:"selectedFeature",
get:function(){const {features:J,selectedFeatureIndex:M}=this;return-1===M?null:J[M]||null}},{key:"selectedFeatureIndex",get:function(){const J=this._get("selectedFeatureIndex");return"number"===typeof J?J:-1},set:function(J){const {featureCount:M}=this;J=isNaN(J)||-1>J||!M?-1:(J+M)%M;this._set("selectedFeatureIndex",J)}},{key:"selectedFeatureViewModel",get:function(){return this.featureViewModels[this.selectedFeatureIndex]||null}},{key:"state",get:function(){return this.get("view.ready")?"ready":
"disabled"}}]);return N}(O.GoToMixin(G));c.__decorate([d.property()],b.prototype,"featurePage",void 0);c.__decorate([d.property()],b.prototype,"featuresPerPage",void 0);c.__decorate([d.property()],b.prototype,"isLoadingFeature",null);c.__decorate([d.property({type:U})],b.prototype,"actions",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"active",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"allActions",null);c.__decorate([d.property({type:Boolean})],b.prototype,"defaultPopupTemplateEnabled",
void 0);c.__decorate([d.property()],b.prototype,"autoCloseEnabled",void 0);c.__decorate([d.property()],b.prototype,"autoOpenEnabled",void 0);c.__decorate([d.property()],b.prototype,"browseClusterEnabled",void 0);c.__decorate([d.property()],b.prototype,"content",void 0);c.__decorate([d.property({type:U,readOnly:!0})],b.prototype,"defaultActions",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"featureCount",null);c.__decorate([d.property()],b.prototype,"features",null);c.__decorate([d.property({readOnly:!0})],
b.prototype,"featureViewModels",void 0);c.__decorate([d.property()],b.prototype,"highlightEnabled",void 0);c.__decorate([d.property()],b.prototype,"includeDefaultActions",void 0);c.__decorate([d.property({type:f})],b.prototype,"location",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"pendingPromisesCount",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"selectedClusterBoundaryFeature",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"waitingForResult",null);c.__decorate([d.property({readOnly:!0})],
b.prototype,"promiseCount",null);c.__decorate([d.property()],b.prototype,"promises",null);c.__decorate([d.property({value:null,readOnly:!0})],b.prototype,"selectedFeature",null);c.__decorate([d.property({value:-1})],b.prototype,"selectedFeatureIndex",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"selectedFeatureViewModel",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"state",null);c.__decorate([d.property()],b.prototype,"title",void 0);c.__decorate([d.property()],b.prototype,
"updateLocationEnabled",void 0);c.__decorate([d.property()],b.prototype,"view",void 0);c.__decorate([d.property()],b.prototype,"visible",void 0);c.__decorate([d.property()],b.prototype,"zoomFactor",void 0);c.__decorate([d.property()],b.prototype,"zoomToLocation",void 0);c.__decorate([d.property()],b.prototype,"centerAtLocation",null);return b=c.__decorate([m.subclass("esri.widgets.Popup.PopupViewModel")],b)})},"esri/symbols/support/symbolUtils":function(){define("require exports ../../core/has ../../core/maybe ../../support/arcadeOnDemand ./utils".split(" "),
function(a,c,b,n,r,k){async function d(t,p){switch(t.type){case "web-style":var {previewWebStyleSymbol:q}=await new Promise(function(l,g){a(["./previewWebStyleSymbol"],l,g)});return q(t,d,p);case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return{previewSymbol3D:q}=await new Promise(function(l,g){a(["./previewSymbol3D"],l,g)}),q(t,p);case "simple-marker":case "simple-line":case "simple-fill":case "picture-marker":case "picture-fill":case "text":return{previewSymbol2D:q}=
await new Promise(function(l,g){a(["./previewSymbol2D"],l,g)}),q(t,p);case "cim":return{previewCIMSymbol:q}=await new Promise(function(l,g){a(["./previewCIMSymbol"],l,g)}),q(t,p)}}function h(t){return t&&"opacity"in t?t.opacity*h(t.parent):1}let m=null;c.getDisplayedColor=async function(t,p){var q;if(t){var l=h(t.layer||t.sourceLayer);if(n.isSome(t.symbol)&&(!n.isSome(p)||!0!==p.ignoreGraphicSymbol))return t="web-style"===t.symbol.type?await t.symbol.fetchSymbol(n.isSome(p)?p.abortOptions:null):t.symbol.clone(),
k.getColorFromSymbol(t,l);var g=n.isSome(p)&&p.renderer||t.get("layer.renderer")||t.get("sourceLayer.renderer"),e=await g.getSymbolAsync(t,p);if(e){e="web-style"===e.type?await e.fetchSymbol(n.isSome(p)?p.abortOptions:null):e.clone();e=k.getColorFromSymbol(e,l);if(!("visualVariables"in g)||"visualVariables"in g&&!g.visualVariables||"visualVariables"in g&&(null==(q=g.visualVariables)||!q.length))return e;g.arcadeRequiredForVisualVariables&&(n.isNone(p)||n.isNone(p.arcade))&&(p={...n.unwrap(p)},p.arcade=
await r.loadArcade());q=await new Promise(function(w,D){a(["../../renderers/visualVariables/support/visualVariableUtils"],w,D)});var f=[],u=[];for(const w of g.visualVariables)switch(w.type){case "color":f.push(w);break;case "opacity":u.push(w)}g=(g=0<f.length?f[f.length-1]:null)?q.getColor(g,t,p):e;t=(e=0<u.length?u[u.length-1]:null)?q.getOpacity(e,t,p):null;null!=l&&(t=null!=t?t*l:l);return g?k.applyOpacityToColor(g,t):null}}};c.getDisplayedSymbol=async function(t,p){if(t){var q=h(t.layer||t.sourceLayer);
if(n.isSome(t.symbol)&&(!n.isSome(p)||!0!==p.ignoreGraphicSymbol))return t="web-style"===t.symbol.type?await t.symbol.fetchSymbol(n.isSome(p)?p.abortOptions:null):t.symbol.clone(),k.applyColorToSymbol(t,null,q),t;var l=n.isSome(p)&&p.renderer||t.get("layer.renderer")||t.get("sourceLayer.renderer"),g=await l.getSymbolAsync(t,p);if(g){g="web-style"===g.type?await g.fetchSymbol(n.isSome(p)?p.abortOptions:null):g.clone();if(!("visualVariables"in l)||"visualVariables"in l&&!l.visualVariables||"visualVariables"in
l&&l.visualVariables&&!l.visualVariables.length)return g;l.arcadeRequiredForVisualVariables&&(n.isNone(p)||n.isNone(p.arcade))&&(p={...n.unwrap(p)},p.arcade=await r.loadArcade());var e=await new Promise(function(v,y){a(["../../renderers/visualVariables/support/visualVariableUtils"],v,y)}),f=[],u=[],w=[],D=[];for(const v of l.visualVariables)switch(v.type){case "color":f.push(v);break;case "opacity":u.push(v);break;case "rotation":D.push(v);break;case "size":v.target||w.push(v)}l=(l=!!f.length&&f[f.length-
1])?e.getColor(l,t,p):null;u=(u=!!u.length&&u[u.length-1])?e.getOpacity(u,t,p):null;null!=q&&(u=null!=u?u*q:q);k.applyColorToSymbol(g,l,u);w.length&&(q=e.getAllSizes(w,t,p),await k.applySizesToSymbol(g,q));for(const v of D)k.applyRotationToSymbol(g,e.getRotationAngle(v,t,p),v.axis);return g}}};c.renderColorRampPreviewHTML=function(t,p={}){const q="horizontal"===p.align,{width:l=q?75:24,height:g=q?24:75,gradient:e=!0}=p;p=window.devicePixelRatio;var f=l*p,u=g*p;p=document.createElement("canvas");p.width=
f;p.height=u;p.style.width=`${l}px`;p.style.height=`${g}px`;const w=p.getContext("2d");var D=q?f:0,v=q?0:u;if(e){const y=w.createLinearGradient(0,0,D,v),A=1/(t.length-1);t.forEach((E,x)=>y.addColorStop(x*A,E.toString()));w.fillStyle=y;w.fillRect(0,0,f,u)}else{f=q?f/t.length:f;u=q?u:u/t.length;v=D=0;for(const y of t)w.fillStyle=y.toString(),w.fillRect(D,v,f,u),D=q?D+f:0,v=q?0:v+u}t=document.createElement("div");t.style.width=`${l}px`;t.style.height=`${g}px`;t.appendChild(p);return t};c.renderDotDensityPreviewHTML=
function(t,p,q){const {backgroundColor:l,outline:g,dotSize:e}=t;q=q&&q.swatchSize||22;const f=Math.round(q*q/e**2*.8),u=window.devicePixelRatio;t=document.createElement("canvas");const w=q*u;t.width=w;t.height=w;t.style.width=`${t.width/u}px`;t.style.height=`${t.height/u}px`;const D=t.getContext("2d");l&&(D.fillStyle=l.toCss(!0),D.fillRect(0,0,w,w),D.fill());D.fillStyle=p.toCss(!0);if(m&&m.length/2===f)for(p=0;p<2*f;p+=2)D.fillRect(m[p],m[p+1],e*u,e*u),D.fill();else for(m=[],p=0;p<2*f;p+=2){const v=
Math.floor(Math.random()*(w-0+1)),y=Math.floor(Math.random()*(w-0+1));m.push(v,y);D.fillRect(v,y,e*u,e*u);D.fill()}g&&(g.color&&(D.strokeStyle=g.color.toCss(!0)),D.lineWidth=g.width,D.strokeRect(0,0,w,w));q=new Image(q,q);q.src=t.toDataURL();return q};c.renderPreviewHTML=d;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/symbols/support/utils":function(){define("require exports ../../core/has ../../core/maybe ../../Color ../../core/screenUtils ./Symbol3DMaterial ../../symbols ../../core/asyncUtils ../../chunks/vec3f64 ./gfxUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p){function q(x){x=x.symbolLayers;if(!x)return null;let F=null;x.forEach(B=>{if("object"!==B.type||null==B.resource.href)F="water"===B.type?n.unwrap(B.color):n.isSome(B.material)?n.unwrap(B.material.color):null});return F?new r(F):null}function l(x,F){if(null==F)return x;x=x.toRgba();x[3]*=F;return new r(x)}function g(x,F,B){if(x=x.symbolLayers){var C=z=>{z=n.isSome(z)?z:null;F=F||z||null!=B&&E;return l(F,B)};x.forEach(z=>{if("object"!==z.type||null==z.resource.href||
F)if("water"===z.type)z.color=C(z.color);else{var G=n.isSome(z.material)?z.material.color:null;G=C(G);n.isNone(z.material)?z.material=new d["default"]({color:G}):z.material.color=G;null!=B&&"outline"in z&&n.isSome(z.outline)&&n.isSome(z.outline.color)&&(z.outline.color=l(z.outline.color,B))}})}}async function e(x,F){(x=x.symbolLayers)&&await m.forEach(x,async B=>f(B,F))}async function f(x,F){switch(x.type){case "extrude":x.size="number"===typeof F[2]?F[2]:0;break;case "icon":case "line":case "text":F=
u(F);n.isSome(F)&&(x.size=F);break;case "path":{const B=D(F,t.ONES,[x.width,void 0,x.height]);x.width=y(F[0],x.width,1,B);x.height=y(F[2],x.height,1,B)}break;case "object":await w(x,F)}}function u(x){for(const F of x)if("number"===typeof F)return F;return null}async function w(x,F){const {resourceSize:B,symbolSize:C}=await v(x),z=D(F,B,C);x.width=y(F[0],C[0],B[0],z);x.depth=y(F[1],C[1],B[1],z);x.height=y(F[2],C[2],B[2],z)}function D(x,F,B){for(let C=0;3>C;C++){const z=x[C];switch(z){case "symbol-value":return null!=
B[C]?B[C]/F[C]:1;case "proportional":break;default:if(z&&F[C])return z/F[C]}}return 1}async function v(x){const F=await (await new Promise(function(I,K){a(["./symbolLayerUtils"],I,K)})).computeObjectLayerResourceSize(x,10),{width:B,height:C,depth:z}=x;x=[B,z,C];let G=1;for(var H=0;3>H;H++)if(null!=x[H]){G=x[H]/F[H];break}for(H=0;3>H;H++)null==x[H]&&(x[H]=F[H]*G);return{resourceSize:F,symbolSize:x}}function y(x,F,B,C){switch(x){case "proportional":return B*C;case "symbol-value":return null!=F?F:B;
default:return x}}const A=/\/resource\/(.*?)\.svg$/,E=new r("white");c.applyColorToSymbol=function(x,F,B){if(x&&(F||null!=B))if(F&&(F=new r(F)),h.isSymbol3D(x))g(x,F,B);else if(h.isSymbol2D(x)){if(F=F||x.color)x.color=l(F,B);null!=B&&"outline"in x&&x.outline&&x.outline.color&&(x.outline.color=l(x.outline.color,B))}};c.applyOpacityToColor=l;c.applyRotationToSymbol=function(x,F,B){x&&null!=F&&(h.isSymbol3D(x)?(x=x.symbolLayers)&&x.forEach(C=>{if(C&&"object"===C.type)switch(B){case "tilt":C.tilt=F;break;
case "roll":C.roll=F;break;default:C.heading=F}}):!h.isSymbol2D(x)||"simple-marker"!==x.type&&"picture-marker"!==x.type&&"text"!==x.type||(x.angle=F))};c.applySizesToSymbol=async function(x,F){if(x&&F){if(h.isSymbol3D(x))return e(x,F);if(h.isSymbol2D(x)&&(F=u(F),!n.isNone(F)))switch(x.type){case "simple-marker":x.size=F;break;case "picture-marker":{const B=x.width/x.height;1<B?(x.width=F,x.height=F*B):(x.width=F*B,x.height=F);break}case "simple-line":x.width=F;break;case "text":x.font.size=F}}};c.getColorFromSymbol=
function(x,F){if(!x)return null;let B=null;h.isSymbol3D(x)?B=q(x):h.isSymbol2D(x)&&(B=x.color?new r(x.color):null);return B?l(B,F):null};c.getIconHref=function(x,F){F=F.resource.href;return!b("esri-canvas-svg-support")&&x.styleOrigin&&A.test(F)?F.replace(A,"/resource/png/$1.png"):F};c.getSymbolOutlineSize=function(x){if(!x)return 0;if(h.isSymbol3D(x)){{const F=x.symbolLayers&&x.symbolLayers.length;F?(x=x.symbolLayers.getItemAt(F-1),x="outline"in x?n.get(x,"outline","size"):void 0):x=void 0}return n.isSome(x)?
x:0}return(x=p.getStroke(x))&&k.px2pt(x.width)||0};c.isVolumetricSymbol=function(x){if(!x||!x.symbolLayers)return!1;switch(x.type){case "point-3d":return x.symbolLayers.some(F=>"object"===F.type);case "line-3d":return x.symbolLayers.some(F=>"path"===F.type);case "polygon-3d":return x.symbolLayers.some(F=>"object"===F.type||"extrude"===F.type);default:return!1}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/symbols/support/gfxUtils":function(){define("exports ../../Color ../../core/screenUtils ../../request ../../assets ../../core/ItemCache ./cimSymbolUtils".split(" "),
function(a,c,b,n,r,k,d){function h(l){if(!l)return null;let g;switch(l.type){case "simple-fill":case "picture-fill":case "simple-marker":g=h(l.outline);break;case "simple-line":{const e=b.pt2px(l.width);"none"!==l.style&&0!==e&&(g={color:l.color,style:q(l.style),width:e,cap:l.cap,join:"miter"===l.join?b.pt2px(l.miterLimit):l.join});break}default:g=null}return g}const m={left:"start",center:"middle",right:"end",justify:"start"},t={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},
p=new k(1E3),q=function(){const l={};return function(g){if(l[g])return l[g];const e=g.replace(/-/g,"");return l[g]=e}}();c=new c([128,128,128]);a.defaultThematicColor=c;a.getFill=function(l){const g=l.style;let e=null;if(l)switch(l.type){case "simple-marker":"cross"!==g&&"x"!==g&&(e=l.color);break;case "simple-fill":"solid"===g?e=l.color:"none"!==g&&(e={type:"pattern",x:0,y:0,src:r.getAssetUrl(`esri/symbols/patterns/${g}.png`),width:5,height:5});break;case "picture-fill":e={type:"pattern",src:l.url,
width:b.pt2px(l.width)*l.xscale,height:b.pt2px(l.height)*l.yscale,x:b.pt2px(l.xoffset),y:b.pt2px(l.yoffset)};break;case "text":e=l.color;break;case "cim":e=d.getCIMSymbolColor(l)}return e};a.getPatternUrlWithColor=function(l,g){const e=l+"-"+g;return void 0!==p.get(e)?Promise.resolve(p.get(e)):n(l,{responseType:"image"}).then(f=>{f=f.data;const u=f.naturalWidth,w=f.naturalHeight,D=document.createElement("canvas");D.width=u;D.height=w;const v=D.getContext("2d");v.fillStyle=g;v.fillRect(0,0,u,w);v.globalCompositeOperation=
"destination-in";v.drawImage(f,0,0);f=D.toDataURL();p.put(e,f);return f})};a.getSVGAlign=function(l){return l=(l=l.horizontalAlignment)&&m[l.toLowerCase()]||"middle"};a.getSVGBaseline=function(l){return(l=l.verticalAlignment)&&t[l.toLowerCase()]||"alphabetic"};a.getSVGBaselineShift=function(l){return"bottom"===l.verticalAlignment?"super":null};a.getStroke=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ItemCache":function(){define(["./MemCache"],function(a){return function(){function c(n,
r){this._storage=new a.MemCacheStorage;this._storage.maxSize=n;r&&this._storage.registerRemoveFunc("",r)}var b=c.prototype;b.put=function(n,r){this._storage.put(n,r,1,1)};b.pop=function(n){return this._storage.pop(n)};b.get=function(n){return this._storage.get(n)};b.clear=function(){this._storage.clearAll()};b.destroy=function(){this._storage.destroy()};return c}()})},"esri/symbols/support/cimSymbolUtils":function(){define(["exports","../../Color","../cim/utils"],function(a,c,b){function n(q){q=b.toCIMSymbolJSON(q);
if("CIMTextSymbol"===q.type)return q.height;let l=0;if(q.symbolLayers)for(const g of q.symbolLayers)b.isCIMMarker(g)&&g.size>l?l=g.size:b.isCIMStroke(g)&&g.width>l?l=g.width:b.isCIMFill(g);return l}function r(q,l,g,e){if("CIMTextSymbol"===q.type)q.height*=l;else{if(g&&q.effects)for(const f of q.effects)h(f,l);if(q.symbolLayers)for(const f of q.symbolLayers)switch(f.type){case "CIMPictureMarker":case "CIMVectorMarker":k(f,l,e);break;case "CIMPictureStroke":case "CIMSolidStroke":null!=e&&e.preserveOutlineWidth||
(f.width*=l);break;case "CIMPictureFill":f.height*=l;f.offsetX*=l;f.offsetY*=l;break;case "CIMHatchFill":r(f.lineSymbol,l,!0,{...e,preserveOutlineWidth:!1}),f.offsetX*=l,f.offsetY*=l,f.separation*=l}}}function k(q,l,g){q.markerPlacement&&d(q.markerPlacement,l);q.offsetX*=l;q.offsetY*=l;q.anchorPoint&&"Absolute"===q.anchorPointUnits&&(q.anchorPoint={x:q.anchorPoint.x*l,y:q.anchorPoint.y*l});q.size*=l;if("CIMVectorMarker"===q.type&&q.markerGraphics)for(const e of q.markerGraphics)q.scaleSymbolsProportionally||
r(e.symbol,l,!0,g)}function d(q,l){b.isCIMMarkerStrokePlacement(q)&&(q.offset*=l);switch(q.type){case "CIMMarkerPlacementAlongLineRandomSize":case "CIMMarkerPlacementAlongLineSameSize":q.customEndingOffset*=l;q.offsetAlongLine*=l;if(q.placementTemplate&&q.placementTemplate.length){var g=q.placementTemplate.map(e=>e*l);q.placementTemplate=g}break;case "CIMMarkerPlacementAlongLineVariableSize":q.maxRandomOffset*=l;q.placementTemplate&&q.placementTemplate.length&&(g=q.placementTemplate.map(e=>e*l),q.placementTemplate=
g);break;case "CIMMarkerPlacementOnLine":q.startPointOffset*=l;break;case "CIMMarkerPlacementAtExtremities":q.offsetAlongLine*=l;break;case "CIMMarkerPlacementAtRatioPositions":q.beginPosition*=l;q.endPosition*=l;break;case "CIMMarkerPlacementPolygonCenter":q.offsetX*=l;q.offsetY*=l;break;case "CIMMarkerPlacementInsidePolygon":q.offsetX*=l,q.offsetY*=l,q.stepX*=l,q.stepY*=l}}function h(q,l){switch(q.type){case "CIMGeometricEffectArrow":case "CIMGeometricEffectDonut":q.width*=l;break;case "CIMGeometricEffectBuffer":q.size*=
l;break;case "CIMGeometricEffectCut":q.beginCut*=l;q.endCut*=l;q.middleCut*=l;break;case "CIMGeometricEffectDashes":q.customEndingOffset*=l;q.offsetAlongLine*=l;if(q.dashTemplate&&q.dashTemplate.length){const g=q.dashTemplate.map(e=>e*l);q.dashTemplate=g}break;case "CIMGeometricEffectExtension":case "CIMGeometricEffectJog":case "CIMGeometricEffectRadial":q.length*=l;break;case "CIMGeometricEffectMove":q.offsetX*=l;q.offsetY*=l;break;case "CIMGeometricEffectOffset":case "CIMGeometricEffectOffsetTangent":q.offset*=
l;break;case "CIMGeometricEffectRegularPolygon":q.radius*=l;break;case "CIMGeometricEffectTaperedPolygon":q.fromWidth*=l;q.length*=l;q.toWidth*=l;break;case "CIMGeometricEffectWave":q.amplitude*=l,q.period*=l}}function m(q,l){let g;g="CIMTextSymbol"===q.type?q.symbol:q;q="CIMPolygonSymbol"===q.type;if(g.symbolLayers)for(const e of g.symbolLayers)if(!(e.colorLocked||q&&(b.isCIMStroke(e)||b.isCIMMarker(e)&&e.markerPlacement&&b.isCIMMarkerStrokePlacement(e.markerPlacement))))switch(e.type){case "CIMVectorMarker":e.markerGraphics.forEach(f=>
{m(f.symbol,l)});break;case "CIMSolidStroke":case "CIMSolidFill":t(l,e.color);break;case "CIMHatchFill":m(e.lineSymbol,l)}}function t(q,l){for(const g of q)if(g.join(".")===l.join("."))return;q.push(l)}function p(q,l){var g="CIMTextSymbol"===q.type?q.symbol:q;q="CIMPolygonSymbol"===q.type?!0:!1;if(g.symbolLayers)for(const e of g.symbolLayers)if(!(e.colorLocked||q&&(b.isCIMStroke(e)||b.isCIMMarker(e)&&e.markerPlacement&&b.isCIMMarkerStrokePlacement(e.markerPlacement))))switch(g=l.toArray(0),e.type){case "CIMVectorMarker":e.markerGraphics.forEach(f=>
{p(f.symbol,l)});break;case "CIMSolidStroke":case "CIMSolidFill":e.color=g;break;case "CIMHatchFill":p(e.lineSymbol,l)}}a.applyCIMSymbolColor=function(q,l){l instanceof c||(l=new c(l));q=b.toCIMSymbolJSON(q);p(q,l)};a.applyCIMSymbolRotation=function(q,l,g=!1){q=b.toCIMSymbolJSON(q);g&&0!==l&&(l=360-l);if("CIMTextSymbol"===q.type)q.angle=l;else if("CIMPointSymbol"===q.type&&q.symbolLayers){g=l-(q.angle||0);for(const e of q.symbolLayers)if(b.isCIMMarker(e)){let f=e.rotation||0;f=e.rotateClockwise?f-
g:f+g;e.rotation=f}q.angle=l}};a.getCIMSymbolColor=function(q){q=b.toCIMSymbolJSON(q);const l=[];m(q,l);return l.length?new c(b.fromCIMColor(l[0])):null};a.getCIMSymbolRotation=function(q,l=!1){q=b.toCIMSymbolJSON(q);return"CIMTextSymbol"===q.type||"CIMPointSymbol"===q.type?l&&0!==q.angle?360-q.angle:q.angle||0:0};a.getCIMSymbolSize=n;a.scaleCIMMarker=k;a.scaleCIMSymbolTo=function(q,l,g){const e=b.toCIMSymbolJSON(q);q=n(q);if(0===q)if("CIMTextSymbol"===e.type)e.height=l;else{if(e.symbolLayers)for(const f of e.symbolLayers)switch(f.type){case "CIMPictureMarker":case "CIMVectorMarker":f.size=
l;break;case "CIMPictureStroke":case "CIMSolidStroke":f.width=l}}else r(e,l/q,!1,g)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/symbols/cim/utils":function(){define(["exports"],function(a){function c(b,n){"string"!==typeof b&&(b=String(b));switch(n){case "LowerCase":return b.toLowerCase();case "Allcaps":return b.toUpperCase();default:return b}}a._adjustTextCase=c;a.colorToArray=function(b){return[b.r,b.g,b.b,b.a]};a.createLabelOverrideFunction=function(b,n,r){const k=t=>{let p=t.length;
for(;p--;)if(-1===" /-,\n".indexOf(t.charAt(p)))return!1;return!0},d=[];var h=0;let m=-1;do m=n.indexOf("[",h),m>=h&&(m>h&&(h=n.substr(h,m-h),d.push([h,null,k(h)])),h=m+1,m=n.indexOf("]",h),m>=h&&(m>h&&(h=n.substr(h,m-h),(h=b[h])&&d.push([null,h,!1])),h=m+1));while(-1!==m);h<n.length-1&&(b=n.substr(h),d.push([b,null,k(b)]));return t=>{let p="",q=null;for(const l of d){const [g,e,f]=l;if(g)f?q=g:(q&&(p+=q,q=null),p+=g);else{const u=t.attributes[e];u&&(q&&(p+=q,q=null),p+=u)}}return c(p,r)}};a.evaluateValueOrFunction=
function(b,n,r,k){return"function"===typeof b?b(n,r,k):b};a.fromCIMColor=function(b){return b?{r:b[0],g:b[1],b:b[2],a:b[3]/255}:{r:0,g:0,b:0,a:0}};a.isCIMFill=function(b){return"CIMGradientFill"===b.type||"CIMHatchFill"===b.type||"CIMPictureFill"===b.type||"CIMSolidFill"===b.type||"CIMWaterFill"===b.type};a.isCIMMarker=function(b){return"CIMVectorMarker"===b.type||"CIMPictureMarker"===b.type||"CIMBarChartMarker"===b.type||"CIMCharacterMarker"===b.type||"CIMPieChartMarker"===b.type||"CIMStackedBarChartMarker"===
b.type};a.isCIMMarkerStrokePlacement=function(b){return"CIMMarkerPlacementAlongLineRandomSize"===b.type||"CIMMarkerPlacementAlongLineSameSize"===b.type||"CIMMarkerPlacementAlongLineVariableSize"===b.type||"CIMMarkerPlacementAtExtremities"===b.type||"CIMMarkerPlacementAtMeasuredUnits"===b.type||"CIMMarkerPlacementAtRatioPositions"===b.type||"CIMMarkerPlacementOnLine"===b.type||"CIMMarkerPlacementOnVertices"===b.type};a.isCIMStroke=function(b){return"CIMGradientStroke"===b.type||"CIMPictureStroke"===
b.type||"CIMSolidStroke"===b.type};a.resampleHermite=function(b,n,r,k,d,h,m=!0){const t=n/d;r/=h;const p=Math.ceil(t/2),q=Math.ceil(r/2);for(let e=0;e<h;e++)for(let f=0;f<d;f++){const u=4*(f+(m?h-e-1:e)*d);var l=0;let w=0,D=0,v=0,y=0,A=0,E=0;const x=(e+.5)*r;for(let F=Math.floor(e*r);F<(e+1)*r;F++){var g=Math.abs(x-(F+.5))/q;const B=(f+.5)*t;g*=g;for(let C=Math.floor(f*t);C<(f+1)*t;C++){let z=Math.abs(B-(C+.5))/p;l=Math.sqrt(g+z*z);-1<=l&&1>=l&&(l=2*l*l*l-3*l*l+1,0<l&&(z=4*(C+F*n),E+=l*b[z+3],D+=
l,255>b[z+3]&&(l=l*b[z+3]/250),v+=l*b[z],y+=l*b[z+1],A+=l*b[z+2],w+=l))}}k[u]=v/w;k[u+1]=y/w;k[u+2]=A/w;k[u+3]=E/D}};a.toCIMSymbolJSON=function(b){var n;return null==(n=b.data)?void 0:n.symbol};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/support/layerViewUtils":function(){define(["exports","../../core/maybe"],function(a,c){a.extractSafeScaleBounds=function(b){let {minScale:n,maxScale:r}=b;return{minScale:n||0,maxScale:r||0}};a.highlightsSupported=function(b){return b&&"function"===
typeof b.highlight};a.occludeesSupported=function(b){return b&&"function"===typeof b.maskOccludee};a.scaleBoundsPredicate=function(b,n,r){return c.isNone(b)||b>r&&(0===n||b<n)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Popup/actions":function(){define(["exports","../../support/actions/ActionButton"],function(a,c){const b=new c({id:"zoom-to-feature",title:"{messages.zoom}",className:"esri-icon-zoom-in-magnifying-glass"}),n=new c({id:"remove-selected-feature",title:"{messages.remove}",
className:"esri-icon-trash"}),r=new c({id:"zoom-to-clustered-features",title:"{messages.zoom}",className:"esri-icon-zoom-in-magnifying-glass"});c=new c({id:"browse-clustered-features",title:"{messages.browseClusteredFeatures}",className:"esri-icon-table"});a.all=[b,n,c,r];a.browseClusteredFeatures=c;a.removeSelectedFeature=n;a.zoomToClusteredFeatures=r;a.zoomToFeature=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/Popup/actionUtils":function(){define(["exports","../../core/Logger",
"../../core/Error","./actions"],function(a,c,b,n){function r(t){const {selectedFeature:p,location:q,view:l}=t;return l?"3d"===l.type?p||q:t.get("selectedFeature.geometry")||q:null}function k(t,p){if("3d"!==(null==p?void 0:p.type)||!t||"esri.Graphic"!==t.declaredClass)return!0;if((p=p.getViewForGraphic(t))&&"whenGraphicBounds"in p){let q=!1;p.whenGraphicBounds(t,{useViewElevation:!0}).then(l=>{q=!l||!l.boundingBox||l.boundingBox[0]===l.boundingBox[3]&&l.boundingBox[1]===l.boundingBox[4]&&l.boundingBox[2]===
l.boundingBox[5]}).catch(()=>{const l=new b("zoom-to:invalid-graphic","Could not zoom to the location of the graphic.",{graphic:t});m.error(l)});return q}return!0}async function d(t){const {location:p,selectedFeature:q,view:l,zoomFactor:g}=t,e=r(t);if(!e)return t=new b("zoom-to:invalid-target-or-view","Cannot zoom to location without a target and view.",{target:e,view:l}),m.error(t),Promise.reject(t);const f=l.scale/g,u=t.get("selectedFeature.geometry")||p,w=u&&"point"===u.type&&k(q,l);n.zoomToFeature.active=
!0;n.zoomToFeature.disabled=!0;await t.view.goTo({target:e,scale:w?f:void 0});n.zoomToFeature.active=!1;n.zoomToFeature.disabled=!1;t.zoomToLocation=null;w&&(t.location=u)}async function h(t){const {selectedFeature:p,view:q}=t;if("2d"!==(null==q?void 0:q.type))throw t=new b("zoomToCluster:invalid-view","View must be 2d MapView.",{view:q}),m.error(t),t;if(!p.isAggregate)throw t=new b("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:p}),
m.error(t),t;t=await q.whenLayerView(p.sourceLayer);const l=t.createQuery();l.aggregateIds=[p.getObjectId()];n.zoomToClusteredFeatures.active=!0;n.zoomToClusteredFeatures.disabled=!0;({extent:t}=await t.queryExtent(l));await q.goTo({target:t});n.zoomToClusteredFeatures.active=!1;n.zoomToClusteredFeatures.disabled=!1}const m=c.getLogger("esri.widgets.Popup.PopupViewModel");a.browseAggregateFeatures=async function(t){const {selectedFeature:p,view:q}=t;if("2d"!==(null==q?void 0:q.type))throw t=new b("browseAggregateFeatures:invalid-view",
"View must be 2d MapView.",{view:q}),m.error(t),t;if(!p.isAggregate)throw t=new b("browseAggregateFeatures:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:p}),m.error(t),t;var l=await q.whenLayerView(p.sourceLayer);const g=l.createQuery();g.aggregateIds=[p.getObjectId()];n.browseClusteredFeatures.active=!0;n.browseClusteredFeatures.disabled=!0;({features:l}=await l.queryFeatures(g));n.browseClusteredFeatures.active=!1;n.browseClusteredFeatures.disabled=
!1;t.features=[p].concat(l)};a.displayClusterExtent=async function(t){const {selectedFeature:p,view:q}=t;if("2d"!==(null==q?void 0:q.type))throw t=new b("displayClusterExtent:invalid-view","View must be 2d MapView.",{view:q}),m.error(t),t;if(!p.isAggregate)throw t=new b("zoomToCluster:invalid-selectedFeature","Selected feature must represent an aggregate/cluster graphic.",{selectedFeature:p}),m.error(t),t;var l=await q.whenLayerView(p.sourceLayer);const g=l.createQuery();g.aggregateIds=[p.getObjectId()];
({extent:l}=await l.queryExtent(g));t.selectedClusterBoundaryFeature.geometry=l;q.graphics.add(t.selectedClusterBoundaryFeature)};a.getSelectedTarget=r;a.isZoomScreenSize=k;a.removeClusteredFeaturesForBrowsing=function(t){t.features=t.features.filter(p=>p.isAggregate)};a.triggerAction=function(t){const {event:p,view:q}=t;({action:t}=p);var l=q&&q.popup;if(!t)return Promise.reject(new b("trigger-action:missing-arguments","Event has no action"));if(!l)return Promise.reject(new b("trigger-action:missing-arguments",
"view.popup is missing"));const {disabled:g,id:e}=t;if(!e)return Promise.reject(new b("trigger-action:invalid-action","action.id is missing"));if(g)return Promise.reject(new b("trigger-action:invalid-action","Action is disabled"));if(e===n.zoomToFeature.id)return d(l.viewModel);if(e===n.zoomToClusteredFeatures.id)return h(l.viewModel);l.viewModel.browseClusterEnabled=!1;e===n.browseClusteredFeatures.id&&(l.featureMenuOpen=!0,l.viewModel.browseClusterEnabled=!0);if(e===n.removeSelectedFeature.id){l.close();
({selectedFeature:t}=l);if(!t)return Promise.reject(new b(`trigger-action:${n.removeSelectedFeature.id}`,"selectedFeature is required",{selectedFeature:t}));({sourceLayer:l}=t);l?l.remove(t):q.graphics.remove(t)}return Promise.resolve()};a.zoomToClusterExtent=h;a.zoomToLocation=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/widgets/support/GoTo":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){a.GoToMixin=l=>{l=function(g){function e(...f){f=g.call(this,...f)||this;f.goToOverride=null;f.view=null;return f}c._inheritsLoose(e,g);e.prototype.callGoTo=function(f){const {view:u}=this;return this.goToOverride?this.goToOverride(u,f):u.goTo(f.target,f.options)};return e}(l);b.__decorate([d.property()],l.prototype,"goToOverride",void 0);b.__decorate([d.property()],l.prototype,"view",void 0);return l=b.__decorate([m.subclass("esri.widgets.support.GoTo")],l)};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("../../chunks/_rollupPluginBabelHelpers ../../core/maybe ../../core/mathUtils ../../core/screenUtils ../../core/MapUtils ./interactiveToolUtils ../support/screenUtils".split(" "),function(a,c,b,n,r,k,d){const h={manipulator:null,tool:null};return function(){function m(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;
this._stopDrag=!1;this._cursor=this._revertToActiveTool=null}var t=m.prototype;t.handleInputEvent=function(p,q){var l=()=>p.stopPropagation();switch(p.type){case "pointer-move":"mouse"===p.pointerType&&this._pointerLocations.set(p.pointerId,{x:p.x,y:p.y,pointerType:p.pointerType});break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(p.stopPropagation(),"end"===p.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===p.pointerType&&0!==p.button||p.native.shiftKey)break;
l=d.createScreenPointFromEvent(p);var g=this._intersect(l,p.pointerType,q.forEachTool);if(c.isNone(g))break;var e=this._findToolAndManipulatorByKey(g,q.forEachTool,h),f=c.applySome(e,w=>w.manipulator);e=c.applySome(e,w=>w.tool);!(c.isSome(f)&&c.isSome(e)&&f.interactive)||f.grabbable&&f.grabbableForEvent(p)||!f.grabbing||f.dragging||this._ungrabManipulatorBeforeDragging(f,e,p);c.isSome(f)&&f.interactive&&f.grabbable&&f.grabbableForEvent(p)&&!f.grabbing&&(this._grabbedManipulators.set(p.pointerId,{key:g,
start:l}),1===this._grabbedManipulators.size&&(this._revertToActiveTool=q.activeTool,q.setActiveTool(g.tool)),f.grabbing=!0,f.events.emit("grab-changed",{action:"start",screenPoint:l}),p.stopPropagation());break;case "pointer-up":this._handlePointerEnd(p,q);break;case "pointer-drag":if("mouse"===p.pointerType&&0!==p.button)break;var u=this._grabbedManipulators.get(p.pointerId);l=this._draggedManipulators.get(p.pointerId);g=c.applySome(u||l,({key:w})=>w);f=this._findManipulatorByKey(g,q.forEachTool);
if(c.isNone(f))break;e=d.createScreenPointFromEvent(p);e.x=b.clamp(e.x,0,q.view.width);e.y=b.clamp(e.y,0,q.view.height);u=c.unwrap(u||l).start;switch(p.action){case "start":case "update":if("update"===p.action||1===this._grabbedManipulators.size)f.dragging=!0,l?f.events.emit("drag",{action:"update",start:u,screenPoint:e}):f.events.emit("drag",{action:"start",start:u,screenPoint:e,pointerType:p.pointerType}),this._draggedManipulators.set(p.pointerId,{key:c.unwrap(g),start:u});break;case "end":f.dragging=
!1,l&&f.events.emit("drag",{action:"end",start:u,screenPoint:e}),this._draggedManipulators.delete(p.pointerId),this._handlePointerEnd(p,q)}p.stopPropagation();break;case "immediate-click":{g=d.createScreenPointFromEvent(p);f=this._intersect(g,p.pointerType,q.forEachTool);const w=this._findToolAndManipulatorByKey(f,q.forEachTool,h);p.native.shiftKey||q.forEachTool(y=>{if((!c.isSome(w)||w.tool!==y||!y.selectionManagementDisabled)&&y.manipulators){let A=!1;y.manipulators.forEach(({manipulator:E})=>{E.selected&&
(E.selected=!1,A=!0)});A&&y.manipulatorSelectionChanged&&y.manipulatorSelectionChanged()}});if(c.isNone(w))break;const {manipulator:D,tool:v}=w;if(!D.interactive)break;D.selectable&&!v.selectionManagementDisabled&&(D.selected=!D.selected,v.manipulatorSelectionChanged&&v.manipulatorSelectionChanged());D.events.emit("immediate-click",{screenPoint:g,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,stopPropagation:l});break}case "click":l=d.createScreenPointFromEvent(p);g=this._intersect(l,
p.pointerType,q.forEachTool);g=this._findManipulatorByKey(g,q.forEachTool);if(c.isNone(g)||!g.interactive)break;g.events.emit(p.type,{screenPoint:l,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey});p.stopPropagation();break;case "double-click":g=d.createScreenPointFromEvent(p);f=this._intersect(g,p.pointerType,q.forEachTool);f=this._findManipulatorByKey(f,q.forEachTool);if(c.isNone(f)||!f.interactive)break;f.events.emit("double-click",{screenPoint:g,button:p.button,pointerType:p.pointerType,
shiftKey:p.native.shiftKey,stopPropagation:l});break;case "immediate-double-click":g=d.createScreenPointFromEvent(p),f=this._intersect(g,p.pointerType,q.forEachTool),f=this._findManipulatorByKey(f,q.forEachTool),!c.isNone(f)&&f.interactive&&f.events.emit("immediate-double-click",{screenPoint:g,button:p.button,pointerType:p.pointerType,shiftKey:p.native.shiftKey,stopPropagation:l})}this._updateCursor(q.forEachTool)};t._ungrabManipulatorBeforeDragging=function(p,q,l){p.grabbing=!1;p.events.emit("grab-changed",
{action:"end",screenPoint:d.createScreenPointFromEvent(l)});this._grabbedManipulators.forEach(({key:g},e)=>{g.tool===q&&q.manipulators.findById(g.manipulatorId)===p&&this._grabbedManipulators.delete(e)})};t._handlePointerEnd=function(p,q){var l=c.applySome(this._grabbedManipulators.get(p.pointerId),({key:e})=>e);const g=this._findManipulatorByKey(l,q.forEachTool);c.isSome(g)&&!g.dragging&&(l=c.isSome(q.creatingTool)&&q.creatingTool===c.unwrap(l).tool,1!==this._grabbedManipulators.size||0!==this._draggedManipulators.size||
l||(q.setActiveTool(this._revertToActiveTool),this._revertToActiveTool=null),g.grabbing&&(g.grabbing=!1,g.events.emit("grab-changed",{action:"end",screenPoint:d.createScreenPointFromEvent(p)})),this._grabbedManipulators.delete(p.pointerId))};t._cursorFromMap=function(p,q){let l=null;r.someMap(p,({key:g})=>{g=this._findManipulatorByKey(g,q);return c.isSome(g)&&g.interactive&&"cursor"in g&&g.cursor?(l=g.cursor,!0):!1});return l};t._updateCursor=function(p){this._cursor=0<this._grabbedManipulators.size?
this._cursorFromMap(this._grabbedManipulators,p)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators,p)||"pointer":null};t.clearPointers=function(p,q,l=!0,g){const e=f=>f.tool===p&&(c.isNone(g)||f.manipulatorId===g);this._grabbedManipulators.forEach(({key:f},u)=>{e(f)&&(this._grabbedManipulators.delete(u),f=this._findManipulatorByKey(f,q),c.isSome(f)&&(f.grabbing=!1,f.events.emit("grab-changed",{action:"end",screenPoint:null})))});this._draggedManipulators.forEach(({key:f},
u)=>{e(f)&&(this._draggedManipulators.delete(u),f=this._findManipulatorByKey(f,q),c.isSome(f)&&(f.dragging=!1,f.events.emit("drag",{action:"cancel"})))});l&&this._hoveredManipulators.forEach(({key:f},u)=>{e(f)&&(this._hoveredManipulators.delete(u),f=this._findManipulatorByKey(f,q),c.isSome(f)&&(f.hovering=!1))});this._updateCursor(q)};t._intersect=function(p,q,l){let g=null;l(e=>{if(null==e.manipulators||!k.areToolManipulatorsEditable(e))return!1;const f=e.manipulators.intersect(p,q);if(c.isNone(f))return!1;
g={manipulatorId:f.id,tool:e};return!0});return g};t.updateHoveredStateFromKnownPointers=function(p){this._pointerLocations.forEach((q,l)=>{this._updateHoveredStateForPointerAtScreenPosition(n.createScreenPoint(q.x,q.y),l,q.pointerType,p)})};t.handleHoverEvent=function(p,q){"pointer-up"!==p.type&&"immediate-click"!==p.type&&"pointer-move"!==p.type||"mouse"!==p.pointerType||this._updateHoveredStateForPointerAtScreenPosition(d.createScreenPointFromEvent(p),p.pointerId,p.pointerType,q)};t._updateHoveredStateForPointerAtScreenPosition=
function(p,q,l,g){p=this._intersect(p,l,g);l=this._findManipulatorByKey(p,g);var e=c.applySome(this._hoveredManipulators.get(q),({key:f})=>f);e=this._findManipulatorByKey(e,g);c.isSome(l)&&!l.interactive&&(l=null);e!==l&&(c.isSome(e)&&(e.hovering=!1),c.isSome(l)?(l.hovering=!0,this._hoveredManipulators.set(q,{key:c.unwrap(p)})):this._hoveredManipulators.delete(q),this._updateCursor(g))};t._findManipulatorByKey=function(p,q){return this._findToolAndManipulatorByKey(p,q,h)?h.manipulator:null};t._findToolAndManipulatorByKey=
function(p,q,l){if(c.isNone(p))return null;l.tool=null;l.manipulator=null;q(g=>{if(g!==p.tool||null==g.manipulators||!k.areToolManipulatorsEditable(g))return!1;const e=g.manipulators.findById(p.manipulatorId);return c.isSome(e)?(l.manipulator=e,l.tool=g,!0):!1});return l.manipulator?l:null};a._createClass(m,[{key:"cursor",get:function(){return this._cursor}}]);return m}()})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has","../../core/screenUtils"],function(a,c,b){function n(k){return b.createScreenPoint(k.x,
k.y)}function r(k,d){k=(k instanceof HTMLElement?k:k.surface).getBoundingClientRect();return b.createScreenPoint(d.clientX-k.left,d.clientY-k.top)}a.createScreenPointFromEvent=n;a.createScreenPointFromNativeEvent=r;a.createScreenPointFromSupportedEvent=function(k,d){return d instanceof Event?r(k,d):n(d)};a.isSupportedScreenPointEvent=function(k){if(k instanceof Event)return!0;if("object"===typeof k&&"type"in k)switch(k.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};
Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/3d/interactive/graphics/AnalysisManager":function(){define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/has ../../../../core/maybe ../../../../core/Logger ../../../../core/accessorSupport/ensureType ../../../../core/accessorSupport/decorators/property ../../../../core/jsonMap ../../../../core/accessorSupport/decorators/subclass ../../../../core/Error ../../../../core/urlUtils ../../../../core/uuid ../../../../portal/support/resourceExtension ../../../../core/promiseUtils ../../../../core/Accessor ../../../../core/Collection ./AnalysisManagerItem".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w){a.AnalysisManager=function(D){function v(A){A=D.call(this,A)||this;A._items=new Map;A.analyses=new u;return A}c._inheritsLoose(v,D);var y=v.prototype;y.initialize=function(){this.analyses.on("after-add",A=>{A=A.item;this._items.set(A,this._createItem(A))});this.analyses.on("after-remove",A=>{A=A.item;const E=this._getItem(A);r.isSome(E)&&(E.destroy(),this._items.delete(A))})};y.whenAnalysisView=async function(A){return this._items.has(A)?this._items.get(A).promise:
e.reject(new p("view:no-analysisview-for-analysis","No analysis view has been found for the analysis"))};y.getAnalysisView=function(A){return(A=this._items.get(A))?A.analysisView:null};y._createItem=function(A){return new w.AnalysisManagerItem(A,this.viewFactory,this.controllerFactory)};y._getItem=function(A){return this._items.get(A)};return v}(f);b.__decorate([h.property({type:u})],a.AnalysisManager.prototype,"analyses",void 0);b.__decorate([h.property()],a.AnalysisManager.prototype,"viewFactory",
void 0);b.__decorate([h.property()],a.AnalysisManager.prototype,"controllerFactory",void 0);a.AnalysisManager=b.__decorate([t.subclass("esri.views.3d.interactive.graphics.AnalysisManager")],a.AnalysisManager);Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/3d/interactive/graphics/AnalysisManagerItem":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/maybe","../../../../core/promiseUtils"],function(a,c,b,n){let r=function(){function k(h,m,
t){this.analysis=h;this.viewFactory=m;this.controllerFactory=t;this._promise=n.createDeferred();this.analysisController=this.analysisView=null;this._load()}var d=k.prototype;d.destroy=function(){b.isSome(this.analysisView)&&this.analysisView.destroy();b.isSome(this.analysisController)&&this.analysisController.destroy()};d._load=async function(){let h=!1;b.isSome(this.viewFactory)?this.analysisView=await this.viewFactory(this.analysis):h=!0;b.isSome(this.controllerFactory)?this.analysisController=
await this.controllerFactory(this.analysis):h=!0;h?this._promise.reject("no view/controller factories available for analysis"):this._promise.resolve(b.unwrap(this.analysisView))};c._createClass(k,[{key:"promise",get:function(){return this._promise.promise}}]);return k}();a.AnalysisManagerItem=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/input/Input":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ./gamepad/GamepadSettings".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(){var f=g.apply(this,arguments)||this;f.gamepad=new l;return f}a._inheritsLoose(e,g);return e}(q);c.__decorate([k.property({readOnly:!0})],b.prototype,"gamepad",void 0);return b=c.__decorate([h.subclass("esri.views.input.Input")],b)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../../core/Collection ./GamepadInputDevice".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){b=function(e){function f(...u){u=e.call(this,...u)||this;u.devices=new l;u.enabledFocusMode="document";return u}a._inheritsLoose(f,e);return f}(q);c.__decorate([k.property({type:l.ofType(g),readOnly:!0})],b.prototype,"devices",void 0);c.__decorate([k.property({type:["document","view","none"]})],b.prototype,"enabledFocusMode",void 0);return b=c.__decorate([h.subclass("esri.views.input.gamepad.GamepadSettings")],b)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q){b=function(e){function f(u){var w=e.call(this)||this;w.nativeIndex=null;w._detectedDeviceType="unknown";"standard"===u.mapping?w._detectedDeviceType="standard":l.test(u.id)?w._detectedDeviceType="spacemouse":w._detectedDeviceType="unknown";w.nativeIndex=u.index;return w}a._inheritsLoose(f,e);a._createClass(f,[{key:"native",get:function(){return(navigator.getGamepads?navigator.getGamepads():[])[this.nativeIndex]}},{key:"deviceType",get:function(){return this._detectedDeviceType}},
{key:"axisThreshold",get:function(){return g[this.deviceType]}}]);return f}(q);c.__decorate([k.property({nonNullable:!0,readOnly:!0})],b.prototype,"nativeIndex",void 0);c.__decorate([k.property({type:String,readOnly:!0})],b.prototype,"deviceType",null);c.__decorate([k.property({type:Number,readOnly:!0})],b.prototype,"axisThreshold",null);b=c.__decorate([h.subclass("esri.views.input.gamepad.GamepadInputDevice")],b);const l=/^(3dconnexion|space(mouse|navigator|pilot|explorer))/i,g={standard:.15,spacemouse:.025,
unknown:0};return b})},"esri/views/navigation/Navigation":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ./gamepad/GamepadSettings".split(" "),function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=
g.call(this,f)||this;f.browserTouchPanEnabled=!0;f.gamepad=new l;f.momentumEnabled=!0;f.mouseWheelZoomEnabled=!0;return f}a._inheritsLoose(e,g);return e}(q);c.__decorate([k.property({type:Boolean})],b.prototype,"browserTouchPanEnabled",void 0);c.__decorate([k.property({type:l,nonNullable:!0})],b.prototype,"gamepad",void 0);c.__decorate([k.property({type:Boolean})],b.prototype,"momentumEnabled",void 0);c.__decorate([k.property({type:Boolean})],b.prototype,"mouseWheelZoomEnabled",void 0);return b=c.__decorate([h.subclass("esri.views.navigation.Navigation")],
b)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/has ../../../core/Logger ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/property ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../core/urlUtils ../../../core/uuid ../../../portal/support/resourceExtension ../../../core/Accessor ../../input/gamepad/GamepadInputDevice".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l){b=function(g){function e(f){f=g.call(this,f)||this;f.enabled=!0;f.device=null;f.mode="pan";f.tiltDirection="forward-down";f.velocityFactor=1;return f}a._inheritsLoose(e,g);return e}(q);c.__decorate([k.property({type:Boolean,nonNullable:!0})],b.prototype,"enabled",void 0);c.__decorate([k.property({type:l})],b.prototype,"device",void 0);c.__decorate([k.property({type:["pan","zoom"],nonNullable:!0})],b.prototype,"mode",void 0);c.__decorate([k.property({type:["forward-down",
"forward-up"],nonNullable:!0})],b.prototype,"tiltDirection",void 0);c.__decorate([k.property({type:Number,nonNullable:!0})],b.prototype,"velocityFactor",void 0);return b=c.__decorate([h.subclass("esri.views.navigation.gamepad.GamepadSettings")],b)})},"esri/views/support/DefaultsFromMap":function(){define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/arrayUtils ../../core/promiseUtils ../../core/Accessor ../../geometry/support/webMercatorUtils ../../core/Handles ../../core/watchUtils ../../geometry/support/heightModelInfoUtils".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f,u,w,D){function v(x){return x?JSON.stringify(x.toJSON()):"undefined"}function y(x){switch(x){case 0:return"Waiting";case 1:return"Found";case 2:return"Exhausted"}}var A;const E=r.getLogger("esri.views.support.DefaultsFromMap");n=A=function(x){function F(){var C=x.apply(this,arguments)||this;C._handles=new u;C._waitTask=null;C._extentProjectController=null;C._spatialReferenceCandidates=null;C._extentCandidates=null;C.logDebugInformation=!1;C.isSpatialReferenceDone=
!1;C.isTileInfoDone=!1;C.isHeightModelInfoSearching=!1;C.spatialReference=null;C.extent=null;C.heightModelInfo=null;C.vcsWkid=null;C.latestVcsWkid=null;C.mapCollectionPaths=A.DefaultMapCollectionPaths.slice();C.tileInfo=null;return C}c._inheritsLoose(F,x);var B=F.prototype;B.initialize=function(){this.watch("mapCollectionPaths",()=>{this._running&&(this.reset(),this.start())})};B.destroy=function(){this._set("view",null);this._handles&&(this._handles.destroy(),this._handles=null);this._cancelLoading()};
B.reset=function(){this._handles.removeAll();this._set("isSpatialReferenceDone",!1);this._set("isTileInfoDone",!1);this._set("isHeightModelInfoSearching",!1);this._set("spatialReference",null);this._set("extent",null);this._set("heightModelInfo",null);this._set("vcsWkid",null);this._set("latestVcsWkid",null);this._set("tileInfo",null);this._extentCandidates=this._spatialReferenceCandidates=null};B.start=function(){this._handles.removeAll();const C=this._updateLayerChange.bind(this);for(const z of this.mapCollectionPaths)this._handles.add(w.on(this.view,
`map.${z}`,"change",C,C,C,!0));this._handles.add(w.when(this,"isSpatialReferenceDone",()=>this._updateTileInfo(),!0))};B._ownerNameFromCollectionName=function(C){const z=C.lastIndexOf(".");return-1===z?"view":"view."+C.slice(0,z)};B._ensureLoadedOwnersFromCollectionName=function(C){const z=this._ownerNameFromCollectionName(C).split(".");let G;for(let H=0;H<z.length;H++){G=this.get(z.slice(0,H+1).join("."));if(!G)break;if(G.load&&!G.isFulfilled())return{collectionName:C,owner:null,loading:G.load().catch(()=>
{})}}return{collectionName:C,owner:G}};B._cancelLoading=function(){this._waitTask=null;this._extentProjectController&&(this._extentProjectController.abort(),this._extentProjectController=null)};B._updateWhen=function(C){let z=!0,G=!1;const H=C.catch(()=>{}).then(()=>{z?G=!0:H===this._waitTask&&this._update()});z=!1;G||(this._waitTask=H);return G};B._updateLayerChange=function(){this.isSpatialReferenceDone&&!this.spatialReference&&this._set("isSpatialReferenceDone",!1);this._update()};B._update=function(){this._cancelLoading();
if(this.view){if(!this.isSpatialReferenceDone){this._debugLog("Starting search for spatial reference...");var C=this._processMapCollections(z=>this._processSpatialReferenceSource(z));this._debugLog(`Search ended with status '${y(C)}'`);if(0!==C){let z=null;C=this._spatialReferenceCandidates;!C||1>C.length?(z=this.defaultSpatialReference,this._debugLog(`No spatial reference found, locking to default (${v(z)})`)):(this.defaultSpatialReference&&1<C.length&&-1<C.findIndex(G=>G.equals(this.defaultSpatialReference))&&
(C=[this.defaultSpatialReference]),z=C[0],this._debugLog(`Locking to ${v(z)}`));this._set("spatialReference",z);z?this.extent?this._set("isSpatialReferenceDone",!0):(C=this.logDebugInformation,this.logDebugInformation=!1,this._processMapCollections(G=>this._findExtent(G,z)),this.logDebugInformation=C,this._projectExtentCandidate().catch(()=>{}).then(()=>this._set("isSpatialReferenceDone",!0))):this._set("isSpatialReferenceDone",!0)}}null==this.heightModelInfo&&this.view.isHeightModelInfoRequired&&
(this._debugLog("Starting search for height model info..."),C=this._processMapCollections(z=>this._processHeightModelInfoSource(z),z=>D.mayHaveHeightModelInfo(z)),this._debugLog(`Search ended with status ${y(C)}`),this._set("isHeightModelInfoSearching",0===C));this._updateTileInfo()}};B._processMapCollections=function(C,z){this._preloadMapCollections(z);let G=2;this._forAllMapCollectionSources(H=>{if(2!==G)return!1;const {collectionName:I}=H;this._debugLog(`Processing collection ${I}...`);return H.loading&&
!this._updateWhen(H.loading)?(this._debugLog(`Collection ${H.collectionName} owner is loading -> wait`),G=0,!1):!0},H=>2!==G?!1:null==z||z(H)?!H.load||H.isFulfilled()||this._updateWhen(H.load())?H.load&&!H.isResolved()||!C(H)?!0:(G=1,!1):(this._debugLog(`Source ${H.id} is loading -> wait`),G=0,!1):(this._debugLog(`Source ${H.id} is skipped due to predicate`),!1));return G};B._preloadMapCollections=function(C){let z=10;const G=this.logDebugInformation;this.logDebugInformation=!1;this._forAllMapCollectionSources(()=>
!0,H=>{if(0===z||null!=C&&!C(H))return!1;H.load&&!H.isFulfilled()&&(this.logDebugInformation=G,this._debugLog(`Pre-loading source ${H.id}`),this.logDebugInformation=!1,H.load().catch(()=>{}),z--);return!0});this.logDebugInformation=G};B._forAllMapCollectionSources=function(C,z){for(const H of this.mapCollectionPaths){const I=`map.${H}`;var G=this._ensureLoadedOwnersFromCollectionName(I);!1!==C(G)&&(G=G.owner,!G||G.isRejected&&G.isRejected()?this._debugLog(`Collection ${I} owner is invalid or rejected -> skip`):
(G=this.view.get(I))?this._forEachSource(G,z):this._debugLog(`Collection ${I} does not exist -> skip`))}};B._forEachSource=function(C,z){for(const G of C.items)!1!==z(G)&&"layers"in G&&G.layers&&this._forEachSource(G.layers,z)};B._processSpatialReferenceSource=function(C){let z=this._getSupportedSpatialReferences(C);if(0===z.length)return!1;this._spatialReferenceCandidates?(z=l.intersect(z,this._spatialReferenceCandidates,(G,H)=>G.equals(H)),0<z.length?this._spatialReferenceCandidates=z:this._debugLog(`Layer ${C.id} is ignored because its supported spatial
          references are not compatible with the previous candidates`)):this._spatialReferenceCandidates=z;return 1===this._spatialReferenceCandidates.length};B._findExtent=function(C,z){var G="fullExtents"in C&&C.fullExtents||(C.fullExtent?[C.fullExtent]:[]);const H=G.find(I=>I.spatialReference.equals(z));if(H)return this._set("extent",H),!0;0<this._getSupportedSpatialReferences(C).length&&(G=G.map(I=>({extent:I,layer:C})),this._extentCandidates=(this._extentCandidates||[]).concat(G));return!1};
B._projectExtentCandidate=async function(){if(this._extentCandidates&&this._extentCandidates.length){var C=this.spatialReference,z=this._extentCandidates.find(G=>f.canProject(G.extent.spatialReference,C));if(z)this._set("extent",f.project(z.extent,C));else{z=this._extentCandidates[0];this._extentProjectController=g.createAbortController();const G=await new Promise(function(H,I){a(["../../portal/support/geometryServiceUtils"],H,I)});try{const H=await G.projectGeometry(z.extent,C,z.layer.portalItem,
this._extentProjectController.signal);this._set("extent",H)}catch{}this._extentProjectController=null}}};B._getSupportedSpatialReferences=function(C){var z="supportedSpatialReferences"in C&&C.supportedSpatialReferences||(C.spatialReference?[C.spatialReference]:[]);if(0===z.length)return this._debugLog(`Layer ${C.id} is ignored because it does not have any spatial references`),[];z=z.filter(G=>this.view.isSpatialReferenceSupported(G,C,H=>this._debugLog(H)));0===z.length?this._debugLog(`Layer ${C.id} has spatial references but none of them are supported (or layer doesn't require locking)`):
this._debugLog(`Layer ${C.id} has spatial references. Resulting candidate set: ${z.map(v).join(", ")}`);return z};B._processHeightModelInfoSource=function(C){const z=D.deriveHeightModelInfoFromLayer(C);return z?(this._set("heightModelInfo",z),this._set("isHeightModelInfoSearching",!1),C.spatialReference&&(this._set("vcsWkid",C.spatialReference.vcsWkid),this._set("latestVcsWkid",C.spatialReference.latestVcsWkid)),!0):!1};B._updateTileInfo=function(){if(null==this.tileInfo)if(!this.view.isTileInfoRequired())this._set("isTileInfoDone",
!0);else if(this.isSpatialReferenceDone){var C=this.get("view.map");if(C){var z=C.basemap;C=C.get("layers.0");var G=null;if(z&&"failed"!==z.loadStatus){if(!z.loaded){this._updateWhen(z.load());this._debugLog("updateTileInfo: basemap still loading");return}if((z=z&&z.get("baseLayers.0"))&&"failed"!==z.loadStatus)if(z.loaded)G="tileInfo"in z&&z.tileInfo;else{this._updateWhen(z.load());this._debugLog("updateTileInfo: first basemap layer still loading");return}else if(C&&"failed"!==C.loadStatus)if(C.loaded)G=
"tileInfo"in C&&C.tileInfo;else{this._updateWhen(C.load());this._debugLog("updateTileInfo: first operational layer still loading");return}else{this._debugLog("updateTileInfo: no tileInfo");this._set("isTileInfoDone",!0);return}}else if(C&&"failed"!==C.loadStatus)if(C.loaded)G="tileInfo"in C&&C.tileInfo;else{this._updateWhen(C.load());this._debugLog("updateTileInfo: first operational layer still loading");return}G&&!G.spatialReference.equals(this.spatialReference)&&(G=null);this._debugLog(`updateTileInfo: setting ${G}`);
this._set("tileInfo",G);this._set("isTileInfoDone",!0)}else this._debugLog("updateTileInfo: no map")}};B._debugLog=function(C){this.logDebugInformation&&E.info(C)};c._createClass(F,[{key:"_running",get:function(){return!!(this._handles&&0<this._handles.size)}}]);return F}(e);n.DefaultMapCollectionPaths=["basemap.baseLayers","layers","ground.layers","basemap.referenceLayers"];b.__decorate([d.property()],n.prototype,"logDebugInformation",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,
"isSpatialReferenceDone",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,"isTileInfoDone",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,"isHeightModelInfoSearching",void 0);b.__decorate([d.property({constructOnly:!0})],n.prototype,"view",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,"spatialReference",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,"extent",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,"heightModelInfo",void 0);
b.__decorate([d.property({readOnly:!0})],n.prototype,"vcsWkid",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,"latestVcsWkid",void 0);b.__decorate([d.property()],n.prototype,"mapCollectionPaths",void 0);b.__decorate([d.property()],n.prototype,"defaultSpatialReference",void 0);b.__decorate([d.property({readOnly:!0})],n.prototype,"tileInfo",void 0);return n=A=b.__decorate([m.subclass("esri.views.support.DefaultsFromMap")],n)})},"esri/geometry/support/heightModelInfoUtils":function(){define("exports ../../core/has ../../core/maybe ../../core/Error ../../layers/support/arcgisLayerUrl ../HeightModelInfo".split(" "),
function(a,c,b,n,r,k){function d(g,e,f){if(!h(g)||!h(e))return 4;if(null==g||null==e)return 0;if(!f&&g.heightUnit!==e.heightUnit)return 1;if(g.heightModel!==e.heightModel)return 2;switch(g.heightModel){case "gravity-related-height":return 0;case "ellipsoidal":return g.vertCRS===e.vertCRS?0:3;default:return 4}}function h(g){return null==g||null!=g.heightModel&&null!=g.heightUnit}function m(g){const e=g.url&&r.parse(g.url);return(null!=(g.spatialReference&&g.spatialReference.vcsWkid)||!b.isSome(e)||
"ImageServer"!==e.serverType)&&"heightModelInfo"in g&&g.heightModelInfo?g.heightModelInfo:p(g)?k.deriveUnitFromSR(l,g.spatialReference):null}function t(g){if("unknown"===g.type||!("capabilities"in g))return!1;switch(g.type){case "csv":case "feature":case "geojson":case "ogc-feature":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case null:return!1;default:return!1}}function p(g){return t(g)?!!(g.capabilities&&g.capabilities.data&&g.capabilities.data.supportsZ):
q(g)}function q(g){switch(g.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":return!0}return!1}const l=new k({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=m;a.mayHaveHeightModelInfo=function(g){return null!=g.layers||q(g)||t(g)||"heightModelInfo"in g};a.rejectLayerError=function(g,e,f){const u=m(g);var w=d(u,e,f);{let D=null;if(u){const v=k.deriveUnitFromSR(u,g.spatialReference).heightUnit;f||v===u.heightUnit||(D=new n("layerview:unmatched-height-unit",
`The vertical units of the layer must match the horizontal units (${v})`,{horizontalUnit:v}))}if(!("heightModelInfo"in g&&null!=g.heightModelInfo||null!=g.spatialReference)&&p(g)||4===w||D)return new n("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:u,error:D})}g=null;switch(w){case 1:w=u.heightUnit||"unknown";g=e.heightUnit||"unknown";g=new n("layerview:incompatible-height-unit",`The vertical units of the layer (${w}) must match the vertical units of the scene (${g})`,
{layerUnit:w,sceneUnit:g});break;case 2:w=u.heightModel||"unknown";g=e.heightModel||"unknown";g=new n("layerview:incompatible-height-model",`The height model of the layer (${w}) must match the height model of the scene (${g})`,{layerHeightModel:w,sceneHeightModel:g});break;case 3:w=u.vertCRS||"unknown",g=e.vertCRS||"unknown",g=new n("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${w}) must match the vertical datum of the scene (${g})`,{layerDatum:w,sceneDatum:g})}return g?
new n("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:u,sceneHeightModelInfo:e,error:g}):null};a.validateWebSceneError=function(g,e){if(!g)return null;if(!h(g))return new n("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:g});const f=g.heightUnit;g=k.deriveUnitFromSR(g,e).heightUnit;return f!==g?new n("webscene:incompatible-height-unit",
`The vertical units of the scene (${f}) must match the horizontal units of the scene (${g})`,{verticalUnit:f,horizontalUnit:g}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/ViewAnimation":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/has ../core/Logger ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/Error ../core/urlUtils ../core/uuid ../portal/support/resourceExtension ../core/promiseUtils ../core/Promise".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g){b=function(e){function f(w){w=e.call(this,w)||this;w.state="running";w.target=null;return w}a._inheritsLoose(f,e);var u=f.prototype;u.initialize=function(){this.addResolvingPromise(new Promise((w,D)=>this._dfd={resolve:w,reject:D}))};u.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new m("ViewAnimation stopped")))};u.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state",
"finished"),this._dfd.resolve())};u.update=function(w,D){D||(D=l.isPromiseLike(w)?"waiting-for-target":"running");this._set("target",w);this._set("state",D)};a._createClass(f,[{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}}]);return f}(g.EsriPromise);c.__decorate([k.property({readOnly:!0})],b.prototype,"done",null);c.__decorate([k.property({readOnly:!0,type:String})],b.prototype,"state",void 0);c.__decorate([k.property()],b.prototype,"target",void 0);b=c.__decorate([h.subclass("esri.views.ViewAnimation")],
b);(b||(b={})).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return b})},"esri/views/layers/LayerView":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/has ../../core/Logger ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/property ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/urlUtils ../../core/uuid ../../portal/support/resourceExtension ../../core/Accessor ../../core/Evented ../../core/Identifiable ../../core/Promise ../../core/HandleOwner".split(" "),
function(a,c,b,n,r,k,d,h,m,t,p,q,l,g,e,f){b=function(u){function w(v){v=u.call(this,v)||this;v.layer=null;v.parent=null;return v}a._inheritsLoose(w,u);var D=w.prototype;D.initialize=function(){this.when().catch(v=>{if("layerview:create-error"!==v.name){const y=this.layer&&this.layer.id||"no id",A=this.layer&&this.layer.title||"no title";n.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${A}', id: '${y}')`,v);throw v;}})};D.canResume=function(){return!this.get("parent.suspended")&&
this.get("view.ready")&&this.get("layer.loaded")&&this.visible||!1};D.getSuspendInfo=function(){const v=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};this.view&&this.view.ready||(v.viewNotReady=!0);this.layer&&this.layer.loaded||(v.layerNotLoaded=!0);this.visible||(v.layerInvisible=!0);return v};D.isUpdating=function(){return!1};a._createClass(w,[{key:"fullOpacity",get:function(){var v=this.get("layer.opacity");v=null==v?1:v;var y=this.get("parent.fullOpacity");return v*(null==y?1:
y)}},{key:"suspended",get:function(){return!this.canResume()}},{key:"suspendInfo",get:function(){return this.getSuspendInfo()}},{key:"legendEnabled",get:function(){return!this.suspended&&!0===this.layer.legendEnabled}},{key:"updating",get:function(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}},{key:"visible",get:function(){return!0===this.get("layer.visible")},set:function(v){void 0===v?this._clearOverride("visible"):this._override("visible",v)}}]);return w}(f.HandleOwnerMixin(g.IdentifiableMixin(e.EsriPromiseMixin(l.EventedMixin(q)))));
c.__decorate([k.property()],b.prototype,"fullOpacity",null);c.__decorate([k.property()],b.prototype,"layer",void 0);c.__decorate([k.property()],b.prototype,"parent",void 0);c.__decorate([k.property({readOnly:!0})],b.prototype,"suspended",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"suspendInfo",null);c.__decorate([k.property({readOnly:!0})],b.prototype,"legendEnabled",null);c.__decorate([k.property({type:Boolean,readOnly:!0})],b.prototype,"updating",null);c.__decorate([k.property()],
b.prototype,"visible",null);return b=c.__decorate([h.subclass("esri.views.layers.LayerView")],b)})},"*noref":1}});require.boot&&require.apply(null,require.boot);