/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{h as e}from"./core/lang.js";import{addQueryParameter as t}from"./core/urlUtils.js";import"./config.js";import"./chunks/object.js";import"./core/Error.js";import"./chunks/Logger.js";import"./chunks/string.js";import"./chunks/Message.js";const r="20210806",s="d1c4ecf1457c4e5613ee54ecf4ec0563e3153413",n="4.20",o={request(e,t){var r;const s=null==(r=e.options)?void 0:r.responseType;return import("./request.js").then((function(e){return e.r})).then((({default:r})=>{const n=e.options||{};return n.responseType="native"===s||"native-request-init"===s?"native-request-init":"array-buffer",n.signal=null==t?void 0:t.signal,r(e.url,n)})).then((e=>{const t={data:e.data,ssl:e.ssl};return"native-request-init"===e.requestOptions.responseType?(delete t.data.signal,t):{result:t,transferList:[t.data]}}))}};let i;function a(e){i=e}function c(e){const r=i&&i.findCredential(e);return r&&r.token?t(e,"token",r.token):e}e("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript 4.20 [Date: 20210806, Revision: ${s.slice(0,8)}]`),(e("edge")||e("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"));export{c as addTokenParameter,r as buildDate,i as id,s as revision,a as setId,n as version,o as workerMessages};
