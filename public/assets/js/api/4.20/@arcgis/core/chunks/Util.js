/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{c as t}from"./mathUtils.js";import{s as n}from"./vec2.js";import{a}from"./vec2f64.js";import{t as r}from"./vec4.js";import{a as s}from"./vec4f64.js";const o=s();class e{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function c(t,n){if(!t){n=n||"assert";const t=new Error(n);throw t.stack&&console.log(t.stack),new e(n)}}function f(t,n){t||(n=n||"",console.warn("Verify failed: "+n+"\n"+new Error("verify").stack))}function i(t,n,a,r){let s,o=(a[0]-t[0])/n[0],e=(r[0]-t[0])/n[0];o>e&&(s=o,o=e,e=s);let c=(a[1]-t[1])/n[1],f=(r[1]-t[1])/n[1];if(c>f&&(s=c,c=f,f=s),o>f||c>e)return!1;c>o&&(o=c),f<e&&(e=f);let i=(a[2]-t[2])/n[2],u=(r[2]-t[2])/n[2];return i>u&&(s=i,i=u,u=s),!(o>u||i>e)&&(u<e&&(e=u),!(e<0))}function u(t,n,r,s,o,e=a()){const c=(s[o]-r[o])*(n[0]-t[0])-(s[0]-r[0])*(n[o]-t[o]),f=(s[0]-r[0])*(t[o]-r[o])-(s[o]-r[o])*(t[0]-r[0]);if(0===c)return!1;const i=f/c;return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[o]+i*(n[o]-t[o]),!0}function h(t,n,a,s,e){e||(e=t),o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=1,r(o,o,n),e.length>2&&(e[2]=-o[2]),r(o,o,a),c(0!==o[3]),e[0]=o[0]/o[3],e[1]=o[1]/o[3],e[2]=o[2]/o[3],e[0]=(.5*e[0]+.5)*s[2]+s[0],e[1]=(.5*e[1]+.5)*s[3]+s[1]}function l(t,n){return Math.log(t)/Math.log(n)}function M(t,n,a,r){t[12]=n,t[13]=a,t[14]=r}function m(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}function p(t,n,a){return 2*Math.atan(Math.sqrt(n*n+a*a)*Math.tan(.5*t)/n)}function g(t,n,a){return 2*Math.atan(Math.sqrt(n*n+a*a)*Math.tan(.5*t)/a)}function v(t,n,a){return 2*Math.atan(n*Math.tan(.5*t)/Math.sqrt(n*n+a*a))}function w(t,n,a){return 2*Math.atan(a*Math.tan(.5*t)/Math.sqrt(n*n+a*a))}function j(n,a,r=0){const s=t(n,0,y);for(let t=0;t<4;t++)a[r+t]=Math.floor(256*((o=s*d[t])-Math.floor(o)));var o}function q(t,n=0){let a=0;for(let r=0;r<4;r++)a+=t[n+r]*k[r];return a}const d=[1,256,65536,16777216],k=[1/256,1/65536,1/16777216,1/4294967296],y=q(new Uint8ClampedArray([255,255,255,255]));function E(t,a,r,s,o){const e=t;0===t[11]?(s[0]=2/(a*e[0]),s[1]=2/(r*e[5]),s[2]=(1+e[12])/e[0],s[3]=(1+e[13])/e[5],n(o,0,1)):(s[0]=-2/(a*e[0]),s[1]=-2/(r*e[5]),s[2]=(1-e[8])/e[0],s[3]=(1-e[9])/e[5],n(o,1,0))}export{c as a,j as b,i as c,p as d,w as e,v as f,g,m as h,E as i,l,h as p,u as r,M as s,q as u,f as v};
