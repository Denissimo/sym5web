/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function e(e,a={},s){if(!window.WebGLRenderingContext)return r(e,n),null;const i=t(e,a,s);return i||(r(e,o),null)}function t(e,t={},r){let n;switch(r){case"webgl":n=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case"webgl2":n=["webgl2"];break;default:n=["webgl","experimental-webgl","webkit-3d","moz-webgl"]}let o=null;for(const r of n){try{o=e.getContext(r,t)}catch(e){}if(o)break}return o}function r(e,t){const r=e.parentNode;r&&(r.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>")}const n='This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>',o='It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>';let a;function s(){return a||(a=function(){const e={available:!1,version:0,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1,supportsColorBufferFloat:!1};if(void 0===typeof WebGLRenderingContext)return e;const r=document.createElement("canvas");if(!r)return e;let n=t(r,{failIfMajorPerformanceCaveat:!0},"webgl");n||(n=t(r,{},"webgl"),n&&(e.majorPerformanceCaveat=!0));if(!n)return e;const o=n.getParameter(n.VERSION);if(!o)return e;const a=o.match(/^WebGL\s+([\d.]*)/);if(a){const t=parseFloat(a[1]);e.available=t>=.94;const r=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);r&&(e.supportsHighPrecisionFragment=r.precision>0),e.supportsVertexShaderSamplers=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0,e.supportsElementIndexUint=null!==n.getExtension("OES_element_index_uint"),e.supportsStandardDerivatives=null!==n.getExtension("OES_standard_derivatives"),e.supportsInstancedArrays=null!==n.getExtension("ANGLE_instanced_arrays"),e.supportsTextureFloat=null!==n.getExtension("OES_texture_float"),e.supportsColorBufferFloat=null!==n.getExtension("WEBGL_color_buffer_float")&&null!==n.getExtension("EXT_float_blend")}return e.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE),e.version=function(){if(void 0===typeof WebGL2RenderingContext)return!1;const e=document.createElement("canvas");if(!e)return!1;if(!t(e,{},"webgl2"))return!1;return!0}()?2:1,e}()),a}export{e as c,s as g};
