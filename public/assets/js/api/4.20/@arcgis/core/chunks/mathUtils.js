/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function t(){return[0,0,0]}function n(t){return[t[0],t[1],t[2]]}function a(t,n,a){return[t,n,a]}function r(t){const n=[0,0,0],a=Math.min(3,t.length);for(let r=0;r<a;++r)n[r]=t[r];return n}function s(t,n){return new Float64Array(t,n,3)}function u(){return a(0,0,1)}const o=[0,0,0],e=a(1,1,1),c=1e-6,i=Math.random,f=Math.PI/180,h=180/Math.PI;function M(t){return t*f}function l(t){return t*h}function m(t){const n=t[0],a=t[1],r=t[2];return Math.sqrt(n*n+a*a+r*r)}function d(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function b(t,n,a,r){return t[0]=n,t[1]=a,t[2]=r,t}function x(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t}function q(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t}function g(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t}function p(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t}function I(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t}function P(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t}function v(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t}function y(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t}function N(t,n){const a=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2];return Math.sqrt(a*a+r*r+s*s)}function w(t,n){const a=n[0]-t[0],r=n[1]-t[1],s=n[2]-t[2];return a*a+r*r+s*s}function A(t){const n=t[0],a=t[1],r=t[2];return n*n+a*a+r*r}function F(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function L(t,n){const a=n[0],r=n[1],s=n[2];let u=a*a+r*r+s*s;return u>0&&(u=1/Math.sqrt(u),t[0]=n[0]*u,t[1]=n[1]*u,t[2]=n[2]*u),t}function _(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function z(t,n,a){const r=n[0],s=n[1],u=n[2],o=a[0],e=a[1],c=a[2];return t[0]=s*c-u*e,t[1]=u*o-r*c,t[2]=r*e-s*o,t}function D(t,n,a,r){const s=n[0],u=n[1],o=n[2];return t[0]=s+r*(a[0]-s),t[1]=u+r*(a[1]-u),t[2]=o+r*(a[2]-o),t}function E(t,n,a){const r=n[0],s=n[1],u=n[2];return t[0]=a[0]*r+a[4]*s+a[8]*u+a[12],t[1]=a[1]*r+a[5]*s+a[9]*u+a[13],t[2]=a[2]*r+a[6]*s+a[10]*u+a[14],t}function O(t,n,a){const r=n[0],s=n[1],u=n[2];return t[0]=r*a[0]+s*a[3]+u*a[6],t[1]=r*a[1]+s*a[4]+u*a[7],t[2]=r*a[2]+s*a[5]+u*a[8],t}function j(t,n,a){const r=a[0],s=a[1],u=a[2],o=a[3],e=n[0],c=n[1],i=n[2];let f=s*i-u*c,h=u*e-r*i,M=r*c-s*e,l=s*M-u*h,m=u*f-r*M,d=r*h-s*f;const b=2*o;return f*=b,h*=b,M*=b,l*=2,m*=2,d*=2,t[0]=e+f+l,t[1]=c+h+m,t[2]=i+M+d,t}function G(t,n,a,r){const s=[],u=[];return s[0]=n[0]-a[0],s[1]=n[1]-a[1],s[2]=n[2]-a[2],u[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),u[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),u[2]=s[2],t[0]=u[0]+a[0],t[1]=u[1]+a[1],t[2]=u[2]+a[2],t}const Q=[0,0,0],X=[0,0,0];function Y(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Z(t,n){const a=t[0],r=t[1],s=t[2],u=n[0],o=n[1],e=n[2];return Math.abs(a-u)<=1e-6*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-e)<=1e-6*Math.max(1,Math.abs(s),Math.abs(e))}function k(t,n,a){const r=a[0]-n[0],s=a[1]-n[1],u=a[2]-n[2];let o=r*r+s*s+u*u;return o>0?(o=1/Math.sqrt(o),t[0]=r*o,t[1]=s*o,t[2]=u*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const B=q,C=g,H=p,J=N,K=w,R=m,S=A;var T=Object.freeze({__proto__:null,length:m,copy:d,set:b,add:x,subtract:q,multiply:g,divide:p,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},min:I,max:P,round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},scale:v,scaleAndAdd:y,distance:N,squaredDistance:w,squaredLength:A,negate:F,inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},normalize:L,dot:_,cross:z,lerp:D,hermite:function(t,n,a,r,s,u){const o=u*u,e=o*(2*u-3)+1,c=o*(u-2)+u,i=o*(u-1),f=o*(3-2*u);return t[0]=n[0]*e+a[0]*c+r[0]*i+s[0]*f,t[1]=n[1]*e+a[1]*c+r[1]*i+s[1]*f,t[2]=n[2]*e+a[2]*c+r[2]*i+s[2]*f,t},bezier:function(t,n,a,r,s,u){const o=1-u,e=o*o,c=u*u,i=e*o,f=3*u*e,h=3*c*o,M=c*u;return t[0]=n[0]*i+a[0]*f+r[0]*h+s[0]*M,t[1]=n[1]*i+a[1]*f+r[1]*h+s[1]*M,t[2]=n[2]*i+a[2]*f+r[2]*h+s[2]*M,t},random:function(t,n){n=n||1;const a=2*i()*Math.PI,r=2*i()-1,s=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(a)*s,t[1]=Math.sin(a)*s,t[2]=r*n,t},transformMat4:E,transformMat3:O,transformQuat:j,rotateX:function(t,n,a,r){const s=[],u=[];return s[0]=n[0]-a[0],s[1]=n[1]-a[1],s[2]=n[2]-a[2],u[0]=s[0],u[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),u[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),t[0]=u[0]+a[0],t[1]=u[1]+a[1],t[2]=u[2]+a[2],t},rotateY:function(t,n,a,r){const s=[],u=[];return s[0]=n[0]-a[0],s[1]=n[1]-a[1],s[2]=n[2]-a[2],u[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),u[1]=s[1],u[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),t[0]=u[0]+a[0],t[1]=u[1]+a[1],t[2]=u[2]+a[2],t},rotateZ:G,angle:function(t,n){d(Q,t),d(X,n),L(Q,Q),L(X,X);const a=_(Q,X);return a>1?0:a<-1?Math.PI:Math.acos(a)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:Y,equals:Z,direction:k,sub:B,mul:C,div:H,dist:J,sqrDist:K,len:R,sqrLen:S});const U=new Float32Array(1),V=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},W=Number.isNaN||function(t){return t!=t};function $(t){--t;for(let n=1;n<32;n<<=1)t|=t>>n;return t+1}function tt(t,n,a){return Math.min(Math.max(t,n),a)}function nt(t,n){return 0===n?0:Math.round(t/n)*n}function at(t){return 0==(t&t-1)}function rt(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function st(t){return 10**Math.ceil(Math.LOG10E*Math.log(t))}const ut=Math.sign||function(t){return+(t>0)-+(t<0)||+t},ot=Math.log2||function(t){return Math.log(t)/Math.LN2};function et(t,n,a){return t+(n-t)*a}function ct(t){return t*Math.PI/180}function it(t){return 180*t/Math.PI}function ft(t,n=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),n)}function ht(t){return Math.acos(tt(t,-1,1))}function Mt(t){return Math.asin(tt(t,-1,1))}function lt(t,n,a=1e-6){if(W(t)||W(n))return!1;if(t===n)return!0;const r=Math.abs(t-n),s=Math.abs(t),u=Math.abs(n);if(0===t||0===n||s<1e-12&&u<1e-12){if(r>.01*a)return!1}else if(r/(s+u)>a)return!1;return!0}function mt(t,n,a=1e-6){if(W(t)||W(n))return!1;return(t>n?t-n:n-t)<=a}function dt(t){return bt(Math.max(-gt,Math.min(t,gt)))}function bt(t){return U[0]=t,U[0]}function xt(t,n,a){const r=tt((a-t)/(n-t),0,1);return r*r*(3-2*r)}function qt(t,n){const a=m(t);return b(n,a,Mt(t[2]/a),Math.atan2(t[1]/a,t[0]/a)),n}const gt=bt(34028234663852886e22);export{T as $,A,qt as B,j as C,k as D,c as E,R as F,$ as G,ot as H,V as I,mt as J,lt as K,dt as L,ut as M,gt as N,e as O,M as P,l as Q,i as R,et as S,r as T,Z as U,K as V,u as W,B as X,I as Y,o as Z,P as _,z as a,xt as a0,g as a1,ft as a2,y as a3,p as a4,S as a5,at as a6,rt as a7,st as a8,nt as a9,W as aa,G as ab,t as b,tt as c,_ as d,b as e,v as f,x as g,D as h,ht as i,d as j,ct as k,m as l,Mt as m,L as n,w as o,a as p,F as q,it as r,q as s,E as t,n as u,J as v,N as w,O as x,s as y,Y as z};
