/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{b as t}from"../core/lang.js";class n{constructor(t=1){this._seed=t}set seed(t){this._seed=null==t?Math.random()*n._m:t}getInt(){return this._seed=(n._a*this._seed+n._c)%n._m,this._seed}getFloat(){return this.getInt()/(n._m-1)}getIntRange(t,n){return Math.round(this.getFloatRange(t,n))}getFloatRange(t,e){const r=e-t;return t+this.getInt()/n._m*r}}function e(t){if(!t)return;const n=t.length;return n>0?t[n-1]:void 0}function r(t){return t}function o(t,n=r){return function(t,n=r){if(!t||0===t.length)return;let e=t[0],o=n(e);for(let r=1;r<t.length;++r){const s=t[r],u=Number(n(s));u>o&&(o=u,e=s)}return e}(t,(t=>-n(t)))}function s(t,n){return n?t.filter(((t,e,r)=>r.findIndex(n.bind(null,t))===e)):t.filter(((t,n,e)=>e.indexOf(t)===n))}function u(n,e,r){if(t(n)&&t(e))return!0;if(t(n)||t(e)||n.length!==e.length)return!1;if(r){for(let t=0;t<n.length;t++)if(!r(n[t],e[t]))return!1}else for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function f(t,n,e){let r,o;return e?(r=n.filter((n=>!t.some((t=>e(t,n))))),o=t.filter((t=>!n.some((n=>e(n,t)))))):(r=n.filter((n=>!t.includes(n))),o=t.filter((t=>!n.includes(t)))),{added:r,removed:o}}function i(t,n,e){return t&&n?e?t.filter((function(t){return n.findIndex((function(n){return e(t,n)}))>-1})):t.filter((function(t){return n.indexOf(t)>-1})):[]}function l(t){return t&&"number"==typeof t.length}function c(t,n){const e=t.length;if(0===e)return[];const r=[];for(let o=0;o<e;o+=n)r.push(t.slice(o,o+n));return r}n._m=2147483647,n._a=48271,n._c=0;const a=!!Array.prototype.fill;function h(t,n){if(a)return new Array(t).fill(n);const e=new Array(t);for(let r=0;r<t;r++)e[r]=n;return e}function d(t,n){void 0===n&&(n=t,t=0);const e=new Array(n-t);for(let r=t;r<n;r++)e[r-t]=r;return e}function g(t,n,e){const r=t.length;let o=0,s=r-1;for(;o<s;){const e=o+Math.floor((s-o)/2);n>t[e]?o=e+1:s=e}const u=t[o];return e?n>=t[r-1]?-1:u===n?o:o-1:u===n?o:-1}function m(t,n,e){if(!t||0===t.length)return;const r=t.length-1,o=t[0];if(n<=e(o))return o;const s=t[r];if(n>=e(s))return s;let u=0,f=0,i=r;for(;u<i;){f=u+Math.floor((i-u)/2);const o=t[f],s=e(o);if(s===n)return o;if(n<s){if(f>0){const r=t[f-1],u=e(r);if(n>u)return n-u>=s-n?o:r}i=f}else{if(f<r){const r=t[f+1],u=e(r);if(n<u)return n-s>=u-n?r:o}u=f+1}}return t[f]}function _(t){return t.reduce(((t,n)=>t.concat(n||[])),[])}class p{constructor(){this.last=0}}const M=new p;function x(t,n,e,r){r=r||M;const o=Math.max(0,r.last-10);for(let s=o;s<e;++s)if(t[s]===n)return r.last=s,s;const s=Math.min(o,e);for(let e=0;e<s;++e)if(t[e]===n)return r.last=e,e;return-1}function w(t,n,e,r){const o=null==e?t.length:e,s=x(t,n,o,r);if(-1!==s)return t[s]=t[o-1],null==e&&t.pop(),n}const y=new Set;function I(t,n,e=t.length,r=n.length,o,s){if(0===r||0===e)return e;y.clear();for(let t=0;t<r;++t)y.add(n[t]);o=o||M;const u=Math.max(0,o.last-10);for(let n=u;n<e;++n)if(y.has(t[n])&&(s&&s.push(t[n]),y.delete(t[n]),t[n]=t[e-1],--e,--n,0===y.size||0===e))return y.clear(),e;for(let n=0;n<u;++n)if(y.has(t[n])&&(s&&s.push(t[n]),y.delete(t[n]),t[n]=t[e-1],--e,--n,0===y.size||0===e))return y.clear(),e;return y.clear(),e}function b(t,n,e){const r=t.length;if(n>=r)return t.slice(0);const o=A(e),s=new Set,u=[];for(;u.length<n;){const n=Math.floor(o()*r);s.has(n)||(s.add(n),u.push(t[n]))}return u}function A(t){return t?(R.seed=t,()=>R.getFloat()):Math.random}function F(t,n){const e=A(n);for(let n=t.length-1;n>0;n--){const r=Math.floor(e()*(n+1)),o=t[n];t[n]=t[r],t[r]=o}return t}const R=new n;function v(t,n){const e=t.indexOf(n);return-1!==e?(t.splice(e,1),n):null}export{p as P,n as R,I as a,v as b,h as c,i as d,u as e,_ as f,f as g,g as h,x as i,d as j,m as k,e as l,o as m,l as n,F as o,b as p,w as r,c as s,s as u};
