/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{b as e,i as r,u as a}from"../core/lang.js";function t(e,r){if(!e.target)return null;switch(e.target.type){case"stage":return c(e.target.obj.metadata,r);case"external":switch(e.intersector){case"PointRenderer":return function(e,r){const a=e.metadata.layerUid;return null!=a?r.map.findLayerByUid(a):null}(e.target,r);case"I3S":case"IM":case"LodRenderer":case"OverlayRenderer":return c(e.target.metadata,r);case"TerrainRenderer":return r.map&&r.map.ground}}return null}function n(e,r){if(!e.target)return null;switch(e.target.type){case"stage":return i(e.target.obj.metadata,r);case"external":switch(e.intersector){case"PointRenderer":return e.target.metadata.createGraphic();case"I3S":case"IM":case"LodRenderer":case"OverlayRenderer":return i(e.target.metadata,r)}}return null}function i(t,n){if(e(t))return null;const i=c(t,n);if(e(i))return null;if(i===n.graphics)return r(n.graphicsView)?a(n.graphicsView.getGraphicFromGraphicUid(t.graphicUid)):null;const u=n.allLayerViews.find((e=>e.layer===i));return u?function(e,r){if(!e||e.suspended)return null;if("getGraphicFromIntersectorMetadata"in e&&r)return e.getGraphicFromIntersectorMetadata(r);if("getGraphicFromGraphicUid"in e&&null!=r.graphicUid)return e.getGraphicFromGraphicUid(r.graphicUid);return null}(u,t):null}function c(a,t){return e(a)||null==a.layerUid?null:r(t.graphicsView)&&a.layerUid===t.graphicsView.graphics3d.layer.id?t.graphics:t.map.findLayerByUid(a.layerUid)}export{t as a,n as t};
