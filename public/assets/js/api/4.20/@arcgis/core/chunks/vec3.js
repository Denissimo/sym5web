/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
import{L as e}from"./Logger.js";const t=e.getLogger("esri.views.3d.support.buffer.math");function f(e,f,r){if(e.count!==f.count)return void t.error("source and destination buffers need to have the same number of elements");const n=e.count,o=r[0],u=r[1],d=r[2],s=r[4],c=r[5],i=r[6],p=r[8],y=r[9],B=r[10],a=r[12],l=r[13],S=r[14],m=e.typedBuffer,h=e.typedBufferStride,v=f.typedBuffer,b=f.typedBufferStride;for(let e=0;e<n;e++){const t=e*h,f=e*b,r=v[f],n=v[f+1],x=v[f+2];m[t]=o*r+s*n+p*x+a,m[t+1]=u*r+c*n+y*x+l,m[t+2]=d*r+i*n+B*x+S}}function r(e,f,r){if(e.count!==f.count)return void t.error("source and destination buffers need to have the same number of elements");const n=e.count,o=r[0],u=r[1],d=r[2],s=r[3],c=r[4],i=r[5],p=r[6],y=r[7],B=r[8],a=e.typedBuffer,l=e.typedBufferStride,S=f.typedBuffer,m=f.typedBufferStride;for(let e=0;e<n;e++){const t=e*l,f=e*m,r=S[f],n=S[f+1],h=S[f+2];a[t]=o*r+s*n+p*h,a[t+1]=u*r+c*n+y*h,a[t+2]=d*r+i*n+B*h}}function n(e,t,f){const r=Math.min(e.count,t.count),n=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let e=0;e<r;e++){const t=e*o,r=e*d;n[t]=f*u[r],n[t+1]=f*u[r+1],n[t+2]=f*u[r+2]}}function o(e,t){const f=Math.min(e.count,t.count),r=e.typedBuffer,n=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride;for(let e=0;e<f;e++){const t=e*n,f=e*u,d=o[f],s=o[f+1],c=o[f+2],i=Math.sqrt(d*d+s*s+c*c);if(i>0){const e=1/i;r[t]=e*d,r[t+1]=e*s,r[t+2]=e*c}}}function u(e,t,f){const r=Math.min(e.count,t.count),n=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let e=0;e<r;e++){const t=e*o,r=e*d;n[t]=u[r]>>f,n[t+1]=u[r+1]>>f,n[t+2]=u[r+2]>>f}}function d(e,t,f){const r=e.typedBuffer,n=e.typedBufferStride,o=t.typedBuffer,u=t.typedBufferStride,d=f?f.count:t.count;let s=(f&&f.dstIndex?f.dstIndex:0)*n,c=(f&&f.srcIndex?f.srcIndex:0)*u;for(let e=0;e<d;++e)r[s]=o[c],r[s+1]=o[c+1],r[s+2]=o[c+2],s+=n,c+=u}function s(e,t,f,r,n){var o,u;const d=e.typedBuffer,s=e.typedBufferStride,c=null!=(o=null==n?void 0:n.count)?o:e.count;let i=(null!=(u=null==n?void 0:n.dstIndex)?u:0)*s;for(let e=0;e<c;++e)d[i]=t,d[i+1]=f,d[i+2]=r,i+=s}export{r as a,u as b,d as c,s as f,t as l,o as n,n as s,f as t};
