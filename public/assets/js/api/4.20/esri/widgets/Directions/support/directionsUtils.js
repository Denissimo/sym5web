// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["exports","../../../intl","../../../intl/date","../../../intl/number","../../../intl/substitute"],function(d,u,m,n,t){function h(a){return"esriNAUSeconds"===a||"esriNAUMinutes"===a||"esriNAUHours"===a||"esriNAUDays"===a}function p(a,b,c){const e=h(b),f=h(c);b=e?k(a,b):l(a,b);return e===f?f?q(b,c):r(b,c):a}function k(a,b,c){a=a||0;switch(b){case "esriNAUSeconds":a/=60**(c?-1:1);break;case "esriNAUHours":a*=60**(c?-1:1);break;case "esriNAUDays":a*=1440**(c?-1:1)}return a}function q(a,b){return k(a,
b,!0)}function l(a,b,c){a=a||0;switch((b||"").replace("esriNAU","esri")){case "esriInches":a*=.0254**(c?-1:1);break;case "esriFeet":a*=.3048**(c?-1:1);break;case "esriYards":a*=.9144**(c?-1:1);break;case "esriMiles":a*=1609.344**(c?-1:1);break;case "esriNauticalMiles":a*=1851.995396854**(c?-1:1);break;case "esriMillimeters":a/=1E3**(c?-1:1);break;case "esriCentimeters":a/=100**(c?-1:1);break;case "esriKilometers":a*=1E3**(c?-1:1);break;case "esriDecimeters":a/=10**(c?-1:1)}return a}function r(a,b){return l(a,
b,!0)}d.convertCostValue=p;d.formatDistance=function(a,b,c,e={}){const {fromUnits:f,toUnits:g}=e;c=p(c,f,g);if(!c)return"";b=(b=b.units[g])?b.abbr:g.replace("esri","").toLowerCase();return t.substitute(a.distanceTemplate,{distance:c,units:b},{format:{distance:{type:"number",intlOptions:{minimumFractionDigits:2,maximumFractionDigits:2}}}})};d.formatTime=function(a,b={}){({unit:b="minutes"}=b);b=b.toLowerCase();a="days"===b?24*a:"hours"===b?a:"minutes"===b?a/60:a/60/60;a=1>a?`${Math.floor(60*a)}m`:
`${Math.floor(a)}:${String(Math.floor(a%1*60)).padStart(2,"0")}h`;return a};d.fromMeters=r;d.fromMinutes=q;d.getAssociatedStop=function(a){return a._associatedStop};d.isFirstStop=function(a){a=a&&a.attributes||{};return null===(a.ArriveCurbApproach||null)&&null!==(a.DepartCurbApproach||null)};d.isLastStop=function(a){a=a&&a.attributes||{};return null!==(a.ArriveCurbApproach||null)&&null===(a.DepartCurbApproach||null)};d.isMiddleStop=function(a){a=a&&a.attributes||{};return null!==(a.ArriveCurbApproach||
null)&&null!==(a.DepartCurbApproach||null)};d.isStopLocated=function(a){a=a&&a.get("attributes.Status");return!a||6===a};d.isTimeUnits=h;d.isWaypoint=function(a){return a&&a.get("attributes.isWaypoint")};d.toMeters=l;d.toMinutes=k;d.toSpatiallyLocalTimeString=function(a,b,c,e){var f=new Date(c);const g=new Date(f.getTime()+6E4*f.getTimezoneOffset());f=m.formatDate(g,{hour:"2-digit",minute:"2-digit",hour12:!1});return b?(c=(c-b)/1E3/60/60,b=Math.floor(c),e=60*(c-b),c=n.formatNumber(b,{minimumIntegerDigits:2}),
e=n.formatNumber(e,{minimumIntegerDigits:2}),`${f} ${a.gmt}${0>b?"":"+"}${c}${e}`):e?m.formatDate(g,{hour:"numeric",minute:"numeric"}):f};d.useSpatiallyLocalTime=function(a,b){return!(!a._associatedStop||!b||-22091616E5===a.get("attributes.ETA"))};Object.defineProperty(d,"__esModule",{value:!0})});