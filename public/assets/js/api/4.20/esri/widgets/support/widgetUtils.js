// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["exports","../../core/ArrayPool","../../core/has","../../core/Logger"],function(r,P,t,H){function Q(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,
"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,
"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,
bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,
"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,
"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,
"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,
"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,
"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,
"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,
"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,
"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,
"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function M(a){a=a||{};var b={},c;for(c in a)b[c]=a[c];a=b;a.whiteList=a.whiteList||I.whiteList;a.onAttr=a.onAttr||I.onAttr;a.onIgnoreAttr=a.onIgnoreAttr||I.onIgnoreAttr;a.safeAttrValue=a.safeAttrValue||I.safeAttrValue;this.options=a}function R(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),
b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],
summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function S(a){return a.replace(la,"\x26lt;").replace(ma,"\x26gt;")}function T(a){return a.replace(na,
"\x26quot;")}function U(a){return a.replace(oa,'"')}function V(a){return a.replace(pa,function(b,c){return"x"===c[0]||"X"===c[0]?String.fromCharCode(parseInt(c.substr(1),16)):String.fromCharCode(parseInt(c,10))})}function W(a){return a.replace(qa,":").replace(ra," ")}function X(a){for(var b="",c=0,e=a.length;c<e;c++)b+=32>a.charCodeAt(c)?" ":a.charAt(c);return J.trim(b)}function Y(a){a=U(a);a=V(a);a=W(a);return a=X(a)}function Z(a){a=T(a);return a=S(a)}function sa(a,b){for(;b<a.length;b++){var c=
a[b];if(" "!==c)return"\x3d"===c?b:-1}}function ta(a,b){for(;0<b;b--){var c=a[b];if(" "!==c)return"\x3d"===c?b:-1}}function aa(a){var b='"'===a[0]&&'"'===a[a.length-1]||"'"===a[0]&&"'"===a[a.length-1]?!0:!1;return b?a.substr(1,a.length-2):a}function ua(a){var b=K.spaceIndex(a);if(-1===b)return{html:"",closing:"/"===a[a.length-2]};a=K.trim(a.slice(b+1,-1));(b="/"===a[a.length-1])&&(a=K.trim(a.slice(0,-1)));return{html:a,closing:b}}function ba(a){a=a||{};var b={},c;for(c in a)b[c]=a[c];a=b;a.stripIgnoreTag&&
(a.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),a.onIgnoreTag=u.onIgnoreTagStripAll);a.whiteList=a.whiteList||u.whiteList;a.onTag=a.onTag||u.onTag;a.onTagAttr=a.onTagAttr||u.onTagAttr;a.onIgnoreTag=a.onIgnoreTag||u.onIgnoreTag;a.onIgnoreTagAttr=a.onIgnoreTagAttr||u.onIgnoreTagAttr;a.safeAttrValue=a.safeAttrValue||u.safeAttrValue;a.escapeHtml=a.escapeHtml||u.escapeHtml;this.options=a;!1===a.css?this.cssFilter=!1:(a.css=a.css||
{},this.cssFilter=new va(a.css))}function ca(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-theme-name").replace(/\s|'|"/g,"")}function da(){return ca().startsWith("dark")}t=Object.prototype;var ea=Function.prototype.toString,wa=t.hasOwnProperty,xa=ea.call(Object),ya=t.toString,za=function(a,b){return function(c){return a(b(c))}}(Object.getPrototypeOf,Object),Aa=function(a){var b;if(!(b=!(a&&"object"==typeof a)||"[object Object]"!=ya.call(a))&&(b=!1,null!=a&&"function"!=
typeof a.toString))try{b=!!(a+"")}catch(c){}if(b)return!1;a=za(a);if(null===a)return!0;a=wa.call(a,"constructor")&&a.constructor;return"function"==typeof a&&a instanceof a&&ea.call(a)==xa},B={exports:{}},p={};t={exports:{}};var x={},Ba=/javascript\s*:/img;x.whiteList=Q();x.getDefaultWhiteList=Q;x.onAttr=function(a,b,c){};x.onIgnoreAttr=function(a,b,c){};x.safeAttrValue=function(a,b){return Ba.test(b)?"":b};var F={indexOf:function(a,b){var c;if(Array.prototype.indexOf)return a.indexOf(b);var e=0;for(c=
a.length;e<c;e++)if(a[e]===b)return e;return-1},forEach:function(a,b,c){var e;if(Array.prototype.forEach)return a.forEach(b,c);var d=0;for(e=a.length;d<e;d++)b.call(c,a[d],d,a)},trim:function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(a){return String.prototype.trimRight?a.trimRight():a.replace(/(\s*$)/g,"")}},I=x,Ca=function(a,b){function c(){if(!d){var l=F.trim(a.slice(f,k)),n=l.indexOf(":");if(-1!==n){var q=F.trim(l.slice(0,n));n=F.trim(l.slice(n+
1));q&&(l=b(f,g.length,q,n,l))&&(g+=l+"; ")}}f=k+1}a=F.trimRight(a);";"!==a[a.length-1]&&(a+=";");for(var e=a.length,d=!1,f=0,k=0,g="";k<e;k++){var h=a[k];if("/"===h&&"*"===a[k+1]){h=a.indexOf("*/",k+2);if(-1===h)break;k=h+1;f=k+1;d=!1}else"("===h?d=!0:")"===h?d=!1:";"===h?d||c():"\n"===h&&c()}return F.trim(g)};M.prototype.process=function(a){a=(a||"").toString();if(!a)return"";var b=this.options,c=b.whiteList,e=b.onAttr,d=b.onIgnoreAttr,f=b.safeAttrValue;return Ca(a,function(k,g,h,l,n){var q=c[h],
m=!1;!0===q?m=q:"function"===typeof q?m=q(l):q instanceof RegExp&&(m=q.test(l));!0!==m&&(m=!1);if(l=f(h,l)){k={position:g,sourcePosition:k,source:n,isWhite:m};if(m)return m=e(h,l,k),void 0===m||null===m?h+":"+l:m;m=d(h,l,k);if(void 0!==m&&null!==m)return m}})};(function(a,b){b=a.exports=function(e,d){return(new M(d)).process(e)};b.FilterCSS=M;for(var c in x)b[c]=x[c]})(t,t.exports);var v={indexOf:function(a,b){var c;if(Array.prototype.indexOf)return a.indexOf(b);var e=0;for(c=a.length;e<c;e++)if(a[e]===
b)return e;return-1},forEach:function(a,b,c){var e;if(Array.prototype.forEach)return a.forEach(b,c);var d=0;for(e=a.length;d<e;d++)b.call(c,a[d],d,a)},trim:function(a){return String.prototype.trim?a.trim():a.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(a){return(a=/\s|\n|\t/.exec(a))?a.index:-1}},N=t.exports.getDefaultWhiteList,J=v,fa=new t.exports.FilterCSS,la=/</g,ma=/>/g,na=/"/g,oa=/&quot;/g,pa=/&#([a-zA-Z0-9]*);?/gim,qa=/&colon;?/gim,ra=/&newline;?/gim,L=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,
ha=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,ia=/u\s*r\s*l\s*\(.*/gi,Da=/\x3c!--[\s\S]*?--\x3e/g;p.whiteList=R();p.getDefaultWhiteList=R;p.onTag=function(a,b,c){};p.onIgnoreTag=function(a,b,c){};p.onTagAttr=function(a,b,c){};p.onIgnoreTagAttr=function(a,b,c){};p.safeAttrValue=function(a,b,c,e){c=Y(c);if("href"===b||"src"===b){c=J.trim(c);if("#"===c)return"#";if("http://"!==c.substr(0,7)&&"https://"!==c.substr(0,8)&&"mailto:"!==c.substr(0,7)&&"tel:"!==c.substr(0,4)&&"data:image/"!==c.substr(0,
11)&&"ftp://"!==c.substr(0,6)&&"./"!==c.substr(0,2)&&"../"!==c.substr(0,3)&&"#"!==c[0]&&"/"!==c[0])return""}else if("background"===b){if(L.lastIndex=0,L.test(c))return""}else if("style"===b){ha.lastIndex=0;if(ha.test(c))return"";ia.lastIndex=0;if(ia.test(c)&&(L.lastIndex=0,L.test(c)))return"";!1!==e&&(e=e||fa,c=e.process(c))}return c=Z(c)};p.escapeHtml=S;p.escapeQuote=T;p.unescapeQuote=U;p.escapeHtmlEntities=V;p.escapeDangerHtml5Entities=W;p.clearNonPrintableCharacter=X;p.friendlyAttrValue=Y;p.escapeAttrValue=
Z;p.onIgnoreTagStripAll=function(){return""};p.StripTagBody=function(a,b){"function"!==typeof b&&(b=function(){});var c=!Array.isArray(a),e=[],d=!1;return{onIgnoreTag:function(f,k,g){var h=c?!0:-1!==J.indexOf(a,f);if(h){if(g.isClosing)return e.push([!1!==d?d:g.position,g.position+10]),d=!1,"[/removed]";d||(d=g.position);return"[removed]"}return b(f,k,g)},remove:function(f){var k="",g=0;J.forEach(e,function(h){k+=f.slice(g,h[0]);g=h[1]});return k+=f.slice(g)}}};p.stripCommentTag=function(a){return a.replace(Da,
"")};p.stripBlankChar=function(a){a=a.split("");a=a.filter(function(b){b=b.charCodeAt(0);return 127===b?!1:31>=b?10===b||13===b?!0:!1:!0});return a.join("")};p.cssFilter=fa;p.getDefaultCSSWhiteList=N;var C={},Ea=/[^a-zA-Z0-9_:\.\-]/gim;C.parseTag=function(a,b,c){var e="",d=0,f=!1,k=!1,g=0,h=a.length,l="",n="";g=0;a:for(;g<h;g++)if(n=a.charAt(g),!1===f)"\x3c"===n&&(f=g);else if(!1===k)if("\x3c"===n)e+=c(a.slice(d,g)),d=f=g;else if("\x3e"===n)e+=c(a.slice(d,f)),d=n=a.slice(f,g+1),l=v.spaceIndex(d),
d=-1===l?d.slice(1,-1):d.slice(1,l+1),d=v.trim(d).toLowerCase(),"/"===d.slice(0,1)&&(d=d.slice(1)),"/"===d.slice(-1)&&(d=d.slice(0,-1)),l=d,e+=b(f,e.length,l,n,"\x3c/"===n.slice(0,2)),d=g+1,f=!1;else{if('"'===n||"'"===n){l=1;for(var q=a.charAt(g-l);""===q.trim()||"\x3d"===q;){if("\x3d"===q){k=n;continue a}q=a.charAt(g-++l)}}}else n===k&&(k=!1);d<a.length&&(e+=c(a.substr(d)));return e};C.parseAttr=function(a,b){function c(l,n){l=v.trim(l);l=l.replace(Ea,"").toLowerCase();1>l.length||(l=b(l,n||""))&&
d.push(l)}for(var e=0,d=[],f=!1,k=a.length,g=0;g<k;g++){var h=a.charAt(g);if(!1===f&&"\x3d"===h)f=a.slice(e,g),e=g+1;else{if(!1!==f&&g===e&&('"'===h||"'"===h)&&"\x3d"===a.charAt(g-1))if(h=a.indexOf(h,g+1),-1===h)break;else{e=v.trim(a.slice(e+1,h));c(f,e);f=!1;g=h;e=g+1;continue}/\s|\n|\t/.test(h)&&(a=a.replace(/\s|\n|\t/g," "),!1===f?(h=sa(a,g),-1===h?(e=v.trim(a.slice(e,g)),c(e),f=!1,e=g+1):g=h-1):(h=ta(a,g-1),-1===h&&(e=v.trim(a.slice(e,g)),e=aa(e),c(f,e),f=!1,e=g+1)))}}e<a.length&&(!1===f?c(a.slice(e)):
c(f,aa(v.trim(a.slice(e)))));return v.trim(d.join(" "))};var va=t.exports.FilterCSS,u=p,Fa=C.parseTag,Ga=C.parseAttr,K=v;ba.prototype.process=function(a){a=(a||"").toString();if(!a)return"";var b=this.options,c=b.whiteList,e=b.onTag,d=b.onIgnoreTag,f=b.onTagAttr,k=b.onIgnoreTagAttr,g=b.safeAttrValue,h=b.escapeHtml,l=this.cssFilter;b.stripBlankChar&&(a=u.stripBlankChar(a));b.allowCommentTag||(a=u.stripCommentTag(a));var n=!1;b.stripIgnoreTagBody&&(n=u.StripTagBody(b.stripIgnoreTagBody,d),d=n.onIgnoreTag);
a=Fa(a,function(q,m,w,y,Ha){q={sourcePosition:q,position:m,isClosing:Ha,isWhite:c.hasOwnProperty(w)};m=e(w,y,q);if(void 0!==m&&null!==m)return m;if(q.isWhite){if(q.isClosing)return"\x3c/"+w+"\x3e";q=ua(y);var Ia=c[w];m=Ga(q.html,function(D,G){var O=-1!==K.indexOf(Ia,D),A=f(w,D,G,O);if(void 0!==A&&null!==A)return A;if(O)return(G=g(w,D,G,l))?D+'\x3d"'+G+'"':D;A=k(w,D,G,O);if(void 0!==A&&null!==A)return A});y="\x3c"+w;m&&(y+=" "+m);q.closing&&(y+=" /");return y+"\x3e"}m=d(w,y,q);return void 0!==m&&null!==
m?m:h(y)},h);n&&(a=n.remove(a));return a};(function(a,b){function c(f,k){return(new e(k)).process(f)}var e=ba;b=a.exports=c;b.filterXSS=c;b.FilterXSS=e;for(var d in p)b[d]=p[d];for(d in C)b[d]=C[d];"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=a.exports)})(B,B.exports);t=function(){function a(b,c){var e=this;this.arcgisWhiteList={a:["href","target","style"],abbr:["title"],img:"src width height border alt style".split(" "),
video:"autoplay controls height loop muted poster preload width".split(" "),audio:["autoplay","controls","loop","muted","preload"],source:["media","src","type"],span:["style"],table:"width height cellpadding cellspacing border style".split(" "),div:["style","align"],font:["size","color","style"],tr:["height","valign","align","style"],td:"height width valign align colspan rowspan nowrap style".split(" "),th:"height width valign align colspan rowspan nowrap style".split(" "),p:["style"],b:[],strong:[],
i:[],em:[],u:[],br:[],li:[],ul:[],ol:[],hr:[],tbody:[]};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(f,k,g,h){return"a"===f&&"href"===k||("img"===f||"source"===f)&&"src"===k?e.sanitizeUrl(g):
B.exports.safeAttrValue(f,k,g,h)}};if(b&&!c)var d=b;else b&&c?(d=Object.create(this.arcgisFilterOptions),Object.keys(b).forEach(function(f){"whiteList"===f?d.whiteList=e._extendObjectOfArrays([e.arcgisWhiteList,b.whiteList||{}]):d[f]=b[f]})):(d=Object.create(this.arcgisFilterOptions),d.whiteList=this.arcgisWhiteList);this.xssFilterOptions=d;this._xssFilter=new B.exports.FilterXSS(d)}a.prototype.sanitize=function(b,c){void 0===c&&(c={});switch(typeof b){case "number":return isNaN(b)||!isFinite(b)?
null:b;case "boolean":return b;case "string":return this._xssFilter.process(b);case "object":return this._iterateOverObject(b,c);default:if(!c.allowUndefined||"undefined"!==typeof b)return null}};a.prototype.sanitizeUrl=function(b){var c=this._trim(b.substring(0,b.indexOf(":")));return"/"===b||"#"===b||"#"===b[0]||-1<this.allowedProtocols.indexOf(c.toLowerCase())?B.exports.escapeAttrValue(b):""};a.prototype.sanitizeHTMLAttribute=function(b,c,e,d){return"function"===typeof this.xssFilterOptions.safeAttrValue?
this.xssFilterOptions.safeAttrValue(b,c,e,d):B.exports.safeAttrValue(b,c,e,d)};a.prototype.validate=function(b,c){void 0===c&&(c={});c=this.sanitize(b,c);return{isValid:b===c,sanitized:c}};a.prototype._extendObjectOfArrays=function(b){var c={};b.forEach(function(e){Object.keys(e).forEach(function(d){Array.isArray(e[d])&&Array.isArray(c[d])?c[d]=c[d].concat(e[d]):c[d]=e[d]})});return c};a.prototype._iterateOverObject=function(b,c){var e=this;void 0===c&&(c={});try{var d=!1,f=void 0;if(Array.isArray(b))f=
b.reduce(function(k,g){var h=e.validate(g,c);if(h.isValid)return k.concat([g]);d=!0;return k.concat([h.sanitized])},[]);else if(Aa(b))f=Object.keys(b).reduce(function(k,g){var h=b[g],l=e.validate(h,c);l.isValid?k[g]=h:(d=!0,k[g]=l.sanitized);return k},{});else return c.allowUndefined&&"undefined"===typeof b?void 0:null;return d?f:b}catch(k){return null}};a.prototype._trim=function(b){return String.prototype.trim?b.trim():b.replace(/(^\s*)|(\s*$)/g,"")};return a}();var z,E,ja=function(a){if("WebkitTransition"in
a.style)z="webkitTransitionEnd",E="webkitAnimationEnd";else if("transition"in a.style)z="transitionend",E="animationend";else throw Error("Your browser is not supported!");},Ja=function(a,b){void 0===b&&(b=a+"-active");return function(c){z||ja(c);var e=!1,d=function(f){e||(e=!0,c.removeEventListener(z,d),c.removeEventListener(E,d),c.classList.remove(a),c.classList.remove(b))};c.classList.add(a);c.addEventListener(z,d);c.addEventListener(E,d);requestAnimationFrame(function(){c.classList.add(b)})}},
Ka=function(a,b){void 0===b&&(b=a+"-active");return function(c,e){z||ja(c);var d=!1,f=function(k){d||(d=!0,c.removeEventListener(z,f),c.removeEventListener(E,f),e())};c.classList.add(a);c.addEventListener(z,f);c.addEventListener(E,f);requestAnimationFrame(function(){c.classList.add(b)})}};H.getLogger("esri.widgets.support.widgetUtils");H="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");
N=H.reduce((a,b)=>{a[b]=[];return a},{});const ka="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");t=new t({whiteList:N,onTagAttr:(a,b,c)=>{a=`${b}="${c}"`;if(ka.includes(b))return a},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);
r.additionalAllowedTags=H;r.classes=function(a){const b=P.acquire();for(var c=0;c<arguments.length;c++){const e=arguments[c],d=typeof e;if("string"===d)b.push(e);else if(Array.isArray(e))b.push.apply(b,e);else if("object"===d)for(const f in e)e[f]&&b.push(f)}c=b.join(" ");P.release(b);return c};r.cssTransition=function(a,b){return("enter"===a?Ja:Ka)(b)};r.discardNode=function(a){this[a.getAttribute("data-node-ref")]=null};r.getCalciteThemeClass=function(){return`calcite-theme-${da()?"dark":"light"}`};
r.getThemeName=ca;r.isActivationKey=function(a){return"Enter"===a||" "===a};r.isDarkTheme=da;r.isRTL=function(){return"rtl"===document.dir};r.keepMenuItemWithinView=function(a,b){const c=a.getBoundingClientRect();b=b.getBoundingClientRect();const e=c.top,d=b.top;(c.top+c.height>b.top+b.height||e<d)&&a.scrollIntoView({block:"end"})};r.renderingSanitizer=t;r.safeAttrs=ka;r.storeNode=function(a){this[a.getAttribute("data-node-ref")]=a};Object.defineProperty(r,"__esModule",{value:!0})});