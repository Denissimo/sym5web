// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
(function(a,m){var v=function(){return"undefined"!==typeof t&&"function"!==typeof t?t:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),r=function(){},d=function(N){for(var Z in N)return 0;return 1},c={}.toString,b=function(N){return"[object Function]"==c.call(N)},f=function(N){return"[object String]"==c.call(N)},e=function(N){return"[object Array]"==c.call(N)},h=function(N,Z){if(N)for(var ha=0;ha<N.length;)Z(N[ha++])},g=function(N,Z){for(var ha in Z)N[ha]=Z[ha];return N},
k=function(N,Z){return g(Error(N),{src:"dojoLoader",info:Z})},n=1,l=function(){return"_"+n++},p=function(N,Z,ha){return sa(N,Z,ha,0,p)},t=v,u=t.document,A=u&&u.createElement("DiV"),z=p.has=function(N){return b(w[N])?w[N]=w[N](t,u,A):w[N]},w=z.cache=m.hasCache;b(a)&&(a=a(v));z.add=function(N,Z,ha,ia){(void 0===w[N]||ia)&&(w[N]=Z);return ha&&z(N)};z.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);z("host-webworker")&&(g(m.hasCache,{"host-browser":0,dom:0,
"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),m.loaderPatch={injectUrl:function(N,Z){try{importScripts(N),Z()}catch(ha){console.info("failed to load resource ("+N+")"),console.error(ha)}}});for(var C in a.has)z.add(C,a.has[C],0,1);p.async=1;var y=z("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");p.eval=function(N,Z){return y(N+"\r\n//# sourceURL\x3d"+Z)};var x={},E=p.signal=function(N,Z){N=x[N];h(N&&N.slice(0),
function(ha){ha.apply(null,e(Z)?Z:[Z])})};C=p.on=function(N,Z){var ha=x[N]||(x[N]=[]);ha.push(Z);return{remove:function(){for(var ia=0;ia<ha.length;ia++)if(ha[ia]===Z){ha.splice(ia,1);break}}}};var D=[],q={},B=[],G={},F=p.map={},H=[],J={},Q="",T={},R={};v={};var V=0;if(!z("foreign-loader"))var Y=function(N,Z){Z=!1!==Z;var ha,ia;for(ha in R){var oa=R[ha];if(ia=ha.match(/^url:(.+)/))T["url:"+za(ia[1],N)]=oa;else if("*now"==ha)var ma=oa;else"*noref"!=ha&&(ia=X(ha,N,!0),T[ia.mid]=T["url:"+ia.url]=oa)}ma&&
ma(wa(N));Z&&(R={})};var da=function(N){return N.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(Z){return"\\"+Z})},na=function(N,Z){Z.splice(0,Z.length);for(var ha in N)Z.push([ha,N[ha],new RegExp("^"+da(ha)+"(/|$)"),ha.length]);Z.sort(function(ia,oa){return oa[3]-ia[3]});return Z},ta=function(N,Z){h(N,function(ha){Z.push([f(ha[0])?new RegExp("^"+da(ha[0])+"$"):ha[0],ha[1]])})},ka=function(N){var Z=N.name;Z||(Z=N,N={name:Z});N=g({main:"main"},N);N.location=N.location?N.location:Z;N.packageMap&&(F[Z]=
N.packageMap);N.main.indexOf("./")||(N.main=N.main.substring(2));G[Z]=N},va=[],pa=function(N,Z,ha){for(var ia in N){"waitSeconds"==ia&&(p.waitms=1E3*(N[ia]||0));"cacheBust"==ia&&(Q=N[ia]?f(N[ia])?N[ia]:(new Date).getTime()+"":"");if("baseUrl"==ia||"combo"==ia)p[ia]=N[ia];N[ia]!==w&&(p.rawConfig[ia]=N[ia],"has"!=ia&&z.add("config-"+ia,N[ia],0,Z))}p.baseUrl||(p.baseUrl="./");/\/$/.test(p.baseUrl)||(p.baseUrl+="/");for(ia in N.has)z.add(ia,N.has[ia],0,Z);h(N.packages,ka);for(var oa in N.packagePaths)h(N.packagePaths[oa],
function(ma){var Aa=oa+"/"+ma;f(ma)&&(ma={name:ma});ma.location=Aa;ka(ma)});na(g(F,N.map),H);h(H,function(ma){ma[1]=na(ma[1],[]);"*"==ma[0]&&(H.star=ma)});na(g(q,N.paths),B);ta(N.aliases,D);if(!z("foreign-loader")){if(Z)va.push({config:N.config});else for(ia in N.config)Z=xa(ia,ha),Z.config=g(Z.config||{},N.config[ia]);N.cache&&(Y(),R=N.cache,Y(0,!!N.cache["*noref"]))}E("config",[N,p.rawConfig])};if(z("dojo-cdn")){var O=u.getElementsByTagName("script");var S=0;for(var U,ca,ba,ja;S<O.length;)if(U=
O[S++],(ba=U.getAttribute("src"))&&(ja=ba.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ca=ja[3]||"",m.baseUrl=m.baseUrl||ca,V=U),ba=U.getAttribute("data-dojo-config")||U.getAttribute("djConfig"))v=p.eval("({ "+ba+" })","data-dojo-config"),V=U}p.rawConfig={};pa(m,1);z("dojo-cdn")&&((G.dojo.location=ca)&&(ca+="/"),G.dijit.location=ca+"../dijit/",G.dojox.location=ca+"../dojox/");pa(a,1);pa(v,1);if(!z("foreign-loader"))var qa=function(N){La(function(){h(N.deps,Va)})},sa=function(N,Z,ha,ia,oa){var ma;if(f(N)){if((ma=
xa(N,ia,!0))&&ma.executed)return ma.result;throw k("undefinedModule",N);}e(N)||(pa(N,0,ia),N=Z,Z=ha);if(e(N))if(N.length){ha="require*"+l();for(var Aa,Ea=[],Fa=0;Fa<N.length;)Aa=N[Fa++],Ea.push(xa(Aa,ia));ma=g(L("",ha,0,""),{injected:2,deps:Ea,def:Z||r,require:ia?ia.require:p,gc:1});J[ma.mid]=ma;qa(ma);var Ma=Ga&&!0;La(function(){Na(ma,Ma)});ma.executed||ra.push(ma);Oa()}else Z&&Z();return oa},wa=function(N){if(!N)return p;var Z=N.require;Z||(Z=function(ha,ia,oa){return sa(ha,ia,oa,N,Z)},N.require=
g(Z,p),Z.module=N,Z.toUrl=function(ha){return za(ha,N)},Z.toAbsMid=function(ha){return ua(ha,N)});return Z},ra=[],ya=[],K={},W=function(N){N.injected=1;K[N.mid]=1;N.url&&(K[N.url]=N.pack||1);ab()},aa=function(N){N.injected=2;delete K[N.mid];N.url&&delete K[N.url];d(K)&&bb()},ea=p.idle=function(){return!ya.length&&d(K)&&!ra.length&&!Ga};var M=function(N,Z){if(Z)for(var ha=0;ha<Z.length;ha++)if(Z[ha][2].test(N))return Z[ha];return 0},I=function(N){var Z=[];for(N=N.replace(/\\/g,"/").split("/");N.length;){var ha=
N.shift();if(".."==ha&&Z.length&&".."!=ia){Z.pop();var ia=Z[Z.length-1]}else"."!=ha&&Z.push(ia=ha)}return Z.join("/")},L=function(N,Z,ha,ia){return{pid:N,mid:Z,pack:ha,url:ia,executed:0,def:0}},P=function(N,Z,ha,ia,oa,ma,Aa,Ea,Fa,Ma){var Da,Wa,Ba;var Pa=/^\./.test(N);if(/(^\/)|(:)|(\.js$)/.test(N)||Pa&&!Z)return L(0,N,0,N);N=I(Pa?Z.mid+"/../"+N:N);if(/^\./.test(N))throw k("irrationalPath",N);Ma||Pa||!ma.star||(Ba=M(N,ma.star[1]));!Ba&&Z&&(Ba=(Ba=M(Z.mid,ma))&&M(N,Ba[1]));Ba&&(N=Ba[1]+N.substring(Ba[3]));
Z=(ja=N.match(/^([^\/]+)(\/(.+))?$/))?ja[1]:"";(Da=ha[Z])?N=Z+"/"+(Wa=ja[3]||Da.main):Z="";var Qa=0;h(Ea,function(Ha){var Xa=N.match(Ha[0]);Xa&&0<Xa.length&&(Qa=b(Ha[1])?N.replace(Ha[0],Ha[1]):Ha[1])});if(Qa)return P(Qa,0,ha,ia,oa,ma,Aa,Ea,Fa);if(ha=ia[N])return Fa?L(ha.pid,ha.mid,ha.pack,ha.url):ia[N];ia=(Ba=M(N,Aa))?Ba[1]+N.substring(Ba[3]):Z?("/"===Da.location.slice(-1)?Da.location.slice(0,-1):Da.location)+"/"+Wa:N;/(^\/)|(:)/.test(ia)||(ia=oa+ia);return L(Z,N,Da,I(ia+".js"))},X=function(N,Z,ha){return P(N,
Z,G,J,p.baseUrl,H,B,D,void 0,ha)};if(!z("foreign-loader"))var fa=function(N,Z,ha){return N.normalize?N.normalize(Z,function(ia){return ua(ia,ha)}):ua(Z,ha)},la=0,xa=function(N,Z,ha){var ia;if(ia=N.match(/^(.+?)!(.*)$/)){var oa=xa(ia[1],Z,ha);5!==oa.executed||oa.load||Ra(oa);oa.load?(ia=fa(oa,ia[2],Z),N=oa.mid+"!"+(oa.dynamic?++la+"!":"")+ia):(ia=ia[2],N=oa.mid+"!"+ ++la+"!waitingForPlugin");N={plugin:oa,mid:N,req:wa(Z),prid:ia}}else N=X(N,Z);return J[N.mid]||!ha&&(J[N.mid]=N)};var ua=p.toAbsMid=function(N,
Z){return X(N,Z).mid},za=p.toUrl=function(N,Z){Z=X(N+"/x",Z);var ha=Z.url;return Ya(0===Z.pid?N:ha.substring(0,ha.length-5))};if(!z("foreign-loader")){var Ca={injected:2,executed:5,def:3,result:3};ca=function(N){return J[N]=g({mid:N},Ca)};var Ia=ca("require"),cb=ca("exports"),db=ca("module"),Ja={},Sa=0,Ra=function(N){var Z=N.result;N.dynamic=Z.dynamic;N.normalize=Z.normalize;N.load=Z.load;return N},eb=function(N){var Z={};h(N.loadQ,function(oa){var ma=fa(N,oa.prid,oa.req.module),Aa=N.dynamic?oa.mid.replace(/waitingForPlugin$/,
ma):N.mid+"!"+ma;ma=g(g({},oa),{mid:Aa,prid:ma,injected:0});J[Aa]&&J[Aa].injected||Za(J[Aa]=ma);Z[oa.mid]=J[Aa];aa(oa);delete J[oa.mid]});N.loadQ=0;var ha=function(oa){for(var ma=oa.deps||[],Aa=0;Aa<ma.length;Aa++)(oa=Z[ma[Aa].mid])&&(ma[Aa]=oa)},ia;for(ia in J)ha(J[ia]);h(ra,ha)},Ta=function(N){p.trace("loader-finish-exec",[N.mid]);N.executed=5;N.defOrder=Sa++;N.loadQ&&(Ra(N),eb(N));for(S=0;S<ra.length;)ra[S]===N?ra.splice(S,1):S++;/^require\*/.test(N.mid)&&delete J[N.mid]},fb=[],Na=function(N,Z){if(4===
N.executed)return p.trace("loader-circular-dependency",[fb.concat(N.mid).join("-\x3e")]),!N.def||Z?Ja:N.cjs&&N.cjs.exports;if(!N.executed){if(!N.def)return Ja;var ha=N.mid,ia=N.deps||[],oa,ma=[],Aa=0;for(N.executed=4;oa=ia[Aa++];){oa=oa===Ia?wa(N):oa===cb?N.cjs.exports:oa===db?N.cjs:Na(oa,Z);if(oa===Ja)return N.executed=0,p.trace("loader-exec-module",["abort",ha]),Ja;ma.push(oa)}p.trace("loader-run-factory",[N.mid]);Z=N.def;ma=b(Z)?Z.apply(null,ma):Z;N.result=void 0===ma&&N.cjs?N.cjs.exports:ma;Ta(N)}return N.result},
Ga=0,La=function(N){try{Ga++,N()}catch(Z){throw Z;}finally{Ga--}ea()&&E("idle",[])},Oa=function(){Ga||La(function(){for(var N,Z,ha=0;ha<ra.length;)N=Sa,Z=ra[ha],Na(Z),N!=Sa?ha=0:ha++})}}var Ya="function"==typeof a.fixupUrl?a.fixupUrl:function(N){N+="";return N+(Q?(/\?/.test(N)?"\x26":"?")+Q:"")};void 0===z("dojo-loader-eval-hint-url")&&z.add("dojo-loader-eval-hint-url",1);var Za=function(N){var Z=N.plugin;5!==Z.executed||Z.load||Ra(Z);var ha=function(ia){N.result=ia;aa(N);Ta(N);Oa()};Z.load?Z.load(N.prid,
N.req,ha):Z.loadQ?Z.loadQ.push(N):(Z.loadQ=[N],ra.unshift(Z),Va(Z))},Ka=0,gb=function(N,Z){z("config-stripStrict")&&(N=N.replace(/(["'])use strict\1/g,""));N===Ka?Ka.call(null):p.eval(N,z("dojo-loader-eval-hint-url")?Z.url:Z.mid)},Va=function(N){var Z=N.mid,ha=N.url;if(!(N.executed||N.injected||K[Z]||N.url&&(N.pack&&K[N.url]===N.pack||1==K[N.url])))if(W(N),N.plugin)Za(N);else{var ia=function(){hb(N);if(2!==N.injected){if(z("dojo-enforceDefine")){E("error",k("noDefine",N));return}aa(N);g(N,Ca);p.trace("loader-define-nonmodule",
[N.url])}Oa()};(Ka=T[Z]||T["url:"+N.url])?(p.trace("loader-inject",["cache",N.mid,ha]),gb(Ka,N),ia()):(p.trace("loader-inject",["script",N.mid,ha]),p.injectUrl(Ya(ha),ia,N))}},$a=function(N,Z,ha){p.trace("loader-define-module",[N.mid,Z]);if(2===N.injected)return E("error",k("multipleDefine",N)),N;g(N,{deps:Z,def:ha,cjs:{id:N.mid,uri:N.url,exports:N.result={},setExports:function(oa){N.cjs.exports=oa},config:function(){return N.config}}});for(var ia=0;Z[ia];ia++)Z[ia]=xa(Z[ia],N);aa(N);b(ha)||Z.length||
(N.result=ha,Ta(N));return N},hb=function(N,Z){for(var ha=[],ia,oa;ya.length;)oa=ya.shift(),Z&&(oa[0]=Z.shift()),ia=oa[0]&&xa(oa[0])||N,ha.push([ia,oa[1],oa[2]]);Y(N);h(ha,function(ma){qa($a.apply(null,ma))})},bb=r,ab=r;z("dom");if(z("dom")){var Ua=function(N,Z,ha,ia){N.addEventListener(Z,ia,!1);return function(){N.removeEventListener(Z,ia,!1)}},ib=Ua(window,"load","onload",function(){p.pageLoaded=1;try{"complete"!=u.readyState&&(u.readyState="complete")}catch(N){}ib()});O=u.getElementsByTagName("script");
for(S=0;!V;)/^dojo/.test((U=O[S++])&&U.type)||(V=U);p.injectUrl=function(N,Z,ha){ha=ha.node=u.createElement("script");var ia=Ua(ha,"load","onreadystatechange",function(ma){ma=ma||window.event;var Aa=ma.target||ma.srcElement;if("load"===ma.type||/complete|loaded/.test(Aa.readyState))ia(),oa(),Z&&Z()}),oa=Ua(ha,"error","onerror",function(ma){ia();oa();E("error",k("scriptError: "+N,[N,ma]))});ha.type="text/javascript";ha.charset="utf-8";ha.src=N;V.parentNode.insertBefore(ha,V);return ha}}p.log=r;p.trace=
r;z("foreign-loader")?U=r:(U=function(N,Z,ha){var ia=arguments.length,oa=["require","exports","module"],ma=[0,N,Z];1==ia?ma=[0,b(N)?oa:[],N]:2==ia&&f(N)?ma=[N,b(Z)?oa:[],Z]:3==ia&&(ma=[N,Z,ha]);p.trace("loader-define",ma.slice(0,2));(ia=ma[0]&&xa(ma[0]))&&!K[ia.mid]?qa($a(ia,ma[1],ma[2])):ya.push(ma)},U.amd={vendor:"dojotoolkit.org"});g(g(p,m.loaderPatch),a.loaderPatch);C("error",function(N){try{if(console.error(N),N instanceof Error){for(var Z in N)console.log(Z+":",N[Z]);console.log(".")}}catch(ha){}});
g(p,{uid:l,cache:T,packs:G});t.define||(t.define=U,t.require=p,z("foreign-loader")||(h(va,function(N){pa(N)}),U=v.deps||a.deps||m.deps,a=v.callback||a.callback||m.callback,p.boot=U||a?[U||[],a]:0))})(function(a){return a.dojoConfig||a.djConfig||a.require||{}},{async:1,baseUrl:"/assets/js/api/4.20/esri/core/workers/init.js",hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",
name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../tslib",main:"tslib",name:"tslib"}]});
require({cache:{"esri/config":function(){define(["module","./core/global","./core/has","./core/object"],function(a,m,v,r){v={apiKey:void 0,applicationUrl:m.location&&m.location.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",
workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};m.esriConfig&&(r.deepMerge(v,m.esriConfig,!0),delete v.has);v.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,
v.assetsPath=a.slice(0,a.indexOf("esri/")));v.baseUrl&&console.warn("[esri.config]","baseUrl has been replaced by assetsPath");Object.defineProperty(v,"baseUrl",{set(){console.warn("[esri.config]","baseUrl has been replaced by assetsPath")}});v.request.corsEnabledServers=[];v.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return v})},"esri/core/global":function(){define(function(){return function(){if("undefined"!==
typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/core/has":function(){define(["./global"],function(a){function m(f){return"function"===typeof d[f]?d[f]=d[f](a):d[f]}var v,r;let d;if(null!=(v=a.dojoConfig)&&v.has||null!=(r=a.esriConfig)&&r.has){var c,b;d={...null==(c=a.dojoConfig)?void 0:c.has,...null==(b=a.esriConfig)?void 0:b.has}}else d={};m.add=(f,e,h,g)=>{if(g||"undefined"===
typeof d[f])d[f]=e;return h&&m(f)};m.cache=d;m.add("esri-deprecation-warnings",!0);(()=>{m.add("host-webworker","undefined"!==typeof a.WorkerGlobalScope&&self instanceof a.WorkerGlobalScope);var f="undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document;m.add("host-browser",f);m.add("dom",f);if(m("host-browser")){var e=navigator;f=e.userAgent;e=e.appVersion;const g=parseFloat(e);m.add("edge",parseFloat(f.split("Edge/")[1])||
void 0);m.add("webkit",!m("edge")&&parseFloat(f.split("WebKit/")[1])||void 0);m.add("chrome",!m("edge")&&parseFloat(f.split("Chrome/")[1])||void 0);m.add("safari",!e.includes("Safari")||m("chrome")||m("edge")?void 0:parseFloat(e.split("Version/")[1]));m.add("mac",e.includes("Macintosh"));if(f.match(/(iPhone|iPod|iPad)/)){const k=RegExp.$1.replace(/P/,"p");var h=f.match(/OS ([\d_]+)/)?RegExp.$1:"1";h=parseFloat(h.replace(/_/,".").replace(/_/g,""));m.add(k,h);m.add("ios",h)}m.add("trident",parseFloat(e.split("Trident/")[1])||
void 0);m("webkit")||(!f.includes("Gecko")||m("trident")||m("edge")||m.add("mozilla",g),m("mozilla")&&m.add("ff",parseFloat(f.split("Firefox/")[1]||f.split("Minefield/")[1])||void 0))}})();(()=>{if(a.navigator){var f=navigator.userAgent;const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(f);f=/iPhone/i.test(f);e&&m.add("esri-mobile",e);f&&m.add("esri-iPhone",f);m.add("esri-geolocation",!!navigator.geolocation)}m.add("esri-canvas-svg-support",!m("trident"));m.add("esri-wasm",
"WebAssembly"in a);m.add("esri-shared-array-buffer",()=>{const e=!1===a.crossOriginIsolated;return"SharedArrayBuffer"in a&&!e});m.add("esri-atomics","Atomics"in a);m.add("esri-workers","Worker"in a);m.add("esri-text-decoder","TextDecoder"in a);m.add("esri-text-encoder","TextEncoder"in a);m.add("web-feat:cache","caches"in a);m.add("esri-workers-arraybuffer-transfer",!m("safari")||12<=Number(m("safari")));m.add("featurelayer-snapshot-enabled",!0);m.add("featurelayer-snapshot-point-min-threshold",8E4);
m.add("featurelayer-snapshot-point-max-threshold",4E5);m.add("featurelayer-snapshot-point-coverage",.1);m.add("featurelayer-advanced-symbols",!1);m.add("featurelayer-pbf",!0);m.add("featurelayer-pbf-statistics",!1);m.add("feature-layers-workers",!0);m.add("mapview-transitions-duration",200);m.add("mapserver-pbf-enabled",!1);!m("host-webworker")&&m("host-browser")&&(m.add("csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),m.add("esri-image-decode",()=>{if("decode"in new Image){const e=
new Image;e.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';e.decode().then(()=>{m.add("esri-image-decode",!0,!0,!0)}).catch(()=>{m.add("esri-image-decode",!1,!0,!0)})}else return!1}),m.add("esri-url-encodes-apostrophe",()=>{const e=a.document.createElement("a");e.href="?'";return e.href.includes("?%27")}),m.add("vectortilelayer-max-buffers",m("ff")?160:Number.POSITIVE_INFINITY))})();return m})},"esri/core/object":function(){define(["exports",
"./lang"],function(a,m){function v(d,c,b){for(const f of d){if(null==b)return;if(!(f in b))if(c)b[f]={};else return;b=b[f]}return b}function r(d,c,b){return c?Object.keys(c).reduce(function(f,e){let h=f[e],g=c[e];if(h===g)return f;if(void 0===h)return f[e]=m.clone(g),f;if(Array.isArray(g)||Array.isArray(f))h=h?Array.isArray(h)?f[e]=h.concat():f[e]=[h]:f[e]=[],g&&(Array.isArray(g)||(g=[g]),b?g.forEach(k=>{-1===h.indexOf(k)&&h.push(k)}):f[e]=g.concat());else if(g&&"object"===typeof g)f[e]=r(h,g,b);
else if(!f.hasOwnProperty(e)||c.hasOwnProperty(e))f[e]=g;return f},d||{}):d}a.deepMerge=function(d,c,b=!1){return r(d,c,b)};a.getDeepValue=function(d,c){if(null!=c)return c[d]||v(d.split("."),!1,c)};a.setDeepValue=function(d,c,b){const f=d.split(".");d=f.pop();(b=v(f,!0,b))&&d&&(b[d]=c)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/lang":function(){define(["exports","./has","./typedArrayUtil"],function(a,m,v){function r(c,b){let f;if(b)for(f in c)c.hasOwnProperty(f)&&(void 0===c[f]?
delete c[f]:c[f]instanceof Object&&r(c[f],!0));else for(f in c)c.hasOwnProperty(f)&&void 0===c[f]&&delete c[f];return c}function d(c){if(!c||"object"!==typeof c||"function"===typeof c)return c;if(v.isInt8Array(c)||v.isUint8Array(c)||v.isUint8ClampedArray(c)||v.isInt16Array(c)||v.isUint16Array(c)||v.isInt32Array(c)||v.isUint32Array(c)||v.isFloat32Array(c)||v.isFloat64Array(c))return v.slice(c);if(c instanceof Date)return new Date(c.getTime());if(c instanceof ArrayBuffer)return c.slice(0,c.byteLength);
if(c instanceof Map){const f=new Map;c.forEach((e,h)=>{f.set(h,d(e))});return f}if(c instanceof Set){const f=new Set;c.forEach(e=>{f.add(d(e))});return f}let b;if("function"===typeof c.clone)b=c.clone();else if("function"===typeof c.map&&"function"===typeof c.forEach)b=c.map(d);else if("function"===typeof c.notifyChange&&"function"===typeof c.watch)b=c.clone();else{b={};for(const f of Object.getOwnPropertyNames(c))b[f]=d(c[f])}return b}a.clone=d;a.equals=function(c,b){return c===b||"number"===typeof c&&
isNaN(c)&&"number"===typeof b&&isNaN(b)||"function"===typeof(c||{}).getTime&&"function"===typeof(b||{}).getTime&&c.getTime()===b.getTime()||!1};a.fixJson=r;a.mixin=function(c={},...b){m("esri-deprecation-warnings")&&console.warn("[esri.core.lang] \ud83d\uded1 DEPRECATED - Function: mixin()\n\t\ud83d\udee0\ufe0f Replacement: Use Object.assign() directly\n\t\u2699\ufe0f Version: 4.19");return Object.assign(c,...b)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/typedArrayUtil":function(){define(["exports",
"./maybe"],function(a,m){a.estimateSize=function(v){return m.isNone(v)?0:128+v.buffer.byteLength+64};a.forEach=function(v,r){if(v.forEach)v.forEach(r);else for(let d=0;d<v.length;d++)r(v[d],d,v)};a.isArrayBuffer=function(v){return v instanceof ArrayBuffer||v&&v.constructor&&"ArrayBuffer"===v.constructor.name};a.isFloat32Array=function(v){return v instanceof Float32Array||v&&v.constructor&&"Float32Array"===v.constructor.name};a.isFloat64Array=function(v){return v instanceof Float64Array||v&&v.constructor&&
"Float64Array"===v.constructor.name};a.isInt16Array=function(v){return v instanceof Int16Array||v&&v.constructor&&"Int16Array"===v.constructor.name};a.isInt32Array=function(v){return v instanceof Int32Array||v&&v.constructor&&"Int32Array"===v.constructor.name};a.isInt8Array=function(v){return v instanceof Int8Array||v&&v.constructor&&"Int8Array"===v.constructor.name};a.isUint16Array=function(v){return v instanceof Uint16Array||v&&v.constructor&&"Uint16Array"===v.constructor.name};a.isUint32Array=
function(v){return v instanceof Uint32Array||v&&v.constructor&&"Uint32Array"===v.constructor.name};a.isUint8Array=function(v){return v instanceof Uint8Array||v&&v.constructor&&"Uint8Array"===v.constructor.name};a.isUint8ClampedArray=function(v){return v instanceof Uint8ClampedArray||v&&v.constructor&&"Uint8ClampedArray"===v.constructor.name};a.slice=function(v,r,d){if(v.slice)return v.slice(r,d);void 0===r?r=0:(0>r&&(r+=v.length),r=Math.min(v.length,Math.max(0,r)));void 0===d?d=v.length:(0>d&&(d+=
v.length),d=Math.min(v.length,Math.max(0,d)));d=Math.max(0,d-r);const c=new v.constructor(d);for(let b=0;b<d;b++)c[b]=v[r+b];return c};a.toArray=function(v){const r=Array(v.length);for(let d=0;d<v.length;d++)r[d]=v[d];return r};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/maybe":function(){define(["exports"],function(a){function m(v,r,d){return null!=v?d(v):r}a.abortMaybe=function(v){null!=v&&v.abort();return null};a.andThen=function(v,r){return null!=v?r(v):null};a.applySome=function(v,
r){return null!=v?r(v):null};a.assumeNonNull=function(v){return v};a.destroyMaybe=function(v){null!=v&&v.destroy();return null};a.disposeMaybe=function(v){null!=v&&v.dispose();return null};a.filterNones=function(v){return v.filter(r=>null!=r)};a.forEachSome=function(v,r){for(const d of v)m(d,null,r)};a.get=function(v,...r){for(let d=0;d<r.length&&v;++d)v=v[r[d]];return v};a.isNone=function(v){return null==v};a.isSome=function(v){return null!=v};a.isUndefined=function(v){return void 0===v};a.mapMany=
function(v,r){const d=[];for(const c of v)d.push(m(c,null,r));return d};a.mapOr=m;a.mapSome=function(v,r){const d=[];v.forEach(c=>{c=r(c);null!=c&&d.push(c)});return d};a.mapSomeFirst=function(v,r){for(const d of v)if(v=r(d),null!=v)return v;return null};a.none=null;a.nullifyNonnullableForDispose=function(v){return null};a.releaseMaybe=function(v){null!=v&&v.release();return null};a.removeMaybe=function(v){null!=v&&v.remove();return null};a.unwrap=function(v){return v};a.unwrapOr=function(v,r){return null!=
v?v:"function"===typeof r?r():r};a.unwrapOrThrow=function(v,r){if(null==v)throw Error(r);return v};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(a,m,v,r,d){m.id=void 0;v("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript ${"4.20"} [Date: ${d.buildDate}, Revision: ${d.commitHash.slice(0,8)}]`),(v("edge")||v("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"));
m.buildDate=d.buildDate;m.revision=d.commitHash;m.addTokenParameter=function(c){const b=m.id&&m.id.findCredential(c);return b&&b.token?r.addQueryParameter(c,"token",b.token):c};m.setId=function(c){m.id=c};m.version="4.20";m.workerMessages={request(c,b){var f;const e=null==(f=c.options)?void 0:f.responseType;return(new Promise(function(h,g){a(["./request"],function(k){h(Object.freeze({__proto__:null,"default":k}))},g)})).then(({default:h})=>{const g=c.options||{};g.responseType="native"===e||"native-request-init"===
e?"native-request-init":"array-buffer";g.signal=null==b?void 0:b.signal;return h(c.url,g)}).then(h=>{const g={data:h.data,ssl:h.ssl};return"native-request-init"===h.requestOptions.responseType?(delete g.data.signal,g):{result:g,transferList:[g.data]}})}};Object.defineProperty(m,"__esModule",{value:!0})})},"esri/core/urlUtils":function(){define("exports ../config ./Error ./global ./Logger ./maybe".split(" "),function(a,m,v,r,d,c){function b(K){const W={path:null,query:null},aa=new ca(K),ea=K.indexOf("?");
null===aa.query?W.path=K:(W.path=K.substring(0,ea),W.query=f(aa.query));aa.fragment&&(W.hash=aa.fragment,null===aa.query&&(W.path=W.path.substring(0,W.path.length-(aa.fragment.length+1))));return W}function f(K){var W=K.split("\x26");K={};for(const ea of W){if(!ea)continue;var aa=ea.indexOf("\x3d");0>aa?(W=decodeURIComponent(ea),aa=""):(W=decodeURIComponent(ea.slice(0,aa)),aa=decodeURIComponent(ea.slice(aa+1)));let M=K[W];"string"===typeof M&&(M=K[W]=[M]);Array.isArray(M)?M.push(aa):K[W]=aa}return K}
function e(K){return K&&"object"===typeof K&&"toJSON"in K&&"function"===typeof K.toJSON}function h(K,W){return K?W&&"function"===typeof W?Object.keys(K).map(aa=>encodeURIComponent(aa)+"\x3d"+encodeURIComponent(W(aa,K[aa]))).join("\x26"):Object.keys(K).map(aa=>{const ea=K[aa];if(null==ea)return"";const M=encodeURIComponent(aa)+"\x3d";return(aa=W&&W[aa])?M+encodeURIComponent(aa(ea)):Array.isArray(ea)?ea.map(I=>e(I)?M+encodeURIComponent(JSON.stringify(I)):M+encodeURIComponent(I)).join("\x26"):e(ea)?
M+encodeURIComponent(JSON.stringify(ea)):M+encodeURIComponent(ea)}).filter(aa=>aa).join("\x26"):""}function g(K){const W=K.indexOf("?");-1!==W?(sa.path=K.slice(0,W),sa.query=K.slice(W+1)):(sa.path=K,sa.query=null);return sa}function k(K){K=g(K).path;K&&"/"===K[K.length-1]||(K=`${K}/`);K=Q(K,!0);return K=K.toLowerCase()}function n(K){const W=da.proxyRules;K=k(K);for(let aa=0;aa<W.length;aa++)if(0===K.indexOf(W[aa].urlPrefix))return W[aa]}function l(K){K=u(K);const W=K.indexOf("/sharing");return 0<
W?K.substring(0,W):K.replace(/\/+$/,"")}function p(K,W,aa=!1){K=V(K);W=V(W);return!aa&&K.scheme!==W.scheme||null==K.host||null==W.host?!1:K.host.toLowerCase()===W.host.toLowerCase()&&K.port===W.port}function t(K,W=qa,aa){return q(K)?aa&&aa.preserveProtocolRelative?K:"http"===ba.scheme&&ba.authority===z(K).slice(2)?`http:${K}`:`https:${K}`:B(K)?K:c.assumeNonNull(A("/"===K[0]?T(W):W,K))}function u(K){K=K.trim();K=t(K);if(/^https?:\/\//i.test(K)){const W=g(K);K=W.path.replace(/\/{2,}/g,"/");K=K.replace("/",
"//");W.query&&(K+=`?${W.query}`)}K=K.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return K=R(K)}function A(...K){var W=K.filter(c.isSome);if(W&&W.length){K=[];if(w(W[0])){var aa=W[0],ea=aa.indexOf("//");-1!==ea&&(K.push(aa.slice(0,ea+1)),va.test(W[0])&&(K[0]+="/"),W[0]=aa.slice(ea+2))}else"/"===W[0][0]&&K.push("");W=W.reduce((M,I)=>I?M.concat(I.split("/")):M,[]);for(aa=0;aa<W.length;aa++)ea=W[aa],".."===ea&&0<K.length&&".."!==K[K.length-1]?K.pop():(!ea&&aa===W.length-1||ea&&("."!==ea||0===
K.length))&&K.push(ea);return K.join("/")}}function z(K,W=!1){if(C(K)||y(K))return null;var aa=K.indexOf("://");if(-1===aa&&q(K))aa=2;else if(-1!==aa)aa+=3;else return null;aa=K.indexOf("/",aa);-1!==aa&&(K=K.slice(0,aa));W&&(K=Q(K,!0));return K}function w(K){return q(K)||B(K)}function C(K){return null!=K&&"blob:"===K.slice(0,5)}function y(K){return"data:"===K.slice(0,5)}function x(K){K=E(K);if(!K||!K.isBase64)return null;K=atob(K.data);const W=new Uint8Array(K.length);for(let aa=0;aa<K.length;aa++)W[aa]=
K.charCodeAt(aa);return W.buffer}function E(K){K=K.match(wa);if(!K)return null;const [,W,aa,ea]=K;return{mediaType:W,isBase64:!!aa,data:ea}}function D(K){const W=x(K);if(!W)return null;K=E(K);return new Blob([W],{type:K.mediaType})}function q(K){return null!=K&&void 0!==K&&"/"===K[0]&&"/"===K[1]}function B(K){return na.test(K)}function G(K){return ka.test(K)||"https"===ba.scheme&&q(K)}function F(K){return ta.test(K)||"http"===ba.scheme&&q(K)}function H(K){return q(K)?`https:${K}`:K.replace(ta,"https:")}
function J(){return"https"===ba.scheme}function Q(K,W=!1){if(q(K))return K.slice(2);K=K.replace(na,"");W&&1<K.length&&"/"===K[0]&&"/"===K[1]&&(K=K.slice(2));return K}function T(K){var W=K.indexOf("//");W=K.indexOf("/",W+2);return-1===W?K:K.slice(0,W)}function R(K){const W=da.httpsDomains;if(!F(K))return K;const aa=K.indexOf("/",7);let ea;ea=-1===aa?K:K.slice(0,aa);ea=ea.toLowerCase().slice(7);if(pa.test(ea))if(ea.endsWith(":80"))ea=ea.slice(0,-3),K=K.replace(":80","");else return K;if("http"===ba.scheme&&
ea===ba.authority&&!O.test(K))return K;if(J()&&ea===ba.authority||W&&W.some(M=>ea===M||ea.endsWith(`.${M}`))||J()&&!n(K))K=H(K);return K}function V(K){if("string"===typeof K)return new ca(t(K));K.scheme||(K.scheme=ba.scheme);return K}const Y=d.getLogger("esri.core.urlUtils"),da=m.request,na=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ta=/^\s*http:/i,ka=/^\s*https:/i,va=/^\s*file:/i,pa=/:\d+$/,O=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,S=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
U=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/;let ca=function(){function K(W=""){this.uri=W;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;W=c.assumeNonNull(this.uri.match(S));this.scheme=W[2]||(W[1]?"":null);this.authority=W[4]||(W[3]?"":null);this.path=W[5];this.query=W[7]||(W[6]?"":null);this.fragment=W[9]||(W[8]?"":null);null!=this.authority&&(W=c.assumeNonNull(this.authority.match(U)),this.user=W[3]||null,this.password=
W[4]||null,this.host=W[6]||W[7],this.port=W[9]||null)}K.prototype.toString=function(){return this.uri};return K}();const ba=new ca(m.applicationUrl),ja={},qa=(()=>{var K=c.assumeNonNull(ba.path);K=K.substring(0,K.lastIndexOf(K.split("/")[K.split("/").length-1]));return`${`${ba.scheme}://${ba.host}${null!=ba.port?`:${ba.port}`:""}`}${K}`})(),sa={path:"",query:""},wa=/^data:(.*?)(;base64)?,(.*)$/,ra=/.*?\.([^\/]*)$/,ya=/(^data:image\/svg|\.svg$)/i;a.Url=ca;a.addProxy=function(K){var W=n(K),aa=void 0;
if(W){var ea=g(W.proxyUrl);aa=ea.path;ea=ea.query?f(ea.query):null}aa&&(W=b(K),K=aa+"?"+W.path,(aa=h({...ea,...W.query}))&&(K=`${K}?${aa}`));return K};a.addProxyRule=function(K){K={proxyUrl:K.proxyUrl,urlPrefix:k(K.urlPrefix)};const W=da.proxyRules,aa=K.urlPrefix;let ea=W.length;for(let M=0;M<W.length;M++){const I=W[M].urlPrefix;if(0===aa.indexOf(I)){if(aa.length===I.length)return-1;ea=M;break}0===I.indexOf(aa)&&(ea=M+1)}W.splice(ea,0,K);return ea};a.addQueryParameter=function(K,W,aa){K=b(K);const ea=
K.query||{};ea[W]=String(aa);return`${K.path}?${h(ea)}`};a.addQueryParameters=function(K,W){K=b(K);const aa=K.query||{};for(const ea in W)aa[ea]=W[ea];return(W=h(aa))?`${K.path}?${W}`:K.path};a.appBaseUrl=qa;a.appUrl=ba;a.changeDomain=function(K,W,aa){if(!(W&&aa&&K&&w(K)))return K;const ea=K.indexOf("//");var M=K.indexOf("/",ea+2);const I=K.indexOf(":",ea+2);M=Math.min(0>M?K.length:M,0>I?K.length:I);if(K.slice(ea+2,M).toLowerCase()!==W.toLowerCase())return K;W=K.slice(0,ea+2);K=K.slice(M);return`${W}${aa}${K}`};
a.dataComponents=E;a.dataToArrayBuffer=x;a.dataToBlob=D;a.downloadDataAsFile=function(K,W){a:{var aa=document.createElement("a");if("download"in aa){var ea=null;if(r.URL&&r.URL.createObjectURL){ea=D(K);if(!ea){aa=!1;break a}ea=r.URL.createObjectURL(ea)}aa.download=W;aa.href=ea||K;aa.style.display="none";document.body.appendChild(aa);aa.click();document.body.removeChild(aa);ea&&r.URL.revokeObjectURL(ea);aa=void 0}else aa=!1}aa||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(D(K),
W)};a.getFilename=function(K,W){if(!K)return"";K=b(K).path.replace(/\/+$/,"");K=K.substring(K.lastIndexOf("/")+1);if(null==W||!W.length)return K;W=new RegExp(`\.(${W.join("|")})$`,"ig");return K.replace(W,"")};a.getInterceptor=function(K){const W=ea=>null==ea||ea instanceof RegExp&&ea.test(K)||"string"===typeof ea&&K.startsWith(ea),aa=da.interceptors;if(aa)for(const ea of aa)if(Array.isArray(ea.urls)){if(ea.urls.some(W))return ea}else if(W(ea.urls))return ea;return null};a.getOrigin=z;a.getPathExtension=
function(K){return c.isNone(K)?null:(K=K.match(ra))?K[1]:null};a.getProxyRule=n;a.getProxyUrl=function(K=!1){let W,aa=da.proxyUrl;if("string"===typeof K){if(W=G(K),K=n(K))aa=K.proxyUrl}else W=!!K;if(!aa)throw Y.warn("esri/config: esriConfig.request.proxyUrl is not set."),new v("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");W&&J()&&(aa=H(aa));return b(aa)};a.hasProtocol=B;a.hasSameOrigin=p;a.hasSamePortal=function(K,W){K=l(K);W=l(W);return Q(K)===Q(W)};a.isAbsolute=
w;a.isAppHTTPS=J;a.isBlobProtocol=C;a.isDataProtocol=y;a.isHTTPSProtocol=G;a.isProtocolRelative=q;a.isSVG=function(K){return ya.test(K)};a.isTrustedServer=function(K){if("string"===typeof K)if(w(K))K=V(K);else return!0;if(p(K,ba))return!0;const W=da.trustedServers||[];for(let ea=0;ea<W.length;ea++){var aa=W[ea];ja[aa]||(B(aa)||q(aa)?ja[aa]=[new ca(t(aa))]:ja[aa]=[new ca(`http://${aa}`),new ca(`https://${aa}`)]);aa=ja[aa];for(let M=0;M<aa.length;M++)if(p(K,aa[M]))return!0}return!1};a.join=A;a.makeAbsolute=
t;a.makeData=function(K){return K.isBase64?`data:${K.mediaType};base64,${K.data}`:`data:${K.mediaType},${K.data}`};a.makeRelative=function(K,W=qa,aa){if(!w(K))return K;var ea=u(K),M=ea.toLowerCase();W=u(W).toLowerCase().replace(/\/+$/,"");if((aa=aa?u(aa).toLowerCase().replace(/\/+$/,""):null)&&0!==W.indexOf(aa))return K;var I=M.indexOf("//")+2;I=M.indexOf("/",I);var L=-1===I?M.length:I;for(I=-1;M.slice(0,L+1)===W.slice(0,L)+"/";){I=L+1;if(L===M.length)break;var P=M;L+=1;L=P.indexOf("/",L);L=-1===
L?P.length:L}if(-1===I||aa&&I<aa.length)return K;K=ea.slice(I);ea=W.slice(I-1).replace(/[^/]+/g,"").length;if(0<ea)for(M=0;M<ea;M++)K=`../${K}`;else K=`./${K}`;return K};a.normalize=u;a.objectToQuery=h;a.queryToObject=f;a.removeFile=function(K){let W=0;if(w(K)){var aa=K.indexOf("//");-1!==aa&&(W=aa+2)}aa=K.lastIndexOf("/");return aa<W?K:K.slice(0,aa+1)};a.removeQueryParameter=function(K,W){const {path:aa,query:ea}=b(K);if(!ea)return K;delete ea[W];return(K=h(ea))?`${aa}?${K}`:aa};a.removeQueryParameters=
function(K,W){K=b(K);const aa=Object.keys(K.query||{});0<aa.length&&W&&W.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${aa.join(", ")}.`);return K.path};a.removeTrailingSlash=function(K){return K.replace(/\/+$/,"")};a.toHTTP=function(K){return q(K)?`http:${K}`:K.replace(ka,"http:")};a.toHTTPS=H;a.trustedServersUrlCache=ja;a.urlToObject=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Error":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./lang","./Logger","./Message"],function(a,m,v,r){r=function(d){function c(b,f,e){var h=d.call(this,b,f,e)||this;return a._assertThisInitialized(h)instanceof c?h:new c(b,f,e)}a._inheritsLoose(c,d);c.prototype.toJSON=function(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(b,f)=>{if(f&&"object"===typeof f&&"function"===typeof f.toJSON)return f;try{return m.clone(f)}catch(e){return"[object]"}}))}}catch(b){throw v.getLogger("esri.core.Error").error(b),
b;}return{name:this.name,message:this.message,details:this.details}};c.fromJSON=function(b){return new c(b.name,b.message,b.details)};return c}(r);r.prototype.type="error";return r})},"esri/chunks/_rollupPluginBabelHelpers":function(){define(["exports"],function(a){function m(){function n(u,A,z){A=new RegExp(u,A);t.set(A,z||t.get(u));return e(A,n.prototype)}function l(u,A){var z=t.get(A);return Object.keys(z).reduce(function(w,C){w[C]=u[z[C]];return w},Object.create(null))}m=function(u,A){return new n(u,
void 0,A)};var p=RegExp.prototype,t=new WeakMap;b(n,RegExp);n.prototype.exec=function(u){if(u=p.exec.call(this,u))u.groups=l(u,this);return u};n.prototype[Symbol.replace]=function(u,A){if("string"===typeof A){var z=t.get(this);return p[Symbol.replace].call(this,u,A.replace(/\$<([^>]+)>/g,function(C,y){return"$"+z[y]}))}if("function"===typeof A){var w=this;return p[Symbol.replace].call(this,u,function(){var C=arguments;"object"!==typeof C[C.length-1]&&(C=[].slice.call(C),C.push(l(C,w)));return A.apply(this,
C)})}return p[Symbol.replace].call(this,u,A)};return m.apply(this,arguments)}function v(n){this.wrapped=n}function r(n){function l(A,z){try{var w=n[A](z),C=w.value,y=C instanceof v;Promise.resolve(y?C.wrapped:C).then(function(x){y?l("return"===A?"return":"next",x):p(w.done?"return":"normal",x)},function(x){l("throw",x)})}catch(x){p("throw",x)}}function p(A,z){switch(A){case "return":t.resolve({value:z,done:!0});break;case "throw":t.reject(z);break;default:t.resolve({value:z,done:!1})}(t=t.next)?l(t.key,
t.arg):u=null}var t,u;this._invoke=function(A,z){return new Promise(function(w,C){w={key:A,arg:z,resolve:w,reject:C,next:null};u?u=u.next=w:(t=u=w,l(A,z))})};"function"!==typeof n.return&&(this.return=void 0)}function d(n,l,p,t,u,A,z){try{var w=n[A](z),C=w.value}catch(y){p(y);return}w.done?l(C):Promise.resolve(C).then(t,u)}function c(n,l){for(var p=0;p<l.length;p++){var t=l[p];t.enumerable=t.enumerable||!1;t.configurable=!0;"value"in t&&(t.writable=!0);Object.defineProperty(n,t.key,t)}}function b(n,
l){if("function"!==typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,writable:!0,configurable:!0}});l&&e(n,l)}function f(n){f=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)};return f(n)}function e(n,l){e=Object.setPrototypeOf||function(p,t){p.__proto__=t;return p};return e(n,l)}function h(){if("undefined"===typeof Reflect||!Reflect.construct||
Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function g(n,l,p){g=h()?Reflect.construct:function(t,u,A){var z=[null];z.push.apply(z,u);t=new (Function.bind.apply(t,z));A&&e(t,A.prototype);return t};return g.apply(null,arguments)}function k(n){var l="function"===typeof Map?new Map:void 0;k=function(p){function t(){return g(p,arguments,f(this).constructor)}if(null===p||
-1===Function.toString.call(p).indexOf("[native code]"))return p;if("function"!==typeof p)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof l){if(l.has(p))return l.get(p);l.set(p,t)}t.prototype=Object.create(p.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});return e(t,p)};return k(n)}r.prototype["function"===typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};r.prototype.next=function(n){return this._invoke("next",
n)};r.prototype.throw=function(n){return this._invoke("throw",n)};r.prototype.return=function(n){return this._invoke("return",n)};a._assertThisInitialized=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n};a._asyncIterator=function(n){var l;"undefined"!==typeof Symbol&&(Symbol.asyncIterator&&(l=n[Symbol.asyncIterator]),null==l&&Symbol.iterator&&(l=n[Symbol.iterator]));null==l&&(l=n["@@asyncIterator"]);null==l&&(l=n["@@iterator"]);
if(null==l)throw new TypeError("Object is not async iterable");return l.call(n)};a._asyncToGenerator=function(n){return function(){var l=this,p=arguments;return new Promise(function(t,u){function A(C){d(w,t,u,A,z,"next",C)}function z(C){d(w,t,u,A,z,"throw",C)}var w=n.apply(l,p);A(void 0)})}};a._awaitAsyncGenerator=function(n){return new v(n)};a._createClass=function(n,l,p){l&&c(n.prototype,l);p&&c(n,p);return n};a._inheritsLoose=function(n,l){n.prototype=Object.create(l.prototype);n.prototype.constructor=
n;e(n,l)};a._wrapAsyncGenerator=function(n){return function(){return new r(n.apply(this,arguments))}};a._wrapNativeSuper=k;a._wrapRegExp=m})},"esri/core/Logger":function(){define(["../chunks/_rollupPluginBabelHelpers","../config","./has","./maybe","./string"],function(a,m,v,r,d){const c={info:0,warn:1,error:2,none:3};v=function(){function b(e){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=e.level&&(this.level=e.level);
null!=e.writer&&(this.writer=e.writer);this._module=e.module;b._loggers[this.module]=this;e=this.module.lastIndexOf(".");-1!==e&&(this._parent=b.getLogger(this.module.slice(0,e)))}var f=b.prototype;f.error=function(...e){this._log("error","always",...e)};f.warn=function(...e){this._log("warn","always",...e)};f.info=function(...e){this._log("info","always",...e)};f.errorOnce=function(...e){this._log("error","once",...e)};f.warnOnce=function(...e){this._log("warn","once",...e)};f.infoOnce=function(...e){this._log("info",
"once",...e)};f.errorOncePerTick=function(...e){this._log("error","oncePerTick",...e)};f.warnOncePerTick=function(...e){this._log("warn","oncePerTick",...e)};f.infoOncePerTick=function(...e){this._log("info","oncePerTick",...e)};b.getLogger=function(e){let h=b._loggers[e];h||(h=new b({module:e}));return h};f._log=function(e,h,...g){if(this._matchLevel(e)){if("always"!==h&&!b._throttlingDisabled){const k=this._argsToKey(g),n=this._loggedMessages[e].get(k);if("once"===h&&null!=n||"oncePerTick"===h&&
n&&n>=b._tickCounter)return;this._loggedMessages[e].set(k,b._tickCounter);b._scheduleTickCounterIncrement()}for(const k of m.log.interceptors)if(k(e,this.module,...g))return;this._inheritedWriter()(e,this.module,...g)}};f._parentWithMember=function(e,h){let g=this;for(;r.isSome(g);){const k=g[e];if(r.isSome(k))return k;g=g.parent}return h};f._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};f._consoleWriter=function(e,h,...g){console[e](`[${h}]`,...g)};f._matchLevel=
function(e){return c[this._parentWithMember("level",m.log.level?m.log.level:"warn")]<=c[e]};f._argsToKey=function(...e){return d.numericHash(JSON.stringify(e,(h,g)=>"object"!==typeof g||Array.isArray(g)?g:"[Object]"))};b._scheduleTickCounterIncrement=function(){b._tickCounterScheduled||(b._tickCounterScheduled=!0,Promise.resolve().then(()=>{b._tickCounter++;b._tickCounterScheduled=!1}))};a._createClass(b,[{key:"module",get:function(){return this._module}},{key:"parent",get:function(){return this._parent}},
{key:"test",get:function(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings(){return e._loggedMessages.warn.clear()}}}}],[{key:"testSingleton",get:function(){return{resetLoggers(e={}){const h=b._loggers;b._loggers=e;return h},set throttlingDisabled(e){b._throttlingDisabled=e}}}}]);return b}();v._loggers={};v._tickCounter=0;v._tickCounterScheduled=!1;v._throttlingDisabled=!1;return v})},"esri/core/string":function(){define(["exports","./object"],function(a,m){function v(d){return null==
d?"":d}const r=/\{([^\}]+)\}/g;a.escapeRegExpString=function(d,c){return d.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,b=>c&&-1!==c.indexOf(b)?b:`\\${b}`)};a.numericHash=function(d){let c=0;for(let b=0;b<d.length;b++)c=(c<<5)-c+d.charCodeAt(b),c|=0;return c};a.replace=function(d,c){return d.replace(r,"object"===typeof c?(b,f)=>v(m.getDeepValue(f,c)):(b,f)=>v(c(f)))};a.stripHTML=function(d){return(new DOMParser).parseFromString(d||"","text/html").body.innerText||""};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/core/Message":function(){define(["./object"],function(a){function m(v,r){return v.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(d,c){if(""===c)return"$";d=a.getDeepValue(c,r);d=null==d?"":d;if("undefined"===typeof d)throw Error(`could not find key "${c}" in template`);return d.toString()})}return function(){function v(r,d,c){this.name=r;this.details=c;this.message=void 0;this instanceof v&&(this.message=d&&m(d,c)||"")}v.prototype.toString=function(){return"["+this.name+
"]: "+this.message};return v}()})},"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20210806";a.commitHash="d1c4ecf1457c4e5613ee54ecf4ec0563e3153413";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/RemoteClient":function(){define("../../kernel ../Error ../events ../maybe ../promiseUtils ./registry ./utils ../../support/revision".split(" "),function(a,m,v,r,d,c,b,f){const {CLOSE:e,ABORT:h,INVOKE:g,RESPONSE:k,OPEN_PORT:n,ON:l}=b.MessageType;let p=
function(){function u(z){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=z;this._timer=null;this._process=this._process.bind(this)}var A=u.prototype;A.push=function(z){z.type===b.MessageType.ABORT?this._cancelledJobIds.add(z.jobId):(this._invokeMessages.push(z),null===this._timer&&(this._timer=setTimeout(this._process,0)))};A.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};A._process=function(){this._timer=null;for(const z of this._invokeMessages)this._cancelledJobIds.has(z.jobId)||
this._invoke(z);this._cancelledJobIds.clear();this._invokeMessages.length=0};return u}(),t=function(){function u(z,w){this._port=z;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new p(C=>this._onInvokeMessage(C));this._client=w.client;this._onMessage=this._onMessage.bind(this);this._channel=w.channel;this._schedule=w.schedule;this._port.addEventListener("message",this._onMessage);this._port.start()}u.connect=function(z){const w=new MessageChannel;z="function"===typeof z?new z:"default"in
z&&"function"===typeof z.default?new z.default:z;const C=new u(w.port1,{channel:w,client:z});"object"===typeof z&&"remoteClient"in z&&(z.remoteClient=C);u.clients.set(C,z);return w.port2};u.loadWorker=function(z){return(z=c.registry[z])?z():Promise.resolve(null)};var A=u.prototype;A.close=function(){this._post({type:e});this._close()};A.isBusy=function(){return 0<this._outJobs.size};A.invoke=function(z,w,C){const y=C&&C.signal,x=C&&C.transferList;if(!this._port)return Promise.reject(new m("worker:port-closed",
`Cannot call invoke('${z}'), port is closed`,{methodName:z,data:w}));const E=b.newJobId();return new Promise((D,q)=>{const B=d.onAbortOrThrow(y,()=>{var G;const F=this._outJobs.get(E);F&&(this._outJobs.delete(E),null==(G=F.abortHandle)?void 0:G.remove(),this._post({type:h,jobId:E}),q(d.createAbortError()))});this._outJobs.set(E,{resolve:D,reject:q,abortHandle:B,debugInfo:z});this._post({type:g,jobId:E,methodName:z,abortable:null!=y},w,x)})};A.on=function(z,w){function C(x){w(x.data)}const y=new MessageChannel;
this._port.postMessage({type:b.MessageType.ON,eventType:z,port:y.port2},[y.port2]);y.port1.addEventListener("message",C);y.port1.start();return{remove(){y.port1.postMessage({type:b.MessageType.CLOSE});y.port1.close();y.port1.removeEventListener("message",C)}}};A.openPort=function(){const z=new MessageChannel;this._post({type:n,port:z.port2});return z.port1};A._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(z=>
{var w;null==(w=z.abortHandle)?void 0:w.remove();z.reject(d.createAbortError(`Worker closing, aborting job calling '${z.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=this._schedule=null};A._onMessage=function(z){r.isSome(this._schedule)?this._schedule(()=>this._processMessage(z)):this._processMessage(z)};A._processMessage=function(z){if(z=b.receiveMessage(z))switch(z.type){case k:this._onResponseMessage(z);break;case g:this._invokeQueue.push(z);
break;case h:this._onAbortMessage(z);break;case e:this._onCloseMessage();break;case n:this._onOpenPortMessage(z);break;case l:this._onOnMessage(z)}};A._onAbortMessage=function(z){const w=this._inJobs,C=z.jobId,y=w.get(C);this._invokeQueue.push(z);y&&(y.controller&&y.controller.abort(),w.delete(C))};A._onCloseMessage=function(){const z=this._client;this._close();z&&"destroy"in z&&u.clients.get(this)===z&&z.destroy();u.clients.delete(this);z&&z.remoteClient&&(z.remoteClient=null)};A._onInvokeMessage=
function(z){const {methodName:w,jobId:C,data:y,abortable:x}=z;z=x?d.createAbortController():null;const E=this._inJobs;let D=this._client,q=D[w],B;try{if(!q&&w&&-1!==w.indexOf(".")){const G=w.split(".");for(let F=0;F<G.length-1;F++)D=D[G[F]],q=D[G[F+1]]}if("function"!==typeof q)throw new TypeError(`${w} is not a function`);B=q.call(D,y,{client:this,signal:z?z.signal:null})}catch(G){this._post({type:k,jobId:C,error:b.toInvokeError(G)});return}d.isPromiseLike(B)?(E.set(C,{controller:z,promise:B}),B.then(G=>
{E.has(C)&&(E.delete(C),this._post({type:k,jobId:C},G))},G=>{E.has(C)&&(E.delete(C),d.isAbortError(G)||this._post({type:k,jobId:C,error:b.toInvokeError(G||{message:`Error encountered at method ${w}`})}))})):this._post({type:k,jobId:C},B)};A._onOpenPortMessage=function(z){new u(z.port,{client:this._client})};A._onOnMessage=function(z){const {port:w}=z,C=this._client.on(z.eventType,x=>{w.postMessage(x)}),y=v.on(z.port,"message",x=>{b.receiveMessage(x).type===b.MessageType.CLOSE&&(y.remove(),C.remove(),
w.close())})};A._onResponseMessage=function(z){var w;const {jobId:C,error:y,data:x}=z;z=this._outJobs;if(z.has(C)){var E=z.get(C);z.delete(C);null==(w=E.abortHandle)?void 0:w.remove();y?E.reject(m.fromJSON(JSON.parse(y))):E.resolve(x)}};A._post=function(z,w,C){return b.postMessage(this._port,z,w,C)};return u}();t.kernelInfo={revision:f.commitHash,version:a.version,buildDate:f.buildDate};t.clients=new Map;return t})},"esri/core/events":function(){define(["exports"],function(a){function m(d){return d&&
("function"===typeof d.on||"function"===typeof d.addEventListener)}function v(d,c,b){if(!m(d))throw new TypeError("target is not a Evented or EventTarget object");if("on"in d)return d.on(c,b);if(Array.isArray(c)){const f=c.slice();for(const e of f)d.addEventListener(e,b);return{remove(){for(const e of f)d.removeEventListener(e,b)}}}d.addEventListener(c,b);return{remove(){d.removeEventListener(c,b)}}}const r={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",
Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function({key:d}){return r[d]||d};a.ieKeyNormalizationMap=r;a.isEventTarget=m;a.on=v;a.once=function(d,c,b){if(!m(d))throw new TypeError("target is not a Evented or EventTarget object");if("once"in d)return d.once(c,b);const f=v(d,c,e=>{f.remove();b.call(d,e)});return{remove(){f.remove()}}};a.pausable=function(d,c,b){let f=!1;const e=v(d,c,h=>{f||b.call(d,h)});return{resume(){f=
!1},pause(){f=!0},remove(){e.remove()}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),function(a,m,v,r,d,c){function b(w){return new Promise((C,y)=>{try{w(C,y)}catch(x){Promise.resolve().then(()=>y(x))}})}function f(w="Aborted"){return new v("AbortError",w)}function e(){return new AbortController}function h(w,C="Aborted"){if(k(w))throw f(C);}function g(w){return c.isSome(w)?"aborted"in
w?w:w.signal:w}function k(w){w=g(w);return c.isSome(w)&&w.aborted}function n(w,C){w=g(w);if(!c.isNone(w))if(w.aborted)C();else return r.once(w,"abort",()=>C())}function l(w){return w&&"AbortError"===w.name}function p(){let w=null;const C=new Promise((y,x)=>{w={promise:void 0,resolve:y,reject:x}});w.promise=C;return w}function t(w){if(w){if("function"!==typeof w.forEach){const C=Object.keys(w),y=C.map(x=>w[x]);return t(y).then(x=>{const E={};C.forEach((D,q)=>E[D]=x[q]);return E})}return b(C=>{const y=
[];let x=w.length;0===x&&C(y);w.forEach(E=>{const D={promise:E||Promise.resolve(E)};y.push(D);D.promise.then(q=>{D.value=q}).catch(q=>{D.error=q}).then(()=>{--x;0===x&&C(y)})})})}}function u(w,C,y){const x=e();n(y,()=>x.abort());return new Promise((E,D)=>{let q=setTimeout(()=>{q=0;E(C)},w);n(x,()=>{q&&(clearTimeout(q),D(f()))})})}function A(w){return z(w)?w:Promise.resolve(w)}function z(w){return w&&"object"===typeof w&&"then"in w&&"function"===typeof w.then}a.after=u;a.all=function(w){return Promise.all(w)};
a.always=function(w,C){return w.then(C,C)};a.create=b;a.createAbortController=e;a.createAbortError=f;a.createDeferred=p;a.createResolver=function(){let w,C;const y=new Promise((E,D)=>{w=E;C=D}),x=E=>{w(E)};x.resolve=E=>w(E);x.reject=E=>C(E);x.timeout=(E,D)=>m["default"].setTimeout(()=>x.reject(D),E);x.promise=y;return x};a.createTask=function(w){let C=e();w=w(C.signal);let y={promise:w,finished:!1,abort:()=>{C&&(C.abort(),C=null)}};const x=()=>{y&&(y.finished=!0,y=null);C=null};w.then(x,x);return y};
a.debounce=function(w,C=-1){let y,x,E,D,q=null;const B=(...G)=>{if(y){x=G;D&&D.reject(f());D=p();G=c.assumeNonNull(D.promise);if(q){var F=q;q=null;F.abort()}return G}E=D||p();D=null;if(0<C){const J=e(),Q=y=A(w(...G,J.signal));u(C).then(()=>{y===Q&&(D?J.abort():q=J)})}else y=1,y=A(w(...G));G=()=>{const J=x;x=E=y=q=null;null!=J&&B(...J)};F=y;const H=E;F.then(G,G);F.then(H.resolve,H.reject);return c.assumeNonNull(H.promise)};return B};a.eachAlways=t;a.eachAlwaysValues=function(w){return t(w).then(C=>
C.filter(y=>!!y.value).map(y=>y.value))};a.filter=function(w,C){const y=w.slice();return Promise.all(w.map((x,E)=>C(x,E))).then(x=>y.filter((E,D)=>x[D]))};a.ignoreAbortErrors=function(w){return w.catch(C=>{if(!l(C))throw C;})};a.isAbortError=l;a.isAborted=k;a.isPromise=z;a.isPromiseLike=function(w){return w&&"function"===typeof w.then};a.logOnError=function(w,C=d.getLogger("esri")){return w.catch(y=>{l(y)||C.error(y)})};a.onAbort=n;a.onAbortOrThrow=function(w,C){w=g(w);if(!c.isNone(w))return h(w),
r.once(w,"abort",()=>C(f()))};a.reject=function(w){return Promise.reject(w)};a.resolve=function(w){return Promise.resolve(w)};a.throwIfAbortError=function(w){if(l(w))throw w;};a.throwIfAborted=h;a.throwIfNotAbortError=function(w){if(!l(w))throw w;};a.timeout=function(w,C,y,x){const E=y&&"abort"in y?y:null;null!=x||E||(x=y);let D=setTimeout(()=>{D=0;E&&E.abort()},C);const q=()=>{throw x||new v("promiseUtils:timeout","The wrapped promise did not resolve within "+C+" ms");};return w.then(B=>{if(0===
D)throw q();clearTimeout(D);return B},B=>{clearTimeout(D);throw 0===D?q():B;})};a.when=A;a.whenOrAbort=function(w,C){const y=g(C);return c.isNone(y)?w:new Promise((x,E)=>{let D=n(C,()=>E(f()));const q=()=>D=c.removeMaybe(D);w.then(q,q);w.then(x,E)})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/clock":function(){define(["exports","./global"],function(a,m){function v(r){return{setTimeout:(d,c)=>{const b=r.setTimeout(d,c);return{remove:()=>r.clearTimeout(b)}}}}m=v(m);a.default=m;a.wrap=
v;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,m){function v(r){return Object.freeze({__proto__:null,"default":r})}m.registry={statsWorker:()=>new Promise(function(r,d){a(["../../smartMapping/statistics/support/statsWorker"],r,d)}),geometryEngineWorker:()=>new Promise(function(r,d){a(["../../geometry/geometryEngineWorker"],r,d)}),CSVSourceWorker:()=>new Promise(function(r,d){a(["../../layers/graphics/sources/support/CSVSourceWorker"],
r,d)}),EdgeProcessingWorker:()=>new Promise(function(r,d){a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],r,d)}),ElevationSamplerWorker:()=>new Promise(function(r,d){a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],r,d)}),FeatureServiceSnappingSourceWorker:()=>new Promise(function(r,d){a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],r,d)}),GeoJSONSourceWorker:()=>new Promise(function(r,d){a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],
function(c){r(v(c))},d)}),LercWorker:()=>new Promise(function(r,d){a(["../../layers/support/LercWorker"],function(c){r(v(c))},d)}),MemorySourceWorker:()=>new Promise(function(r,d){a(["../../layers/graphics/sources/support/MemorySourceWorker"],function(c){r(v(c))},d)}),PBFDecoderWorker:()=>new Promise(function(r,d){a(["../../views/3d/support/PBFDecoderWorker"],function(c){r(v(c))},d)}),Pipeline:()=>new Promise(function(r,d){a(["../../views/2d/layers/features/Pipeline"],r,d)}),PointCloudWorker:()=>
new Promise(function(r,d){a(["../../views/3d/layers/PointCloudWorker"],function(c){r(v(c))},d)}),RasterWorker:()=>new Promise(function(r,d){a(["../../layers/support/RasterWorker"],function(c){r(v(c))},d)}),SceneLayerWorker:()=>new Promise(function(r,d){a(["../../views/3d/layers/SceneLayerWorker"],r,d)}),WFSSourceWorker:()=>new Promise(function(r,d){a(["../../layers/graphics/sources/WFSSourceWorker"],function(c){r(v(c))},d)}),WorkerTileHandler:()=>new Promise(function(r,d){a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],
function(c){r(v(c))},d)})};Object.defineProperty(m,"__esModule",{value:!0})})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,m){function v(c){return c&&"object"===typeof c&&("result"in c||"transferList"in c)}function r(c){if(!c||!c.length)return null;if(m("esri-workers-arraybuffer-transfer"))return c;c=c.filter(b=>!(b instanceof ArrayBuffer||b&&b.constructor&&"ArrayBuffer"===b.constructor.name));return c.length?c:null}a.MessageType=void 0;(function(c){c[c.HANDSHAKE=0]=
"HANDSHAKE";c[c.OPEN=1]="OPEN";c[c.OPENED=2]="OPENED";c[c.RESPONSE=3]="RESPONSE";c[c.INVOKE=4]="INVOKE";c[c.ABORT=5]="ABORT";c[c.CLOSE=6]="CLOSE";c[c.OPEN_PORT=7]="OPEN_PORT";c[c.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let d=0;a.isTranferableResult=v;a.newJobId=function(){return d++};a.postMessage=function(c,b,f,e){b.type===a.MessageType.OPEN_PORT?c.postMessage(b,[b.port]):b.type!==a.MessageType.INVOKE&&b.type!==a.MessageType.RESPONSE?c.postMessage(b):(v(f)?(e=r(f.transferList),b.data=f.result):
(e=r(e),b.data=f),e?c.postMessage(b,e):c.postMessage(b))};a.receiveMessage=function(c){return c?(c=c.data)?"string"===typeof c?JSON.parse(c):c:null:null};a.toInvokeError=function(c){return c?"string"===typeof c?JSON.stringify({name:"message",message:c}):c.toJSON?JSON.stringify(c):JSON.stringify({name:c.name,message:c.message,details:c.details||{stack:c.stack}}):null};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/workers/request":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers",
"../Error","../global","../maybe"],function(a,m,v,r,d){let c;a.execute=function(b,f={}){let e=f.responseType;e?"array-buffer"!==e&&"blob"!==e&&"json"!==e&&"native"!==e&&"native-request-init"!==e&&"text"!==e&&(e="text"):e="json";const h=d.unwrap(f.signal);delete f.signal;return r.invokeStaticMessage("request",{url:b,options:f},{signal:h}).then(function(){var g=m._asyncToGenerator(function*(k){let n,l,p;if(k.data)if(k.data instanceof ArrayBuffer){if("json"===e||"text"===e||"blob"===e){var t=new Blob([k.data]);
if("json"===e||"text"===e)if(c||(c=new FileReaderSync),p=c.readAsText(t),"json"===e){try{n=JSON.parse(p||null)}catch(u){throw new v("request:server",u.message,{...u,url:b,requestOptions:f});}if(n.error)throw new v("request:server",n.error.message,{...n.error,url:b,requestOptions:f});}}}else"native"===e&&(k.data.signal=h,l=yield fetch(k.data.url,k.data));switch(e){case "blob":break;case "json":t=n;break;case "native":t=l;break;case "text":t=p;break;default:t=k.data}return{data:t,requestOptions:f,ssl:k.ssl,
url:b}});return function(k){return g.apply(this,arguments)}}())};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../core/promiseUtils","./WorkerTile","./style/StyleRepository"],function(a,m,v,r){return function(){function d(){this._spriteInfo={};this._glyphInfo={}}var c=d.prototype;c.reset=function(){this._spriteInfo={};this._glyphInfo={};return Promise.resolve()};c.getLayers=
function(){var b;return null==(b=this._styleRepository)?void 0:b.layers};c.createTileAndParse=function(){var b=a._asyncToGenerator(function*(f,e){var {key:h}=f;const g={};for(const k of Object.keys(f.sourceName2DataAndRefKey))g[k]=f.sourceName2DataAndRefKey[k].refKey;h=new v(h,g,this,this._styleRepository);try{return yield h.parse(f,this._vectorTileLayerMaxBuffers,e)}catch(k){h.setObsolete();h.release();if(!m.isAbortError(k))throw k;return null}});return function(f,e){return b.apply(this,arguments)}}();
c.updateStyle=function(b){if(b&&0!==b.length&&this._styleRepository){var f=this._styleRepository;for(const e of b)switch(b=e.data,e.type){case 0:f.setPaintProperties(b.layer,b.paint);break;case 1:f.setLayoutProperties(b.layer,b.layout);break;case 3:f.deleteStyleLayer(b.layer);break;case 2:f.setStyleLayer(b.layer,b.index)}}};c.setStyle=function(b){this._styleRepository=new r(b.style);this._spriteInfo={};this._glyphInfo={};this._vectorTileLayerMaxBuffers=b.vectorTileLayerMaxBuffers};c.fetchSprites=
function(b,f,e){const h=[],g=this._spriteInfo;b.forEach(k=>{void 0===g[k.name]&&h.push(k)});return 0===h.length?Promise.resolve():f.invoke("getSprites",h,{signal:e&&e.signal}).then(k=>{for(const n in k)g[n]=k[n]})};c.getSpriteItems=function(){return this._spriteInfo};c.fetchGlyphs=function(b,f,e,h,g){const k=[];let n=this._glyphInfo[f];n?e.forEach(l=>{n[l]||k.push(l)}):(n=this._glyphInfo[f]=[],e.forEach(l=>k.push(l)));return 0===k.length?Promise.resolve():h.invoke("getGlyphs",{tileID:b,font:f,codePoints:k},
g).then(l=>{for(let p=0;p<l.length;p++)l[p]&&(n[p]=l[p])})};c.getGlyphItems=function(b){return this._glyphInfo[b]};return d}()})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/promiseUtils ./Placement ./TileParser ../../tiling/enums".split(" "),function(a,m,v,r,d,c){return function(){function b(e,h,g,k){this.status=c.TileStatus.INITIALIZED;this.placementEngine=new r.PlacementEngine;this.tileKey=
e;this.refKeys=h;this._workerTileHandler=g;this._styleRepository=k}var f=b.prototype;f.release=function(){this.tileKey="";this.refKeys=null;this.status=c.TileStatus.INITIALIZED;this._workerTileHandler=null};f.parse=function(){var e=a._asyncToGenerator(function*(h,g,k){const n=k&&k.signal;if(m.isSome(n)){const p=()=>{n.removeEventListener("abort",p);this.status=c.TileStatus.INVALID};n.addEventListener("abort",p)}try{var l=yield this._parse(h,k)}catch(p){if(v.isAbortError(p))throw p;return{result:[],
transferList:[]}}this.status=c.TileStatus.READY;h=[];for(const p of l)l=p.serialize(),h.push(l);return{result:h,transferList:h.length<=g&&h}});return function(h,g,k){return e.apply(this,arguments)}}();f.setObsolete=function(){this.status=c.TileStatus.INVALID};f.getLayers=function(){return this._workerTileHandler.getLayers()};f.getWorkerTileHandler=function(){return this._workerTileHandler};f._parse=function(){var e=a._asyncToGenerator(function*(h,g){const k=h.sourceName2DataAndRefKey;if(0===Object.keys(k).length)return[];
this.status=c.TileStatus.MODIFIED;return(new d(k,this,g.client,this._styleRepository,h.styleLayerUIDs)).parse(g)});return function(h,g){return e.apply(this,arguments)}}();return b}()})},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["exports","./GeometryUtils","./TextShaping","./decluttering/config","../webgl/Geometry"],function(a,m,v,r,d){let c=function(h,g,k,n,l,p=.5,t=m.C_INFINITY){this.anchor=h;this.labelAngle=g;this.glyphAngle=k;this.page=n;this.alternateVerticalGlyph=l;this.minzoom=
p;this.maxzoom=t},b=function(h,g,k,n,l,p,t,u,A,z,w,C){this.tl=h;this.tr=g;this.bl=k;this.br=n;this.mosaicRect=l;this.labelAngle=p;this.minAngle=t;this.maxAngle=u;this.anchor=A;this.minzoom=z;this.maxzoom=w;this.page=C},f=function(h){this.shapes=h},e=function(){function h(){}var g=h.prototype;g.getIconPlacement=function(k,n,l){const p=new d.Point(k.x,k.y),t=0===l.rotationAlignment,u=l.keepUpright;let A=l.rotate*m.C_DEG_TO_RAD;t&&(A+=k.angle);k=new f([]);l.allowOverlap&&l.ignorePlacement||!r.DECLUTTER_TILES||
(k.iconColliders=[]);this._addIconPlacement(k,p,n,l,A);t&&u&&this._addIconPlacement(k,p,n,l,A+m.C_PI);return k};g._addIconPlacement=function(k,n,l,p,t){var u=l.pixelRatio;const A=l.width/u,z=l.height/u;var w=p.offset;let C=w[0];w=w[1];switch(p.anchor){case 0:C-=A/2;w-=z/2;break;case 1:w-=z/2;break;case 2:C-=A;w-=z/2;break;case 3:C-=A/2;break;case 4:C-=A/2;w-=z;break;case 7:w-=z;break;case 6:C-=A;break;case 8:C-=A,w-=z}l=l.rect;var y=2/u,x=C-y,E=w-y,D=x+l.width/u,q=E+l.height/u;u=new d.Point(x,E);
y=new d.Point(D,q);x=new d.Point(x,q);E=new d.Point(D,E);0!==t&&(D=Math.cos(t),q=Math.sin(t),u.rotate(D,q),y.rotate(D,q),x.rotate(D,q),E.rotate(D,q));l=new b(u,E,x,y,l,t,0,256,n,.5,m.C_INFINITY,0);k.shapes.push(l);p.allowOverlap&&p.ignorePlacement||!r.DECLUTTER_TILES||(l=p.size,u=p.padding,k.iconColliders.push({xTile:n.x,yTile:n.y,dxPixels:C*l-u,dyPixels:w*l-u,hard:!p.optional,partIndex:0,width:A*l+2*u,height:z*l+2*u,angle:t,minLod:.5,maxLod:m.C_INFINITY}))};g.getTextPlacement=function(k,n,l,p){var t=
new d.Point(k.x,k.y);const u=p.rotate*m.C_DEG_TO_RAD;var A=0===p.rotationAlignment;const z=p.keepUpright,w=p.padding;let C=.5;const y=A?k.angle:0,x=0<=k.segment&&A,E=p.allowOverlap&&p.ignorePlacement?null:[],D=[],q=!x;var B=Number.POSITIVE_INFINITY;let G=Number.NEGATIVE_INFINITY,F=B,H=G;const J=x?z:A&&z,Q=p.size/v.SDF_GLYPH_SIZE;let T=!1;for(var R of n)if(R.vertical){T=!0;break}let V=0;R=0;if(!x&&T){var Y=v.TextShaping.getTextBox(n,p.lineHeight*v.SDF_GLYPH_SIZE);switch(p.anchor){case 1:V=Y.height/
2;R=-Y.width/2;break;case 2:V=-Y.height/2;R=Y.width/2;break;case 3:V=Y.height/2;R=Y.width/2;break;case 4:V=-Y.height/2;R=-Y.width/2;break;case 5:V=Y.height;break;case 7:R=-Y.width;break;case 6:R=Y.width;break;case 8:V=-Y.height}}V+=p.offset[0]*v.SDF_GLYPH_SIZE;R+=p.offset[1]*v.SDF_GLYPH_SIZE;for(const U of n){var da=U.glyphMosaicItem;if(!da||da.rect.isEmpty)continue;n=da.rect;Y=da.metrics;var na=da.page;if(E&&q){if(void 0!==va&&va!==U.y){var ta=void 0,ka=void 0;if(T){var va=-H+V;ta=B+R;ka=H-F;B=G-
B}else va=B+V,ta=F+R,ka=G-B,B=H-F;E.push({xTile:k.x,yTile:k.y,dxPixels:va*Q-w,dyPixels:ta*Q-w,hard:!p.optional,partIndex:1,width:ka*Q+2*w,height:B*Q+2*w,angle:u,minLod:.5,maxLod:m.C_INFINITY});B=Number.POSITIVE_INFINITY;G=Number.NEGATIVE_INFINITY;F=B;H=G}va=U.y}var pa=[];if(x){if(da=(U.x+Y.left-4+.5*da.metrics.width)*Q*8,C=this._placeGlyph(k,C,da,l,k.segment,1,U.vertical,na,pa),z&&(C=this._placeGlyph(k,C,da,l,k.segment,-1,U.vertical,na,pa)),2<=C)break}else pa.push(new c(t,y,y,na,!1)),A&&z&&pa.push(new c(t,
y+m.C_PI,y+m.C_PI,na,!1));na=U.x+Y.left;da=U.y-v.SDF_GLYPH_BASELINE-Y.top;ta=na+Y.width;ka=da+Y.height;let ca,ba,ja,qa;!x&&T?U.vertical?(ca=new d.Point(-((da+ka)/2+Y.width/2)-4+V,(na+ta)/2-Y.height/2-4+R),ba=new d.Point(ca.x+n.width,ca.y+n.height),ja=new d.Point(ca.x,ba.y),qa=new d.Point(ba.x,ca.y)):(ca=new d.Point(-da+4+V,na-4+R),ba=new d.Point(ca.x-n.height,ca.y+n.width),ja=new d.Point(ba.x,ca.y),qa=new d.Point(ca.x,ba.y)):(ca=new d.Point(na-4+V,da-4+R),ba=new d.Point(ca.x+n.width,ca.y+n.height),
ja=new d.Point(ca.x,ba.y),qa=new d.Point(ba.x,ca.y));let sa,wa,ra,ya;for(const K of pa){let W,aa,ea;K.alternateVerticalGlyph?(sa||(sa=new d.Point((na+ta)/2+V-Y.height/2-4,(da+ka)/2+R+Y.width/2+4),wa=new d.Point(sa.x+n.height,sa.y-n.width),ra=new d.Point(wa.x,sa.y),ya=new d.Point(sa.x,wa.y)),pa=sa,W=ra,aa=ya,ea=wa):(pa=ca,W=ja,aa=qa,ea=ba);const M=da,I=ka,L=K.glyphAngle+u;if(0!==L){var O=Math.cos(L),S=Math.sin(L);pa=pa.clone();W=W.clone();aa=aa.clone();ea=ea.clone();pa.rotate(O,S);ea.rotate(O,S);W.rotate(O,
S);aa.rotate(O,S)}O=0;S=256;x&&T?U.vertical?K.alternateVerticalGlyph?(O=32,S=96):(O=224,S=32):(O=224,S=96):(O=192,S=64);D.push(new b(pa,aa,W,ea,n,K.labelAngle,O,S,K.anchor,K.minzoom,K.maxzoom,K.page));!E||J&&!this._legible(K.labelAngle)||(q?(na<B&&(B=na),M<F&&(F=M),ta>G&&(G=ta),I>H&&(H=I)):2>K.minzoom&&E.push({xTile:k.x,yTile:k.y,dxPixels:(na+V)*Q-w,dyPixels:(M+V)*Q-w,hard:!p.optional,partIndex:1,width:(ta-na)*Q+2*w,height:(I-M)*Q+2*w,angle:L,minLod:K.minzoom,maxLod:K.maxzoom}))}}if(2<=C)return null;
E&&q&&(T?(l=-H+V,t=B+R,A=H-F,B=G-B):(l=B+V,t=F+R,A=G-B,B=H-F),E.push({xTile:k.x,yTile:k.y,dxPixels:l*Q-w,dyPixels:t*Q-w,hard:!p.optional,partIndex:1,width:A*Q+2*w,height:B*Q+2*w,angle:u,minLod:.5,maxLod:m.C_INFINITY}));k=new f(D);E&&0<E.length&&(k.textColliders=E);return k};g._legible=function(k){k=m.radToByte(k);return 65>k||193<=k};g._placeGlyph=function(k,n,l,p,t,u,A,z,w){const C=0>u?m.positiveMod(k.angle+m.C_PI,m.C_2PI):k.angle;let y=0;0>l&&(u*=-1,l*=-1,y=m.C_PI);0<u&&++t;k=new d.Point(k.x,k.y);
let x=p[t];var E=m.C_INFINITY;if(p.length<=t)return E;for(;;){var D=x.x-k.x,q=x.y-k.y;const B=Math.sqrt(D*D+q*q),G=Math.max(l/B,n);D=m.positiveMod(Math.atan2(q/B,D/B)+y,m.C_2PI);w.push(new c(k,C,D,z,!1,G,E));A&&w.push(new c(k,C,D,z,!0,G,E));if(G<=n)return G;k=x.clone();do{t+=u;if(p.length<=t||0>t)return G;x=p[t]}while(k.isEqual(x));E=x.x-k.x;D=x.y-k.y;q=Math.sqrt(E*E+D*D);E*=B/q;D*=B/q;k.x-=E;k.y-=D;E=G}};return h}();a.Anchor=function(h,g,k=0,n=-1,l=.5){this.x=h;this.y=g;this.angle=k;this.segment=
n;this.minzoom=l};a.PlacedSymbol=b;a.Placement=f;a.PlacementEngine=e;a.TILE_COORD_SIZE=4096;a.TILE_PIXEL_RATIO=8;a.TILE_PIXEL_SIZE=512;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports"],function(a){function m(f,e){f%=e;return 0<=f?f:f+e}const v=Number.POSITIVE_INFINITY,r=Math.PI,d=128/r,c=256/360,b=1/Math.LN2;a.C_256_TO_RAD=r/128;a.C_2PI=2*r;a.C_DEG_TO_256=c;a.C_DEG_TO_RAD=r/180;a.C_INFINITY=v;a.C_PI=r;a.C_PI_BY_2=r/2;
a.C_RAD_TO_256=d;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/1.414213562;a.between=function(f,e,h){return f>=e&&f<=h||f>=h&&f<=e};a.degToByte=function(f){return m(f*c,256)};a.interpolate=function(f,e,h){return f*(1-h)+e*h};a.log2=function(f){return Math.log(f)*b};a.positiveMod=m;a.radToByte=function(f){return m(f*d,256)};a.sqr=function(f){return f*f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["exports","./ScriptUtils","../webgl/Rect"],
function(a,m,v){let r=function(){function d(b,f,e,h,g,k,n){this._glyphItems=b;this._maxWidth=f;this._lineHeight=e;this._letterSpacing=h;this._hAnchor=g;this._vAnchor=k;this._justify=n}var c=d.prototype;c.getShaping=function(b,f,e){var h=this._letterSpacing;const g=this._lineHeight;var k=this._justify,n=this._maxWidth;const l=[];var p=0,t=0,u=b.length;for(var A=0;A<u;A++){var z=b.charCodeAt(A),w=e&&m.hasVerticalOrientation(z);let C;for(const y of this._glyphItems)if(C=y[z])break;l.push({codePoint:z,
x:p,y:t,vertical:w,glyphMosaicItem:C});C&&(p+=C.metrics.advance+h)}e=p;0<n&&(e=p/Math.max(1,Math.ceil(p/n)));b=0<=b.indexOf("\u200b");n=[];for(h=0;h<u-1;h++)if(z=l[h].codePoint,w=m.allowsIdeographicBreak(z),m.isLineBreak(z)||w){A=0;if(10===z)A-=1E4;else if(w&&b)A+=150;else{if(40===z||65288===z)A+=50;z=l[h+1].codePoint;if(41===z||65289===z)A+=50}n.push(this._buildBreak(h+1,l[h].x,e,n,A,!1))}u=this._optimalBreaks(this._buildBreak(u,p,e,n,0,!0));p=0;b=f?-g:g;h=0;for(n=0;n<u.length;n++){for(e=u[n];h<
e&&m.isWhiteSpace(l[h].codePoint);)l[h].glyphMosaicItem=null,++h;for(A=e-1;A>h&&m.isWhiteSpace(l[A].codePoint);)l[A].glyphMosaicItem=null,--A;if(h<=A){z=l[h].x;for(w=h;w<=A;w++)l[w].x-=z,l[w].y=t;z=l[A].x;l[A].glyphMosaicItem&&(z+=l[A].glyphMosaicItem.metrics.advance);p=Math.max(z,p);k&&this._applyJustification(l,h,A)}h=e;t+=b}if(0<l.length){t=u.length-1;k=(k-this._hAnchor)*p;p=(-this._vAnchor*(t+1)+.5)*g;f&&t&&(p+=t*g);for(const C of l)C.x+=k,C.y+=p}return l.filter(C=>C.glyphMosaicItem)};d.getTextBox=
function(b,f){if(!b.length)return null;let e=Infinity,h=Infinity,g=0,k=0;for(const n of b){b=n.x;const l=n.y-17,p=b+n.glyphMosaicItem.metrics.advance,t=l+f;e=Math.min(e,b);g=Math.max(g,p);h=Math.min(h,l);k=Math.max(k,t)}return{x:e,y:h,width:g-e,height:k-h}};d.getBox=function(b){if(!b.length)return null;let f=Infinity,e=Infinity,h=0,g=0;for(const k of b){const {height:n,left:l,top:p,width:t}=k.glyphMosaicItem.metrics;b=k.x;const u=k.y-(n-Math.abs(p)),A=b+t+l,z=u+n;f=Math.min(f,b);h=Math.max(h,A);e=
Math.min(e,u);g=Math.max(g,z)}return{x:f,y:e,width:h-f,height:g-e}};d.addDecoration=function(b,f){var e=b.length;if(0!==e){var h=b[0].x+b[0].glyphMosaicItem.metrics.left,g=b[0].y;for(let k=1;k<e;k++){const n=b[k];if(n.y!==g){const l=b[k-1].x+b[k-1].glyphMosaicItem.metrics.left+b[k-1].glyphMosaicItem.metrics.width;b.push({codePoint:0,x:h,y:g+f-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new v(4,0,4,8),metrics:{width:l-h,height:8,left:0,top:0,advance:0},page:0,code:0}});g=n.y;h=n.x+n.glyphMosaicItem.metrics.left}}e=
b[e-1].x+b[e-1].glyphMosaicItem.metrics.left+b[e-1].glyphMosaicItem.metrics.width;b.push({codePoint:0,x:h,y:g+f-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new v(4,0,4,8),metrics:{width:e-h,height:8,left:0,top:0,advance:0},page:0,code:0}})}};c._breakScore=function(b,f,e,h){const g=(b-f)*(b-f);return h?b<f?g/2:2*g:g+Math.abs(e)*e};c._buildBreak=function(b,f,e,h,g,k){let n=null,l=this._breakScore(f,e,g,k);for(const p of h)h=this._breakScore(f-p.x,e,g,k)+p.score,h<=l&&(n=p,l=h);return{index:b,x:f,score:l,
previousBreak:n}};c._optimalBreaks=function(b){return b?this._optimalBreaks(b.previousBreak).concat(b.index):[]};c._applyJustification=function(b,f,e){var h=b[e];for(h=(h.x+(h.vertical?24:h.glyphMosaicItem?h.glyphMosaicItem.metrics.advance:0))*this._justify;f<=e;f++)b[f].x-=h};return d}();a.SDF_GLYPH_BASELINE=17;a.SDF_GLYPH_SIZE=24;a.TextShaping=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["exports"],function(a){a.allowsIdeographicBreak=
function(m){return 11904>m?!1:12704<=m&&12735>=m||12544<=m&&12591>=m||65072<=m&&65103>=m||63744<=m&&64255>=m||13056<=m&&13311>=m||11904<=m&&12031>=m||12736<=m&&12783>=m||12288<=m&&12351>=m||13312<=m&&19903>=m||19968<=m&&40959>=m||12800<=m&&13055>=m||65280<=m&&65519>=m||12352<=m&&12447>=m||12272<=m&&12287>=m||12032<=m&&12255>=m||12784<=m&&12799>=m||12448<=m&&12543>=m||65040<=m&&65055>=m||42128<=m&&42191>=m||40960<=m&&42127>=m?!0:!1};a.hasVerticalOrientation=function(m){return 746===m||747===m?!0:4352>
m?!1:12704<=m&&12735>=m||12544<=m&&12591>=m||65072<=m&&65103>=m&&!(65097<=m&&65103>=m)||63744<=m&&64255>=m||13056<=m&&13311>=m||11904<=m&&12031>=m||12736<=m&&12783>=m||12288<=m&&12351>=m&&!(12296<=m&&12305>=m||12308<=m&&12319>=m)&&12336!==m||13312<=m&&19903>=m||19968<=m&&40959>=m||12800<=m&&13055>=m||12592<=m&&12687>=m||43360<=m&&43391>=m||55216<=m&&55295>=m||4352<=m&&4607>=m||44032<=m&&55215>=m||12352<=m&&12447>=m||12272<=m&&12287>=m||12688<=m&&12703>=m||12032<=m&&12255>=m||12784<=m&&12799>=m||12448<=
m&&12543>=m&&12540!==m||65280<=m&&65519>=m&&!(65288===m||65289===m||65293===m||65306<=m&&65310>=m||65339===m||65341===m||65343===m||65371<=m&&65503>=m||65507===m||65512<=m&&65519>=m)||65104<=m&&65135>=m&&!(65112<=m&&65118>=m||65123<=m&&65126>=m)||5120<=m&&5759>=m||6320<=m&&6399>=m||65040<=m&&65055>=m||19904<=m&&19967>=m||40960<=m&&42127>=m||42128<=m&&42191>=m?!0:!1};a.isLineBreak=function(m){switch(m){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1};
a.isWhiteSpace=function(m){switch(m){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/Rect":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function m(v=0,r=0,d=0,c=0){this.x=v;this.y=r;this.width=d;this.height=c}m.prototype.union=function(v){this.x=Math.min(this.x,v.x);this.y=Math.min(this.y,v.y);this.width=Math.max(this.width,v.width);this.height=Math.max(this.height,
v.height)};a._createClass(m,[{key:"isEmpty",get:function(){return 0>=this.width||0>=this.height}}]);return m}()})},"esri/views/2d/engine/vectorTiles/decluttering/config":function(){define(["exports"],function(a){a.COLLISION_GRID_CELL_SIZE=32;a.DECLUTTER_BUDGET=1.5;a.DECLUTTER_TILES=!0;a.FADE_DURATION=200;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/Geometry":function(){define(["exports"],function(a){let m=function(){function v(d,c){this.x=d;this.y=c}var r=v.prototype;
r.clone=function(){return new v(this.x,this.y)};r.equals=function(d,c){return d===this.x&&c===this.y};r.isEqual=function(d){return d.x===this.x&&d.y===this.y};r.setCoords=function(d,c){this.x=d;this.y=c};r.normalize=function(){var d=this.x;const c=this.y;d=Math.sqrt(d*d+c*c);this.x/=d;this.y/=d};r.rightPerpendicular=function(){const d=this.x;this.x=this.y;this.y=-d};r.move=function(d,c){this.x+=d;this.y+=c};r.assign=function(d){this.x=d.x;this.y=d.y};r.assignAdd=function(d,c){this.x=d.x+c.x;this.y=
d.y+c.y};r.assignSub=function(d,c){this.x=d.x-c.x;this.y=d.y-c.y};r.rotate=function(d,c){const b=this.x,f=this.y;this.x=b*d-f*c;this.y=b*c+f*d};r.scale=function(d){this.x*=d;this.y*=d};r.length=function(){const d=this.x,c=this.y;return Math.sqrt(d*d+c*c)};v.distance=function(d,c){const b=c.x-d.x;d=c.y-d.y;return Math.sqrt(b*b+d*d)};v.add=function(d,c){return new v(d.x+c.x,d.y+c.y)};v.sub=function(d,c){return new v(d.x-c.x,d.y-c.y)};return v}();a.Point=m;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/views/2d/engine/vectorTiles/TileParser":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/pbf ../../../../core/promiseUtils ./Feature ./IndexMemoryBuffer ./SourceLayerData ./VertexMemoryBuffer ./buckets/CircleBucket ./buckets/FillBucket ./buckets/LineBucket ./buckets/SymbolBucket ../webgl/TileClipper ../../tiling/enums".split(" "),function(a,m,v,r,d,c,b,f,e,h,g,k,n){return function(){function l(t,u,A,z,w){this._pbfTiles={};this._tileClippers={};this._client=A;
this._tile=u;if(w){this._styleLayerUIDs=new Set;for(const E of w)this._styleLayerUIDs.add(E)}this._styleRepository=z;this._layers=this._styleRepository.layers;const [C,y,x]=u.tileKey.split("/").map(parseFloat);this._level=C;u=8+Math.max(5*(this._level-14),0);for(const E of Object.keys(t))A=t[E],this._pbfTiles[E]=new m(new Uint8Array(A.protobuff),new DataView(A.protobuff)),A.refKey&&([A]=A.refKey.split("/").map(parseFloat),A=C-A,0<A&&(z=(1<<A)-1,this._tileClippers[E]=new k.TileClipper(A,y&z,x&z,8,
u))),this._tileClippers[E]||(this._tileClippers[E]=new k.SimpleBuilder)}var p=l.prototype;p._canParseStyleLayer=function(t){return!this._styleLayerUIDs||this._styleLayerUIDs.has(t)};p.parse=function(){var t=a._asyncToGenerator(function*(u){const A=this._initialize(u),{returnedBuckets:z}=A;this._processLayers(A);this._linkReferences(A);this._filterFeatures(A);const w=new Set,C={};for(const y of z)y.getResources(y.tileClipper,w,C);if(this._tile.status===n.TileStatus.INVALID)return Promise.resolve([]);
u=this._fetchResources(w,C,u);return Promise.all(u).then(()=>this._processFeatures(A.returnedBuckets))});return function(u){return t.apply(this,arguments)}}();p._initialize=function(t){t=t&&t.signal;const u=this._parseTileData(this._pbfTiles),A=this._layers,z=this._level,w=this._tileClippers,C=new Map;return{signal:t,sourceNameToTileData:u,layers:A,zoom:z,sourceNameToTileClipper:w,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:C}};
p._processLayers=function(t){const {sourceNameToTileData:u,layers:A,zoom:z,sourceNameToTileClipper:w,sourceNameToUniqueSourceLayerBuckets:C,sourceNameToUniqueSourceLayers:y,returnedBuckets:x,layerIdToBucket:E,referencerUIDToReferencedId:D}=t;for(t=A.length-1;0<=t;t--){const F=A[t];if(!this._canParseStyleLayer(F.uid)||F.minzoom&&z<Math.floor(F.minzoom)||F.maxzoom&&z>=F.maxzoom||0===F.type)continue;if(!u[F.source]||!w[F.source])continue;var q=w[F.source];const H=F.sourceLayer;var B=u[F.source][H];if(B){var G=
y[F.source];G||(G=y[F.source]=new Set);G.add(F.sourceLayer);if(F.refLayerId)D.set(F.uid,F.refLayerId);else if(G=this._createBucket(F))G.layerUIDs=[F.uid],G.layerExtent=B.extent,G.tileClipper=q,(q=C[F.source])||(q=C[F.source]={}),(B=q[H])||(B=q[H]=[]),B.push(G),x.push(G),E[F.id.toLowerCase()]=G}}};p._linkReferences=function(t){const {layerIdToBucket:u,referencerUIDToReferencedId:A}=t;A.forEach((z,w)=>{z=z.toLowerCase();u[z]&&u[z].layerUIDs.push(w)})};p._filterFeatures=function(t){const {signal:u,sourceNameToTileData:A,
sourceNameToUniqueSourceLayerBuckets:z,sourceNameToUniqueSourceLayers:w}=t;t=10*this._level;const C=10*(this._level+1),y=[],x=[];for(const B of Object.keys(w))w[B].forEach(G=>{y.push(G);x.push(B)});for(let B=0;B<y.length;B++){var E=x[B],D=y[B];if(!A[E]||!z[E])continue;const G=A[E][D];if((E=z[E][D])&&0!==E.length){if(v.isAborted(u))break;for(D=G.getData();D.nextTag(2);){var q=D.getMessage();const F=new r(q,G);q.release();if(q=F.values){const H=q._minzoom;if(H&&H>=C)continue;if((q=q._maxzoom)&&q<=t)continue}for(const H of E)H.pushFeature(F)}}}};
p._fetchResources=function(t,u,A){const z=[],w=this._tile.getWorkerTileHandler();0<t.size&&(t=w.fetchSprites(t,this._client,A),z.push(t));for(const C in u)t=u[C],0<t.size&&(t=w.fetchGlyphs(this._tile.tileKey,C,t,this._client,A),z.push(t));return z};p._processFeatures=function(t){t=t.filter(u=>u.hasFeatures()||this._canParseStyleLayer(u.layer.uid));for(const u of t)u.processFeatures(u.tileClipper);return t};p._parseTileData=function(t){const u={};for(const A of Object.keys(t)){const z=t[A],w={};for(;z.next();)switch(z.tag()){case 3:{const C=
z.getMessage(),y=new c(C);C.release();w[y.name]=y;break}default:z.skip()}u[A]=w}return u};p._createBucket=function(t){switch(t.type){case 0:return null;case 1:return this._createFillBucket(t);case 2:return this._createLineBucket(t);case 4:return this._createCircleBucket(t);case 3:return this._createSymbolBucket(t)}};p._createFillBucket=function(t){return new e(t,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new b.FillVertexBuffer(t.fillMaterial.getStride()),new d.TriangleIndexBuffer,
new b.OutlineVertexBuffer(t.outlineMaterial.getStride()),new d.TriangleIndexBuffer)};p._createLineBucket=function(t){return new h(t,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new b.LineVertexBuffer(t.lineMaterial.getStride()),new d.TriangleIndexBuffer)};p._createCircleBucket=function(t){return new f(t,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new b.CircleVertexBuffer(t.circleMaterial.getStride()),new d.TriangleIndexBuffer)};p._createSymbolBucket=function(t){const u=
this._tile;return new g(t,this._level,new b.SymbolVertexBuffer(t.iconMaterial.getStride()),new d.TriangleIndexBuffer,new b.SymbolVertexBuffer(t.textMaterial.getStride()),new d.TriangleIndexBuffer,u.placementEngine,u.getWorkerTileHandler())};return l}()})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,m){const v=a("esri-text-decoder")?new TextDecoder("utf-8"):null,r=a("safari")||a("ios")?6:a("ff")?12:32;a=function(){function d(b,f,e=0,h=b?b.byteLength:0){this._tag=0;this._dataType=
99;this.init(b,f,e,h)}var c=d.prototype;c.init=function(b,f,e,h){this._data=b;this._dataView=f;this._pos=e;this._end=h};c.clone=function(){return new d(this._data,this._dataView,this._pos,this._end)};c.pos=function(){return this._pos};c.move=function(b){this._pos=b};c.nextTag=function(b){for(;;){if(this._pos===this._end)return!1;const f=this._decodeVarint();this._tag=f>>3;this._dataType=f&7;if(!b||b===this._tag)break;this.skip()}return!0};c.next=function(){if(this._pos===this._end)return!1;const b=
this._decodeVarint();this._tag=b>>3;this._dataType=b&7;return!0};c.empty=function(){return this._pos>=this._end};c.tag=function(){return this._tag};c.getInt32=function(){return this._decodeVarint()};c.getInt64=function(){return this._decodeVarint()};c.getUInt32=function(){let b=4294967295;b=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return b;
b=(b|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return b};c.getUInt64=function(){return this._decodeVarint()};c.getSInt32=function(){const b=this.getUInt32();return b>>>1^-(b&1)|0};c.getSInt64=function(){return this._decodeSVarint()};c.getBool=function(){const b=0!==this._data[this._pos];this._skip(1);return b};c.getEnum=function(){return this._decodeVarint()};c.getFixed64=function(){var b=this._dataView;
const f=this._pos;b=b.getUint32(f,!0)+4294967296*b.getUint32(f+4,!0);this._skip(8);return b};c.getSFixed64=function(){var b=this._dataView;const f=this._pos;b=b.getUint32(f,!0)+4294967296*b.getInt32(f+4,!0);this._skip(8);return b};c.getDouble=function(){const b=this._dataView.getFloat64(this._pos,!0);this._skip(8);return b};c.getFixed32=function(){const b=this._dataView.getUint32(this._pos,!0);this._skip(4);return b};c.getSFixed32=function(){const b=this._dataView.getInt32(this._pos,!0);this._skip(4);
return b};c.getFloat=function(){const b=this._dataView.getFloat32(this._pos,!0);this._skip(4);return b};c.getString=function(){const b=this._getLength();var f=this._pos;f=this._toString(this._data,f,f+b);this._skip(b);return f};c.getBytes=function(){const b=this._getLength();var f=this._pos;f=this._toBytes(this._data,f,f+b);this._skip(b);return f};c.getLength=function(){return this._getLengthUnsafe()};c.processMessageWithArgs=function(b,f,e,h){const g=this.getMessage();b=b(g,f,e,h);g.release();return b};
c.processMessage=function(b){const f=this.getMessage();b=b(f);f.release();return b};c.getMessage=function(){const b=this._getLength(),f=d.pool.acquire();f.init(this._data,this._dataView,this._pos,this._pos+b);this._skip(b);return f};c.release=function(){d.pool.release(this)};c.dataType=function(){return this._dataType};c.skip=function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");
}};c.skipLen=function(b){this._skip(b)};c._skip=function(b){if(this._pos+b>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=b};c._decodeVarint=function(){const b=this._data;let f=this._pos,e=0,h;if(10<=this._end-f){if(h=b[f++],e|=h&127,0!==(h&128)&&(h=b[f++],e|=(h&127)<<7,0!==(h&128)&&(h=b[f++],e|=(h&127)<<14,0!==(h&128)&&(h=b[f++],e|=(h&127)<<21,0!==(h&128)&&(h=b[f++],e+=268435456*(h&127),0!==(h&128)&&(h=b[f++],e+=34359738368*(h&127),0!==(h&128)&&(h=b[f++],e+=4398046511104*
(h&127),0!==(h&128)&&(h=b[f++],e+=562949953421312*(h&127),0!==(h&128)&&(h=b[f++],e+=72057594037927936*(h&127),0!==(h&128)&&(h=b[f++],e+=0x7fffffffffffffff*(h&127),0!==(h&128)))))))))))throw Error("Varint too long!");}else{let g=1;for(;f!==this._end;){h=b[f];if(0===(h&128))break;++f;e+=(h&127)*g;g*=128}if(f===this._end)throw Error("Varint overrun!");++f;e+=h*g}this._pos=f;return e};c._decodeSVarint=function(){const b=this._decodeVarint();return b%2?-(b+1)/2:b/2};c._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");
return this._decodeVarint()};c._getLengthUnsafe=function(){return this.getUInt32()};c._toString=function(b,f,e){e=Math.min(this._end,e);if(e-f>r&&v)return b=b.subarray(f,e),v.decode(b);let h="",g="";for(;f<e;++f){const k=b[f];k&128?g+="%"+k.toString(16):(h+=decodeURIComponent(g)+String.fromCharCode(k),g="")}g.length&&(h+=decodeURIComponent(g));return h};c._toBytes=function(b,f,e){e=Math.min(this._end,e);return new Uint8Array(b.buffer,f,e-f)};return d}();a.pool=new m(a,null,d=>{d._data=null;d._dataView=
null});return a})},"esri/core/ObjectPool":function(){define(function(){let a=function(){function m(r,d,c,b=1,f=0){this.ctor=r;this.acquireFunction=d;this.releaseFunction=c;this.allocationSize=b;this._pool=Array(f);this._initialSize=f;if(this.ctor)for(r=0;r<f;r++)this._pool[r]=new this.ctor;this.allocationSize=Math.max(b,1)}var v=m.prototype;v.destroy=function(){this.prune(0)};v.acquire=function(...r){if(m.test.disabled)var d=new this.ctor;else{if(0===this._pool.length){d=this.allocationSize;for(let c=
0;c<d;c++)this._pool[c]=new this.ctor}d=this._pool.pop()}this.acquireFunction?this.acquireFunction(d,...r):d&&d.acquire&&"function"===typeof d.acquire&&d.acquire(...r);return d};v.release=function(r){r&&!m.test.disabled&&(this.releaseFunction?this.releaseFunction(r):r&&r.release&&"function"===typeof r.release&&r.release(),this._pool.push(r))};v.prune=function(r=this._initialSize){if(!(r>=this._pool.length)){for(let d=r;d<this._pool.length;++d)this._dispose(this._pool[d]);this._pool.length=r}};v._dispose=
function(r){r.dispose&&"function"===typeof r.dispose&&r.dispose()};return m}();a.test={disabled:!1};return a})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["../webgl/Geometry"],function(a){return function(){function m(v,r){this.values={};const d=r.keys;for(r=r.values;v.next();)switch(v.tag()){case 1:this.id=v.getUInt64();break;case 2:{const c=v.getMessage(),b=this.values;for(;!c.empty();){const f=c.getUInt32(),e=c.getUInt32();b[d[f]]=r[e]}c.release();break}case 3:this.type=v.getUInt32();
break;case 4:this._pbfGeometry=v.getMessage();break;default:v.skip()}}m.prototype.getGeometry=function(v){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const r=this._pbfGeometry;this._pbfGeometry=null;let d,c;v?v.reset(this.type):d=[];let b=1;var f=0;let e=0,h=0;for(;!r.empty();)switch(0===f&&(f=r.getUInt32(),b=f&7,f>>=3),f--,b){case 1:e+=r.getSInt32();h+=r.getSInt32();v?v.moveTo(e,h):(c&&d.push(c),c=[],c.push(new a.Point(e,h)));break;case 2:e+=r.getSInt32();h+=
r.getSInt32();v?v.lineTo(e,h):c.push(new a.Point(e,h));break;case 7:v?v.close():c&&!c[0].equals(e,h)&&c.push(c[0].clone());break;default:throw r.release(),Error("Invalid path operation");}v?v=v.result():(c&&d.push(c),v=d);r.release();return this._geometry=v};return m}()})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./MemoryBuffer"],function(a,m,v){let r=function(d){function c(){return d.call(this,12)||this}m._inheritsLoose(c,
d);c.prototype.add=function(b,f,e){const h=this.array;h.push(b);h.push(f);h.push(e)};return c}(v);v=function(d){function c(){return d.call(this,4)||this}m._inheritsLoose(c,d);c.prototype.add=function(b){this.array.push(b)};return c}(v);a.PointElementMemoryBuffer=v;a.TriangleIndexBuffer=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(a){return function(){function m(r){this._array=
[];0>=r&&console.error("strideInBytes must be positive!");this._stride=r}var v=m.prototype;v.reset=function(){this.array.length=0};v.toBuffer=function(){return(new Uint32Array(this._array)).buffer};m.i1616to32=function(r,d){return 65535&r|d<<16};m.i8888to32=function(r,d,c,b){return r&255|(d&255)<<8|(c&255)<<16|b<<24};m.i8816to32=function(r,d,c){return r&255|(d&255)<<8|c<<16};a._createClass(m,[{key:"array",get:function(){return this._array}},{key:"index",get:function(){return 4*this._array.length/
this._stride}},{key:"itemSize",get:function(){return this._stride}},{key:"sizeInBytes",get:function(){return 4*this._array.length}}]);return m}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(function(){return function(){function a(m){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=m.clone();m.next();)switch(m.tag()){case 1:this.name=m.getString();break;case 3:this.keys.push(m.getString());break;case 4:this.values.push(m.processMessage(a._parseValue));break;
case 5:this.extent=m.getUInt32();break;default:m.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(m){for(;m.next();)switch(m.tag()){case 1:return m.getString();case 2:return m.getFloat();case 3:return m.getDouble();case 4:return m.getInt64();case 5:return m.getUInt64();case 6:return m.getSInt64();case 7:return m.getBool();default:m.skip()}return null};return a}()})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers",
"./GeometryUtils","./MemoryBuffer"],function(a,m,v,r){let d=function(h){function g(k){return h.call(this,k)||this}m._inheritsLoose(g,h);g.prototype.add=function(k,n,l,p,t,u,A,z,w,C,y,x){const E=this.array;k=r.i1616to32(k,n);E.push(k);k=r.i8888to32(Math.round(31*l),Math.round(31*p),Math.round(31*t),Math.round(31*u));E.push(k);k=r.i8888to32(Math.round(31*A),Math.round(31*z),Math.round(31*w),Math.round(31*C));E.push(k);k=r.i1616to32(y,0);E.push(k);x&&E.push(...x)};return g}(r),c=function(h){function g(k){return h.call(this,
k)||this}m._inheritsLoose(g,h);g.prototype.add=function(k,n,l){const p=this.array;p.push(r.i1616to32(k,n));l&&p.push(...l)};return g}(r),b=function(h){function g(k){return h.call(this,k)||this}m._inheritsLoose(g,h);g.prototype.add=function(k,n,l,p,t,u,A){const z=this.array,w=this.index;k=r.i1616to32(k,n);z.push(k);k=r.i8888to32(Math.round(15*l),Math.round(15*p),t,u);z.push(k);A&&z.push(...A);return w};return g}(r),f=function(h){function g(k){return h.call(this,k)||this}m._inheritsLoose(g,h);g.prototype.add=
function(k,n,l,p,t,u,A,z,w,C,y,x){const E=this.array;k=r.i1616to32(k,n);E.push(k);k=r.i1616to32(Math.round(8*l),Math.round(8*p));E.push(k);k=r.i8888to32(t/4,u/4,z,w);E.push(k);k=r.i8888to32(0,v.radToByte(A),10*C,Math.min(10*y,255));E.push(k);x&&E.push(...x)};return g}(r),e=function(h){function g(k){return h.call(this,k)||this}m._inheritsLoose(g,h);g.prototype.add=function(k,n,l,p,t){const u=this.array;k=r.i1616to32(2*k+l,2*n+p);u.push(k);t&&u.push(...t)};return g}(r);a.CircleVertexBuffer=e;a.FillVertexBuffer=
c;a.LineVertexBuffer=d;a.OutlineVertexBuffer=b;a.SymbolVertexBuffer=f;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/buckets/CircleBucket":function(){define(["../../../../../chunks/_rollupPluginBabelHelpers","./BaseBucket"],function(a,m){return function(v){function r(c,b,f,e,h){c=v.call(this,c,b,f)||this;c.type=4;c._circleVertexBuffer=e;c._circleIndexBuffer=h;return c}a._inheritsLoose(r,v);var d=r.prototype;d.processFeatures=function(c){const b=this._circleVertexBuffer,
f=this._circleIndexBuffer;this._circleIndexStart=3*f.index;this._circleIndexCount=0;const e=this.layer,h=this.zoom;c&&c.setExtent(this.layerExtent);for(const k of this._features){var g=k.getGeometry(c);if(!g)continue;const n=e.circleMaterial.encodeAttributes(k,h,e);for(const l of g)if(l)for(const p of l)g=b.index,b.add(p.x,p.y,0,0,n),b.add(p.x,p.y,0,1,n),b.add(p.x,p.y,1,0,n),b.add(p.x,p.y,1,1,n),f.add(g+0,g+1,g+2),f.add(g+1,g+2,g+3),this._circleIndexCount+=6}};d.serialize=function(){var c=6+this.layerUIDs.length;
c+=this._circleVertexBuffer.array.length;c+=this._circleIndexBuffer.array.length;c=new Uint32Array(c);var b=new Int32Array(c.buffer);let f=0;c[f++]=this.type;c[f++]=this.layerUIDs.length;for(var e=0;e<this.layerUIDs.length;e++)c[f++]=this.layerUIDs[e];c[f++]=this._circleIndexStart;c[f++]=this._circleIndexCount;c[f++]=this._circleVertexBuffer.array.length;for(e=0;e<this._circleVertexBuffer.array.length;e++)b[f++]=this._circleVertexBuffer.array[e];c[f++]=this._circleIndexBuffer.array.length;for(b=0;b<
this._circleIndexBuffer.array.length;b++)c[f++]=this._circleIndexBuffer.array[b];return c.buffer};a._createClass(r,[{key:"circleIndexStart",get:function(){return this._circleIndexStart}},{key:"circleIndexCount",get:function(){return this._circleIndexCount}}]);return r}(m)})},"esri/views/2d/engine/vectorTiles/buckets/BaseBucket":function(){define(function(){return function(){function a(v,r,d){this.layerExtent=4096;this._features=[];this.layer=v;this.zoom=r;this._spriteInfo=d;this._filter=v.getFeatureFilter()}
var m=a.prototype;m.pushFeature=function(v){this._filter&&!this._filter.filter(v,this.zoom)||this._features.push(v)};m.hasFeatures=function(){return 0<this._features.length};m.getResources=function(v,r,d){};return a}()})},"esri/views/2d/engine/vectorTiles/buckets/FillBucket":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/ArrayPool ../../../../../chunks/earcut ./BaseBucket ../../webgl/Geometry ../../webgl/mesh/Tesselator".split(" "),function(a,m,v,r,d,c){const b=
new c;return function(f){function e(g,k,n,l,p,t,u){g=f.call(this,g,k,n)||this;g.type=1;g._patternMap=new Map;g._fillVertexBuffer=l;g._fillIndexBuffer=p;g._outlineVertexBuffer=t;g._outlineIndexBuffer=u;return g}a._inheritsLoose(e,f);var h=e.prototype;h.getResources=function(g,k,n){g=this.zoom;if(n=this.layer.getPaintProperty("fill-pattern"))if(n.isDataDriven)for(const l of this._features)k.add({name:n.getValue(g,l),repeat:!0});else k.add({name:n.getValue(g),repeat:!0})};h.processFeatures=function(g){this._fillIndexStart=
3*this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=3*this._outlineIndexBuffer.index;this._outlineIndexCount=0;const k=this.layer,n=this.zoom,{fillMaterial:l,outlineMaterial:p,hasDataDrivenFill:t,hasDataDrivenOutline:u}=k;g&&g.setExtent(this.layerExtent);var A=k.getPaintProperty("fill-pattern"),z=null==A?void 0:A.isDataDriven;let w=!A&&k.getPaintValue("fill-antialias",n);if(k.outlineUsesFillColor){if(w&&!k.hasDataDrivenOpacity){var C=k.getPaintValue("fill-opacity",n),y=k.getPaintValue("fill-opacity",
n+1);1>C&&1>y&&(w=!1)}w&&!k.hasDataDrivenColor&&(C=k.getPaintValue("fill-color",n),y=k.getPaintValue("fill-color",n+1),1>C[3]&&1>y[3]&&(w=!1))}y=this._features;C=null==g?void 0:g.validateTessellation;if(z){var x=[];for(var E of y){z=A.getValue(n,E);z=this._spriteInfo[z];if(!z||!z.rect)continue;y=l.encodeAttributes(E,n,k,z);const D=w&&u?p.encodeAttributes(E,n,k):[],q=E.getGeometry(g);x.push({ddFillAttributes:y,ddOutlineAttributes:D,page:z.page,geometry:q});x.sort((B,G)=>B.page-G.page);for(const {ddFillAttributes:B,
ddOutlineAttributes:G,page:F,geometry:H}of x)this._processFeature(H,w,k.outlineUsesFillColor,B,G,C,F)}}else for(x of y)A=t?l.encodeAttributes(x,n,k):null,E=w&&u?p.encodeAttributes(x,n,k):null,z=x.getGeometry(g),this._processFeature(z,w,k.outlineUsesFillColor,A,E,C)};h.serialize=function(){var g=10+this.layerUIDs.length;g+=this._fillVertexBuffer.array.length;g+=this._fillIndexBuffer.array.length;g+=this._outlineVertexBuffer.array.length;g+=this._outlineIndexBuffer.array.length;g+=3*this._patternMap.size+
1;g=new Uint32Array(g);var k=new Int32Array(g.buffer);let n=0;g[n++]=this.type;g[n++]=this.layerUIDs.length;for(var l=0;l<this.layerUIDs.length;l++)g[n++]=this.layerUIDs[l];g[n++]=this._fillIndexStart;g[n++]=this._fillIndexCount;g[n++]=this._outlineIndexStart;g[n++]=this._outlineIndexCount;l=this._patternMap;const p=l.size;g[n++]=p;if(0<p)for(const [t,[u,A]]of l)g[n++]=t,g[n++]=u,g[n++]=A;g[n++]=this._fillVertexBuffer.array.length;for(l=0;l<this._fillVertexBuffer.array.length;l++)k[n++]=this._fillVertexBuffer.array[l];
g[n++]=this._fillIndexBuffer.array.length;for(l=0;l<this._fillIndexBuffer.array.length;l++)g[n++]=this._fillIndexBuffer.array[l];g[n++]=this._outlineVertexBuffer.array.length;for(l=0;l<this._outlineVertexBuffer.array.length;l++)k[n++]=this._outlineVertexBuffer.array[l];g[n++]=this._outlineIndexBuffer.array.length;for(k=0;k<this._outlineIndexBuffer.array.length;k++)g[n++]=this._outlineIndexBuffer.array[k];return g.buffer};h._processFeature=function(g,k,n,l,p,t,u){if(g){var A=g.length,z=!p||0===p.length;
if(k&&(!n||z))for(k=0;k<A;k++)this._processOutline(g[k],p);for(p=0;p<A;p++)if(k=e._area(g[p]),32<k){void 0!==w&&this._processFill(g,w,l,t,u);var w=[p]}else-32>k&&void 0!==w&&w.push(p);void 0!==w&&this._processFill(g,w,l,t,u)}};h._processOutline=function(g,k){const n=this._outlineVertexBuffer,l=this._outlineIndexBuffer,p=l.index;var t;let u,A;const z=new d.Point(0,0),w=new d.Point(0,0),C=new d.Point(0,0);let y=-1,x=-1;var E=-1;let D=-1,q=-1,B=!1,G=g.length;if(!(2>G)){var F=g[0];for(t=g[G-1];G&&t.isEqual(F);)--G,
t=g[G-1];if(!(2>G-0)){for(F=0;F<G;++F){0===F?(t=g[G-1],u=g[0],A=g[1],z.assignSub(u,t),z.normalize(),z.rightPerpendicular()):(t=u,u=A,A=F!==G-1?g[F+1]:g[0],z.assign(w));t=this._isClipEdge(t,u);-1===D&&(B=t);w.assignSub(A,u);w.normalize();w.rightPerpendicular();E=z.x*w.y-z.y*w.x;C.assignAdd(z,w);C.normalize();var H=-C.x*-z.x+-C.y*-z.y;H=Math.abs(0!==H?1/H:1);8<H&&(H=8);0<=E?(E=n.add(u.x,u.y,z.x,z.y,0,1,k),-1===D&&(D=E),0<=y&&0<=x&&0<=E&&!t&&l.add(y,x,E),x=n.add(u.x,u.y,H*-C.x,H*-C.y,0,-1,k),-1===q&&
(q=x),0<=y&&0<=x&&0<=E&&!t&&l.add(y,x,E),y=x,x=E,E=n.add(u.x,u.y,C.x,C.y,0,1,k),0<=y&&0<=x&&0<=E&&!t&&l.add(y,x,E),x=n.add(u.x,u.y,w.x,w.y,0,1,k)):(E=n.add(u.x,u.y,H*C.x,H*C.y,0,1,k),-1===D&&(D=E),0<=y&&0<=x&&0<=E&&!t&&l.add(y,x,E),x=n.add(u.x,u.y,-z.x,-z.y,0,-1,k),-1===q&&(q=x),0<=y&&0<=x&&0<=E&&!t&&l.add(y,x,E),y=x,x=E,E=n.add(u.x,u.y,-C.x,-C.y,0,-1,k),0<=y&&0<=x&&0<=E&&!t&&l.add(y,x,E),y=n.add(u.x,u.y,-w.x,-w.y,0,-1,k));0<=y&&0<=x&&0<=E&&!t&&l.add(y,x,E)}0<=y&&0<=x&&0<=D&&!B&&l.add(y,x,D);0<=y&&
0<=D&&0<=q&&!B&&l.add(y,q,D);this._outlineIndexCount+=3*(l.index-p)}}};h._processFill=function(g,k,n,l,p){l=!0;var t;1<k.length&&(t=[]);var u=0;for(var A of k)0!==u&&t.push(u),u+=g[A].length;A=2*u;u=m.acquire();for(var z of k){var w=g[z];const y=w.length;for(let x=0;x<y;++x)u.push(w[x].x,w[x].y)}z=v.earcut(u,t,2);if(l&&0<v.earcut.deviation(u,t,2,z)){l=[];A=[];b.beginPolygon(l,A);for(var C of k)if(k=g[C],!(3>k.length)){b.beginContour();for(t=0;t<k.length;++t)z=k[t].x,w=k[t].y,z=[z,w,0],b.addVertex(z,
z);b.endContour()}b.endPolygon();if(0<A.length){g=this._fillVertexBuffer.index;for(C=0;C<l.length;)this._fillVertexBuffer.add(l[C++],l[C++],n);for(n=0;n<A.length;)this._fillIndexBuffer.add(g+A[n+0],g+A[n+1],g+A[n+2]),n+=3;void 0!==p&&(n=this._patternMap,(g=n.get(p))?g[1]+=A.length:n.set(p,[this._fillIndexStart+this._fillIndexCount,A.length]));this._fillIndexCount+=A.length}}else if(g=z.length,0<g){C=this._fillVertexBuffer.index;for(k=0;k<A;)this._fillVertexBuffer.add(u[k++],u[k++],n);for(n=0;n<g;)this._fillIndexBuffer.add(C+
z[n++],C+z[n++],C+z[n++]);void 0!==p&&(n=this._patternMap,(C=n.get(p))?C[1]+=g:n.set(p,[this._fillIndexStart+this._fillIndexCount,g]));this._fillIndexCount+=g}m.release(u)};h._isClipEdge=function(g,k){return g.x===k.x?-64>=g.x||4160<=g.x:g.y===k.y?-64>=g.y||4160<=g.y:!1};e._area=function(g){let k=0;const n=g.length-1;for(let l=0;l<n;l++)k+=(g[l].x-g[l+1].x)*(g[l].y+g[l+1].y);k+=(g[n].x-g[0].x)*(g[n].y+g[0].y);return.5*k};a._createClass(e,[{key:"fillIndexStart",get:function(){return this._fillIndexStart}},
{key:"fillIndexCount",get:function(){return this._fillIndexCount}},{key:"outlineIndexStart",get:function(){return this._outlineIndexStart}},{key:"outlineIndexCount",get:function(){return this._outlineIndexCount}}]);return e}(r)})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function m(d){d.length=0}let v=function(){function d(b=50,f=50){this._pool=new a(Array,void 0,m,f,b)}var c=d.prototype;c.acquire=function(){return this._pool.acquire()};c.release=function(b){this._pool.release(b)};
c.prune=function(){this._pool.prune(0)};d.acquire=function(){return r.acquire()};d.release=function(b){return r.release(b)};d.prune=function(){r.prune()};return d}();const r=new v(100);return v})},"esri/chunks/earcut":function(){define(["exports"],function(a){var m={exports:{}};(function(v){(function(r){r=r();void 0!==r&&(v.exports=r)})(function(){function r(q,B,G){G=G||2;var F=B&&B.length,H=F?B[0]*G:q.length,J=d(q,0,H,G,!0),Q=[];if(!J||J.next===J.prev)return Q;var T;if(F){var R=J;var V=G;J=[];var Y;
F=0;for(Y=B.length;F<Y;F++){var da=B[F]*V;var na=F<Y-1?B[F+1]*V:q.length;da=d(q,da,na,V,!1);da===da.next&&(da.steiner=!0);J.push(n(da))}J.sort(e);for(F=0;F<J.length;F++)V=J[F],B=R,(R=h(V,B))?(V=C(R,V),Y=c(R,R.next),c(V,V.next),R=B===R?Y:B):R=B,R=c(R,R.next);J=R}if(q.length>80*G){var ta=T=q[0];var ka=F=q[1];for(V=G;V<H;V+=G)B=q[V],R=q[V+1],B<ta&&(ta=B),R<ka&&(ka=R),B>T&&(T=B),R>F&&(F=R);T=Math.max(T-ta,F-ka);T=0!==T?1/T:0}b(J,Q,G,ta,ka,T);return Q}function d(q,B,G,F,H){if(H===0<D(q,B,G,F))for(H=B;H<
G;H+=F)var J=y(H,q[H],q[H+1],J);else for(H=G-F;H>=B;H-=F)J=y(H,q[H],q[H+1],J);J&&t(J,J.next)&&(x(J),J=J.next);return J}function c(q,B){if(!q)return q;B||(B=q);do{var G=!1;if(q.steiner||!t(q,q.next)&&0!==p(q.prev,q,q.next))q=q.next;else{x(q);q=B=q.prev;if(q===q.next)break;G=!0}}while(G||q!==B);return B}function b(q,B,G,F,H,J,Q){if(q){!Q&&J&&g(q,F,H,J);for(var T=q,R,V;q.prev!==q.next;){R=q.prev;V=q.next;if(J)var Y=f(q,F,H,J);else a:{Y=q;var da=Y.prev,na=Y,ta=Y.next;if(0<=p(da,na,ta))Y=!1;else{for(var ka=
Y.next.next;ka!==Y.prev;){if(l(da.x,da.y,na.x,na.y,ta.x,ta.y,ka.x,ka.y)&&0<=p(ka.prev,ka,ka.next)){Y=!1;break a}ka=ka.next}Y=!0}}if(Y)B.push(R.i/G),B.push(q.i/G),B.push(V.i/G),x(q),T=q=V.next;else if(q=V,q===T){if(!Q)b(c(q),B,G,F,H,J,1);else if(1===Q){q=c(q);Q=B;T=G;R=q;do V=R.prev,Y=R.next.next,!t(V,Y)&&u(V,R,R.next,Y)&&w(V,Y)&&w(Y,V)&&(Q.push(V.i/T),Q.push(R.i/T),Q.push(Y.i/T),x(R),x(R.next),R=q=Y),R=R.next;while(R!==q);q=c(R);b(q,B,G,F,H,J,2)}else if(2===Q)a:{Q=q;do{for(T=Q.next.next;T!==Q.prev;){if(R=
Q.i!==T.i){Y=Y=Y=Y=void 0;R=Q;V=T;if(Y=R.next.i!==V.i&&R.prev.i!==V.i){b:{Y=R;do{if(Y.i!==R.i&&Y.next.i!==R.i&&Y.i!==V.i&&Y.next.i!==V.i&&u(Y,Y.next,R,V)){Y=!0;break b}Y=Y.next}while(Y!==R);Y=!1}Y=!Y}if(Y){if(Y=w(R,V)&&w(V,R)){Y=R;da=!1;na=(R.x+V.x)/2;ta=(R.y+V.y)/2;do Y.y>ta!==Y.next.y>ta&&Y.next.y!==Y.y&&na<(Y.next.x-Y.x)*(ta-Y.y)/(Y.next.y-Y.y)+Y.x&&(da=!da),Y=Y.next;while(Y!==R);Y=da}Y=Y&&(p(R.prev,R,V.prev)||p(R,V.prev,V))||t(R,V)&&0<p(R.prev,R,R.next)&&0<p(V.prev,V,V.next)}R=Y}if(R){q=C(Q,T);
Q=c(Q,Q.next);q=c(q,q.next);b(Q,B,G,F,H,J);b(q,B,G,F,H,J);break a}T=T.next}Q=Q.next}while(Q!==q)}break}}}}function f(q,B,G,F){var H=q.prev,J=q.next;if(0<=p(H,q,J))return!1;var Q=H.x>q.x?H.x>J.x?H.x:J.x:q.x>J.x?q.x:J.x,T=H.y>q.y?H.y>J.y?H.y:J.y:q.y>J.y?q.y:J.y,R=k(H.x<q.x?H.x<J.x?H.x:J.x:q.x<J.x?q.x:J.x,H.y<q.y?H.y<J.y?H.y:J.y:q.y<J.y?q.y:J.y,B,G,F);B=k(Q,T,B,G,F);G=q.prevZ;for(F=q.nextZ;G&&G.z>=R&&F&&F.z<=B;){if(G!==q.prev&&G!==q.next&&l(H.x,H.y,q.x,q.y,J.x,J.y,G.x,G.y)&&0<=p(G.prev,G,G.next))return!1;
G=G.prevZ;if(F!==q.prev&&F!==q.next&&l(H.x,H.y,q.x,q.y,J.x,J.y,F.x,F.y)&&0<=p(F.prev,F,F.next))return!1;F=F.nextZ}for(;G&&G.z>=R;){if(G!==q.prev&&G!==q.next&&l(H.x,H.y,q.x,q.y,J.x,J.y,G.x,G.y)&&0<=p(G.prev,G,G.next))return!1;G=G.prevZ}for(;F&&F.z<=B;){if(F!==q.prev&&F!==q.next&&l(H.x,H.y,q.x,q.y,J.x,J.y,F.x,F.y)&&0<=p(F.prev,F,F.next))return!1;F=F.nextZ}return!0}function e(q,B){return q.x-B.x}function h(q,B){var G=B,F=q.x,H=q.y,J=-Infinity;do{if(H<=G.y&&H>=G.next.y&&G.next.y!==G.y){var Q=G.x+(H-G.y)*
(G.next.x-G.x)/(G.next.y-G.y);if(Q<=F&&Q>J){J=Q;if(Q===F){if(H===G.y)return G;if(H===G.next.y)return G.next}var T=G.x<G.next.x?G:G.next}}G=G.next}while(G!==B);if(!T)return null;if(F===J)return T;B=T;Q=T.x;var R=T.y,V=Infinity;G=T;do{if(F>=G.x&&G.x>=Q&&F!==G.x&&l(H<R?F:J,H,Q,R,H<R?J:F,H,G.x,G.y)){var Y=Math.abs(H-G.y)/(F-G.x);var da;if((da=w(G,q))&&!(da=Y<V)&&(da=Y===V)&&!(da=G.x>T.x)&&(da=G.x===T.x)){da=T;var na=G;da=0>p(da.prev,da,na.prev)&&0>p(na.next,da,da.next)}da&&(T=G,V=Y)}G=G.next}while(G!==
B);return T}function g(q,B,G,F){var H=q;do{null===H.z&&(H.z=k(H.x,H.y,B,G,F));if(H.prev.next!==H||H.next.prev!==H)return H.prev.next=H,H.next.prev=H,g(q,B,G,F);H.prevZ=H.prev;H=H.nextZ=H.next}while(H!==q);H.prevZ.nextZ=null;H.prevZ=null;q=H;var J,Q,T,R=1;do{B=q;F=q=null;for(H=0;B;){H++;G=B;for(J=Q=0;J<R&&(Q++,G=G.nextZ,G);J++);for(T=R;0<Q||0<T&&G;)0!==Q&&(0===T||!G||B.z<=G.z)?(J=B,B=B.nextZ,Q--):(J=G,G=G.nextZ,T--),F?F.nextZ=J:q=J,J.prevZ=F,F=J;B=G}F.nextZ=null;R*=2}while(1<H)}function k(q,B,G,F,
H){q=32767*(q-G)*H;B=32767*(B-F)*H;q=(q|q<<8)&16711935;q=(q|q<<4)&252645135;q=(q|q<<2)&858993459;B=(B|B<<8)&16711935;B=(B|B<<4)&252645135;B=(B|B<<2)&858993459;return(q|q<<1)&1431655765|((B|B<<1)&1431655765)<<1}function n(q){var B=q,G=q;do{if(B.x<G.x||B.x===G.x&&B.y<G.y)G=B;B=B.next}while(B!==q);return G}function l(q,B,G,F,H,J,Q,T){return 0<=(H-Q)*(B-T)-(q-Q)*(J-T)&&0<=(q-Q)*(F-T)-(G-Q)*(B-T)&&0<=(G-Q)*(J-T)-(H-Q)*(F-T)}function p(q,B,G){return(B.y-q.y)*(G.x-B.x)-(B.x-q.x)*(G.y-B.y)}function t(q,B){return q.x===
B.x&&q.y===B.y}function u(q,B,G,F){var H=z(p(q,B,G)),J=z(p(q,B,F)),Q=z(p(G,F,q)),T=z(p(G,F,B));return H!==J&&Q!==T||0===H&&A(q,G,B)||0===J&&A(q,F,B)||0===Q&&A(G,q,F)||0===T&&A(G,B,F)?!0:!1}function A(q,B,G){return B.x<=Math.max(q.x,G.x)&&B.x>=Math.min(q.x,G.x)&&B.y<=Math.max(q.y,G.y)&&B.y>=Math.min(q.y,G.y)}function z(q){return 0<q?1:0>q?-1:0}function w(q,B){return 0>p(q.prev,q,q.next)?0<=p(q,B,q.next)&&0<=p(q,q.prev,B):0>p(q,B,q.prev)||0>p(q,q.next,B)}function C(q,B){var G=new E(q.i,q.x,q.y),F=new E(B.i,
B.x,B.y),H=q.next,J=B.prev;q.next=B;B.prev=q;G.next=H;H.prev=G;F.next=G;G.prev=F;J.next=F;F.prev=J;return F}function y(q,B,G,F){q=new E(q,B,G);F?(q.next=F.next,q.prev=F,F.next.prev=q,F.next=q):(q.prev=q,q.next=q);return q}function x(q){q.next.prev=q.prev;q.prev.next=q.next;q.prevZ&&(q.prevZ.nextZ=q.nextZ);q.nextZ&&(q.nextZ.prevZ=q.prevZ)}function E(q,B,G){this.i=q;this.x=B;this.y=G;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function D(q,B,G,F){for(var H=0,J=G-F;B<G;B+=F)H+=
(q[J]-q[B])*(q[B+1]+q[J+1]),J=B;return H}r.deviation=function(q,B,G,F){var H=B&&B.length,J=Math.abs(D(q,0,H?B[0]*G:q.length,G));if(H){H=0;for(var Q=B.length;H<Q;H++)J-=Math.abs(D(q,B[H]*G,H<Q-1?B[H+1]*G:q.length,G))}for(H=B=0;H<F.length;H+=3){Q=F[H]*G;var T=F[H+1]*G,R=F[H+2]*G;B+=Math.abs((q[Q]-q[R])*(q[T+1]-q[Q+1])-(q[Q]-q[T])*(q[R+1]-q[Q+1]))}return 0===J&&0===B?0:Math.abs((B-J)/J)};r.flatten=function(q){for(var B=q[0][0].length,G={vertices:[],holes:[],dimensions:B},F=0,H=0;H<q.length;H++){for(var J=
0;J<q[H].length;J++)for(var Q=0;Q<B;Q++)G.vertices.push(q[H][J][Q]);0<H&&(F+=q[H-1].length,G.holes.push(F))}return G};return r})})(m);a.earcut=m.exports})},"esri/views/2d/engine/webgl/mesh/Tesselator":function(){define(["../../../../../core/Logger"],function(a){var m={exports:{}};(function(r){(function(d){d=d();void 0!==d&&(r.exports=d)})(function(){var d={DEBUG:!1,assert:function(c,b){if(d.DEBUG&&!c)throw Error("Assertion failed"+(b?": "+b:""));},GLU_TESS_MAX_COORD:1E150,TRUE_PROJECT:!1,GLU_TESS_DEFAULT_TOLERANCE:0,
windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_BEGIN:100100,
GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111,GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901},geom:{}};d.geom.vertEq=function(c,b){return c.s===b.s&&c.t===b.t};
d.geom.vertLeq=function(c,b){return c.s<b.s||c.s===b.s&&c.t<=b.t};d.geom.edgeEval=function(c,b,f){d.assert(d.geom.vertLeq(c,b)&&d.geom.vertLeq(b,f));var e=b.s-c.s,h=f.s-b.s;return 0<e+h?e<h?b.t-c.t+e/(e+h)*(c.t-f.t):b.t-f.t+h/(e+h)*(f.t-c.t):0};d.geom.edgeSign=function(c,b,f){d.assert(d.geom.vertLeq(c,b)&&d.geom.vertLeq(b,f));var e=b.s-c.s,h=f.s-b.s;return 0<e+h?(b.t-f.t)*e+(b.t-c.t)*h:0};d.geom.transLeq=function(c,b){return c.t<b.t||c.t===b.t&&c.s<=b.s};d.geom.transEval=function(c,b,f){d.assert(d.geom.transLeq(c,
b)&&d.geom.transLeq(b,f));var e=b.t-c.t,h=f.t-b.t;return 0<e+h?e<h?b.s-c.s+e/(e+h)*(c.s-f.s):b.s-f.s+h/(e+h)*(f.s-c.s):0};d.geom.transSign=function(c,b,f){d.assert(d.geom.transLeq(c,b)&&d.geom.transLeq(b,f));var e=b.t-c.t,h=f.t-b.t;return 0<e+h?(b.s-f.s)*e+(b.s-c.s)*h:0};d.geom.edgeGoesLeft=function(c){return d.geom.vertLeq(c.dst(),c.org)};d.geom.edgeGoesRight=function(c){return d.geom.vertLeq(c.org,c.dst())};d.geom.vertL1dist=function(c,b){return Math.abs(c.s-b.s)+Math.abs(c.t-b.t)};d.geom.vertCCW=
function(c,b,f){return 0<=c.s*(b.t-f.t)+b.s*(f.t-c.t)+f.s*(c.t-b.t)};d.geom.interpolate_=function(c,b,f,e){c=0>c?0:c;f=0>f?0:f;return c<=f?0===f?(b+e)/2:b+c/(c+f)*(e-b):e+f/(c+f)*(b-e)};d.geom.edgeIntersect=function(c,b,f,e,h){if(!d.geom.vertLeq(c,b)){var g=c;c=b;b=g}d.geom.vertLeq(f,e)||(g=f,f=e,e=g);d.geom.vertLeq(c,f)||(g=c,c=f,f=g,g=b,b=e,e=g);if(d.geom.vertLeq(f,b))if(d.geom.vertLeq(b,e)){g=d.geom.edgeEval(c,f,b);var k=d.geom.edgeEval(f,b,e);0>g+k&&(g=-g,k=-k);h.s=d.geom.interpolate_(g,f.s,k,
b.s)}else g=d.geom.edgeSign(c,f,b),k=-d.geom.edgeSign(c,e,b),0>g+k&&(g=-g,k=-k),h.s=d.geom.interpolate_(g,f.s,k,e.s);else h.s=(f.s+b.s)/2;d.geom.transLeq(c,b)||(g=c,c=b,b=g);d.geom.transLeq(f,e)||(g=f,f=e,e=g);d.geom.transLeq(c,f)||(g=c,c=f,f=g,g=b,b=e,e=g);d.geom.transLeq(f,b)?d.geom.transLeq(b,e)?(g=d.geom.transEval(c,f,b),k=d.geom.transEval(f,b,e),0>g+k&&(g=-g,k=-k),h.t=d.geom.interpolate_(g,f.t,k,b.t)):(g=d.geom.transSign(c,f,b),k=-d.geom.transSign(c,e,b),0>g+k&&(g=-g,k=-k),h.t=d.geom.interpolate_(g,
f.t,k,e.t)):h.t=(f.t+b.t)/2};d.mesh={};d.mesh.makeEdge=function(c){var b=d.mesh.makeEdgePair_(c.eHead);d.mesh.makeVertex_(b,c.vHead);d.mesh.makeVertex_(b.sym,c.vHead);d.mesh.makeFace_(b,c.fHead);return b};d.mesh.meshSplice=function(c,b){var f=!1,e=!1;c!==b&&(b.org!==c.org&&(e=!0,d.mesh.killVertex_(b.org,c.org)),b.lFace!==c.lFace&&(f=!0,d.mesh.killFace_(b.lFace,c.lFace)),d.mesh.splice_(b,c),e||(d.mesh.makeVertex_(b,c.org),c.org.anEdge=c),f||(d.mesh.makeFace_(b,c.lFace),c.lFace.anEdge=c))};d.mesh.deleteEdge=
function(c){var b=c.sym,f=!1;c.lFace!==c.rFace()&&(f=!0,d.mesh.killFace_(c.lFace,c.rFace()));c.oNext===c?d.mesh.killVertex_(c.org,null):(c.rFace().anEdge=c.oPrev(),c.org.anEdge=c.oNext,d.mesh.splice_(c,c.oPrev()),f||d.mesh.makeFace_(c,c.lFace));b.oNext===b?(d.mesh.killVertex_(b.org,null),d.mesh.killFace_(b.lFace,null)):(c.lFace.anEdge=b.oPrev(),b.org.anEdge=b.oNext,d.mesh.splice_(b,b.oPrev()));d.mesh.killEdge_(c)};d.mesh.addEdgeVertex=function(c){var b=d.mesh.makeEdgePair_(c),f=b.sym;d.mesh.splice_(b,
c.lNext);b.org=c.dst();d.mesh.makeVertex_(f,b.org);b.lFace=f.lFace=c.lFace;return b};d.mesh.splitEdge=function(c){var b=d.mesh.addEdgeVertex(c).sym;d.mesh.splice_(c.sym,c.sym.oPrev());d.mesh.splice_(c.sym,b);c.sym.org=b.org;b.dst().anEdge=b.sym;b.sym.lFace=c.rFace();b.winding=c.winding;b.sym.winding=c.sym.winding;return b};d.mesh.connect=function(c,b){var f=!1,e=d.mesh.makeEdgePair_(c),h=e.sym;b.lFace!==c.lFace&&(f=!0,d.mesh.killFace_(b.lFace,c.lFace));d.mesh.splice_(e,c.lNext);d.mesh.splice_(h,b);
e.org=c.dst();h.org=b.org;e.lFace=h.lFace=c.lFace;c.lFace.anEdge=h;f||d.mesh.makeFace_(e,c.lFace);return e};d.mesh.zapFace=function(c){var b=c.anEdge,f=b.lNext;do{var e=f;f=e.lNext;e.lFace=null;if(null===e.rFace()){e.oNext===e?d.mesh.killVertex_(e.org,null):(e.org.anEdge=e.oNext,d.mesh.splice_(e,e.oPrev()));var h=e.sym;h.oNext===h?d.mesh.killVertex_(h.org,null):(h.org.anEdge=h.oNext,d.mesh.splice_(h,h.oPrev()));d.mesh.killEdge_(e)}}while(e!==b);b=c.prev;c=c.next;c.prev=b;b.next=c};d.mesh.meshUnion=
function(c,b){var f=c.fHead,e=c.vHead,h=c.eHead,g=b.fHead,k=b.vHead;b=b.eHead;g.next!==g&&(f.prev.next=g.next,g.next.prev=f.prev,g.prev.next=f,f.prev=g.prev);k.next!==k&&(e.prev.next=k.next,k.next.prev=e.prev,k.prev.next=e,e.prev=k.prev);b.next!==b&&(h.sym.next.sym.next=b.next,b.next.sym.next=h.sym.next,b.sym.next.sym.next=h,h.sym.next=b.sym.next);return c};d.mesh.deleteMesh=function(c){};d.mesh.makeEdgePair_=function(c){var b=new d.GluHalfEdge,f=new d.GluHalfEdge,e=c.sym.next;f.next=e;e.sym.next=
b;b.next=c;c.sym.next=f;b.sym=f;b.oNext=b;b.lNext=f;f.sym=b;f.oNext=f;return f.lNext=b};d.mesh.splice_=function(c,b){var f=c.oNext,e=b.oNext;f.sym.lNext=b;e.sym.lNext=c;c.oNext=e;b.oNext=f};d.mesh.makeVertex_=function(c,b){var f=b.prev,e=new d.GluVertex(b,f);f.next=e;b.prev=e;b=e.anEdge=c;do b.org=e,b=b.oNext;while(b!==c)};d.mesh.makeFace_=function(c,b){var f=b.prev,e=new d.GluFace(b,f);f.next=e;b.prev=e;e.anEdge=c;e.inside=b.inside;b=c;do b.lFace=e,b=b.lNext;while(b!==c)};d.mesh.killEdge_=function(c){var b=
c.next;c=c.sym.next;b.sym.next=c;c.sym.next=b};d.mesh.killVertex_=function(c,b){var f=c.anEdge,e=f;do e.org=b,e=e.oNext;while(e!==f);b=c.prev;c=c.next;c.prev=b;b.next=c};d.mesh.killFace_=function(c,b){var f=c.anEdge,e=f;do e.lFace=b,e=e.lNext;while(e!==f);b=c.prev;c=c.next;c.prev=b;b.next=c};d.normal={};d.normal.S_UNIT_X_=1;d.normal.S_UNIT_Y_=0;d.normal.projectPolygon=function(c,b,f,e){var h=!1,g=[b,f,e];0===b&&0===f&&0===e&&(d.normal.computeNormal_(c,g),h=!0);f=d.normal.longAxis_(g);b=c.mesh.vHead;
if(d.TRUE_PROJECT){d.normal.normalize_(g);e=[0,0,0];var k=[0,0,0];e[f]=0;e[(f+1)%3]=d.normal.S_UNIT_X_;e[(f+2)%3]=d.normal.S_UNIT_Y_;f=d.normal.dot_(e,g);e[0]-=f*g[0];e[1]-=f*g[1];e[2]-=f*g[2];d.normal.normalize_(e);k[0]=g[1]*e[2]-g[2]*e[1];k[1]=g[2]*e[0]-g[0]*e[2];k[2]=g[0]*e[1]-g[1]*e[0];d.normal.normalize_(k);for(g=b.next;g!==b;g=g.next)g.s=d.normal.dot_(g.coords,e),g.t=d.normal.dot_(g.coords,k)}else for(e=(f+1)%3,k=(f+2)%3,f=0<g[f]?1:-1,g=b.next;g!==b;g=g.next)g.s=g.coords[e],g.t=f*g.coords[k];
h&&d.normal.checkOrientation_(c)};d.normal.dot_=function(c,b){return c[0]*b[0]+c[1]*b[1]+c[2]*b[2]};d.normal.normalize_=function(c){var b=c[0]*c[0]+c[1]*c[1]+c[2]*c[2];d.assert(0<b);b=Math.sqrt(b);c[0]/=b;c[1]/=b;c[2]/=b};d.normal.longAxis_=function(c){var b=0;Math.abs(c[1])>Math.abs(c[0])&&(b=1);Math.abs(c[2])>Math.abs(c[b])&&(b=2);return b};d.normal.computeNormal_=function(c,b){var f=[-2*d.GLU_TESS_MAX_COORD,-2*d.GLU_TESS_MAX_COORD,-2*d.GLU_TESS_MAX_COORD],e=[2*d.GLU_TESS_MAX_COORD,2*d.GLU_TESS_MAX_COORD,
2*d.GLU_TESS_MAX_COORD],h=[],g=[],k;c=c.mesh.vHead;for(k=c.next;k!==c;k=k.next)for(var n=0;3>n;++n){var l=k.coords[n];l<e[n]&&(e[n]=l,g[n]=k);l>f[n]&&(f[n]=l,h[n]=k)}k=0;f[1]-e[1]>f[0]-e[0]&&(k=1);f[2]-e[2]>f[k]-e[k]&&(k=2);if(e[k]>=f[k])b[0]=0,b[1]=0,b[2]=1;else{f=0;e=g[k];h=h[k];g=[0,0,0];e=[e.coords[0]-h.coords[0],e.coords[1]-h.coords[1],e.coords[2]-h.coords[2]];n=[0,0,0];for(k=c.next;k!==c;k=k.next)n[0]=k.coords[0]-h.coords[0],n[1]=k.coords[1]-h.coords[1],n[2]=k.coords[2]-h.coords[2],g[0]=e[1]*
n[2]-e[2]*n[1],g[1]=e[2]*n[0]-e[0]*n[2],g[2]=e[0]*n[1]-e[1]*n[0],l=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],l>f&&(f=l,b[0]=g[0],b[1]=g[1],b[2]=g[2]);0>=f&&(b[0]=b[1]=b[2]=0,b[d.normal.longAxis_(e)]=1)}};d.normal.checkOrientation_=function(c){for(var b=0,f=c.mesh.fHead,e=f.next;e!==f;e=e.next){var h=e.anEdge;if(!(0>=h.winding)){do b+=(h.org.s-h.dst().s)*(h.org.t+h.dst().t),h=h.lNext;while(h!==e.anEdge)}}if(0>b)for(c=c.mesh.vHead,b=c.next;b!==c;b=b.next)b.t=-b.t};d.render={};d.render.renderMesh=function(c,b,f){for(var e=
!1,h=-1,g=b.fHead.prev;g!==b.fHead;g=g.prev)if(g.inside){e||(c.callBeginCallback(d.primitiveType.GL_TRIANGLES),e=!0);var k=g.anEdge;d.assert(k.lNext.lNext.lNext===k,"renderMesh called with non-triangulated mesh");do{if(f){var n=k.rFace().inside?0:1;h!==n&&(h=n,c.callEdgeFlagCallback(!!h))}c.callVertexCallback(k.org.data);k=k.lNext}while(k!==g.anEdge)}e&&c.callEndCallback()};d.render.renderBoundary=function(c,b){for(var f=b.fHead.next;f!==b.fHead;f=f.next)if(f.inside){c.callBeginCallback(d.primitiveType.GL_LINE_LOOP);
var e=f.anEdge;do c.callVertexCallback(e.org.data),e=e.lNext;while(e!==f.anEdge);c.callEndCallback()}};d.sweep={};d.sweep.SENTINEL_COORD_=4*d.GLU_TESS_MAX_COORD;d.sweep.TOLERANCE_NONZERO_=!1;d.sweep.computeInterior=function(c){c.fatalError=!1;d.sweep.removeDegenerateEdges_(c);d.sweep.initPriorityQ_(c);d.sweep.initEdgeDict_(c);for(var b;null!==(b=c.pq.extractMin());){for(;;){var f=c.pq.minimum();if(null===f||!d.geom.vertEq(f,b))break;f=c.pq.extractMin();d.sweep.spliceMergeVertices_(c,b.anEdge,f.anEdge)}d.sweep.sweepEvent_(c,
b)}b=c.dict.getMin().getKey();c.event=b.eUp.org;d.sweep.doneEdgeDict_(c);d.sweep.donePriorityQ_(c);d.sweep.removeDegenerateFaces_(c.mesh);c.mesh.checkMesh()};d.sweep.addWinding_=function(c,b){c.winding+=b.winding;c.sym.winding+=b.sym.winding};d.sweep.edgeLeq_=function(c,b,f){c=c.event;b=b.eUp;f=f.eUp;if(b.dst()===c)return f.dst()===c?d.geom.vertLeq(b.org,f.org)?0>=d.geom.edgeSign(f.dst(),b.org,f.org):0<=d.geom.edgeSign(b.dst(),f.org,b.org):0>=d.geom.edgeSign(f.dst(),c,f.org);if(f.dst()===c)return 0<=
d.geom.edgeSign(b.dst(),c,b.org);b=d.geom.edgeEval(b.dst(),c,b.org);c=d.geom.edgeEval(f.dst(),c,f.org);return b>=c};d.sweep.deleteRegion_=function(c,b){b.fixUpperEdge&&d.assert(0===b.eUp.winding);b.eUp.activeRegion=null;c.dict.deleteNode(b.nodeUp);b.nodeUp=null};d.sweep.fixUpperEdge_=function(c,b){d.assert(c.fixUpperEdge);d.mesh.deleteEdge(c.eUp);c.fixUpperEdge=!1;c.eUp=b;b.activeRegion=c};d.sweep.topLeftRegion_=function(c){var b=c.eUp.org;do c=c.regionAbove();while(c.eUp.org===b);c.fixUpperEdge&&
(b=d.mesh.connect(c.regionBelow().eUp.sym,c.eUp.lNext),d.sweep.fixUpperEdge_(c,b),c=c.regionAbove());return c};d.sweep.topRightRegion_=function(c){var b=c.eUp.dst();do c=c.regionAbove();while(c.eUp.dst()===b);return c};d.sweep.addRegionBelow_=function(c,b,f){var e=new d.ActiveRegion;e.eUp=f;e.nodeUp=c.dict.insertBefore(b.nodeUp,e);return f.activeRegion=e};d.sweep.isWindingInside_=function(c,b){switch(c.windingRule){case d.windingRule.GLU_TESS_WINDING_ODD:return 0!==(b&1);case d.windingRule.GLU_TESS_WINDING_NONZERO:return 0!==
b;case d.windingRule.GLU_TESS_WINDING_POSITIVE:return 0<b;case d.windingRule.GLU_TESS_WINDING_NEGATIVE:return 0>b;case d.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:return 2<=b||-2>=b}d.assert(!1);return!1};d.sweep.computeWinding_=function(c,b){b.windingNumber=b.regionAbove().windingNumber+b.eUp.winding;b.inside=d.sweep.isWindingInside_(c,b.windingNumber)};d.sweep.finishRegion_=function(c,b){var f=b.eUp,e=f.lFace;e.inside=b.inside;e.anEdge=f;d.sweep.deleteRegion_(c,b)};d.sweep.finishLeftRegions_=function(c,
b,f){var e=b;for(b=b.eUp;e!==f;){e.fixUpperEdge=!1;var h=e.regionBelow(),g=h.eUp;if(g.org!==b.org){if(!h.fixUpperEdge){d.sweep.finishRegion_(c,e);break}g=d.mesh.connect(b.lPrev(),g.sym);d.sweep.fixUpperEdge_(h,g)}b.oNext!==g&&(d.mesh.meshSplice(g.oPrev(),g),d.mesh.meshSplice(b,g));d.sweep.finishRegion_(c,e);b=h.eUp;e=h}return b};d.sweep.addRightEdges_=function(c,b,f,e,h,g){var k=!0;do d.assert(d.geom.vertLeq(f.org,f.dst())),d.sweep.addRegionBelow_(c,b,f.sym),f=f.oNext;while(f!==e);for(null===h&&(h=
b.regionBelow().eUp.rPrev());;){e=b.regionBelow();f=e.eUp.sym;if(f.org!==h.org)break;f.oNext!==h&&(d.mesh.meshSplice(f.oPrev(),f),d.mesh.meshSplice(h.oPrev(),f));e.windingNumber=b.windingNumber-f.winding;e.inside=d.sweep.isWindingInside_(c,e.windingNumber);b.dirty=!0;!k&&d.sweep.checkForRightSplice_(c,b)&&(d.sweep.addWinding_(f,h),d.sweep.deleteRegion_(c,b),d.mesh.deleteEdge(h));k=!1;b=e;h=f}b.dirty=!0;d.assert(b.windingNumber-f.winding===e.windingNumber);g&&d.sweep.walkDirtyRegions_(c,b)};d.sweep.callCombine_=
function(c,b,f,e,h){var g=[b.coords[0],b.coords[1],b.coords[2]];b.data=null;b.data=c.callCombineCallback(g,f,e);null===b.data&&(h?c.fatalError||(c.callErrorCallback(d.errorType.GLU_TESS_NEED_COMBINE_CALLBACK),c.fatalError=!0):b.data=f[0])};d.sweep.spliceMergeVertices_=function(c,b,f){var e=[null,null,null,null];e[0]=b.org.data;e[1]=f.org.data;d.sweep.callCombine_(c,b.org,e,[.5,.5,0,0],!1);d.mesh.meshSplice(b,f)};d.sweep.vertexWeights_=function(c,b,f,e,h){var g=d.geom.vertL1dist(b,c),k=d.geom.vertL1dist(f,
c),n=h+1;e[h]=.5*k/(g+k);e[n]=.5*g/(g+k);c.coords[0]+=e[h]*b.coords[0]+e[n]*f.coords[0];c.coords[1]+=e[h]*b.coords[1]+e[n]*f.coords[1];c.coords[2]+=e[h]*b.coords[2]+e[n]*f.coords[2]};d.sweep.getIntersectData_=function(c,b,f,e,h,g){var k=[0,0,0,0],n=[f.data,e.data,h.data,g.data];b.coords[0]=b.coords[1]=b.coords[2]=0;d.sweep.vertexWeights_(b,f,e,k,0);d.sweep.vertexWeights_(b,h,g,k,2);d.sweep.callCombine_(c,b,n,k,!0)};d.sweep.checkForRightSplice_=function(c,b){var f=b.regionBelow(),e=b.eUp,h=f.eUp;if(d.geom.vertLeq(e.org,
h.org)){if(0<d.geom.edgeSign(h.dst(),e.org,h.org))return!1;d.geom.vertEq(e.org,h.org)?e.org!==h.org&&(c.pq.remove(e.org.pqHandle),d.sweep.spliceMergeVertices_(c,h.oPrev(),e)):(d.mesh.splitEdge(h.sym),d.mesh.meshSplice(e,h.oPrev()),b.dirty=f.dirty=!0)}else{if(0>d.geom.edgeSign(e.dst(),h.org,e.org))return!1;b.regionAbove().dirty=b.dirty=!0;d.mesh.splitEdge(e.sym);d.mesh.meshSplice(h.oPrev(),e)}return!0};d.sweep.checkForLeftSplice_=function(c,b){var f=b.regionBelow();c=b.eUp;var e=f.eUp;d.assert(!d.geom.vertEq(c.dst(),
e.dst()));if(d.geom.vertLeq(c.dst(),e.dst())){if(0>d.geom.edgeSign(c.dst(),e.dst(),c.org))return!1;b.regionAbove().dirty=b.dirty=!0;f=d.mesh.splitEdge(c);d.mesh.meshSplice(e.sym,f);f.lFace.inside=b.inside}else{if(0<d.geom.edgeSign(e.dst(),c.dst(),e.org))return!1;b.dirty=f.dirty=!0;f=d.mesh.splitEdge(e);d.mesh.meshSplice(c.lNext,e.sym);f.rFace().inside=b.inside}return!0};d.sweep.checkForIntersect_=function(c,b){var f=b.regionBelow(),e=b.eUp,h=f.eUp,g=e.org,k=h.org,n=e.dst(),l=h.dst(),p=new d.GluVertex;
d.assert(!d.geom.vertEq(l,n));d.assert(0>=d.geom.edgeSign(n,c.event,g));d.assert(0<=d.geom.edgeSign(l,c.event,k));d.assert(g!==c.event&&k!==c.event);d.assert(!b.fixUpperEdge&&!f.fixUpperEdge);if(g===k||Math.min(g.t,n.t)>Math.max(k.t,l.t))return!1;if(d.geom.vertLeq(g,k)){if(0<d.geom.edgeSign(l,g,k))return!1}else if(0>d.geom.edgeSign(n,k,g))return!1;d.geom.edgeIntersect(n,g,l,k,p);d.assert(Math.min(g.t,n.t)<=p.t);d.assert(p.t<=Math.max(k.t,l.t));d.assert(Math.min(l.s,n.s)<=p.s);d.assert(p.s<=Math.max(k.s,
g.s));d.geom.vertLeq(p,c.event)&&(p.s=c.event.s,p.t=c.event.t);var t=d.geom.vertLeq(g,k)?g:k;d.geom.vertLeq(t,p)&&(p.s=t.s,p.t=t.t);if(d.geom.vertEq(p,g)||d.geom.vertEq(p,k))return d.sweep.checkForRightSplice_(c,b),!1;if(!d.geom.vertEq(n,c.event)&&0<=d.geom.edgeSign(n,c.event,p)||!d.geom.vertEq(l,c.event)&&0>=d.geom.edgeSign(l,c.event,p)){if(l===c.event)return d.mesh.splitEdge(e.sym),d.mesh.meshSplice(h.sym,e),b=d.sweep.topLeftRegion_(b),e=b.regionBelow().eUp,d.sweep.finishLeftRegions_(c,b.regionBelow(),
f),d.sweep.addRightEdges_(c,b,e.oPrev(),e,e,!0),!0;if(n===c.event)return d.mesh.splitEdge(h.sym),d.mesh.meshSplice(e.lNext,h.oPrev()),f=b,b=d.sweep.topRightRegion_(b),g=b.regionBelow().eUp.rPrev(),f.eUp=h.oPrev(),h=d.sweep.finishLeftRegions_(c,f,null),d.sweep.addRightEdges_(c,b,h.oNext,e.rPrev(),g,!0),!0;0<=d.geom.edgeSign(n,c.event,p)&&(b.regionAbove().dirty=b.dirty=!0,d.mesh.splitEdge(e.sym),e.org.s=c.event.s,e.org.t=c.event.t);0>=d.geom.edgeSign(l,c.event,p)&&(b.dirty=f.dirty=!0,d.mesh.splitEdge(h.sym),
h.org.s=c.event.s,h.org.t=c.event.t);return!1}d.mesh.splitEdge(e.sym);d.mesh.splitEdge(h.sym);d.mesh.meshSplice(h.oPrev(),e);e.org.s=p.s;e.org.t=p.t;e.org.pqHandle=c.pq.insert(e.org);d.sweep.getIntersectData_(c,e.org,g,n,k,l);b.regionAbove().dirty=b.dirty=f.dirty=!0;return!1};d.sweep.walkDirtyRegions_=function(c,b){for(var f=b.regionBelow();;){for(;f.dirty;)b=f,f=f.regionBelow();if(!b.dirty&&(f=b,b=b.regionAbove(),null===b||!b.dirty))break;b.dirty=!1;var e=b.eUp,h=f.eUp;e.dst()!==h.dst()&&d.sweep.checkForLeftSplice_(c,
b)&&(f.fixUpperEdge?(d.sweep.deleteRegion_(c,f),d.mesh.deleteEdge(h),f=b.regionBelow(),h=f.eUp):b.fixUpperEdge&&(d.sweep.deleteRegion_(c,b),d.mesh.deleteEdge(e),b=f.regionAbove(),e=b.eUp));if(e.org!==h.org)if(e.dst()===h.dst()||b.fixUpperEdge||f.fixUpperEdge||e.dst()!==c.event&&h.dst()!==c.event)d.sweep.checkForRightSplice_(c,b);else if(d.sweep.checkForIntersect_(c,b))break;e.org===h.org&&e.dst()===h.dst()&&(d.sweep.addWinding_(h,e),d.sweep.deleteRegion_(c,b),d.mesh.deleteEdge(e),b=f.regionAbove())}};
d.sweep.connectRightVertex_=function(c,b,f){var e=f.oNext,h=b.regionBelow(),g=b.eUp,k=h.eUp,n=!1;g.dst()!==k.dst()&&d.sweep.checkForIntersect_(c,b);d.geom.vertEq(g.org,c.event)&&(d.mesh.meshSplice(e.oPrev(),g),b=d.sweep.topLeftRegion_(b),e=b.regionBelow().eUp,d.sweep.finishLeftRegions_(c,b.regionBelow(),h),n=!0);d.geom.vertEq(k.org,c.event)&&(d.mesh.meshSplice(f,k.oPrev()),f=d.sweep.finishLeftRegions_(c,h,null),n=!0);n?d.sweep.addRightEdges_(c,b,f.oNext,e,e,!0):(e=d.geom.vertLeq(k.org,g.org)?k.oPrev():
g,e=d.mesh.connect(f.lPrev(),e),d.sweep.addRightEdges_(c,b,e,e.oNext,e.oNext,!1),e.sym.activeRegion.fixUpperEdge=!0,d.sweep.walkDirtyRegions_(c,b))};d.sweep.connectLeftDegenerate_=function(c,b,f){var e=b.eUp;if(d.geom.vertEq(e.org,f))d.assert(d.sweep.TOLERANCE_NONZERO_),d.sweep.TOLERANCE_NONZERO_&&d.sweep.spliceMergeVertices_(c,e,f.anEdge);else if(d.geom.vertEq(e.dst(),f)){if(d.assert(d.sweep.TOLERANCE_NONZERO_),d.sweep.TOLERANCE_NONZERO_){b=d.sweep.topRightRegion_(b);e=b.regionBelow();var h=e.eUp.sym,
g=h.oNext,k=g;e.fixUpperEdge&&(d.assert(g!==h),d.sweep.deleteRegion_(c,e),d.mesh.deleteEdge(h),h=g.oPrev());d.mesh.meshSplice(f.anEdge,h);d.geom.edgeGoesLeft(g)||(g=null);d.sweep.addRightEdges_(c,b,h.oNext,k,g,!0)}}else d.mesh.splitEdge(e.sym),b.fixUpperEdge&&(d.mesh.deleteEdge(e.oNext),b.fixUpperEdge=!1),d.mesh.meshSplice(f.anEdge,e),d.sweep.sweepEvent_(c,f)};d.sweep.connectLeftVertex_=function(c,b){var f=new d.ActiveRegion;f.eUp=b.anEdge.sym;f=c.dict.search(f).getKey();var e=f.regionBelow(),h=f.eUp,
g=e.eUp;0===d.geom.edgeSign(h.dst(),b,h.org)?d.sweep.connectLeftDegenerate_(c,f,b):(e=d.geom.vertLeq(g.dst(),h.dst())?f:e,f.inside||e.fixUpperEdge?(h=e===f?d.mesh.connect(b.anEdge.sym,h.lNext):d.mesh.connect(g.dNext(),b.anEdge).sym,e.fixUpperEdge?d.sweep.fixUpperEdge_(e,h):d.sweep.computeWinding_(c,d.sweep.addRegionBelow_(c,f,h)),d.sweep.sweepEvent_(c,b)):d.sweep.addRightEdges_(c,f,b.anEdge,b.anEdge,null,!0))};d.sweep.sweepEvent_=function(c,b){c.event=b;for(var f=b.anEdge;null===f.activeRegion;)if(f=
f.oNext,f===b.anEdge){d.sweep.connectLeftVertex_(c,b);return}b=d.sweep.topLeftRegion_(f.activeRegion);var e=b.regionBelow();f=e.eUp;e=d.sweep.finishLeftRegions_(c,e,null);e.oNext===f?d.sweep.connectRightVertex_(c,b,e):d.sweep.addRightEdges_(c,b,e.oNext,f,f,!0)};d.sweep.addSentinel_=function(c,b){var f=new d.ActiveRegion,e=d.mesh.makeEdge(c.mesh);e.org.s=d.sweep.SENTINEL_COORD_;e.org.t=b;e.dst().s=-d.sweep.SENTINEL_COORD_;e.dst().t=b;c.event=e.dst();f.eUp=e;f.windingNumber=0;f.inside=!1;f.fixUpperEdge=
!1;f.sentinel=!0;f.dirty=!1;f.nodeUp=c.dict.insert(f)};d.sweep.initEdgeDict_=function(c){c.dict=new d.Dict(c,d.sweep.edgeLeq_);d.sweep.addSentinel_(c,-d.sweep.SENTINEL_COORD_);d.sweep.addSentinel_(c,d.sweep.SENTINEL_COORD_)};d.sweep.doneEdgeDict_=function(c){for(var b=0,f;null!==(f=c.dict.getMin().getKey());)f.sentinel||(d.assert(f.fixUpperEdge),d.assert(1===++b)),d.assert(0===f.windingNumber),d.sweep.deleteRegion_(c,f);c.dict=null};d.sweep.removeDegenerateEdges_=function(c){for(var b=c.mesh.eHead,
f,e=b.next;e!==b;e=f){f=e.next;var h=e.lNext;d.geom.vertEq(e.org,e.dst())&&e.lNext.lNext!==e&&(d.sweep.spliceMergeVertices_(c,h,e),d.mesh.deleteEdge(e),e=h,h=e.lNext);if(h.lNext===e){if(h!==e){if(h===f||h===f.sym)f=f.next;d.mesh.deleteEdge(h)}if(e===f||e===f.sym)f=f.next;d.mesh.deleteEdge(e)}}};d.sweep.initPriorityQ_=function(c){var b=new d.PriorityQ;c.pq=b;c=c.mesh.vHead;var f;for(f=c.next;f!==c;f=f.next)f.pqHandle=b.insert(f);b.init()};d.sweep.donePriorityQ_=function(c){c.pq.deleteQ();c.pq=null};
d.sweep.removeDegenerateFaces_=function(c){for(var b,f=c.fHead.next;f!==c.fHead;f=b)b=f.next,f=f.anEdge,d.assert(f.lNext!==f),f.lNext.lNext===f&&(d.sweep.addWinding_(f.oNext,f),d.mesh.deleteEdge(f))};d.tessmono={};d.tessmono.tessellateMonoRegion_=function(c){c=c.anEdge;for(d.assert(c.lNext!==c&&c.lNext.lNext!==c);d.geom.vertLeq(c.dst(),c.org);c=c.lPrev());for(;d.geom.vertLeq(c.org,c.dst());c=c.lNext);for(var b=c.lPrev(),f;c.lNext!==b;)if(d.geom.vertLeq(c.dst(),b.org)){for(;b.lNext!==c&&(d.geom.edgeGoesLeft(b.lNext)||
0>=d.geom.edgeSign(b.org,b.dst(),b.lNext.dst()));)f=d.mesh.connect(b.lNext,b),b=f.sym;b=b.lPrev()}else{for(;b.lNext!==c&&(d.geom.edgeGoesRight(c.lPrev())||0<=d.geom.edgeSign(c.dst(),c.org,c.lPrev().org));)f=d.mesh.connect(c,c.lPrev()),c=f.sym;c=c.lNext}for(d.assert(b.lNext!==c);b.lNext.lNext!==c;)f=d.mesh.connect(b.lNext,b),b=f.sym};d.tessmono.tessellateInterior=function(c){for(var b,f=c.fHead.next;f!==c.fHead;f=b)b=f.next,f.inside&&d.tessmono.tessellateMonoRegion_(f)};d.tessmono.discardExterior=
function(c){for(var b,f=c.fHead.next;f!==c.fHead;f=b)b=f.next,f.inside||d.mesh.zapFace(f)};d.tessmono.setWindingNumber=function(c,b,f){for(var e,h=c.eHead.next;h!==c.eHead;h=e)e=h.next,h.rFace().inside!==h.lFace.inside?h.winding=h.lFace.inside?b:-b:f?d.mesh.deleteEdge(h):h.winding=0};d.Dict=function(c,b){this.head_=new d.DictNode;this.frame_=c;this.leq_=b};d.Dict.prototype.deleteDict_=function(){};d.Dict.prototype.insertBefore=function(c,b){do c=c.prev;while(null!==c.key&&!this.leq_(this.frame_,c.key,
b));b=new d.DictNode(b,c.next,c);c.next.prev=b;return c.next=b};d.Dict.prototype.insert=function(c){return this.insertBefore(this.head_,c)};d.Dict.prototype.deleteNode=function(c){c.next.prev=c.prev;c.prev.next=c.next};d.Dict.prototype.search=function(c){var b=this.head_;do b=b.next;while(null!==b.key&&!this.leq_(this.frame_,c,b.key));return b};d.Dict.prototype.getMin=function(){return this.head_.next};d.Dict.prototype.getMax=function(){return this.head_.prev};d.DictNode=function(c,b,f){this.key=
c||null;this.next=b||this;this.prev=f||this};d.DictNode.prototype.getKey=function(){return this.key};d.DictNode.prototype.getSuccessor=function(){return this.next};d.DictNode.prototype.getPredecessor=function(){return this.prev};d.GluTesselator=function(){this.state_=d.GluTesselator.tessState_.T_DORMANT;this.errorCallback_=this.mesh=this.lastEdge_=null;this.normal_=[0,0,0];this.windingRule=d.windingRule.GLU_TESS_WINDING_ODD;this.fatalError=!1;this.combineCallback_=this.event=this.pq=this.dict=null;
this.boundaryOnly_=!1;this.polygonData_=this.meshCallback_=this.endCallback_=this.vertexCallback_=this.edgeFlagCallback_=this.beginCallback_=null};d.GluTesselator.tessState_={T_DORMANT:0,T_IN_POLYGON:1,T_IN_CONTOUR:2};d.GluTesselator.prototype.gluDeleteTess=function(){this.requireState_(d.GluTesselator.tessState_.T_DORMANT)};d.GluTesselator.prototype.gluTessProperty=function(c,b){switch(c){case d.gluEnum.GLU_TESS_TOLERANCE:return;case d.gluEnum.GLU_TESS_WINDING_RULE:switch(b){case d.windingRule.GLU_TESS_WINDING_ODD:case d.windingRule.GLU_TESS_WINDING_NONZERO:case d.windingRule.GLU_TESS_WINDING_POSITIVE:case d.windingRule.GLU_TESS_WINDING_NEGATIVE:case d.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:this.windingRule=
b;return}break;case d.gluEnum.GLU_TESS_BOUNDARY_ONLY:this.boundaryOnly_=!!b;return;default:this.callErrorCallback(d.gluEnum.GLU_INVALID_ENUM);return}this.callErrorCallback(d.gluEnum.GLU_INVALID_VALUE)};d.GluTesselator.prototype.gluGetTessProperty=function(c){switch(c){case d.gluEnum.GLU_TESS_TOLERANCE:return 0;case d.gluEnum.GLU_TESS_WINDING_RULE:return c=this.windingRule,d.assert(c===d.windingRule.GLU_TESS_WINDING_ODD||c===d.windingRule.GLU_TESS_WINDING_NONZERO||c===d.windingRule.GLU_TESS_WINDING_POSITIVE||
c===d.windingRule.GLU_TESS_WINDING_NEGATIVE||c===d.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO),c;case d.gluEnum.GLU_TESS_BOUNDARY_ONLY:return d.assert(!0===this.boundaryOnly_||!1===this.boundaryOnly_),this.boundaryOnly_;default:this.callErrorCallback(d.gluEnum.GLU_INVALID_ENUM)}return!1};d.GluTesselator.prototype.gluTessNormal=function(c,b,f){this.normal_[0]=c;this.normal_[1]=b;this.normal_[2]=f};d.GluTesselator.prototype.gluTessCallback=function(c,b){b=b?b:null;switch(c){case d.gluEnum.GLU_TESS_BEGIN:case d.gluEnum.GLU_TESS_BEGIN_DATA:this.beginCallback_=
b;break;case d.gluEnum.GLU_TESS_EDGE_FLAG:case d.gluEnum.GLU_TESS_EDGE_FLAG_DATA:this.edgeFlagCallback_=b;break;case d.gluEnum.GLU_TESS_VERTEX:case d.gluEnum.GLU_TESS_VERTEX_DATA:this.vertexCallback_=b;break;case d.gluEnum.GLU_TESS_END:case d.gluEnum.GLU_TESS_END_DATA:this.endCallback_=b;break;case d.gluEnum.GLU_TESS_ERROR:case d.gluEnum.GLU_TESS_ERROR_DATA:this.errorCallback_=b;break;case d.gluEnum.GLU_TESS_COMBINE:case d.gluEnum.GLU_TESS_COMBINE_DATA:this.combineCallback_=b;break;case d.gluEnum.GLU_TESS_MESH:this.meshCallback_=
b;break;default:this.callErrorCallback(d.gluEnum.GLU_INVALID_ENUM)}};d.GluTesselator.prototype.gluTessVertex=function(c,b){var f=!1,e=[0,0,0];this.requireState_(d.GluTesselator.tessState_.T_IN_CONTOUR);for(var h=0;3>h;++h){var g=c[h];g<-d.GLU_TESS_MAX_COORD&&(g=-d.GLU_TESS_MAX_COORD,f=!0);g>d.GLU_TESS_MAX_COORD&&(g=d.GLU_TESS_MAX_COORD,f=!0);e[h]=g}f&&this.callErrorCallback(d.errorType.GLU_TESS_COORD_TOO_LARGE);this.addVertex_(e,b)};d.GluTesselator.prototype.gluTessBeginPolygon=function(c){this.requireState_(d.GluTesselator.tessState_.T_DORMANT);
this.state_=d.GluTesselator.tessState_.T_IN_POLYGON;this.mesh=new d.GluMesh;this.polygonData_=c};d.GluTesselator.prototype.gluTessBeginContour=function(){this.requireState_(d.GluTesselator.tessState_.T_IN_POLYGON);this.state_=d.GluTesselator.tessState_.T_IN_CONTOUR;this.lastEdge_=null};d.GluTesselator.prototype.gluTessEndContour=function(){this.requireState_(d.GluTesselator.tessState_.T_IN_CONTOUR);this.state_=d.GluTesselator.tessState_.T_IN_POLYGON};d.GluTesselator.prototype.gluTessEndPolygon=function(){this.requireState_(d.GluTesselator.tessState_.T_IN_POLYGON);
this.state_=d.GluTesselator.tessState_.T_DORMANT;d.normal.projectPolygon(this,this.normal_[0],this.normal_[1],this.normal_[2]);d.sweep.computeInterior(this);if(!this.fatalError){var c=this.mesh;this.boundaryOnly_?d.tessmono.setWindingNumber(c,1,!0):d.tessmono.tessellateInterior(c);this.mesh.checkMesh();if(this.beginCallback_||this.endCallback_||this.vertexCallback_||this.edgeFlagCallback_)this.boundaryOnly_?d.render.renderBoundary(this,this.mesh):d.render.renderMesh(this,this.mesh,!!this.edgeFlagCallback_);
if(this.meshCallback_){d.tessmono.discardExterior(this.mesh);this.meshCallback_(this.mesh);this.polygonData_=this.mesh=null;return}}d.mesh.deleteMesh(this.mesh);this.mesh=this.polygonData_=null};d.GluTesselator.prototype.requireState_=function(c){this.state_!==c&&this.gotoState_(c)};d.GluTesselator.prototype.gotoState_=function(c){for(;this.state_!==c;)if(this.state_<c)switch(this.state_){case d.GluTesselator.tessState_.T_DORMANT:this.callErrorCallback(d.errorType.GLU_TESS_MISSING_BEGIN_POLYGON);
this.gluTessBeginPolygon(null);break;case d.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorCallback(d.errorType.GLU_TESS_MISSING_BEGIN_CONTOUR),this.gluTessBeginContour()}else switch(this.state_){case d.GluTesselator.tessState_.T_IN_CONTOUR:this.callErrorCallback(d.errorType.GLU_TESS_MISSING_END_CONTOUR);this.gluTessEndContour();break;case d.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorCallback(d.errorType.GLU_TESS_MISSING_END_POLYGON),this.gluTessEndPolygon()}};d.GluTesselator.prototype.addVertex_=
function(c,b){var f=this.lastEdge_;null===f?(f=d.mesh.makeEdge(this.mesh),d.mesh.meshSplice(f,f.sym)):(d.mesh.splitEdge(f),f=f.lNext);f.org.data=b;f.org.coords[0]=c[0];f.org.coords[1]=c[1];f.org.coords[2]=c[2];f.winding=1;f.sym.winding=-1;this.lastEdge_=f};d.GluTesselator.prototype.callBeginCallback=function(c){this.beginCallback_&&this.beginCallback_(c,this.polygonData_)};d.GluTesselator.prototype.callVertexCallback=function(c){this.vertexCallback_&&this.vertexCallback_(c,this.polygonData_)};d.GluTesselator.prototype.callEdgeFlagCallback=
function(c){this.edgeFlagCallback_&&this.edgeFlagCallback_(c,this.polygonData_)};d.GluTesselator.prototype.callEndCallback=function(){this.endCallback_&&this.endCallback_(this.polygonData_)};d.GluTesselator.prototype.callCombineCallback=function(c,b,f){return this.combineCallback_?this.combineCallback_(c,b,f,this.polygonData_)||null:null};d.GluTesselator.prototype.callErrorCallback=function(c){this.errorCallback_&&this.errorCallback_(c,this.polygonData_)};d.GluFace=function(c,b){this.next=c||this;
this.prev=b||this;this.anEdge=null;this.inside=!1};d.GluHalfEdge=function(c){this.next=c||this;this.activeRegion=this.lFace=this.org=this.lNext=this.oNext=this.sym=null;this.winding=0};d.GluHalfEdge.prototype.rFace=function(){return this.sym.lFace};d.GluHalfEdge.prototype.dst=function(){return this.sym.org};d.GluHalfEdge.prototype.oPrev=function(){return this.sym.lNext};d.GluHalfEdge.prototype.lPrev=function(){return this.oNext.sym};d.GluHalfEdge.prototype.dPrev=function(){return this.lNext.sym};
d.GluHalfEdge.prototype.rPrev=function(){return this.sym.oNext};d.GluHalfEdge.prototype.dNext=function(){return this.rPrev().sym};d.GluHalfEdge.prototype.rNext=function(){return this.oPrev().sym};d.GluMesh=function(){this.vHead=new d.GluVertex;this.fHead=new d.GluFace;this.eHead=new d.GluHalfEdge;this.eHeadSym=new d.GluHalfEdge;this.eHead.sym=this.eHeadSym;this.eHeadSym.sym=this.eHead};d.GluMesh.prototype.checkMesh=function(){if(d.DEBUG){var c=this.fHead,b=this.vHead,f=this.eHead,e,h;for(e=e=c;(h=
e.next)!==c;e=h){d.assert(h.prev===e);e=h.anEdge;do d.assert(e.sym!==e),d.assert(e.sym.sym===e),d.assert(e.lNext.oNext.sym===e),d.assert(e.oNext.sym.lNext===e),d.assert(e.lFace===h),e=e.lNext;while(e!==h.anEdge)}d.assert(h.prev===e&&null===h.anEdge);for(e=e=b;(c=e.next)!==b;e=c){d.assert(c.prev===e);e=c.anEdge;do d.assert(e.sym!==e),d.assert(e.sym.sym===e),d.assert(e.lNext.oNext.sym===e),d.assert(e.oNext.sym.lNext===e),d.assert(e.org===c),e=e.oNext;while(e!==c.anEdge)}d.assert(c.prev===e&&null===
c.anEdge&&null===c.data);for(b=b=f;(e=b.next)!==f;b=e)d.assert(e.sym.next===b.sym),d.assert(e.sym!==e),d.assert(e.sym.sym===e),d.assert(null!==e.org),d.assert(null!==e.dst()),d.assert(e.lNext.oNext.sym===e),d.assert(e.oNext.sym.lNext===e);d.assert(e.sym.next===b.sym&&e.sym===this.eHeadSym&&e.sym.sym===e&&null===e.org&&null===e.dst()&&null===e.lFace&&null===e.rFace())}};d.GluVertex=function(c,b){this.next=c||this;this.prev=b||this;this.data=this.anEdge=null;this.coords=[0,0,0];this.pqHandle=this.t=
this.s=0};d.PriorityQ=function(){this.verts_=[];this.order_=null;this.size_=0;this.initialized_=!1;this.heap_=new d.PriorityQHeap};d.PriorityQ.prototype.deleteQ=function(){this.verts_=this.order_=this.heap_=null};d.PriorityQ.prototype.init=function(){this.order_=[];for(var c=0;c<this.size_;c++)this.order_[c]=c;c=function(f){return function(e,h){return d.geom.vertLeq(f[e],f[h])?1:-1}}(this.verts_);this.order_.sort(c);this.initialized_=!0;this.heap_.init();if(d.DEBUG){var b=0+this.size_-1;for(c=0;c<
b;++c)d.assert(d.geom.vertLeq(this.verts_[this.order_[c+1]],this.verts_[this.order_[c]]))}};d.PriorityQ.prototype.insert=function(c){if(this.initialized_)return this.heap_.insert(c);var b=this.size_++;this.verts_[b]=c;return-(b+1)};d.PriorityQ.prototype.extractMin=function(){if(0===this.size_)return this.heap_.extractMin();var c=this.verts_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var b=this.heap_.minimum();if(d.geom.vertLeq(b,c))return this.heap_.extractMin()}do--this.size_;while(0<this.size_&&
null===this.verts_[this.order_[this.size_-1]]);return c};d.PriorityQ.prototype.minimum=function(){if(0===this.size_)return this.heap_.minimum();var c=this.verts_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var b=this.heap_.minimum();if(d.geom.vertLeq(b,c))return b}return c};d.PriorityQ.prototype.remove=function(c){if(0<=c)this.heap_.remove(c);else for(c=-(c+1),d.assert(c<this.verts_.length&&null!==this.verts_[c]),this.verts_[c]=null;0<this.size_&&null===this.verts_[this.order_[this.size_-
1]];)--this.size_};d.PriorityQHeap=function(){this.heap_=d.PriorityQHeap.reallocNumeric_([0],d.PriorityQHeap.INIT_SIZE_+1);this.verts_=[null,null];this.handles_=[0,0];this.size_=0;this.max_=d.PriorityQHeap.INIT_SIZE_;this.freeList_=0;this.initialized_=!1;this.heap_[1]=1};d.PriorityQHeap.INIT_SIZE_=32;d.PriorityQHeap.reallocNumeric_=function(c,b){for(var f=Array(b),e=0;e<c.length;e++)f[e]=c[e];for(;e<b;e++)f[e]=0;return f};d.PriorityQHeap.prototype.init=function(){for(var c=this.size_;1<=c;--c)this.floatDown_(c);
this.initialized_=!0};d.PriorityQHeap.prototype.insert=function(c){var b=++this.size_;2*b>this.max_&&(this.max_*=2,this.handles_=d.PriorityQHeap.reallocNumeric_(this.handles_,this.max_+1));if(0===this.freeList_)var f=b;else f=this.freeList_,this.freeList_=this.handles_[this.freeList_];this.verts_[f]=c;this.handles_[f]=b;this.heap_[b]=f;this.initialized_&&this.floatUp_(b);return f};d.PriorityQHeap.prototype.isEmpty=function(){return 0===this.size_};d.PriorityQHeap.prototype.minimum=function(){return this.verts_[this.heap_[1]]};
d.PriorityQHeap.prototype.extractMin=function(){var c=this.heap_,b=this.verts_,f=this.handles_,e=c[1],h=b[e];0<this.size_&&(c[1]=c[this.size_],f[c[1]]=1,b[e]=null,f[e]=this.freeList_,this.freeList_=e,0<--this.size_&&this.floatDown_(1));return h};d.PriorityQHeap.prototype.remove=function(c){var b=this.heap_,f=this.verts_,e=this.handles_;d.assert(1<=c&&c<=this.max_&&null!==f[c]);var h=e[c];b[h]=b[this.size_];e[b[h]]=h;h<=--this.size_&&(1>=h?this.floatDown_(h):d.geom.vertLeq(f[b[h>>1]],f[b[h]])?this.floatDown_(h):
this.floatUp_(h));f[c]=null;e[c]=this.freeList_;this.freeList_=c};d.PriorityQHeap.prototype.floatDown_=function(c){for(var b=this.heap_,f=this.verts_,e=this.handles_,h=b[c];;){var g=c<<1;g<this.size_&&d.geom.vertLeq(f[b[g+1]],f[b[g]])&&(g+=1);d.assert(g<=this.max_);var k=b[g];if(g>this.size_||d.geom.vertLeq(f[h],f[k])){b[c]=h;e[h]=c;break}b[c]=k;e[k]=c;c=g}};d.PriorityQHeap.prototype.floatUp_=function(c){for(var b=this.heap_,f=this.verts_,e=this.handles_,h=b[c];;){var g=c>>1,k=b[g];if(0===g||d.geom.vertLeq(f[k],
f[h])){b[c]=h;e[h]=c;break}b[c]=k;e[k]=c;c=g}};d.ActiveRegion=function(){this.nodeUp=this.eUp=null;this.windingNumber=0;this.fixUpperEdge=this.dirty=this.sentinel=this.inside=!1};d.ActiveRegion.prototype.regionBelow=function(){return this.nodeUp.getPredecessor().getKey()};d.ActiveRegion.prototype.regionAbove=function(){return this.nodeUp.getSuccessor().getKey()};return d})})(m);const v=a.getLogger("esri.views.2d.engine.webgl.mesh.templates.Tesselator");return function(){function r(){this._indexCounter=
this._currentVertexIndex=0;this._triangleIndices=[-1,-1,-1];this.glu=new m.exports.GluTesselator;this.glu.gluTessCallback(m.exports.gluEnum.GLU_TESS_BEGIN,this._begincallback.bind(this));this.glu.gluTessCallback(m.exports.gluEnum.GLU_TESS_VERTEX_DATA,this._vertexCallback.bind(this));this.glu.gluTessCallback(m.exports.gluEnum.GLU_TESS_END,this._endcallback.bind(this));this.glu.gluTessCallback(m.exports.gluEnum.GLU_TESS_COMBINE,this._combinecallback.bind(this));this.glu.gluTessCallback(m.exports.gluEnum.GLU_TESS_ERROR,
this._errorcallback.bind(this));this.glu.gluTessCallback(m.exports.gluEnum.GLU_TESS_EDGE_FLAG,this._edgeCallback.bind(this));this.glu.gluTessProperty(m.exports.gluEnum.GLU_TESS_WINDING_RULE,m.exports.windingRule.GLU_TESS_WINDING_ODD)}var d=r.prototype;d.beginPolygon=function(c,b){this._triangleIndices[0]=-1;this._triangleIndices[1]=-1;this._triangleIndices[2]=-1;this._indexCounter=this._currentVertexIndex=0;this.glu.gluTessBeginPolygon(c);this._indices=b};d.endPolygon=function(){this.glu.gluTessEndPolygon()};
d.beginContour=function(){this.glu.gluTessBeginContour()};d.endContour=function(){this.glu.gluTessEndContour()};d.addVertex=function(c,b){this.glu.gluTessVertex(c,b)};d._vertexCallback=function(c,b){b[b.length]=c[0];b[b.length]=c[1];this._triangleIndices[this._currentVertexIndex]=-1;if(2<=this._currentVertexIndex){for(c=0;3>c;c++)-1===this._triangleIndices[c]&&(this._triangleIndices[c]=this._indexCounter++),this._indices[this._indices.length]=this._triangleIndices[c];this._currentVertexIndex=0}else this._currentVertexIndex++};
d._begincallback=function(){this._triangleIndices[0]=-1;this._triangleIndices[1]=-1;this._triangleIndices[2]=-1;this._currentVertexIndex=0};d._endcallback=function(){this._currentVertexIndex=0};d._errorcallback=function(c){v.error(`Encountered error during tesselation: ${c}`)};d._combinecallback=function(c){return[c[0],c[1],c[2]]};d._edgeCallback=function(){};return r}()})},"esri/views/2d/engine/vectorTiles/buckets/LineBucket":function(){define(["../../../../../chunks/_rollupPluginBabelHelpers","./BaseBucket",
"../../webgl/TurboLine"],function(a,m,v){const r=c=>(b,f,e,h,g,k,n,l,p,t,u)=>{c._lineVertexBuffer.add(b,f,n,l,e,h,g,k,p,t,u,c._ddValues);return c._lineVertexBuffer.index-1},d=c=>(b,f,e)=>{c._lineIndexBuffer.add(b,f,e)};return function(c){function b(e,h,g,k,n){h=c.call(this,e,h,g)||this;h.type=2;h._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0};h._patternMap=new Map;h.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null};h.tessellationProperties._lineVertexBuffer=
k;h.tessellationProperties._lineIndexBuffer=n;h._lineTessellator=new v.LineTessellation(r(h.tessellationProperties),d(h.tessellationProperties),e.canUseThinTessellation);return h}a._inheritsLoose(b,c);var f=b.prototype;f.getResources=function(e,h,g){e=this.layer;const k=this.zoom;var n=e.hasDataDrivenLine;const l=e.getPaintProperty("line-pattern"),p=e.getPaintProperty("line-dasharray"),t=e.getLayoutProperty("line-cap");if(l||p){g=(null==t?void 0:t.getValue(k))||0;var u=null==t?void 0:t.isDataDriven;
if(n){n=null==l?void 0:l.isDataDriven;const z=null==p?void 0:p.isDataDriven;if(n||z)for(var A of this._features)n?h.add(l.getValue(k,A)):h.add({name:this._getDashArrayKey(A,k,e,p,u,t,g)})}else l?h.add(l.getValue(k)):p&&(A=p.getValue(k),h.add({name:e.getDashKey(A,g)}))}};f.processFeatures=function(e){var h,g,k,n;this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index;this._lineIndexCount=0;const l=this.layer,p=this.zoom;var t=this._features;const u=this._tessellationOptions,{hasDataDrivenLine:A,
lineMaterial:z}=l;e&&e.setExtent(this.layerExtent);var w=l.getPaintProperty("line-pattern"),C=l.getPaintProperty("line-dasharray");const y=null==w?void 0:w.isDataDriven;var x=null==C?void 0:C.isDataDriven;var E=l.getLayoutProperty("line-cap");const D=null!=(h=E)&&h.isDataDriven?E:null,q=D?null:l.getLayoutValue("line-cap",p),B=q||0,G=!!D;E=l.getLayoutProperty("line-join");const F=(h=null!=(g=E)&&g.isDataDriven?E:null)?null:l.getLayoutValue("line-join",p);E=l.getLayoutProperty("line-miter-limit");const H=
(g=null!=(k=E)&&k.isDataDriven?E:null)?null:l.getLayoutValue("line-miter-limit",p);E=l.getLayoutProperty("line-round-limit");const J=(k=null!=(n=E)&&n.isDataDriven?E:null)?null:l.getLayoutValue("line-round-limit",p);E=l.getPaintProperty("line-width");var Q=(n=null!=(Q=E)&&Q.isDataDriven?E:null)?null:l.getPaintValue("line-width",p);E=l.getPaintProperty("line-offset");var T=(E=null!=(T=E)&&T.isDataDriven?E:null)?null:l.getPaintValue("line-offset",p);if(y||x){var R=[];for(const V of t){t=y?w.getValue(p,
V):this._getDashArrayKey(V,p,l,C,G,D,B);t=this._spriteInfo[t];if(!t||!t.rect)continue;x=z.encodeAttributes(V,p,l,t);const Y=V.getGeometry(e);R.push({ddAttributes:x,page:t.page,cap:D?D.getValue(p,V):q,join:h?h.getValue(p,V):F,miterLimit:g?g.getValue(p,V):H,roundLimit:k?k.getValue(p,V):J,halfWidth:.5*(n?n.getValue(p,V):Q),offset:E?E.getValue(p,V):T,geometry:Y})}R.sort((V,Y)=>V.page-Y.page);u.textured=!0;for(const {ddAttributes:V,page:Y,cap:da,join:na,miterLimit:ta,roundLimit:ka,halfWidth:va,offset:pa,
geometry:O}of R)u.capType=da,u.joinType=na,u.miterLimit=ta,u.roundLimit=ka,u.halfWidth=va,u.offset=pa,this._processFeature(O,V,Y)}else{u.textured=!(!w&&!C);u.capType=q;u.joinType=F;u.miterLimit=H;u.roundLimit=J;u.halfWidth=.5*Q;u.offset=T;for(R of t)w=A?z.encodeAttributes(R,p,l):null,D&&(u.capType=D.getValue(p,R)),h&&(u.joinType=h.getValue(p,R)),g&&(u.miterLimit=g.getValue(p,R)),k&&(u.roundLimit=k.getValue(p,R)),n&&(u.halfWidth=.5*n.getValue(p,R)),E&&(u.offset=E.getValue(p,R)),C=R.getGeometry(e),
this._processFeature(C,w)}};f.serialize=function(){var e=6+this.layerUIDs.length;e+=this.tessellationProperties._lineVertexBuffer.array.length;e+=this.tessellationProperties._lineIndexBuffer.array.length;e+=3*this._patternMap.size+1;e=new Uint32Array(e);var h=new Int32Array(e.buffer);let g=0;e[g++]=this.type;e[g++]=this.layerUIDs.length;for(var k=0;k<this.layerUIDs.length;k++)e[g++]=this.layerUIDs[k];e[g++]=this._lineIndexStart;e[g++]=this._lineIndexCount;k=this._patternMap;const n=k.size;e[g++]=
n;if(0<n)for(const [l,[p,t]]of k)e[g++]=l,e[g++]=p,e[g++]=t;e[g++]=this.tessellationProperties._lineVertexBuffer.array.length;for(k=0;k<this.tessellationProperties._lineVertexBuffer.array.length;k++)h[g++]=this.tessellationProperties._lineVertexBuffer.array[k];e[g++]=this.tessellationProperties._lineIndexBuffer.array.length;for(h=0;h<this.tessellationProperties._lineIndexBuffer.array.length;h++)e[g++]=this.tessellationProperties._lineIndexBuffer.array[h];return e.buffer};f._processFeature=function(e,
h,g){if(e){var k=e.length;for(let n=0;n<k;n++)this._processGeometry(e[n],h,g)}};f._processGeometry=function(e,h,g){if(!(2>e.length)){for(var k=e[0],n=1,l,p;n<e.length;)l=e[n].x-k.x,p=e[n].y-k.y,1E-6>l*l+p*p?e.splice(n,1):(k=e[n],++n);2>e.length||(n=this.tessellationProperties._lineIndexBuffer,k=3*n.index,this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=h,this._lineTessellator.tessellate(e,this._tessellationOptions),e=3*
n.index-k,void 0!==g&&(h=this._patternMap,(n=h.get(g))?n[1]+=e:h.set(g,[k+this._lineIndexCount,e])),this._lineIndexCount+=e)}};f._getDashArrayKey=function(e,h,g,k,n,l,p){n=n?l.getValue(h,e):p;e=k.getValue(h,e);return g.getDashKey(e,n)};a._createClass(b,[{key:"lineIndexStart",get:function(){return this._lineIndexStart}},{key:"lineIndexCount",get:function(){return this._lineIndexCount}}]);return b}(m)})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["exports","./definitions"],function(a,
m){function v(g,k){return g.x===k.x&&g.y===k.y}function r(g,k){g.x=k.y;g.y=-k.x;return g}function d(g,k){g.x=-k.y;g.y=k.x;return g}function c(g,k){g.x=k.x;g.y=k.y;return g}function b(g,k){g.x=-k.x;g.y=-k.y;return g}function f(g){return Math.sqrt(g.x*g.x+g.y*g.y)}function e(g,k,n,l){g.x=k.x*n+k.y*l;g.y=k.x*l-k.y*n;return g}let h=function(){function g(n,l,p){this.writeVertex=n;this.writeTriangle=l;this.canUseThinTessellation=p;this.prevNormal={x:void 0,y:void 0};this.nextNormal={x:void 0,y:void 0};
this.textureNormalLeft={x:0,y:1};this.textureNormalRight={x:0,y:-1};this.textureNormal={x:void 0,y:void 0};this.joinNormal={x:void 0,y:void 0};this.inner={x:void 0,y:void 0};this.outer={x:void 0,y:void 0};this.roundStart={x:void 0,y:void 0};this.roundEnd={x:void 0,y:void 0};this.startBreak={x:void 0,y:void 0};this.endBreak={x:void 0,y:void 0};this.innerPrev={x:void 0,y:void 0};this.innerNext={x:void 0,y:void 0};this.bevelStart={x:void 0,y:void 0};this.bevelEnd={x:void 0,y:void 0};this.bevelMiddle=
{x:void 0,y:void 0}}var k=g.prototype;k.tessellate=function(n,l){if(n){var p=n.length;if(!(1>=p)){var t=0;for(let u=1;u<p;u++)v(n[u],n[t])||++t===u||(n[t]=n[u]);n.length=t+1}}this.canUseThinTessellation&&l.halfWidth<m.THIN_LINE_HALF_WIDTH_THRESHOLD&&!l.offset?this.tessellateThin_(n,l):this.tessellate_(n,l)};k.tessellateThin_=function(n,l){if(!(2>n.length)){var p=l.wrapDistance||65535;l=l.initialDistance||0;var t=!1,u=n[0].x,A=n[0].y,z=n.length;for(let x=1;x<z;++x){t&&(t=!1,l=0);let E=n[x].x,D=n[x].y;
var w=E-u;let q=D-A;var C=Math.sqrt(w*w+q*q);w/=C;q/=C;if(l+C>p){t=!0;var y=(p-l)/C;C=p-l;E=(1-y)*u+y*E;D=(1-y)*A+y*D;--x}y=this.writeVertex(u,A,0,0,w,q,q,-w,0,-1,l);u=this.writeVertex(u,A,0,0,w,q,-q,w,0,1,l);l+=C;C=this.writeVertex(E,D,0,0,w,q,q,-w,0,-1,l);w=this.writeVertex(E,D,0,0,w,q,-q,w,0,1,l);this.writeTriangle(y,u,C);this.writeTriangle(u,C,w);u=E;A=D}}};k.tessellate_=function(n,l){var p=n[n.length-1];const t=v(n[0],p);if(!(n.length<(t?3:2))){var u=l.pixelCoordRatio,A=null!=l.capType?l.capType:
0,z=null!=l.joinType?l.joinType:2,w=null!=l.miterLimit?Math.min(l.miterLimit,4):2,C=null!=l.roundLimit?Math.min(l.roundLimit,1.05):1.05,y=null!=l.halfWidth?l.halfWidth:2,x=!!l.textured,E=null,D=null,q=this.prevNormal,B=this.nextNormal,G=-1,F=-1,H=this.joinNormal,J=this.textureNormalLeft,Q=this.textureNormalRight,T=this.textureNormal,R=-1,V=-1,Y=l.wrapDistance||65535,da=l.initialDistance||0,na=this.writeVertex,ta=this.writeTriangle;l=function(W,aa,ea,M,I,L){W=na(ka,va,S,U,ea,M,W,aa,I,L,da);0<=R&&0<=
V&&0<=W&&ta(R,V,W);R=V;return V=W};t&&(E=n[n.length-2],B.x=p.x-E.x,B.y=p.y-E.y,F=f(B),B.x/=F,B.y/=F);p=!1;for(let W=0;W<n.length;++W){p&&(p=!1,da=0);E&&(q.x=-B.x,q.y=-B.y,G=F,da+G>Y&&(p=!0));p?(D=(Y-da)/G,G=Y-da,E={x:(1-D)*E.x+D*n[W].x,y:(1-D)*E.y+D*n[W].y},--W):E=n[W];var ka=E.x;var va=E.y;var pa=0>=W&&!p,O=W===n.length-1;pa||(da+=G);(D=O?t?n[1]:null:n[W+1])?(B.x=D.x-ka,B.y=D.y-va,F=f(B),B.x/=F,B.y/=F):(B.x=void 0,B.y=void 0);if(!t){if(pa){d(H,B);var S=H.x;var U=H.y;2===A&&(l(-B.y-B.x,B.x-B.y,B.x,
B.y,0,-1),l(B.y-B.x,-B.x-B.y,B.x,B.y,0,1));1===A&&(l(-B.y-B.x,B.x-B.y,B.x,B.y,-1,-1),l(B.y-B.x,-B.x-B.y,B.x,B.y,-1,1));if(1===A||0===A)l(-B.y,B.x,B.x,B.y,0,-1),l(B.y,-B.x,B.x,B.y,0,1);continue}if(O){r(H,q);S=H.x;U=H.y;if(1===A||0===A)l(q.y,-q.x,-q.x,-q.y,0,-1),l(-q.y,q.x,-q.x,-q.y,0,1);2===A&&(l(q.y-q.x,-q.x-q.y,-q.x,-q.y,0,-1),l(-q.y-q.x,q.x-q.y,-q.x,-q.y,0,1));1===A&&(l(q.y-q.x,-q.x-q.y,-q.x,-q.y,1,-1),l(-q.y-q.x,q.x-q.y,-q.x,-q.y,1,1));continue}}var ca=void 0;pa=-(q.x*B.y-q.y*B.x);.01>Math.abs(pa)?
0<q.x*B.x+q.y*B.y?(H.x=q.x,H.y=q.y,pa=1,ca=Number.MAX_VALUE,D=!0):(d(H,B),ca=pa=1,D=!1):(H.x=(q.x+B.x)/pa,H.y=(q.y+B.y)/pa,ca=f(H),D=(ca-1)*y*u,D=4<ca||D>G&&D>F);S=H.x;U=H.y;var ba=z;switch(z){case 0:1.05>ca&&(ba=2);break;case 1:ca<C&&(ba=2);break;case 2:ca>w&&(ba=0)}switch(ba){case 2:l(H.x,H.y,-q.x,-q.y,0,-1);l(-H.x,-H.y,-q.x,-q.y,0,1);if(O)break;x&&(D=p?0:da,R=this.writeVertex(ka,va,S,U,B.x,B.y,H.x,H.y,0,-1,D),V=this.writeVertex(ka,va,S,U,B.x,B.y,-H.x,-H.y,0,1,D));break;case 0:pa=0>pa;var ja=void 0;
pa?(ba=R,R=V,V=ba,ja=J,ba=Q):(ja=Q,ba=J);var qa=void 0,sa=void 0;D?(qa=pa?d(this.innerPrev,q):r(this.innerPrev,q),sa=pa?r(this.innerNext,B):d(this.innerNext,B)):qa=sa=pa?b(this.inner,H):c(this.inner,H);ca=pa?r(this.bevelStart,q):d(this.bevelStart,q);l(qa.x,qa.y,-q.x,-q.y,ja.x,ja.y);qa=l(ca.x,ca.y,-q.x,-q.y,ba.x,ba.y);if(O)break;O=pa?d(this.bevelEnd,B):r(this.bevelEnd,B);D?(D=this.writeVertex(ka,va,S,U,-q.x,-q.y,0,0,0,0,da),R=this.writeVertex(ka,va,S,U,B.x,B.y,sa.x,sa.y,ja.x,ja.y,da),V=this.writeVertex(ka,
va,S,U,B.x,B.y,O.x,O.y,ba.x,ba.y,da),this.writeTriangle(qa,D,V)):(x?(D=this.bevelMiddle,D.x=(ca.x+O.x)/2,D.y=(ca.y+O.y)/2,e(T,D,-q.x,-q.y),l(D.x,D.y,-q.x,-q.y,T.x,T.y),e(T,D,B.x,B.y),R=this.writeVertex(ka,va,S,U,B.x,B.y,D.x,D.y,T.x,T.y,da),V=this.writeVertex(ka,va,S,U,B.x,B.y,sa.x,sa.y,ja.x,ja.y,da)):(D=R,R=V,V=D),l(O.x,O.y,B.x,B.y,ba.x,ba.y));pa&&(D=R,R=V,V=D);break;case 1:{pa=0>pa;var wa=void 0;pa?(ba=R,R=V,V=ba,ba=J,wa=Q):(ba=Q,wa=J);var ra=pa?b(this.inner,H):c(this.inner,H);D?(sa=pa?d(this.innerPrev,
q):r(this.innerPrev,q),ja=pa?r(this.innerNext,B):d(this.innerNext,B)):ja=sa=ra;qa=pa?r(this.roundStart,q):d(this.roundStart,q);var ya=pa?d(this.roundEnd,B):r(this.roundEnd,B);sa=l(sa.x,sa.y,-q.x,-q.y,ba.x,ba.y);qa=l(qa.x,qa.y,-q.x,-q.y,wa.x,wa.y);if(O)break;O=this.writeVertex(ka,va,S,U,-q.x,-q.y,0,0,0,0,da);D||this.writeTriangle(R,V,O);ra=b(this.outer,ra);wa=this.writeVertex(ka,va,S,U,B.x,B.y,ya.x,ya.y,wa.x,wa.y,da);let aa,ea;if(ya=2<ca){var K=void 0;ca!==Number.MAX_VALUE?(ra.x/=ca,ra.y/=ca,K=q.x*
ra.x+q.y*ra.y,K=(ca*(K*K-1)+1)/K):K=-1;aa=pa?r(this.startBreak,q):d(this.startBreak,q);aa.x+=q.x*K;aa.y+=q.y*K;ea=pa?d(this.endBreak,B):r(this.endBreak,B);ea.x+=B.x*K;ea.y+=B.y*K}e(T,ra,-q.x,-q.y);ca=this.writeVertex(ka,va,S,U,-q.x,-q.y,ra.x,ra.y,T.x,T.y,da);e(T,ra,B.x,B.y);ra=x?this.writeVertex(ka,va,S,U,B.x,B.y,ra.x,ra.y,T.x,T.y,da):ca;K=O;const M=x?this.writeVertex(ka,va,S,U,B.x,B.y,0,0,0,0,da):O;let I=-1,L=-1;ya&&(e(T,aa,-q.x,-q.y),I=this.writeVertex(ka,va,S,U,-q.x,-q.y,aa.x,aa.y,T.x,T.y,da),
e(T,ea,B.x,B.y),L=this.writeVertex(ka,va,S,U,B.x,B.y,ea.x,ea.y,T.x,T.y,da));x?ya?(this.writeTriangle(K,qa,I),this.writeTriangle(K,I,ca),this.writeTriangle(M,ra,L),this.writeTriangle(M,L,wa)):(this.writeTriangle(K,qa,ca),this.writeTriangle(M,ra,wa)):ya?(this.writeTriangle(O,qa,I),this.writeTriangle(O,I,L),this.writeTriangle(O,L,wa)):(this.writeTriangle(O,qa,ca),this.writeTriangle(O,ra,wa));D?R=this.writeVertex(ka,va,S,U,B.x,B.y,ja.x,ja.y,ba.x,ba.y,da):(R=x?this.writeVertex(ka,va,S,U,B.x,B.y,ja.x,ja.y,
ba.x,ba.y,da):sa,this.writeTriangle(R,M,wa));V=wa;pa&&(D=R,R=V,V=D)}}}}};return g}();a.LineTessellation=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],function(a){a.ANGLE_FACTOR_256=256/360;a.ATTRIBUTE_DATA_ANIMATION=1;a.ATTRIBUTE_DATA_DD0=3;a.ATTRIBUTE_DATA_DD1=3;a.ATTRIBUTE_DATA_FILTER_FLAGS=0;a.ATTRIBUTE_DATA_VV=2;a.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;a.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,
advance:14}};a.BUFFER_DATA_MINIMUM_SIZE=128;a.BUFFER_DATA_POOL_SIZE=4;a.COLLISION_BOX_PADDING=16;a.COLLISION_BUCKET_SIZE=128;a.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;a.COLLISION_MAX_ZOOM_DELTA=1;a.COLLISION_PLACEMENT_PADDING=8;a.COLLISION_TILE_BOX_SIZE=4;a.DEBUG_LABELS=!1;a.DISPLAY_RECORD_INT_PER_ELEMENT=7;a.DOT_DENSITY_MAX_FIELDS=8;a.EFFECT_FLAG_0=4;a.ENABLE_EARLY_LABEL_DISCARD=!1;a.EXTRUDE_SCALE=64;a.FILTER_FLAG_0=2;a.GLYPH_SIZE=24;a.HEURISTIC_GLYPHS_PER_FEATURE=10;a.HEURISTIC_GLYPHS_PER_LINE=50;
a.HIGHLIGHT_FLAG=1;a.HITTEST_SEARCH_SIZE=6;a.MAGIC_LABEL_LINE_HEIGHT=29;a.MAX_FILTERS=2;a.MAX_GPU_UPLOADS_PER_FRAME=2;a.MIN_MAX_ZOOM_PRECISION_FACTOR=10;a.NAN_MAGIC_NUMBER=1E-30;a.PATCH_PIXEL_BUFFER_ALLOC_SIZE=500;a.PICTURE_FILL_COLOR=4294967295;a.RASTER_TILE_SIZE=256;a.SPRITE_PADDING=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;a.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;a.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;a.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;a.TEXTURE_BINDING_BITMAP=0;a.TEXTURE_BINDING_GLYPH_ATLAS=0;a.TEXTURE_BINDING_HIGHLIGHT_0=
5;a.TEXTURE_BINDING_HIGHLIGHT_1=6;a.TEXTURE_BINDING_RENDERER_0=5;a.TEXTURE_BINDING_RENDERER_1=6;a.TEXTURE_BINDING_SPRITE_ATLAS=0;a.TEXT_PLACEMENT_PADDING=8;a.THIN_LINE_HALF_WIDTH_THRESHOLD=1.05;a.TILE_SIZE=512;a.VTL_HIGH_RES_CUTOFF=1.15;a.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;a.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;a.WEBGL_MAX_INNER_STOPS=6;a.WEBGL_MAX_STOPS=8;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/buckets/SymbolBucket":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/BidiEngine ../../../../../core/string ../GeometryUtils ../Placement ../TextShaping ./BaseBucket ../style/StyleLayer ../../webgl/Geometry".split(" "),
function(a,m,v,r,d,c,b,f,e){function h(g,k){return g.iconMosaicItem&&k.iconMosaicItem?g.iconMosaicItem.page===k.iconMosaicItem.page?0:g.iconMosaicItem.page-k.iconMosaicItem.page:g.iconMosaicItem&&!k.iconMosaicItem?1:!g.iconMosaicItem&&k.iconMosaicItem?-1:0}b=function(g){function k(l,p,t,u,A,z,w,C){l=g.call(this,l,p,C.getSpriteItems())||this;l.type=3;l._markerMap=new Map;l._glyphMap=new Map;l._glyphBufferDataStorage=new Map;l._isIconSDF=!1;l._iconVertexBuffer=t;l._iconIndexBuffer=u;l._textVertexBuffer=
A;l._textIndexBuffer=z;l._placementEngine=w;l._workerTileHandler=C;return l}a._inheritsLoose(k,g);var n=k.prototype;n.getResources=function(l,p,t){const u=this.layer,A=this.zoom;l&&l.setExtent(this.layerExtent);const z=u.getLayoutProperty("icon-image"),w=u.getLayoutProperty("text-field");let C=u.getLayoutProperty("text-transform"),y=u.getLayoutProperty("text-font");const x=[];let E;z&&!z.isDataDriven&&(E=z.getValue(A));let D;w&&!w.isDataDriven&&(D=w.getValue(A));let q;C&&C.isDataDriven||(q=u.getLayoutValue("text-transform",
A),C=null);let B;y&&y.isDataDriven||(B=u.getLayoutValue("text-font",A),y=null);for(const J of this._features){var G=J.getGeometry(l);if(!G||0===G.length)continue;let Q;z&&(Q=z.isDataDriven?z.getValue(A,J):this._replaceKeys(E,J.values))&&p.add({name:Q});let T;var F=!1;if(w&&(T=w.isDataDriven?w.getValue(A,J):this._replaceKeys(D,J.values))){T=T.replace(/\\n/g,"\n");C&&(q=C.getValue(A,J));switch(q){case 2:T=T.toLowerCase();break;case 1:T=T.toUpperCase()}k._bidiEngine.hasBidiChar(T)&&(F="rtl"===k._bidiEngine.checkContextual(T)?
"IDNNN":"ICNNN",T=k._bidiEngine.bidiTransform(T,F,"VLYSN"),F=!0);var H=T.length;if(0<H){y&&(B=y.getValue(A,J));for(const R of B){let V=t[R];V||(V=t[R]=new Set);for(let Y=0;Y<H;Y++){const da=T.charCodeAt(Y);V.add(da)}}}}if(Q||T)H=u.getLayoutValue("symbol-sort-key",A,J),G={feature:J,sprite:Q,label:T,rtl:F,geometry:G,hash:(T?v.numericHash(T):0)^(Q?v.numericHash(Q):0),priority:H,textFont:B},x.push(G)}this._symbolFeatures=x};n.processFeatures=function(l){l&&l.setExtent(this.layerExtent);var p=this.layer;
l=this.zoom;const t=p.getLayoutValue("symbol-placement",l),u=0!==t,A=p.getLayoutValue("symbol-spacing",l)*d.TILE_PIXEL_RATIO;var z=p.getLayoutProperty("icon-image"),w=p.getLayoutProperty("text-field");const C=z?new f.IconLayout(p,l,u):null;p=w?new f.TextLayout(p,l,u):null;const y=this._workerTileHandler;let x;z&&(x=y.getSpriteItems());this._iconIndexStart=3*this._iconIndexBuffer.index;this._textIndexStart=3*this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();
this._glyphMap.clear();z=[];w=1;p&&p.size&&(w=p.size/c.SDF_GLYPH_SIZE);const E=p?p.maxAngle*r.C_DEG_TO_RAD:0,D=p?p.size*d.TILE_PIXEL_RATIO:0;for(const F of this._symbolFeatures){let H;C&&x&&F.sprite&&(H=x[F.sprite])&&H.sdf&&(this._isIconSDF=!0);H&&C.update(l,F.feature);var q=void 0,B=0,G=F.label;if(G){p.update(l,F.feature);q=u?p.keepUpright:p.writingMode&&0<=p.writingMode.indexOf(1);let J=.5;switch(p.anchor){case 5:case 1:case 7:J=0;break;case 6:case 2:case 8:J=1}let Q=.5;switch(p.anchor){case 5:case 3:case 6:Q=
0;break;case 7:case 4:case 8:Q=1}let T=.5;switch(p.justify){case 0:T=J;break;case 1:T=0;break;case 3:T=1}const R=p.letterSpacing*c.SDF_GLYPH_SIZE,V=u?0:p.maxWidth*c.SDF_GLYPH_SIZE,Y=p.lineHeight*c.SDF_GLYPH_SIZE,da=F.textFont.map(na=>y.getGlyphItems(na));if((q=(new c.TextShaping(da,V,Y,R,J,Q,T)).getShaping(G,F.rtl,q))&&0<q.length){B=1E30;G=-1E30;for(const na of q)B=Math.min(B,na.x),G=Math.max(G,na.x);B=(G-B+2*c.SDF_GLYPH_SIZE)*w*d.TILE_PIXEL_RATIO}}for(let J of F.geometry){G=[];1===t?(q&&0<q.length&&
p&&p.size&&(J=k._smoothVertices(J,p.size*d.TILE_PIXEL_RATIO*(2+Math.min(2,4*Math.abs(p.offset[1]))))),k._pushAnchors(G,J,A,B)):2===t?k._pushCenterAnchor(G,J):3===F.feature.type?k._pushCentroid(G,J):G.push(new d.Anchor(J[0].x,J[0].y));for(const Q of G)0>Q.x||Q.x>d.TILE_COORD_SIZE||0>Q.y||Q.y>d.TILE_COORD_SIZE||u&&0<B&&0===p.rotationAlignment&&!k._honorsTextMaxAngle(J,Q,B,E,D)||(G={shaping:q,line:J,iconMosaicItem:H,anchor:Q,symbolFeature:F,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]},
z.push(G),this._processFeature(G,C,p))}}z.sort(h);this._addPlacedGlyphs();this._symbolInstances=z};n.serialize=function(){var l=11+this.layerUIDs.length;l+=3*this.markerPageMap.size;l+=3*this.glyphsPageMap.size;l+=k.symbolsSerializationLength(this._symbolInstances);l+=this._iconVertexBuffer.array.length;l+=this._iconIndexBuffer.array.length;l+=this._textVertexBuffer.array.length;l+=this._textIndexBuffer.array.length;l=new Uint32Array(l);var p=new Int32Array(l.buffer),t=new Float32Array(l.buffer);
let u=0;l[u++]=this.type;l[u++]=this.layerUIDs.length;for(let A=0;A<this.layerUIDs.length;A++)l[u++]=this.layerUIDs[A];l[u++]=this._isIconSDF?1:0;l[u++]=this.markerPageMap.size;for(const [A,[z,w]]of this.markerPageMap)l[u++]=A,l[u++]=z,l[u++]=w;l[u++]=this.glyphsPageMap.size;for(const [A,[z,w]]of this.glyphsPageMap)l[u++]=A,l[u++]=z,l[u++]=w;l[u++]=this._iconVertexBuffer.index/4;l[u++]=this._textVertexBuffer.index/4;u=k.serializeSymbols(l,p,t,u,this._symbolInstances);l[u++]=this._iconVertexBuffer.array.length;
for(t=0;t<this._iconVertexBuffer.array.length;t++)p[u++]=this._iconVertexBuffer.array[t];l[u++]=this._iconIndexBuffer.array.length;for(t=0;t<this._iconIndexBuffer.array.length;t++)l[u++]=this._iconIndexBuffer.array[t];l[u++]=this._textVertexBuffer.array.length;for(t=0;t<this._textVertexBuffer.array.length;t++)p[u++]=this._textVertexBuffer.array[t];l[u++]=this._textIndexBuffer.array.length;for(p=0;p<this._textIndexBuffer.array.length;p++)l[u++]=this._textIndexBuffer.array[p];return l.buffer};k.symbolsSerializationLength=
function(l){let p;p=1;for(const t of l||[]){p+=4;p+=1;for(const u of t.textColliders)p+=10;for(const u of t.iconColliders)p+=10;p+=1;p+=2*t.textVertexRanges.length;p+=1;p+=2*t.iconVertexRanges.length}return p};k.serializeSymbols=function(l,p,t,u,A){A=A||[];p[u++]=A.length;for(const z of A){p[u++]=z.anchor.x;p[u++]=z.anchor.y;p[u++]=z.symbolFeature.hash;p[u++]=z.symbolFeature.priority;p[u++]=z.textColliders.length+z.iconColliders.length;for(const w of z.textColliders)p[u++]=w.xTile,p[u++]=w.yTile,
p[u++]=w.dxPixels,p[u++]=w.dyPixels,p[u++]=w.hard?1:0,p[u++]=w.partIndex,t[u++]=w.minLod,t[u++]=w.maxLod,p[u++]=w.width,p[u++]=w.height;for(const w of z.iconColliders)p[u++]=w.xTile,p[u++]=w.yTile,p[u++]=w.dxPixels,p[u++]=w.dyPixels,p[u++]=w.hard?1:0,p[u++]=w.partIndex,t[u++]=w.minLod,t[u++]=w.maxLod,p[u++]=w.width,p[u++]=w.height;p[u++]=z.textVertexRanges.length;for(const [w,C]of z.textVertexRanges)p[u++]=w,p[u++]=C;p[u++]=z.iconVertexRanges.length;for(const [w,C]of z.iconVertexRanges)p[u++]=w,p[u++]=
C}return u};n._replaceKeys=function(l,p){return l.replace(/{([^{}]+)}/g,function(t,u){return u in p?p[u]:""})};n._processFeature=function(l,p,t){const {line:u,iconMosaicItem:A,shaping:z,anchor:w}=l,C=this.zoom;var y=this.layer,x=!!A,E=!0;x&&(E=p.optional||!A);var D=z&&0<z.length,q=!0;D&&(q=t.optional);var B;x&&(B=this._placementEngine.getIconPlacement(w,A,p));if(B||E){var G;D&&(G=this._placementEngine.getTextPlacement(w,z,u,t));if(G||q){B&&G||(q||E?q||G?E||B||(G=null):B=null:G=B=null);if(G&&(x=y.hasDataDrivenText?
y.textMaterial.encodeAttributes(l.symbolFeature.feature,C,y):null,this._storePlacedGlyphs(l,G.shapes,C,t.rotationAlignment,x),G.textColliders)){l.textColliders=G.textColliders;for(var F of G.textColliders)if(F.minLod=Math.max(C+r.log2(F.minLod),0),F.maxLod=Math.min(C+r.log2(F.maxLod),25),t=F.angle){E=Math.cos(t);var H=Math.sin(t);D=F.dxPixels*E-F.dyPixels*H;t=F.dxPixels*H+F.dyPixels*E;q=(F.dxPixels+F.width)*E-F.dyPixels*H;G=(F.dxPixels+F.width)*H+F.dyPixels*E;const J=F.dxPixels*E-(F.dyPixels+F.height)*
H;x=F.dxPixels*H+(F.dyPixels+F.height)*E;const Q=(F.dxPixels+F.width)*E-(F.dyPixels+F.height)*H;H=(F.dxPixels+F.width)*H+(F.dyPixels+F.height)*E;E=Math.min(D,q,J,Q);D=Math.max(D,q,J,Q);q=Math.min(t,G,x,H);t=Math.max(t,G,x,H);F.dxPixels=E;F.dyPixels=q;F.width=D-E;F.height=t-q}}if(B&&(y=y.hasDataDrivenIcon?y.iconMaterial.encodeAttributes(l.symbolFeature.feature,C,y):null,this._addPlacedIcons(l,B.shapes,C,A.page,1===p.rotationAlignment,y),B.iconColliders)){l.iconColliders=B.iconColliders;for(const J of B.iconColliders)if(J.minLod=
Math.max(C+r.log2(J.minLod),0),J.maxLod=Math.min(C+r.log2(J.maxLod),25),l=J.angle)y=Math.cos(l),E=Math.sin(l),F=J.dxPixels*y-J.dyPixels*E,l=J.dxPixels*E+J.dyPixels*y,t=(J.dxPixels+J.width)*y-J.dyPixels*E,p=(J.dxPixels+J.width)*E+J.dyPixels*y,G=J.dxPixels*y-(J.dyPixels+J.height)*E,B=J.dxPixels*E+(J.dyPixels+J.height)*y,x=(J.dxPixels+J.width)*y-(J.dyPixels+J.height)*E,E=(J.dxPixels+J.width)*E+(J.dyPixels+J.height)*y,y=Math.min(F,t,G,x),F=Math.max(F,t,G,x),t=Math.min(l,p,B,E),l=Math.max(l,p,B,E),J.dxPixels=
y,J.dyPixels=t,J.width=F-y,J.height=l-t}}}};n._addPlacedIcons=function(l,p,t,u,A,z){const w=Math.max(t-1,0),C=this._iconVertexBuffer,y=this._iconIndexBuffer,x=this._markerMap;for(const D of p){p=A?0:Math.max(t+r.log2(D.minzoom),w);const q=A?25:Math.min(t+r.log2(D.maxzoom),25);if(q<=p)continue;const B=D.tl,G=D.tr,F=D.bl,H=D.br;var E=D.mosaicRect;const J=D.labelAngle,Q=D.minAngle,T=D.maxAngle,R=D.anchor,V=C.index,Y=E.x,da=E.y,na=Y+E.width;E=da+E.height;const ta=C.index;C.add(R.x,R.y,B.x,B.y,Y,da,J,
Q,T,p,q,z);C.add(R.x,R.y,G.x,G.y,na,da,J,Q,T,p,q,z);C.add(R.x,R.y,F.x,F.y,Y,E,J,Q,T,p,q,z);C.add(R.x,R.y,H.x,H.y,na,E,J,Q,T,p,q,z);0<l.iconVertexRanges.length&&l.iconVertexRanges[0][0]+l.iconVertexRanges[0][1]===ta?l.iconVertexRanges[0][1]+=4:l.iconVertexRanges.push([ta,4]);y.add(V+0,V+1,V+2);y.add(V+1,V+2,V+3);x.has(u)?x.get(u)[1]+=6:x.set(u,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=6}};n._addPlacedGlyphs=function(){const l=this._textVertexBuffer,p=this._textIndexBuffer,
t=this._glyphMap;for(const [u,A]of this._glyphBufferDataStorage)for(const z of A){const w=l.index,C=z.symbolInstance,y=z.ddAttributes,x=l.index;l.add(z.glyphAnchor[0],z.glyphAnchor[1],z.tl[0],z.tl[1],z.xmin,z.ymin,z.labelAngle,z.minAngle,z.maxAngle,z.minLod,z.maxLod,y);l.add(z.glyphAnchor[0],z.glyphAnchor[1],z.tr[0],z.tr[1],z.xmax,z.ymin,z.labelAngle,z.minAngle,z.maxAngle,z.minLod,z.maxLod,y);l.add(z.glyphAnchor[0],z.glyphAnchor[1],z.bl[0],z.bl[1],z.xmin,z.ymax,z.labelAngle,z.minAngle,z.maxAngle,
z.minLod,z.maxLod,y);l.add(z.glyphAnchor[0],z.glyphAnchor[1],z.br[0],z.br[1],z.xmax,z.ymax,z.labelAngle,z.minAngle,z.maxAngle,z.minLod,z.maxLod,y);0<C.textVertexRanges.length&&C.textVertexRanges[0][0]+C.textVertexRanges[0][1]===x?C.textVertexRanges[0][1]+=4:C.textVertexRanges.push([x,4]);p.add(w+0,w+1,w+2);p.add(w+1,w+2,w+3);t.has(u)?t.get(u)[1]+=6:t.set(u,[this._textIndexStart+this._textIndexCount,6]);this._textIndexCount+=6}this._glyphBufferDataStorage.clear()};n._storePlacedGlyphs=function(l,p,
t,u,A){const z=Math.max(t-1,0);u=1===u;let w,C,y,x,E,D,q,B,G,F;for(const H of p)p=u?0:Math.max(t+r.log2(H.minzoom),z),w=u?25:Math.min(t+r.log2(H.maxzoom),25),w<=p||(C=H.tl,y=H.tr,x=H.bl,E=H.br,D=H.labelAngle,q=H.minAngle,B=H.maxAngle,G=H.anchor,F=H.mosaicRect,this._glyphBufferDataStorage.has(H.page)||this._glyphBufferDataStorage.set(H.page,[]),this._glyphBufferDataStorage.get(H.page).push({glyphAnchor:[G.x,G.y],tl:[C.x,C.y],tr:[y.x,y.y],bl:[x.x,x.y],br:[E.x,E.y],xmin:F.x,ymin:F.y,xmax:F.x+F.width,
ymax:F.y+F.height,labelAngle:D,minAngle:q,maxAngle:B,minLod:p,maxLod:w,placementLod:z,symbolInstance:l,ddAttributes:A}))};k._pushAnchors=function(l,p,t,u){t+=u;var A=0,z=p.length-1;for(var w=0;w<z;w++)A+=e.Point.distance(p[w],p[w+1]);u=.5*(u||t);if(!(A<=u)){u/=A;t=A/Math.max(Math.round(A/t),1);A=0;z=-t/2;w=p.length-1;for(let y=0;y<w;y++){const x=p[y],E=p[y+1],D=E.x-x.x,q=E.y-x.y,B=Math.sqrt(D*D+q*q);let G;for(;z+t<A+B;){z+=t;var C=(z-A)/B;const F=r.interpolate(x.x,E.x,C);C=r.interpolate(x.y,E.y,C);
void 0===G&&(G=Math.atan2(q,D));l.push(new d.Anchor(F,C,G,y,u))}A+=B}}};k._pushCenterAnchor=function(l,p){var t=0,u=p.length-1;for(var A=0;A<u;A++)t+=e.Point.distance(p[A],p[A+1]);var z=t/2;let w=0;const C=p.length-1;for(t=0;t<C;t++){var y=p[t];const x=p[t+1];u=x.x-y.x;A=x.y-y.y;const E=Math.sqrt(u*u+A*A);if(z<w+E){z=(z-w)/E;p=r.interpolate(y.x,x.x,z);y=r.interpolate(y.y,x.y,z);l.push(new d.Anchor(p,y,Math.atan2(A,u),t,0));break}w+=E}};k._deviation=function(l,p,t){return Math.atan2((p.x-l.x)*(t.y-
p.y)-(p.y-l.y)*(t.x-p.x),(p.x-l.x)*(t.x-p.x)+(p.y-l.y)*(t.y-p.y))};k._honorsTextMaxAngle=function(l,p,t,u,A){let z=0;t/=2;for(var w=new e.Point(p.x,p.y),C=p.segment+1;z>-t;){--C;if(0>C)return!1;z-=e.Point.distance(l[C],w);w=l[C]}z+=e.Point.distance(l[C],l[C+1]);p=[];w=0;const y=l.length;for(;z<t;){var x=l[C];let E;do{++C;if(C===y)return!1;E=l[C]}while(E.isEqual(x));let D=C,q;do{++D;if(D===y)return!1;q=l[D]}while(q.isEqual(E));x=this._deviation(x,E,q);p.push({deviation:x,distToAnchor:z});for(w+=x;z-
p[0].distToAnchor>A;)w-=p.shift().deviation;if(Math.abs(w)>u)return!1;z+=e.Point.distance(E,q)}return!0};k._smoothVertices=function(l,p){if(0>=p)return l;let t=l.length;if(3>t)return l;const u=[];var A=0,z=0;u.push(0);for(var w=1;w<t;w++){var C=e.Point.distance(l[w],l[w-1]);0<C&&(A+=C,u.push(A),z++,z!==w&&(l[z]=l[w]))}t=z+1;if(3>t)return l;p=Math.min(p,.2*A);A=l[0].x;z=l[0].y;w=l[t-1].x;C=l[t-1].y;var y=e.Point.sub(l[0],l[1]);y.normalize();l[0].x+=p*y.x;l[0].y+=p*y.y;y.assignSub(l[t-1],l[t-2]);y.normalize();
l[t-1].x+=p*y.x;l[t-1].y+=p*y.y;u[0]-=p;u[t-1]+=p;y=[];y.push(new e.Point(A,z));const x=.5*p;for(let R=1;R<t-1;R++){let V=0,Y=0,da=0;for(var E=R-1;0<=E;E--){var D=x+u[E+1]-u[R];if(0>D)break;var q=u[E+1]-u[E],B=u[R]-u[E]<x?1:D/q;if(1E-6>B)break;var G=B*B,F=B*D-.5*G*q,H=B*q/p,J=l[E+1],Q=l[E].x-J.x,T=l[E].y-J.y;V+=H/F*(J.x*B*D+.5*G*(D*Q-q*J.x)-G*B*q*Q/3);Y+=H/F*(J.y*B*D+.5*G*(D*T-q*J.y)-G*B*q*T/3);da+=H}for(E=R+1;E<t;E++){D=x-u[E-1]+u[R];if(0>D)break;q=u[E]-u[E-1];B=u[E]-u[R]<x?1:D/q;if(1E-6>B)break;
G=B*B;F=B*D-.5*G*q;H=B*q/p;J=l[E-1];Q=l[E].x-J.x;T=l[E].y-J.y;V+=H/F*(J.x*B*D+.5*G*(D*Q-q*J.x)-G*B*q*Q/3);Y+=H/F*(J.y*B*D+.5*G*(D*T-q*J.y)-G*B*q*T/3);da+=H}y.push(new e.Point(V/da,Y/da))}y.push(new e.Point(w,C));l[0].x=A;l[0].y=z;l[t-1].x=w;l[t-1].y=C;return y};k._pushCentroid=function(l,p){const t=p.length-1;let u=0,A=0,z=0,w=p[0].x,C=p[0].y;4096<w&&(w=4096);0>w&&(w=0);4096<C&&(C=4096);0>C&&(C=0);for(let y=1;y<t;y++){let x=p[y].x,E=p[y].y,D=p[y+1].x,q=p[y+1].y;4096<x&&(x=4096);0>x&&(x=0);4096<E&&
(E=4096);0>E&&(E=0);4096<D&&(D=4096);0>D&&(D=0);4096<q&&(q=4096);0>q&&(q=0);const B=(x-w)*(q-C)-(D-w)*(E-C);u+=B*(w+x+D);A+=B*(C+E+q);z+=B}u/=3*z;A/=3*z;isNaN(u)||isNaN(A)||l.push(new d.Anchor(u,A))};a._createClass(k,[{key:"markerPageMap",get:function(){return this._markerMap}},{key:"glyphsPageMap",get:function(){return this._glyphMap}},{key:"symbolInstances",get:function(){return this._symbolInstances}}]);return k}(b);b._bidiEngine=new m;return b})},"esri/core/BidiEngine":function(){define(["./bidiEngineTables"],
function(a){function m(y,x,E,D,q){var B=y;void 0===x&&(x=q.defInFormat);void 0===E&&(E=q.defOutFormat);void 0===D&&(D=q.defSwap);if(x!==E){var G=x.substring(0,1),F=E.substring(0,1);var H=x.substring(1,4);var J=E.substring(1,4);"C"===H.charAt(0)&&(H=v(B),H="ltr"===H||"rtl"===H?H.toUpperCase():"L"===x.charAt(2)?"LTR":"RTL",x=G+H);"C"===J.charAt(0)&&(H=v(B),"rtl"===H?J="RTL":"ltr"===H?(B=B.split(""),B.reverse(),H=v(B.join("")),J=H.toUpperCase()):J="L"===E.charAt(2)?"LTR":"RTL",E=F+J)}if(x===E)return y;
F=x.substring(0,1);B=x.substring(1,4);G=E.substring(0,1);J=E.substring(1,4);q.inFormat=x;q.outFormat=E;q.swap=D;if("L"===F&&"VLTR"===E){if("LTR"===B)return q.dir=0,r(y,q);if("RTL"===B)return q.dir=1,r(y,q)}if("V"===F&&"V"===G)return q.dir="RTL"===B?1:0,c(y,q);if("L"===F&&"VRTL"===E)return q.dir="LTR"===B?0:1,y=r(y,q),c(y);if("VLTR"===x&&"LLTR"===E)return q.dir=0,r(y,q);if("V"===F&&"L"===G&&B!==J)return y=c(y),"RTL"===B?m(y,"LLTR","VLTR",D,q):m(y,"LRTL","VRTL",D,q);if("VRTL"===x&&"LRTL"===E)return m(y,
"LRTL","VRTL",D,q);"L"===F&&"L"===G&&(x=q.swap,q.swap=x.substr(0,1)+"N","RTL"===B?(q.dir=1,y=r(y,q),q.swap="N"+x.substr(1,2),q.dir=0,y=r(y,q)):(q.dir=0,y=r(y,q),q.swap="N"+x.substr(1,2),y=m(y,"VLTR","LRTL",q.swap,q)));return y}function v(y){return(y=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(y))?"z">=y[0]?"ltr":"rtl":""}function r(y,x){y=y.split("");const E=[];d(y,E,x);if(0!==x.hiLevel&&x.swap.substr(0,1)!==x.swap.substr(1,2))for(let B=0;B<y.length;B++)if(1===
E[B]){var D=B;b:{let G=void 0;var q=y[B];let F=0,H=a.SwapTable.length-1;for(;F<=H;)if(G=Math.floor((F+H)/2),q<a.SwapTable[G][0])H=G-1;else if(q>a.SwapTable[G][0])F=G+1;else{q=a.SwapTable[G][1];break b}}y[D]=q}e(2,y,E,x);e(1,y,E,x);A=E;return y.join("")}function d(y,x,E){const D=y.length;var q=E.dir?a.impTabRtl:a.impTabLtr,B=0,G=-1;const F=[],H=[];E.hiLevel=E.dir;E.lastArabic=!1;E.hasUbatAl=!1;E.hasUbatB=!1;E.hasUbatS=!1;for(var J=0;J<D;J++){var Q=J;{var T=y[J].charCodeAt(0);const R=a.PrimaryTable[T>>
8];T=R<a.TBBASE?R:a.UnicodeTable[R-a.TBBASE][T&255]}F[Q]=T}for(Q=0;Q<D;Q++){J=h(y,F,H,Q,E);H[Q]=J;B=q[B][J];T=B&240;B&=15;J=q[B][5];x[Q]=J;if(0<T){if(16===T)for(;G<Q;G++)x[G]=1;G=-1}if(q[B][6])-1===G&&(G=Q);else if(-1<G){for(;G<Q;G++)x[G]=J;G=-1}F[Q]===a.UBAT_B&&(x[Q]=0);E.hiLevel|=J}if(E.hasUbatS)for(y=0;y<D;y++)if(F[y]===a.UBAT_S)for(x[y]=E.dir,q=y-1;0<=q;q--)if(F[q]===a.UBAT_WS)x[q]=E.dir;else break}function c(y,x){y=y.split("");if(x){const E=[];d(y,E,x);A=E}y.reverse();t.reverse();return y.join("")}
function b(y){for(let x=0;x<a.ArabicAlefBetIntervalsBegine.length;x++)if(y>=a.ArabicAlefBetIntervalsBegine[x]&&y<=a.ArabicAlefBetIntervalsEnd[x])return!0;return!1}function f(y,x,E,D){for(;x*E<D&&k(y[x]);)x+=E;return x*E<D&&b(y[x])?!0:!1}function e(y,x,E,D){if(!(D.hiLevel<y))if(1!==y||1!==D.dir||D.hasUbatB){D=x.length;for(var q=0,B,G,F;q<D;){if(E[q]>=y){for(B=q+1;B<D&&E[B]>=y;)B++;for(G=B-1;q<G;q++,G--)F=x[q],x[q]=x[G],x[G]=F,F=t[q],t[q]=t[G],t[G]=F;q=B}q++}}else x.reverse(),t.reverse()}function h(y,
x,E,D,q){return{UBAT_L:()=>{q.lastArabic=!1;return a.UBAT_L},UBAT_R:()=>{q.lastArabic=!1;return a.UBAT_R},UBAT_ON:()=>a.UBAT_ON,UBAT_AN:()=>a.UBAT_AN,UBAT_EN:()=>q.lastArabic?a.UBAT_AN:a.UBAT_EN,UBAT_AL:()=>{q.lastArabic=!0;q.hasUbatAl=!0;return a.UBAT_R},UBAT_WS:()=>a.UBAT_ON,UBAT_CS:()=>{let B,G;if(1>D||D+1>=x.length||(B=E[D-1])!==a.UBAT_EN&&B!==a.UBAT_AN||(G=x[D+1])!==a.UBAT_EN&&G!==a.UBAT_AN)return a.UBAT_ON;q.lastArabic&&(G=a.UBAT_AN);return G===B?G:a.UBAT_ON},UBAT_ES:()=>(0<D?E[D-1]:a.UBAT_B)===
a.UBAT_EN&&D+1<x.length&&x[D+1]===a.UBAT_EN?a.UBAT_EN:a.UBAT_ON,UBAT_ET:()=>{if(0<D&&E[D-1]===a.UBAT_EN)return a.UBAT_EN;if(q.lastArabic)return a.UBAT_ON;let B=D+1;const G=x.length;for(;B<G&&x[B]===a.UBAT_ET;)B++;return B<G&&x[B]===a.UBAT_EN?a.UBAT_EN:a.UBAT_ON},UBAT_NSM:()=>{if("VLTR"===q.inFormat){for(var B=x.length,G=D+1;G<B&&x[G]===a.UBAT_NSM;)G++;if(G<B&&(B=y[D].charCodeAt[0],G=x[G],(1425<=B&&2303>=B||64286===B)&&(G===a.UBAT_R||G===a.UBAT_AL)))return a.UBAT_R}return 1>D||x[D-1]===a.UBAT_B?a.UBAT_ON:
E[D-1]},UBAT_B:()=>{q.lastArabic=!0;q.hasUbatB=!0;return q.dir},UBAT_S:()=>{q.hasUbatS=!0;return a.UBAT_ON},UBAT_LRE:()=>{q.lastArabic=!1;return a.UBAT_ON},UBAT_RLE:()=>{q.lastArabic=!1;return a.UBAT_ON},UBAT_LRO:()=>{q.lastArabic=!1;return a.UBAT_ON},UBAT_RLO:()=>{q.lastArabic=!1;return a.UBAT_ON},UBAT_PDF:()=>{q.lastArabic=!1;return a.UBAT_ON},UBAT_BN:()=>a.UBAT_ON}[a.TYPES_NAMES[x[D]]]()}function g(y,x){for(let E=0;E<a.BaseForm.length;E++)if(y===a.BaseForm[E])return x[E];return y}function k(y){return"\u064b"<=
y&&"\u0655">=y?!0:!1}function n(y){return"L"===y?"LTR":"R"===y?"RTL":"C"===y?"CLR":"D"===y?"CRL":""}function l(y,x){for(let E=0;E<a.AlefTable.length;E++)if(y===a.AlefTable[E])return x[E];return y}function p(y,x,E,D){for(let q=0;q<y.length;q++)if(y[q]>x||!E&&y[q]===x)y[q]+=D}let t=[],u=[],A=[];const z={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},w=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,
C=/[\u0591-\u06ff\ufb1d-\ufefc]/;return function(){function y(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=[];this.levels=[]}var x=y.prototype;x.bidiTransform=function(E,D,q){this.sourceToTarget=[];this.targetToSource=[];if(!E)return"";var B=this.sourceToTarget,G=this.targetToSource,F=E.length;t=[];A=[];for(var H=0;H<F;H++)B[H]=H,G[H]=H,t[H]=H;if(!this.checkParameters(D,q))return E;D=this.inputFormat;q=this.outputFormat;B=E;F=n(D.charAt(1));B=n(q.charAt(1));
H="I"===D.charAt(0)?"L":D.charAt(0);G="I"===q.charAt(0)?"L":q.charAt(0);F=H+F;B=G+B;G=D.charAt(2)+q.charAt(2);z.defInFormat=F;z.defOutFormat=B;z.defSwap=G;E=m(E,F,B,G,z);B=!1;if("R"===q.charAt(1))B=!0;else if("C"===q.charAt(1)||"D"===q.charAt(1))B="rtl"===this.checkContextual(E);G=this.sourceToTarget=t;F=Array(G.length);for(H=0;H<G.length;H++)F[G[H]]=H;u=this.targetToSource=G=F;if(D.charAt(3)===q.charAt(3))B=E;else if("S"===q.charAt(3))if(D=B,q=!0,0===E.length)B="";else{void 0===D&&(D=!0);void 0===
q&&(q=!0);E=String(E);E=E.split("");F=0;B=1;G=E.length;D||(F=E.length-1,B=-1,G=1);var J=F;F=q;var Q=0;H=[];for(var T=0;J*B<G;J+=B)if(b(E[J])||k(E[J])){var R;if(R="\u0644"===E[J])b:{for(var V=E,Y=J+B,da=B,na=G;Y*da<na&&k(V[Y]);)Y+=da;R=" ";if(Y*da<na)for(R=V[Y],V=0;V<a.AlefTable.length;V++)if(a.AlefTable[V]===R){R=!0;break b}R=!1}if(R){E[J]=0===Q?l(E[J+B],a.LamAlefInialTableFE):l(E[J+B],a.LamAlefMedialTableFE);J+=B;Q=E;R=J;V=B;for(Y=G;R*V<Y&&k(Q[R]);)R+=V;R*V<Y&&(Q[R]=" ");F&&(H[T]=J,T++);Q=0}else{R=
E[J];if(1===Q){V=J;if(f(E,J+B,B,G))b:for(Y=E[J],da=0;da<a.BaseForm.length;da++){if(Y===a.BaseForm[da]){Y=a.MedialForm[da];break b}}else Y=g(E[J],a.FinalForm);E[V]=Y}else!0===f(E,J+B,B,G)?E[J]=g(E[J],a.InitialForm):E[J]=g(E[J],a.IsolatedForm);k(R)||(Q=1);b:{for(V=0;V<a.StandAlonForm.length;V++)if(a.StandAlonForm[V]===R){R=!0;break b}R=!1}!0===R&&(Q=0)}}else Q=0;B=H;G="";for(F=0;F<E.length;F++){if(H=q){b:{for(H=0;H<B.length;H++)if(B[H]===F)break b;H=-1}H=-1<H}H?(p(u,F,!D,-1),t.splice(F,1)):G+=E[F]}B=
G}else if(D=E,q=B,E=!0,0===D.length)B="";else for(void 0===E&&(E=!0),void 0===q&&(q=!0),D=String(D),B="",G=D.split(""),F=0;F<D.length;F++)H=!1,"\ufe70"<=G[F]&&"\ufeff">G[F]?(T=D.charCodeAt(F),"\ufef5"<=G[F]&&"\ufefc">=G[F]?(q?(0<F&&E&&" "===G[F-1]?B=B.substring(0,B.length-1)+"\u0644":(B+="\u0644",H=!0),B+=a.AlefTable[(T-65269)/2]):(B+=a.AlefTable[(T-65269)/2],B+="\u0644",F+1<D.length&&E&&" "===G[F+1]?F++:H=!0),H&&(p(u,F,!0,1),t.splice(F,0,t[F]))):B+=a.FETo06Table[T-65136]):B+=G[F];this.sourceToTarget=
t;this.targetToSource=u;this.levels=A;return B};x._inputFormatSetter=function(E){if(!w.test(E))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=E};x._outputFormatSetter=function(E){if(!w.test(E))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=E};x.checkParameters=function(E,D){E?this._inputFormatSetter(E):E=this.inputFormat;D?this._outputFormatSetter(D):D=this.outputFormat;return E===D?!1:!0};x.checkContextual=function(E){E=
v(E);if("ltr"!==E&&"rtl"!==E){try{E=document.dir.toLowerCase()}catch(D){}"ltr"!==E&&"rtl"!==E&&(E="ltr")}return E};x.hasBidiChar=function(E){return C.test(E)};return y}()})},"esri/core/bidiEngineTables":function(){define(["exports"],function(a){a.AlefTable=["\u0622","\u0623","\u0625","\u0627"];a.ArabicAlefBetIntervalsBegine=["\u0621","\u0641"];a.ArabicAlefBetIntervalsEnd=["\u063a","\u064a"];a.BaseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");
a.FETo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
a.FinalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");a.InitialForm="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");
a.IsolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");a.LamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];a.LamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];a.MedialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");
a.PrimaryTable=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107];a.StandAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");a.SwapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59",
"\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];a.TBBASE=100;a.TYPES_NAMES="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");a.UBAT_AL=7;a.UBAT_AN=3;a.UBAT_B=5;a.UBAT_BN=18;a.UBAT_CS=9;a.UBAT_EN=2;a.UBAT_ES=10;a.UBAT_ET=11;a.UBAT_L=0;a.UBAT_LRE=13;a.UBAT_LRO=16;a.UBAT_NSM=12;a.UBAT_ON=
4;a.UBAT_PDF=15;a.UBAT_R=1;a.UBAT_RLE=14;a.UBAT_RLO=17;a.UBAT_S=6;a.UBAT_WS=8;a.UnicodeTable=[[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,
4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,
12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,1,12,1,12,12,1,12,12,1,12,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,11,11,7,9,7,4,4,12,12,12,12,12,12,12,12,12,12,12,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,3,3,3,3,3,3,3,3,3,3,11,3,3,7,7,7,12,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,3,4,12,12,12,12,12,12,7,7,12,12,4,12,12,12,12,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,12,12,12,12,12,12,12,12,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,
4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,18,18,18,18,18,4,4,4,4,4,18,18,18,18,18,18,2,0,4,4,2,2,2,2,2,2,10,10,4,4,4,0,2,2,2,2,2,2,2,2,2,2,10,10,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,
4,4,0,0,0,0,0,4,4,4,4,4,1,12,1,1,1,1,1,1,1,1,1,1,10,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[12,12,12,12,12,12,12,
12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,4,9,4,4,4,4,4,4,4,4,4,11,4,4,10,10,4,4,4,4,4,11,11,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,4,4,18],[4,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,11,11,4,4,4,11,11,4,4,4,4,4,
4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];a.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];a.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../shaders/VTLBackgroundMaterial ../shaders/VTLCircleMaterial ../shaders/VTLFillMaterial ../shaders/VTLLineMaterial ../shaders/VTLSymbolMaterial ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(a,m,v,r,d,c,b,f,e,h,g){let k=function(){function w(y,x,E,D){this.type=y;this.typeName=x.type;this.id=x.id;this.source=x.source;this.sourceLayer=x["source-layer"];this.minzoom=x.minzoom;this.maxzoom=x.maxzoom;this.filter=x.filter;this.layout=x.layout;this.paint=x.paint;this.z=E;this.uid=D;switch(y){case 0:this._layoutDefinition=e.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=e.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=e.StyleDefinition.fillLayoutDefinition;
this._paintDefinition=e.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=e.StyleDefinition.lineLayoutDefinition;this._paintDefinition=e.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=e.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=e.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=e.StyleDefinition.circleLayoutDefinition,this._paintDefinition=e.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);
this._paintProperties=this._parsePaint(this.paint)}var C=w.prototype;C.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=f.createFilter(this.filter)};C.getLayoutProperty=function(y){return this._layoutProperties[y]};C.getPaintProperty=function(y){return this._paintProperties[y]};C.getLayoutValue=function(y,x,E){let D;const q=this._layoutProperties[y];q&&(D=q.getValue(x,E));void 0===D&&(D=this._layoutDefinition[y]["default"]);return D};C.getPaintValue=
function(y,x,E){let D;const q=this._paintProperties[y];q&&(D=q.getValue(x,E));void 0===D&&(D=this._paintDefinition[y]["default"]);return D};C.isPainterDataDriven=function(){const y=this._paintProperties;if(y)for(const x in y)if(y[x].isDataDriven)return!0;return!1};C._parseLayout=function(y){const x={};for(const E in y){const D=this._layoutDefinition[E];D&&(x[E]=new h(D,y[E]))}return x};C._parsePaint=function(y){const x={};for(const E in y){const D=this._paintDefinition[E];D&&(x[E]=new h(D,y[E]))}return x};
C.computeAttributesKey=function(y,x,E,D){let q=0,B=0;for(const G of x){x=3;if(!G||G!==D){const {isLayout:F,isOptional:H}=E[G];x=F?this.getLayoutProperty(G):this.getPaintProperty(G);x=null!=x&&x.interpolator?2:null!=x&&x.isDataDriven?1:H&&!x?3:0}B|=x<<q;q+=2}return B<<3|y};return w}(),n=function(w){function C(y,x,E,D){y=w.call(this,y,x,E,D)||this;y.backgroundMaterial=new v.VTLBackgroundMaterial(y.computeAttributesKey(0,v.VTLBackgroundMaterial.ATTRIBUTES,v.VTLBackgroundMaterial.ATTRIBUTES_INFO));return y}
m._inheritsLoose(C,w);return C}(k),l=function(w){function C(y,x,E,D){y=w.call(this,y,x,E,D)||this;x=y.getPaintProperty("fill-color");E=y.getPaintProperty("fill-opacity");D=y.getPaintProperty("fill-pattern");y.hasDataDrivenColor=null==x?void 0:x.isDataDriven;y.hasDataDrivenOpacity=null==E?void 0:E.isDataDriven;y.hasDataDrivenFill=y.hasDataDrivenColor||y.hasDataDrivenOpacity||(null==D?void 0:D.isDataDriven);E=y.getPaintProperty("fill-outline-color");y.outlineUsesFillColor=!E;y.hasDataDrivenOutlineColor=
null==E?void 0:E.isDataDriven;y.hasDataDrivenOutline=E?E.isDataDriven:x?x.isDataDriven:!1;y.hasDataDrivenOutline=(E?y.hasDataDrivenOutlineColor:y.hasDataDrivenColor)||y.hasDataDrivenOpacity;y.fillMaterial=new d.VTLFillMaterial(y.computeAttributesKey(1,d.VTLFillMaterial.ATTRIBUTES,d.VTLFillMaterial.ATTRIBUTES_INFO));y.outlineMaterial=new d.VTLOutlineMaterial(y.computeAttributesKey(2,y.outlineUsesFillColor?d.VTLOutlineMaterial.ATTRIBUTES_FILL:d.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,y.outlineUsesFillColor?
d.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:d.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),y.outlineUsesFillColor);return y}m._inheritsLoose(C,w);return C}(k),p=function(w){function C(y,x,E,D){var q,B,G,F,H,J,Q,T,R;y=w.call(this,y,x,E,D)||this;x=y.getPaintProperty("line-pattern");y.lineMaterial=new c.VTLLineMaterial(y.computeAttributesKey(3,c.VTLLineMaterial.ATTRIBUTES,c.VTLLineMaterial.ATTRIBUTES_INFO,x?"line-dasharray":""));y.hasDataDrivenLine=(null==(q=y.getPaintProperty("line-blur"))?void 0:q.isDataDriven)||
(null==(B=y.getPaintProperty("line-color"))?void 0:B.isDataDriven)||(null==(G=y.getPaintProperty("line-gap-width"))?void 0:G.isDataDriven)||(null==(F=y.getPaintProperty("line-offset"))?void 0:F.isDataDriven)||(null==(H=y.getPaintProperty("line-opacity"))?void 0:H.isDataDriven)||(null==(J=y.getPaintProperty("line-pattern"))?void 0:J.isDataDriven)||(null==(Q=y.getPaintProperty("line-dasharray"))?void 0:Q.isDataDriven)||(null==(T=y.getLayoutProperty("line-cap"))?void 0:T.isDataDriven)||(null==(R=y.getPaintProperty("line-width"))?
void 0:R.isDataDriven);y.canUseThinTessellation=!1;!y.hasDataDrivenLine&&(q=y.getPaintProperty("line-width"),!q||"number"===typeof q&&.5*q<g.THIN_LINE_HALF_WIDTH_THRESHOLD)&&(q=y.getPaintProperty("line-offset"),!q||"number"===typeof q&&0===q)&&(y.canUseThinTessellation=!0);return y}m._inheritsLoose(C,w);C.prototype.getDashKey=function(y,x){switch(x){case 0:x="Butt";break;case 1:x="Round";break;case 2:x="Square";break;default:x="Butt"}return`dasharray-[${y.toString()}]-${x}`};return C}(k),t=function(w){function C(y,
x,E,D){var q,B,G,F,H,J,Q,T,R,V,Y,da;y=w.call(this,y,x,E,D)||this;y.iconMaterial=new b.VTLIconMaterial(y.computeAttributesKey(4,b.VTLIconMaterial.ATTRIBUTES,b.VTLIconMaterial.ATTRIBUTES_INFO));y.textMaterial=new b.VTLTextMaterial(y.computeAttributesKey(6,b.VTLTextMaterial.ATTRIBUTES,b.VTLTextMaterial.ATTRIBUTES_INFO));y.hasDataDrivenIcon=(null==(q=y.getPaintProperty("icon-color"))?void 0:q.isDataDriven)||(null==(B=y.getPaintProperty("icon-halo-blur"))?void 0:B.isDataDriven)||(null==(G=y.getPaintProperty("icon-halo-color"))?
void 0:G.isDataDriven)||(null==(F=y.getPaintProperty("icon-halo-width"))?void 0:F.isDataDriven)||(null==(H=y.getPaintProperty("icon-opacity"))?void 0:H.isDataDriven)||(null==(J=y.getLayoutProperty("icon-size"))?void 0:J.isDataDriven);y.hasDataDrivenText=(null==(Q=y.getPaintProperty("text-color"))?void 0:Q.isDataDriven)||(null==(T=y.getPaintProperty("text-halo-blur"))?void 0:T.isDataDriven)||(null==(R=y.getPaintProperty("text-halo-color"))?void 0:R.isDataDriven)||(null==(V=y.getPaintProperty("text-halo-width"))?
void 0:V.isDataDriven)||(null==(Y=y.getPaintProperty("text-opacity"))?void 0:Y.isDataDriven)||(null==(da=y.getLayoutProperty("text-size"))?void 0:da.isDataDriven);return y}m._inheritsLoose(C,w);return C}(k),u=function(w){function C(y,x,E,D){y=w.call(this,y,x,E,D)||this;y.circleMaterial=new r.VTLCircleMaterial(y.computeAttributesKey(5,r.VTLCircleMaterial.ATTRIBUTES,r.VTLCircleMaterial.ATTRIBUTES_INFO));return y}m._inheritsLoose(C,w);return C}(k),A=function(){function w(C,y,x){var E,D,q,B,G;this.allowOverlap=
C.getLayoutValue("icon-allow-overlap",y);this.ignorePlacement=C.getLayoutValue("icon-ignore-placement",y);this.keepUpright=C.getLayoutValue("icon-keep-upright",y);this.optional=C.getLayoutValue("icon-optional",y);this.rotationAlignment=C.getLayoutValue("icon-rotation-alignment",y);2===this.rotationAlignment&&(this.rotationAlignment=x?0:1);x=C.getLayoutProperty("icon-anchor");null!=(E=x)&&E.isDataDriven?this._anchorProp=x:this.anchor=C.getLayoutValue("icon-anchor",y);x=C.getLayoutProperty("icon-offset");
null!=(D=x)&&D.isDataDriven?this._offsetProp=x:this.offset=C.getLayoutValue("icon-offset",y);x=C.getLayoutProperty("icon-padding");null!=(q=x)&&q.isDataDriven?this._paddingProp=x:this.padding=C.getLayoutValue("icon-padding",y);x=C.getLayoutProperty("icon-rotate");null!=(B=x)&&B.isDataDriven?this._rotateProp=x:this.rotate=C.getLayoutValue("icon-rotate",y);x=C.getLayoutProperty("icon-size");null!=(G=x)&&G.isDataDriven?this._sizeProp=x:this.size=C.getLayoutValue("icon-size",y)}w.prototype.update=function(C,
y){this._anchorProp&&(this.anchor=this._anchorProp.getValue(C,y));this._offsetProp&&(this.offset=this._offsetProp.getValue(C,y));this._paddingProp&&(this.padding=this._paddingProp.getValue(C,y));this._rotateProp&&(this.rotate=this._rotateProp.getValue(C,y));this._sizeProp&&(this.size=this._sizeProp.getValue(C,y))};return w}(),z=function(){function w(C,y,x){var E,D,q,B,G,F,H,J,Q,T,R;this.allowOverlap=C.getLayoutValue("text-allow-overlap",y);this.ignorePlacement=C.getLayoutValue("text-ignore-placement",
y);this.keepUpright=C.getLayoutValue("text-keep-upright",y);this.optional=C.getLayoutValue("text-optional",y);this.rotationAlignment=C.getLayoutValue("text-rotation-alignment",y);2===this.rotationAlignment&&(this.rotationAlignment=x?0:1);x=C.getLayoutProperty("text-anchor");null!=(E=x)&&E.isDataDriven?this._anchorProp=x:this.anchor=C.getLayoutValue("text-anchor",y);x=C.getLayoutProperty("text-justify");null!=(D=x)&&D.isDataDriven?this._justifyProp=x:this.justify=C.getLayoutValue("text-justify",y);
x=C.getLayoutProperty("text-letter-spacing");null!=(q=x)&&q.isDataDriven?this._letterSpacingProp=x:this.letterSpacing=C.getLayoutValue("text-letter-spacing",y);x=C.getLayoutProperty("text-line-height");null!=(B=x)&&B.isDataDriven?this._lineHeightProp=x:this.lineHeight=C.getLayoutValue("text-line-height",y);x=C.getLayoutProperty("text-max-angle");null!=(G=x)&&G.isDataDriven?this._maxAngleProp=x:this.maxAngle=C.getLayoutValue("text-max-angle",y);x=C.getLayoutProperty("text-max-width");null!=(F=x)&&
F.isDataDriven?this._maxWidthProp=x:this.maxWidth=C.getLayoutValue("text-max-width",y);x=C.getLayoutProperty("text-offset");null!=(H=x)&&H.isDataDriven?this._offsetProp=x:this.offset=C.getLayoutValue("text-offset",y);x=C.getLayoutProperty("text-padding");null!=(J=x)&&J.isDataDriven?this._paddingProp=x:this.padding=C.getLayoutValue("text-padding",y);x=C.getLayoutProperty("text-rotate");null!=(Q=x)&&Q.isDataDriven?this._rotateProp=x:this.rotate=C.getLayoutValue("text-rotate",y);x=C.getLayoutProperty("text-size");
null!=(T=x)&&T.isDataDriven?this._sizeProp=x:this.size=C.getLayoutValue("text-size",y);x=C.getLayoutProperty("text-writing-mode");null!=(R=x)&&R.isDataDriven?this._writingModeProp=x:this.writingMode=C.getLayoutValue("text-writing-mode",y)}w.prototype.update=function(C,y){this._anchorProp&&(this.anchor=this._anchorProp.getValue(C,y));this._justifyProp&&(this.justify=this._justifyProp.getValue(C,y));this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(C,y));this._lineHeightProp&&
(this.lineHeight=this._lineHeightProp.getValue(C,y));this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(C,y));this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(C,y));this._offsetProp&&(this.offset=this._offsetProp.getValue(C,y));this._paddingProp&&(this.padding=this._paddingProp.getValue(C,y));this._rotateProp&&(this.rotate=this._rotateProp.getValue(C,y));this._sizeProp&&(this.size=this._sizeProp.getValue(C,y));this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(C,
y))};return w}();a.BackgroundStyleLayer=n;a.CircleStyleLayer=u;a.FillStyleLayer=l;a.IconLayout=A;a.LineStyleLayer=p;a.StyleLayer=k;a.SymbolStyleLayer=t;a.TextLayout=z;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","./VTLMaterial"],function(a,m,v){v=function(r){function d(b){return r.call(this,b)||this}m._inheritsLoose(d,r);var c=d.prototype;c.geometryInfo=
function(){return d.GEOMETRY_LAYOUT};c.opacityInfo=function(){return null};c.attributes=function(){return d.ATTRIBUTES};c.attributesInfo=function(){return d.ATTRIBUTES_INFO};return d}(v.VTLMaterial);v.ATTRIBUTES=[];v.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5120,offset:0,stride:2,normalized:!1,divisor:0}];v.ATTRIBUTES_INFO={};a.VTLBackgroundMaterial=v;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers",
"../../../../../core/maybe","../MemoryBuffer"],function(a,m,v,r){let d=function(){function f(h){this._locations=new Map;this._key=h}var e=f.prototype;e.defines=function(){return[]};e.getStride=function(){this._layoutInfo||this._buildAttributesInfo();return this._stride};e.getAttributeLocations=function(){0===this._locations.size&&this._buildAttributesInfo();return this._locations};e.getLayoutInfo=function(){this._layoutInfo||this._buildAttributesInfo();return this._layoutInfo};e.getEncodingInfos=
function(){this._propertyEncodingInfo||this._buildAttributesInfo();return this._propertyEncodingInfo};e.getUniforms=function(){this._uniforms||this._buildAttributesInfo();return this._uniforms};e.getShaderHeader=function(){this._shaderHeader||this._buildAttributesInfo();return this._shaderHeader};e.getShaderMain=function(){this._shaderMain||this._buildAttributesInfo();return this._shaderMain};e.setDataUniforms=function(h,g,k,n,l){var p=this.getUniforms();for(const t of p){const {name:u,type:A,getValue:z}=
t;p=z(k,g,n,l);if(null!==p)switch(A){case "float":h.setUniform1f(u,p);break;case "vec2":h.setUniform2fv(u,p);break;case "vec4":h.setUniform4fv(u,p)}}};e.encodeAttributes=function(h,g,k,n){const l=this.attributesInfo(),p=this.getEncodingInfos(),t=[];let u=0,A=0;for(const C of Object.keys(p)){var z,w=p[C];const {type:y,precisionFactor:x,isLayout:E}=l[C],D=E?k.getLayoutProperty(C):k.getPaintProperty(C),q=null==(z=D.interpolator)?void 0:z.getInterpolationRange(g);let B=0;for(const G of w){const {offset:F,
bufferElementsToAdd:H}=G;if(0<H){for(w=0;w<H;w++)t.push(0);u+=A;A=G.bufferElementsToAdd}w=null!=n?n:D.getValue(q?q[B]:g,h);switch(y){case 0:case 1:t[u]|=this._encodeByte(w*(x||1),8*F);break;case 2:case 3:t[u]|=this._encodeShort(w*(x||1),8*F);break;case 4:case 5:t[u]|=this._encodeByte(w*(x||1),8*F);t[u]|=this._encodeByte(w*(x||1),8*F+8);break;case 6:case 7:t[u]|=this._encodeShort(w*(x||1),8*F);t[u]|=this._encodeShort(w*(x||1),8*F+16);break;case 8:case 9:t[u]|=this._encodeByte(w*(x||1),8*F);t[u]|=this._encodeByte(w*
(x||1),8*F+8);t[u]|=this._encodeByte(w*(x||1),8*F+16);t[u]|=this._encodeByte(w*(x||1),8*F+24);break;case 10:t[u]=this._encodeColor(w);break;case 11:case 12:this._encodePattern(u,t,w);break;default:throw Error("Unsupported encoding type");}B++}}return t};e.getAtributeState=function(h){const g=3+2*h;h=0|this._bit(g);return h|=this._bit(g+1)<<1};e._buildAttributesInfo=function(){const h=[],g={};var k={},n=-1;const l=this.attributesInfo();var p=this.attributes();let t=-1;for(const w of p){t++;p=this.getAtributeState(t);
if(0===p||3===p)continue;var u=l[w];const C=[];g[w]=C;u=u.type;for(let y=0;y<p;y++){const {dataType:x,bytesPerElement:E,count:D,normalized:q}=f._encodingInfo[u],B=E*D;let G=k[x];var A=0;!G||4<G.count+D?(n++,G={dataIndex:n,count:0,offset:0},4!==D&&(k[x]=G),h.push({location:-1,name:"a_data_"+n,count:D,type:x,normalized:q}),A=Math.ceil(Math.max(B/4,1))):(A=h[G.dataIndex],A.count+=D,A=Math.ceil(Math.max(A.count*E/4,1))-Math.ceil(Math.max(G.offset/4,1)));C.push({dataIndex:G.dataIndex,offset:G.offset,bufferElementsToAdd:A});
G.offset+=B;G.count+=D}}for(const w of h)switch(w.type){case 5120:case 5121:w.count=4;case 5122:case 5123:w.count+=w.count%2}this._buildVertexBufferLayout(h);k=0;n=this._layoutInfo.geometry;for(var z of n)this._locations.set(z.name,k++);if(z=this._layoutInfo.opacity)for(const w of z)this._locations.set(w.name,k++);this._buildShaderInfo(h,g);this._propertyEncodingInfo=g};e._buildVertexBufferLayout=function(h){const g={};var k=this.geometryInfo();let n=k[0].stride;if(0===h.length)g.geometry=k;else{const l=
[];let p=n;for(const t of h)n+=c(t.type)*t.count;for(const t of k)k={...t},k.stride=n,l.push(k);for(const t of h)l.push({name:t.name,count:t.count,type:t.type,offset:p,stride:n,normalized:t.normalized||!1,divisor:0}),p+=c(t.type)*t.count;g.geometry=l}this.opacityInfo()&&(g.opacity=this.opacityInfo());this._layoutInfo=g;this._stride=n};e._buildShaderInfo=function(h,g){let k="\n",n="\n";const l=[];for(var p of h)k+=`attribute ${this._getType(p.count)} ${p.name};\n`;var t=this.attributes();h=this.attributesInfo();
p=-1;for(const z of t){p++;const {name:w,type:C,precisionFactor:y,isLayout:x}=h[z];t=y&&1!==y?` * ${1/y}`:"";const {bytesPerElement:E,count:D}=f._encodingInfo[C];var u=q=>`a_data_${q.dataIndex}${b(D,q.offset,E)}`;switch(this.getAtributeState(p)){case 0:t=this._getType(D);var A=`u_${w}`;l.push({name:A,type:t,getValue:(q,B,G,F)=>{G=x?q.getLayoutValue(z,B):q.getPaintValue(z,B);if(11===C){q=q.getDashKey(G,q.getLayoutValue("line-cap",B));F=F.getMosaicItemPosition(q,!1);if(v.isNone(F))return null;const {tl:H,
br:J}=F;return[H[0],J[1],J[0],H[1]]}if(12===C){F=F.getMosaicItemPosition(G,-1===z.indexOf("line-"));if(v.isNone(F))return null;const {tl:H,br:J}=F;return[H[0],J[1],J[0],H[1]]}return 10===C?(F=G[3],[F*G[0],F*G[1],F*G[2],F]):G}});k+=`uniform ${t} ${A};\n`;n+=`${t} ${w} = ${A};\n`;break;case 1:A=u(g[z][0]);n+=`${this._getType(D)} ${w} = ${A}${t};\n`;break;case 2:{A=`u_t_${w}`;l.push({name:A,type:"float",getValue:(B,G,F,H)=>(x?B.getLayoutProperty(z):B.getPaintProperty(z)).interpolator.interpolationUniformValue(F,
G)});k+=`uniform float ${A};\n`;const q=u(g[z][0]);u=u(g[z][1]);n+=`${this._getType(D)} ${w} = mix(${q}${t}, ${u}${t}, ${A});\n`}}}this._shaderHeader=k;this._shaderMain=n;this._uniforms=l};e._bit=function(h){return(this._key&1<<h)>>h};e._getType=function(h){switch(h){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw Error("Invalid count");};e._encodeColor=function(h){const g=255*h[3];return r.i8888to32(h[0]*g,h[1]*g,h[2]*g,g)};e._encodePattern=function(h,g,k){if(k&&
k.rect){var n=k.rect,l=k.width;k=k.height;g[h]=this._encodeShort(n.x+2,0);g[h]|=this._encodeShort(n.y+2+k,16);g[h+1]=this._encodeShort(n.x+2+l,0);g[h+1]|=this._encodeShort(n.y+2,16)}};e._encodeByte=function(h,g){return(h&255)<<g};e._encodeShort=function(h,g){return(h&65535)<<g};m._createClass(f,[{key:"key",get:function(){return this._key}},{key:"type",get:function(){return this._key&7}}]);return f}();d._encodingInfo={[0]:{dataType:5120,bytesPerElement:1,count:1,normalized:!1},[1]:{dataType:5121,bytesPerElement:1,
count:1,normalized:!1},[2]:{dataType:5122,bytesPerElement:2,count:1,normalized:!1},[3]:{dataType:5123,bytesPerElement:2,count:1,normalized:!1},[4]:{dataType:5120,bytesPerElement:1,count:2,normalized:!1},[5]:{dataType:5121,bytesPerElement:1,count:2,normalized:!1},[6]:{dataType:5122,bytesPerElement:2,count:2,normalized:!1},[7]:{dataType:5123,bytesPerElement:2,count:2,normalized:!1},[8]:{dataType:5120,bytesPerElement:1,count:4,normalized:!1},[9]:{dataType:5121,bytesPerElement:1,count:4,normalized:!1},
[10]:{dataType:5121,bytesPerElement:1,count:4,normalized:!0},[11]:{dataType:5123,bytesPerElement:2,count:4,normalized:!1},[12]:{dataType:5123,bytesPerElement:2,count:4,normalized:!1}};const c=f=>{switch(f){case 5126:return 4;case 5124:return 4;case 5125:return 4;case 5122:return 2;case 5123:return 2;case 5120:return 1;case 5121:return 1}},b=(f,e,h)=>{e/=h;if(1===f)switch(e){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===f)switch(e){case 0:return".xy";case 1:return".yz";
case 2:return".zw"}else if(3===f)switch(e){case 0:return".xyz";case 1:return".yzw"}return""};a.VTLMaterial=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","./VTLMaterial"],function(a,m,v){v=function(r){function d(b){return r.call(this,b)||this}m._inheritsLoose(d,r);var c=d.prototype;c.geometryInfo=function(){return d.GEOMETRY_LAYOUT};c.opacityInfo=function(){return null};
c.attributes=function(){return d.ATTRIBUTES};c.attributesInfo=function(){return d.ATTRIBUTES_INFO};return d}(v.VTLMaterial);v.ATTRIBUTES="circle-radius circle-color circle-opacity circle-stroke-width circle-stroke-color circle-stroke-opacity circle-blur".split(" ");v.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}];v.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:1},"circle-color":{name:"color",type:10},"circle-opacity":{name:"opacity",type:1,precisionFactor:100},
"circle-stroke-width":{name:"stroke_width",type:1,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:10},"circle-stroke-opacity":{name:"stroke_opacity",type:1,precisionFactor:100},"circle-blur":{name:"blur",type:1,precisionFactor:32}};a.VTLCircleMaterial=v;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","./VTLMaterial"],function(a,m,v){let r=
function(d){function c(f){return d.call(this,f)||this}m._inheritsLoose(c,d);var b=c.prototype;b.geometryInfo=function(){return c.GEOMETRY_LAYOUT};b.opacityInfo=function(){return null};b.attributes=function(){return c.ATTRIBUTES};b.attributesInfo=function(){return c.ATTRIBUTES_INFO};return c}(v.VTLMaterial);r.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"];r.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5122,offset:0,stride:4,normalized:!1,divisor:0}];r.ATTRIBUTES_INFO={"fill-color":{name:"color",
type:10},"fill-opacity":{name:"opacity",type:1,precisionFactor:100},"fill-pattern":{name:"tlbr",type:12,isOptional:!0}};v=function(d){function c(f,e){f=d.call(this,f)||this;f.usefillColor=e;return f}m._inheritsLoose(c,d);var b=c.prototype;b.geometryInfo=function(){return c.GEOMETRY_LAYOUT};b.opacityInfo=function(){return null};b.attributes=function(){return this.usefillColor?c.ATTRIBUTES_FILL:c.ATTRIBUTES_OUTLINE};b.attributesInfo=function(){return this.usefillColor?c.ATTRIBUTES_INFO_FILL:c.ATTRIBUTES_INFO_OUTLINE};
return c}(v.VTLMaterial);v.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"];v.ATTRIBUTES_FILL=["fill-color","fill-opacity"];v.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5122,offset:0,stride:8,normalized:!1,divisor:0},{name:"a_offset",count:2,type:5120,offset:4,stride:8,normalized:!1,divisor:0},{name:"a_xnormal",count:2,type:5120,offset:6,stride:8,normalized:!1,divisor:0}];v.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:10},"fill-opacity":{name:"opacity",type:1,precisionFactor:100}};
v.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:10},"fill-opacity":{name:"opacity",type:1,precisionFactor:100}};a.VTLFillMaterial=r;a.VTLOutlineMaterial=v;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","./VTLMaterial"],function(a,m,v){v=function(r){function d(b){return r.call(this,b)||this}m._inheritsLoose(d,r);var c=d.prototype;c.geometryInfo=function(){return d.GEOMETRY_LAYOUT};
c.opacityInfo=function(){return null};c.attributes=function(){return d.ATTRIBUTES};c.attributesInfo=function(){return d.ATTRIBUTES_INFO};return d}(v.VTLMaterial);v.ATTRIBUTES="line-blur line-color line-gap-width line-offset line-opacity line-width line-pattern line-dasharray".split(" ");v.GEOMETRY_LAYOUT=[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_extrude_offset",count:4,type:5120,offset:4,stride:16,normalized:!1,divisor:0},{name:"a_dir_normal",count:4,type:5120,
offset:8,stride:16,normalized:!1,divisor:0},{name:"a_accumulatedDistance",count:2,type:5123,offset:12,stride:16,normalized:!1,divisor:0}];v.ATTRIBUTES_INFO={"line-width":{name:"width",type:1,precisionFactor:2},"line-gap-width":{name:"gap_width",type:1,precisionFactor:2},"line-offset":{name:"offset",type:0,precisionFactor:2},"line-color":{name:"color",type:10},"line-opacity":{name:"opacity",type:1,precisionFactor:100},"line-blur":{name:"blur",type:1,precisionFactor:4},"line-pattern":{name:"tlbr",type:12,
isOptional:!0},"line-dasharray":{name:"tlbr",type:11,isOptional:!0}};a.VTLLineMaterial=v;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","./VTLMaterial"],function(a,m,v){const r=[{name:"a_pos",count:2,type:5122,offset:0,stride:16,normalized:!1,divisor:0},{name:"a_vertexOffset",count:2,type:5122,offset:4,stride:16,normalized:!1,divisor:0},{name:"a_texAngleRange",
count:4,type:5121,offset:8,stride:16,normalized:!1,divisor:0},{name:"a_levelInfo",count:4,type:5121,offset:12,stride:16,normalized:!1,divisor:0}],d=[{name:"a_opacityInfo",count:1,type:5121,offset:0,stride:1,normalized:!1,divisor:0}];let c=function(b){function f(h){return b.call(this,h)||this}m._inheritsLoose(f,b);var e=f.prototype;e.geometryInfo=function(){return r};e.opacityInfo=function(){return d};e.attributes=function(){return f.ATTRIBUTES};e.attributesInfo=function(){return f.ATTRIBUTES_INFO};
return f}(v.VTLMaterial);c.ATTRIBUTES="icon-color icon-opacity icon-halo-blur icon-halo-color icon-halo-width icon-size".split(" ");c.ATTRIBUTES_INFO={"icon-color":{name:"color",type:10},"icon-opacity":{name:"opacity",type:1,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:10},"icon-halo-width":{name:"halo_width",type:1,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:1,precisionFactor:4},"icon-size":{name:"size",type:1,precisionFactor:32,isLayout:!0}};v=function(b){function f(h){return b.call(this,
h)||this}m._inheritsLoose(f,b);var e=f.prototype;e.geometryInfo=function(){return r};e.opacityInfo=function(){return d};e.attributes=function(){return f.ATTRIBUTES};e.attributesInfo=function(){return f.ATTRIBUTES_INFO};return f}(v.VTLMaterial);v.ATTRIBUTES="text-color text-opacity text-halo-blur text-halo-color text-halo-width text-size".split(" ");v.ATTRIBUTES_INFO={"text-color":{name:"color",type:10},"text-opacity":{name:"opacity",type:1,precisionFactor:100},"text-halo-color":{name:"halo_color",
type:10},"text-halo-width":{name:"halo_width",type:1,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:1,precisionFactor:4},"text-size":{name:"size",type:1,isLayout:!0}};a.VTLIconMaterial=c;a.VTLTextMaterial=v;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../expression/expression","../expression/types"],function(a,m){return function(){function v(r){this._expression=r}v.prototype.filter=function(r,d){if(!this._expression)return!0;
try{return this._expression.evaluate(r,d)}catch(c){return console.log(c.message),!0}};v.createFilter=function(r){if(!r)return null;this.isLegacyFilter(r)&&(r=this.convertLegacyFilter(r));try{const d=a.createExpression(r,null,m.BooleanType);return new v(d)}catch(d){return console.log(d.message),null}};v.isLegacyFilter=function(r){if(!Array.isArray(r)||0===r.length)return!0;switch(r[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===r.length&&"string"===
typeof r[1]&&!Array.isArray(r[2]);case "in":return 3<=r.length&&"string"===typeof r[1]&&!Array.isArray(r[2]);case "!in":return!0;case "any":case "all":for(let d=1;d<r.length;d++)if(!this.isLegacyFilter(r[1]))return!1;return!0;case "none":return!0;case "has":return 2===r.length&&("$id"===r[1]||"$type"===r[1]);case "!has":return!0;default:return!1}};v.convertLegacyFilter=function(r){if(!Array.isArray(r)||0===r.length)return!0;const d=r[0];if(1===r.length)return"any"!==d;switch(d){case "\x3d\x3d":return v.convertComparison("\x3d\x3d",
r[1],r[2]);case "!\x3d":return v.negate(v.convertComparison("\x3d\x3d",r[1],r[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return v.convertComparison(d,r[1],r[2]);case "in":return v.convertIn(r[1],r.slice(2));case "!in":return v.negate(v.convertIn(r[1],r.slice(2)));case "any":case "all":case "none":return v.convertCombining(d,r.slice(1));case "has":return v.convertHas(r[1]);case "!has":return v.negate(v.convertHas(r[1]));default:throw Error("Unexpected legacy filter.");}};v.convertComparison=
function(r,d,c){switch(d){case "$type":return[r,["geometry-type"],c];case "$id":return[r,["id"],c];default:return[r,["get",d],c]}};v.convertIn=function(r,d){switch(r){case "$type":return["in",["geometry-type"],["literal",d]];case "$id":return["in",["id"],["literal",d]];default:return["in",["get",r],["literal",d]]}};v.convertHas=function(r){switch(r){case "$type":return!0;case "$id":return["has-id"];default:return["has",r]}};v.convertCombining=function(r,d){return[r].concat(d.map(this.convertLegacyFilter))};
v.negate=function(r){return["!",r]};return v}()})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/colorUtils ../../../unitBezier ../GeometryUtils ./types".split(" "),function(a,m,v,r,d,c,b){function f(M,I,L){var P=typeof M;if("string"===P||"boolean"===P||"number"===P||null===M){if(L)switch(L.kind){case "string":"string"!==P&&(M=K.toString(M));break;case "number":"number"!==
P&&(M=K.toNumber(M));break;case "color":M=K.toColor(M)}M=["literal",M]}if(!Array.isArray(M)||0===M.length)throw Error("Expression must be a non empty array");P=M[0];if("string"!==typeof P)throw Error("First element of expression must be a string");const X=ea[P];if(void 0===X)throw Error(`Invalid expression operator "${P}"`);if(!X)throw Error(`Unimplemented expression operator "${P}"`);return X.parse(M,I,L)}let e=function(){function M(L){this.parent=L;this.vars={}}var I=M.prototype;I.add=function(L,
P){this.vars[L]=P};I.get=function(L){return this.vars[L]?this.vars[L]:this.parent?this.parent.get(L):null};return M}(),h=function(){function M(){this.type=b.ValueType}M.parse=function(I){if(1<I.length)throw Error('"id" does not expect arguments');return new M};M.prototype.evaluate=function(I,L){return null==I?void 0:I.id};return M}(),g=function(){function M(){this.type=b.StringType}M.parse=function(I){if(1<I.length)throw Error('"geometry-type" does not expect arguments');return new M};M.prototype.evaluate=
function(I,L){if(!I)return null;switch(I.type){case 1:return"Point";case 2:return"LineString";case 3:return"Polygon";default:return null}};return M}(),k=function(){function M(){this.type=b.ObjectType}M.parse=function(I){if(1<I.length)throw Error('"properties" does not expect arguments');return new M};M.prototype.evaluate=function(I,L){return null==I?void 0:I.values};return M}(),n=function(){function M(){this.type=b.NumberType}M.parse=function(I){if(1<I.length)throw Error('"zoom" does not expect arguments');
return new M};M.prototype.evaluate=function(I,L){return L};return M}(),l=function(){function M(I,L,P){this.lhs=I;this.rhs=L;this.compare=P;this.type=b.BooleanType}M.parse=function(I,L,P){if(3!==I.length&&4!==I.length)throw Error(`"${I[0]}" expects 2 or 3 arguments`);if(4===I.length)throw Error(`"${I[0]}" collator not supported`);return new M(f(I[1],L),f(I[2],L),P)};M.prototype.evaluate=function(I,L){return this.compare(this.lhs.evaluate(I,L),this.rhs.evaluate(I,L))};return M}(),p=function(M){function I(){return M.apply(this,
arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){return l.parse(L,P,(X,fa)=>X===fa)};return I}(l),t=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){return l.parse(L,P,(X,fa)=>X!==fa)};return I}(l),u=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){return l.parse(L,P,(X,fa)=>X<fa)};return I}(l),A=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,
M);I.parse=function(L,P){return l.parse(L,P,(X,fa)=>X<=fa)};return I}(l),z=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){return l.parse(L,P,(X,fa)=>X>fa)};return I}(l),w=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){return l.parse(L,P,(X,fa)=>X>=fa)};return I}(l),C=function(){function M(I){this.arg=I;this.type=b.BooleanType}M.parse=function(I,L){if(2!==I.length)throw Error('"!" expects 1 argument');
return new M(f(I[1],L))};M.prototype.evaluate=function(I,L){return!this.arg.evaluate(I,L)};return M}(),y=function(){function M(I){this.args=I;this.type=b.BooleanType}M.parse=function(I,L){const P=[];for(let X=1;X<I.length;X++)P.push(f(I[X],L));return new M(P)};M.prototype.evaluate=function(I,L){for(const P of this.args)if(!P.evaluate(I,L))return!1;return!0};return M}(),x=function(){function M(I){this.args=I;this.type=b.BooleanType}M.parse=function(I,L){const P=[];for(let X=1;X<I.length;X++)P.push(f(I[X],
L));return new M(P)};M.prototype.evaluate=function(I,L){for(const P of this.args)if(P.evaluate(I,L))return!0;return!1};return M}(),E=function(){function M(I){this.args=I;this.type=b.BooleanType}M.parse=function(I,L){const P=[];for(let X=1;X<I.length;X++)P.push(f(I[X],L));return new M(P)};M.prototype.evaluate=function(I,L){for(const P of this.args)if(P.evaluate(I,L))return!1;return!0};return M}(),D=function(){function M(I,L,P){this.type=I;this.args=L;this.fallback=P}M.parse=function(I,L,P){if(4>I.length)throw Error('"case" expects at least 3 arguments');
if(1===I.length%2)throw Error('"case" expects an odd number of arguments');let X;const fa=[];for(let la=1;la<I.length-1;la+=2){const xa=f(I[la],L),ua=f(I[la+1],L,P);X||(X=ua.type);fa.push({condition:xa,output:ua})}I=f(I[I.length-1],L,P);X||(X=I.type);return new M(X,fa,I)};M.prototype.evaluate=function(I,L){for(const P of this.args)if(P.condition.evaluate(I,L))return P.output.evaluate(I,L);return this.fallback.evaluate(I,L)};return M}(),q=function(){function M(I,L){this.type=I;this.args=L}M.parse=
function(I,L){if(2>I.length)throw Error('"coalesce" expects at least 1 argument');let P;const X=[];for(let fa=1;fa<I.length;fa++){const la=f(I[fa],L);P||(P=la.type);X.push(la)}return new M(P,X)};M.prototype.evaluate=function(I,L){for(const P of this.args){const X=P.evaluate(I,L);if(null!==X)return X}return null};return M}(),B=function(){function M(I,L,P,X,fa){this.type=I;this.input=L;this.labels=P;this.outputs=X;this.fallback=fa}M.parse=function(I,L){if(3>I.length)throw Error('"match" expects at least 3 arguments');
if(0===I.length%2)throw Error('"case" expects an even number of arguments');let P;const X=f(I[1],L),fa=[],la={};let xa;for(let za=2;za<I.length-1;za+=2){var ua=I[za];Array.isArray(ua)||(ua=[ua]);for(const Ca of ua){ua=typeof Ca;if("string"!==ua&&"number"!==ua)throw Error('"match" requires string or number literal as labels');if(!xa)xa=ua;else if(ua!==xa)throw Error('"match" requires labels to have the same type');la[Ca]=fa.length}ua=f(I[za+1],L);P||(P=ua.type);fa.push(ua)}return new M(P,X,la,fa,f(I[I.length-
1],L))};M.prototype.evaluate=function(I,L){const P=this.input.evaluate(I,L);return(this.outputs[this.labels[P]]||this.fallback).evaluate(I,L)};return M}(),G=function(){function M(L,P,X,fa,la){this.operator=L;this.type=P;this.interpolation=X;this.input=fa;this.stops=la}M.parse=function(L,P,X){const fa=L[0];if(5>L.length)throw Error(`"${fa}" expects at least 4 arguments`);const la=L[1];if(!Array.isArray(la)||0===la.length)throw Error(`"${la}" is not a valid interpolation`);switch(la[0]){case "linear":if(1!==
la.length)throw Error("Linear interpolation cannot have parameters");break;case "exponential":if(2!==la.length||"number"!==typeof la[1])throw Error("Exponential interpolation requires one numeric argument");break;case "cubic-bezier":if(5!==la.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(var xa=1;5>xa;xa++){var ua=la[xa];if("number"!==typeof ua||0>ua||1<ua)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");
}break;default:throw Error(`"${L[0]}" unknown interpolation type "${la[0]}"`);}if(1!==L.length%2)throw Error(`"${fa}" expects an even number of arguments`);xa=f(L[2],P,b.NumberType);let za;"interpolate-hcl"===fa||"interpolate-lab"===fa?za=b.ColorType:X&&"value"!==X.kind&&(za=X);X=[];for(ua=3;ua<L.length;ua+=2){const Ca=L[ua];if("number"!==typeof Ca)throw Error(`"${fa}" requires stop inputs as literal numbers`);if(X.length&&X[X.length-1][0]>=Ca)throw Error(`"${fa}" requires strictly ascending stop inputs`);
const Ia=f(L[ua+1],P,za);za||(za=Ia.type);X.push([Ca,Ia])}if(za&&za!==b.ColorType&&za!==b.NumberType&&("array"!==za.kind||za.itemType!==b.NumberType))throw Error(`"${fa}" cannot interpolate type ${b.typeToString(za)}`);return new M(fa,za,la,xa,X)};var I=M.prototype;I.evaluate=function(L,P){var X=this.stops;if(1===X.length)return X[0][1].evaluate(L,P);var fa=this.input.evaluate(L,P);if(fa<=X[0][0])return X[0][1].evaluate(L,P);if(fa>=X[X.length-1][0])return X[X.length-1][1].evaluate(L,P);let la=0;for(;++la<
X.length&&!(fa<X[la][0]););const xa=M.interpolationRatio(this.interpolation,fa,X[la-1][0],X[la][0]);fa=X[la-1][1].evaluate(L,P);const ua=X[la][1].evaluate(L,P);if("interpolate"===this.operator){if("array"===this.type.kind&&Array.isArray(fa)&&Array.isArray(ua))return fa.map((za,Ca)=>c.interpolate(za,ua[Ca],xa));if("color"===this.type.kind&&fa instanceof v&&ua instanceof v)return fa=new v(fa),L=new v(ua),new v([c.interpolate(fa.r,L.r,xa),c.interpolate(fa.g,L.g,xa),c.interpolate(fa.b,L.b,xa),c.interpolate(fa.a,
L.a,xa)]);if("number"===this.type.kind&&"number"===typeof fa&&"number"===typeof ua)return c.interpolate(fa,ua,xa);throw Error(`"${this.operator}" cannot interpolate type ${b.typeToString(this.type)}`);}if("interpolate-hcl"===this.operator)return L=r.toLCH(fa),P=r.toLCH(ua),X=P.h-L.h,L=r.toRGB({h:L.h+xa*(180<X||-180>X?X-360*Math.round(X/360):X),c:c.interpolate(L.c,P.c,xa),l:c.interpolate(L.l,P.l,xa)}),new v({a:c.interpolate(fa.a,ua.a,xa),...L});if("interpolate-lab"===this.operator)return L=r.toLAB(fa),
P=r.toLAB(ua),L=r.toRGB({l:c.interpolate(L.l,P.l,xa),a:c.interpolate(L.a,P.a,xa),b:c.interpolate(L.b,P.b,xa)}),new v({a:c.interpolate(fa.a,ua.a,xa),...L});throw Error(`Unexpected operator "${this.operator}"`);};I.interpolationUniformValue=function(L,P){const X=this.stops;if(1===X.length||L>=X[X.length-1][0])return 0;let fa=0;for(;++fa<X.length&&!(L<X[fa][0]););return M.interpolationRatio(this.interpolation,P,X[fa-1][0],X[fa][0])};I.getInterpolationRange=function(L){const P=this.stops;if(1===P.length)return L=
P[0][0],[L,L];var X=P[P.length-1][0];if(L>=X)return[X,X];for(X=0;++X<P.length&&!(L<P[X][0]););return[P[X-1][0],P[X][0]]};M.interpolationRatio=function(L,P,X,fa){let la=0;"linear"===L[0]?la=M.exponentialInterpolationRatio(P,1,X,fa):"exponential"===L[0]?la=M.exponentialInterpolationRatio(P,L[1],X,fa):"cubic-bezier"===L[0]&&(la=d.unitBezier(L[1],L[2],L[3],L[4])(M.exponentialInterpolationRatio(P,1,X,fa),1E-5));0>la?la=0:1<la&&(la=1);return la};M.exponentialInterpolationRatio=function(L,P,X,fa){fa-=X;
if(0===fa)return 0;L-=X;return 1===P?L/fa:(P**L-1)/(P**fa-1)};return M}(),F=function(){function M(I,L,P){this.type=I;this.input=L;this.stops=P}M.parse=function(I,L){if(5>I.length)throw Error('"step" expects at least 4 arguments');if(1!==I.length%2)throw Error('"step" expects an even number of arguments');const P=f(I[1],L,b.NumberType);let X;const fa=[];fa.push([-Infinity,f(I[2],L)]);for(let la=3;la<I.length;la+=2){const xa=I[la];if("number"!==typeof xa)throw Error('"step" requires stop inputs as literal numbers');
if(fa.length&&fa[fa.length-1][0]>=xa)throw Error('"step" requires strictly ascending stop inputs');const ua=f(I[la+1],L);X||(X=ua.type);fa.push([xa,ua])}return new M(X,P,fa)};M.prototype.evaluate=function(I,L){const P=this.stops;if(1===P.length)return P[0][1].evaluate(I,L);const X=this.input.evaluate(I,L);let fa=0;for(;++fa<P.length&&!(X<P[fa][0]););return this.stops[fa-1][1].evaluate(I,L)};return M}(),H=function(){function M(I,L){this.type=I;this.output=L}M.parse=function(I,L,P){if(4>I.length)throw Error('"let" expects at least 3 arguments');
if(1===I.length%2)throw Error('"let" expects an odd number of arguments');const X=new e(L);for(let fa=1;fa<I.length-1;fa+=2){const la=I[fa];if("string"!==typeof la)throw Error(`"let" requires a string to define variable names - found ${la}`);X.add(la,f(I[fa+1],L))}I=f(I[I.length-1],X,P);return new M(I.type,I)};M.prototype.evaluate=function(I,L){return this.output.evaluate(I,L)};return M}(),J=function(){function M(I,L){this.type=I;this.output=L}M.parse=function(I,L,P){if(2!==I.length||"string"!==typeof I[1])throw Error('"var" requires just one literal string argument');
L=L.get(I[1]);if(!L)throw Error(`${I[1]} must be defined before being used in a "var" expression`);return new M(P||b.ValueType,L)};M.prototype.evaluate=function(I,L){return this.output.evaluate(I,L)};return M}(),Q=function(){function M(I,L,P){this.type=I;this.index=L;this.array=P}M.parse=function(I,L){if(3!==I.length)throw Error('"at" expects 2 arguments');const P=f(I[1],L,b.NumberType);I=f(I[2],L);return new M(I.type.itemType,P,I)};M.prototype.evaluate=function(I,L){const P=this.index.evaluate(I,
L);I=this.array.evaluate(I,L);if(0>P||P>=I.length)throw Error('"at" index out of bounds');if(P!==Math.floor(P))throw Error('"at" index must be an integer');return I[P]};return M}(),T=function(){function M(I,L){this.key=I;this.obj=L;this.type=b.ValueType}M.parse=function(I,L){let P;switch(I.length){case 2:return P=f(I[1],L),new M(P);case 3:return P=f(I[1],L),I=f(I[2],L),new M(P,I);default:throw Error('"get" expects 1 or 2 arguments');}};M.prototype.evaluate=function(I,L){const P=this.key.evaluate(I,
L);return this.obj?this.obj.evaluate(I,L)[P]:null==I?void 0:I.values[P]};return M}(),R=function(){function M(I,L){this.key=I;this.obj=L;this.type=b.BooleanType}M.parse=function(I,L){let P;switch(I.length){case 2:return P=f(I[1],L),new M(P);case 3:return P=f(I[1],L),I=f(I[2],L),new M(P,I);default:throw Error('"has" expects 1 or 2 arguments');}};M.prototype.evaluate=function(I,L){const P=this.key.evaluate(I,L);return this.obj?(I=this.obj.evaluate(I,L),P in I):!(null==I||!I.values[P])};return M}(),V=
function(){function M(I,L){this.key=I;this.vals=L;this.type=b.BooleanType}M.parse=function(I,L){if(3!==I.length)throw Error('"in" expects 2 arguments');return new M(f(I[1],L),f(I[2],L))};M.prototype.evaluate=function(I,L){const P=this.key.evaluate(I,L);return-1!==this.vals.evaluate(I,L).indexOf(P)};return M}(),Y=function(){function M(I,L,P){this.item=I;this.array=L;this.from=P;this.type=b.NumberType}M.parse=function(I,L){if(3>I.length||4<I.length)throw Error('"index-of" expects 3 or 4 arguments');
const P=f(I[1],L),X=f(I[2],L);return 4===I.length?(I=f(I[3],L,b.NumberType),new M(P,X,I)):new M(P,X)};M.prototype.evaluate=function(I,L){const P=this.item.evaluate(I,L),X=this.array.evaluate(I,L);if(this.from){I=this.from.evaluate(I,L);if(I!==Math.floor(I))throw Error('"index-of" index must be an integer');return X.indexOf(P,I)}return X.indexOf(P)};return M}(),da=function(){function M(I){this.arg=I;this.type=b.NumberType}M.parse=function(I,L){if(2!==I.length)throw Error('"length" expects 2 arguments');
I=f(I[1],L);return new M(I)};M.prototype.evaluate=function(I,L){I=this.arg.evaluate(I,L);if("string"===typeof I||Array.isArray(I))return I.length;throw Error('"length" expects string or array');};return M}(),na=function(){function M(I,L,P,X){this.type=I;this.array=L;this.from=P;this.to=X}M.parse=function(I,L){if(3>I.length||4<I.length)throw Error('"slice" expects 2 or 3 arguments');const P=f(I[1],L),X=f(I[2],L,b.NumberType);if(X.type!==b.NumberType)throw Error('"slice" index must return a number');
if(4===I.length){I=f(I[3],L,b.NumberType);if(I.type!==b.NumberType)throw Error('"slice" index must return a number');return new M(P.type,P,X,I)}return new M(P.type,P,X)};M.prototype.evaluate=function(I,L){const P=this.array.evaluate(I,L);if(!Array.isArray(P)&&"string"!==typeof P)throw Error('"slice" input must be an array or a string');const X=this.from.evaluate(I,L);if(0>X||X>=P.length)throw Error('"slice" index out of bounds');if(X!==Math.floor(X))throw Error('"slice" index must be an integer');
if(this.to){I=this.to.evaluate(I,L);if(0>I||I>=P.length)throw Error('"slice" index out of bounds');if(I!==Math.floor(I))throw Error('"slice" index must be an integer');return P.slice(X,I)}return P.slice(X)};return M}(),ta=function(){function M(){this.type=b.BooleanType}M.parse=function(I){if(1!==I.length)throw Error('"has-id" expects no arguments');return new M};M.prototype.evaluate=function(I,L){return I&&void 0!==I.id};return M}(),ka=function(){function M(I,L){this.args=I;this.calculate=L;this.type=
b.NumberType}M.parse=function(I,L,P){I=I.slice(1).map(X=>f(X,L));return new M(I,P)};M.prototype.evaluate=function(I,L){let P;this.args&&(P=this.args.map(X=>X.evaluate(I,L)));return this.calculate(P)};return M}(),va=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){switch(L.length){case 2:return ka.parse(L,P,X=>-X[0]);case 3:return ka.parse(L,P,X=>X[0]-X[1]);default:throw Error('"-" expects 1 or 2 arguments');}};return I}(ka),pa=function(M){function I(){return M.apply(this,
arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){return ka.parse(L,P,X=>{let fa=1;for(const la of X)fa*=la;return fa})};return I}(ka),O=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){if(3===L.length)return ka.parse(L,P,X=>X[0]/X[1]);throw Error('"/" expects 2 arguments');};return I}(ka),S=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){if(3===L.length)return ka.parse(L,
P,X=>X[0]%X[1]);throw Error('"%" expects 2 arguments');};return I}(ka),U=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){if(3===L.length)return ka.parse(L,P,X=>X[0]**X[1]);throw Error('"^" expects 1 or 2 arguments');};return I}(ka),ca=function(M){function I(){return M.apply(this,arguments)||this}m._inheritsLoose(I,M);I.parse=function(L,P){return ka.parse(L,P,X=>{let fa=0;for(const la of X)fa+=la;return fa})};return I}(ka),ba=function(){function M(I,
L){this.args=I;this.calculate=L;this.type=b.NumberType}M.parse=function(I,L){const P=I.slice(1).map(X=>f(X,L));return new M(P,M.ops[I[0]])};M.prototype.evaluate=function(I,L){let P;this.args&&(P=this.args.map(X=>X.evaluate(I,L)));return this.calculate(P)};return M}();ba.ops={abs:M=>Math.abs(M[0]),acos:M=>Math.acos(M[0]),asin:M=>Math.asin(M[0]),atan:M=>Math.atan(M[0]),ceil:M=>Math.ceil(M[0]),cos:M=>Math.cos(M[0]),e:()=>Math.E,floor:M=>Math.floor(M[0]),ln:M=>Math.log(M[0]),ln2:()=>Math.LN2,log10:M=>
Math.log(M[0])/Math.LN10,log2:M=>Math.log(M[0])/Math.LN2,max:M=>Math.max(...M),min:M=>Math.min(...M),pi:()=>Math.PI,round:M=>Math.round(M[0]),sin:M=>Math.sin(M[0]),sqrt:M=>Math.sqrt(M[0]),tan:M=>Math.tan(M[0])};let ja=function(){function M(I){this.args=I;this.type=b.StringType}M.parse=function(I,L){return new M(I.slice(1).map(P=>f(P,L)))};M.prototype.evaluate=function(I,L){return this.args.map(P=>P.evaluate(I,L)).join("")};return M}(),qa=function(){function M(I,L){this.arg=I;this.calculate=L;this.type=
b.StringType}M.parse=function(I,L){if(2!==I.length)throw Error(`${I[0]} expects 1 argument`);L=f(I[1],L);return new M(L,M.ops[I[0]])};M.prototype.evaluate=function(I,L){return this.calculate(this.arg.evaluate(I,L))};return M}();qa.ops={downcase:M=>M.toLowerCase(),upcase:M=>M.toUpperCase()};let sa=function(){function M(L){this.args=L;this.type=b.ColorType}M.parse=function(L,P){if(4!==L.length)throw Error('"rgb" expects 3 arguments');L=L.slice(1).map(X=>f(X,P));return new M(L)};var I=M.prototype;I.evaluate=
function(L,P){const X=this._validate(this.args[0].evaluate(L,P)),fa=this._validate(this.args[1].evaluate(L,P));L=this._validate(this.args[2].evaluate(L,P));return new v({r:X,g:fa,b:L})};I._validate=function(L){if("number"!==typeof L||0>L||255<L)throw Error(`${L}: invalid color component`);return Math.round(L)};return M}(),wa=function(){function M(L){this.args=L;this.type=b.ColorType}M.parse=function(L,P){if(5!==L.length)throw Error('"rgba" expects 4 arguments');L=L.slice(1).map(X=>f(X,P));return new M(L)};
var I=M.prototype;I.evaluate=function(L,P){const X=this._validate(this.args[0].evaluate(L,P)),fa=this._validate(this.args[1].evaluate(L,P)),la=this._validate(this.args[2].evaluate(L,P));L=this._validateAlpha(this.args[3].evaluate(L,P));return new v({r:X,g:fa,b:la,a:L})};I._validate=function(L){if("number"!==typeof L||0>L||255<L)throw Error(`${L}: invalid color component`);return Math.round(L)};I._validateAlpha=function(L){if("number"!==typeof L||0>L||1<L)throw Error(`${L}: invalid alpha color component`);
return L};return M}(),ra=function(){function M(I){this.color=I;this.type=b.arrayType(b.NumberType,4)}M.parse=function(I,L){if(2!==I.length)throw Error('"to-rgba" expects 1 argument');I=f(I[1],L);return new M(I)};M.prototype.evaluate=function(I,L){return(new v(this.color.evaluate(I,L))).toRgba()};return M}(),ya=function(){function M(I,L){this.type=I;this.args=L}M.parse=function(I,L){var P=I[0];if(2>I.length)throw Error(`${P} expects at least one argument`);let X=1,fa;if("array"===P){if(2<I.length){switch(I[1]){case "string":fa=
b.StringType;break;case "number":fa=b.NumberType;break;case "boolean":fa=b.BooleanType;break;default:throw Error('"array" type argument must be string, number or boolean');}X++}else fa=b.ValueType;if(3<I.length){var la=I[2];if(null!==la&&("number"!==typeof la||0>la||la!==Math.floor(la)))throw Error('"array" length argument must be a positive integer literal');X++}fa=b.arrayType(fa,la)}else switch(P){case "string":fa=b.StringType;break;case "number":fa=b.NumberType;break;case "boolean":fa=b.BooleanType;
break;case "object":fa=b.ObjectType}for(P=[];X<I.length;X++)la=f(I[X],L),P.push(la);return new M(fa,P)};M.prototype.evaluate=function(I,L){let P;for(const X of this.args){const fa=X.evaluate(I,L);P=b.getType(fa);if(b.matchType(P,this.type))return fa}throw Error(`Expected ${b.typeToString(this.type)} but got ${b.typeToString(P)}`);};return M}(),K=function(){function M(I,L){this.type=I;this.args=L}M.parse=function(I,L){var P=I[0];const X=M.types[P];if(X===b.BooleanType||X===b.StringType){if(2!==I.length)throw Error(`${P} expects one argument`);
}else if(2>I.length)throw Error(`${P} expects at least one argument`);P=[];for(let fa=1;fa<I.length;fa++){const la=f(I[fa],L);P.push(la)}return new M(X,P)};M.prototype.evaluate=function(I,L){if(this.type===b.BooleanType)return!!this.args[0].evaluate(I,L);if(this.type===b.StringType)return b.valueToString(this.args[0].evaluate(I,L));if(this.type===b.NumberType){for(const X of this.args){var P=Number(X.evaluate(I,L));if(!isNaN(P))return P}return null}if(this.type===b.ColorType){for(P of this.args)try{const X=
M.toColor(P.evaluate(I,L));if(X instanceof v)return X}catch{}return null}};M.toBoolean=function(I){return!!I};M.toString=function(I){return b.valueToString(I)};M.toNumber=function(I){const L=Number(I);if(isNaN(L))throw Error(`"${I}" is not a number`);return L};M.toColor=function(I){if(I instanceof v)return I;if("string"===typeof I){const L=v.fromString(I);if(L)return L;throw Error(`"${I}" is not a color`);}if(Array.isArray(I))return v.fromArray(I);throw Error(`"${I}" is not a color`);};return M}();
K.types={"to-boolean":b.BooleanType,"to-color":b.ColorType,"to-number":b.NumberType,"to-string":b.StringType};let W=function(){function M(I){this.val=I;this.type=b.getType(I)}M.parse=function(I){if(2!==I.length)throw Error('"literal" expects 1 argument');return new M(I[1])};M.prototype.evaluate=function(I,L){return this.val};return M}(),aa=function(){function M(I){this.arg=I;this.type=b.StringType}M.parse=function(I,L){if(2!==I.length)throw Error('"typeof" expects 1 argument');return new M(f(I[1],
L))};M.prototype.evaluate=function(I,L){return b.typeToString(b.getType(this.arg.evaluate(I,L)))};return M}();const ea={array:ya,"boolean":ya,collator:null,format:null,image:null,literal:W,number:ya,"number-format":null,object:ya,string:ya,"to-boolean":K,"to-color":K,"to-number":K,"to-string":K,"typeof":aa,accumulated:null,"feature-state":null,"geometry-type":g,id:h,"line-progress":null,properties:k,at:Q,get:T,has:R,"in":V,"index-of":Y,length:da,slice:na,"!":C,"!\x3d":t,"\x3c":u,"\x3c\x3d":A,"\x3d\x3d":p,
"\x3e":z,"\x3e\x3d":w,all:y,any:x,"case":D,coalesce:q,match:B,within:null,interpolate:G,"interpolate-hcl":G,"interpolate-lab":G,step:F,let:H,"var":J,concat:ja,downcase:qa,"is-supported-script":null,"resolved-locale":null,upcase:qa,rgb:sa,rgba:wa,"to-rgba":ra,"-":va,"*":pa,"/":O,"%":S,"^":U,"+":ca,abs:ba,acos:ba,asin:ba,atan:ba,ceil:ba,cos:ba,e:ba,floor:ba,ln:ba,ln2:ba,log10:ba,log2:ba,max:ba,min:ba,pi:ba,round:ba,sin:ba,sqrt:ba,tan:ba,zoom:n,"heatmap-density":null,"has-id":ta,none:E};a.ALL=y;a.ANY=
x;a.Add=ca;a.Assert=ya;a.At=Q;a.Calculate=ba;a.Case=D;a.Coalesce=q;a.Coerce=K;a.Concat=ja;a.Div=O;a.EQ=p;a.GE=w;a.GT=z;a.GeomType=g;a.Get=T;a.Has=R;a.HasID=ta;a.ID=h;a.In=V;a.IndexOf=Y;a.Interpolate=G;a.LE=A;a.LT=u;a.Length=da;a.Let=H;a.Literal=W;a.Match=B;a.Mod=S;a.Mul=pa;a.NE=t;a.NONE=E;a.NOT=C;a.Pow=U;a.Properties=k;a.Rgb=sa;a.Rgba=wa;a.Slice=na;a.Step=F;a.String=qa;a.Sub=va;a.ToRgba=ra;a.TypeOf=aa;a.Var=J;a.Zoom=n;a.createExpression=f;a.ops=ea;Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/Color":function(){define(["./chunks/_rollupPluginBabelHelpers","./colorUtils","./core/mathUtils","./core/maybe","./core/accessorSupport/ensureType"],function(a,m,v,r,d){function c(e){return v.clamp(d.ensureInteger(e),0,255)}function b(e,h,g){e=Number(e);return isNaN(e)?g:e<h?h:e>g?g:e}let f=function(){function e(g){this.b=this.g=this.r=255;this.a=1;g&&this.setColor(g)}e.blendColors=function(g,k,n,l=new e){l.r=Math.round(g.r+(k.r-g.r)*n);l.g=Math.round(g.g+(k.g-g.g)*n);l.b=Math.round(g.b+(k.b-
g.b)*n);l.a=g.a+(k.a-g.a)*n;return l._sanitize()};e.fromRgb=function(g,k){var n=g.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(n){g=n[2].split(/\s*,\s*/);n=n[1];if("rgb"===n&&3===g.length||"rgba"===n&&4===g.length)return n=g[0],"%"===n.charAt(n.length-1)?(n=g.map(l=>2.56*parseFloat(l)),4===g.length&&(n[3]=parseFloat(g[3])),e.fromArray(n,k)):e.fromArray(g.map(l=>parseFloat(l)),k);if("hsl"===n&&3===g.length||"hsla"===n&&4===g.length)return e.fromArray(m.hsla2rgba(parseFloat(g[0]),parseFloat(g[1])/
100,parseFloat(g[2])/100,parseFloat(g[3])),k)}return null};e.fromHex=function(g,k=new e){if(4!==g.length&&7!==g.length||"#"!==g[0])return null;const n=4===g.length?4:8,l=(1<<n)-1;let p=Number("0x"+g.substr(1));if(isNaN(p))return null;["b","g","r"].forEach(t=>{const u=p&l;p>>=n;k[t]=4===n?17*u:u});k.a=1;return k};e.fromArray=function(g,k=new e){k._set(Number(g[0]),Number(g[1]),Number(g[2]),Number(g[3]));isNaN(k.a)&&(k.a=1);return k._sanitize()};e.fromString=function(g,k){const n=m.getNamedColor(g);
return n&&e.fromArray(n,k)||e.fromRgb(g,k)||e.fromHex(g,k)};e.fromJSON=function(g){return g&&new e([g[0],g[1],g[2],g[3]/255])};e.toUnitRGB=function(g){return r.isSome(g)?[g.r/255,g.g/255,g.b/255]:null};e.toUnitRGBA=function(g){return r.isSome(g)?[g.r/255,g.g/255,g.b/255,null!=g.a?g.a:1]:null};var h=e.prototype;h.setColor=function(g){if("string"===typeof g)e.fromString(g,this);else if(Array.isArray(g))e.fromArray(g,this);else{var k,n,l,p;this._set(null!=(k=g.r)?k:0,null!=(n=g.g)?n:0,null!=(l=g.b)?
l:0,null!=(p=g.a)?p:1);g instanceof e||this._sanitize()}return this};h.toRgb=function(){return[this.r,this.g,this.b]};h.toRgba=function(){return[this.r,this.g,this.b,this.a]};h.toHex=function(){const g=this.r.toString(16),k=this.g.toString(16),n=this.b.toString(16);return`#${2>g.length?"0"+g:g}${2>k.length?"0"+k:k}${2>n.length?"0"+n:n}`};h.toCss=function(g=!1){const k=this.r+", "+this.g+", "+this.b;return g?`rgba(${k}, ${this.a})`:`rgb(${k})`};h.toString=function(){return this.toCss(!0)};h.toJSON=
function(){return this.toArray()};h.toArray=function(g=0){const k=c(this.r),n=c(this.g),l=c(this.b);return 0===g||1!==this.a?[k,n,l,c(255*this.a)]:[k,n,l]};h.clone=function(){return new e(this.toRgba())};h.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};h._sanitize=function(){this.r=Math.round(b(this.r,0,255));this.g=Math.round(b(this.g,0,255));this.b=Math.round(b(this.b,0,255));this.a=b(this.a,0,1);return this};h._set=function(g,k,n,l){this.r=g;this.g=k;this.b=n;this.a=l};a._createClass(e,
[{key:"isBright",get:function(){return 127<=.299*this.r+.587*this.g+.114*this.b}}]);return e}();f.prototype.declaredClass="esri.Color";return f})},"esri/colorUtils":function(){define(["exports"],function(a){function m(d){var c;return null!=(c=r[d.toLowerCase()])?c:null}function v(d,c,b){0>b&&++b;1<b&&--b;const f=6*b;return 1>f?d+(c-d)*f:1>2*b?c:2>3*b?d+(c-d)*(2/3-b)*6:d}const r={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,
1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,
255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,
1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,
240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,
1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,
25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,
51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,
222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,5,10]};a.getNamedColor=m;a.getNamedColorCopy=function(d){return(d=m(d))?[...d]:d};a.hex2rgba=function(d){var c=5<d.length;const b=c?8:4,f=(1<<b)-1,e=c?1:17;c=c?9===d.length:5===d.length;d=Number("0x"+d.substr(1));if(isNaN(d))return null;const h=[0,0,0,1];c&&(c=d&f,d>>=b,h[3]=e*c/255);c=d&f;d>>=b;h[2]=e*c;c=d&f;d>>=b;h[1]=e*c;c=d&f;d>>=b;h[0]=e*c;return h};a.hsla2rgba=function(d,c,b,f=1){d=(d%360+360)%360/360;c=.5>=b?b*(c+1):b+c-b*c;b=2*b-
c;return[Math.round(256*v(b,c,d+1/3)),Math.round(256*v(b,c,d)),Math.round(256*v(b,c,d-1/3)),f]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec3"],function(a,m){function v(n,l,p){return Math.min(Math.max(n,l),p)}function r(n,l,p){return n+(l-n)*p}function d(n){return Math.asin(v(n,-1,1))}function c(n){b[0]=n;return b[0]}const b=new Float32Array(1),f=Number.isFinite||function(n){return"number"===typeof n&&window.isFinite(n)},e=Number.isNaN||
function(n){return n!==n},h=Math.sign||function(n){return+(0<n)-+(0>n)||+n},g=Math.log2||function(n){return Math.log(n)/Math.LN2},k=c(3.4028234663852886E38);a.NUMBER_MAX_FLOAT32=k;a.acosClamped=function(n){return Math.acos(v(n,-1,1))};a.asinClamped=d;a.cartesianToSpherical=function(n,l){const p=m.length(n),t=d(n[2]/p);m.set(l,p,t,Math.atan2(n[1]/p,n[0]/p));return l};a.clamp=v;a.clampFloat32=function(n){return c(Math.max(-k,Math.min(n,k)))};a.deg2rad=function(n){return n*Math.PI/180};a.floatEqualAbsolute=
function(n,l,p=1E-6){return e(n)||e(l)?!1:(n>l?n-l:l-n)<=p};a.floatEqualRelative=function(n,l,p=1E-6){if(e(n)||e(l))return!1;if(n===l)return!0;const t=Math.abs(n-l),u=Math.abs(n),A=Math.abs(l);if(0===n||0===l||1E-12>u&&1E-12>A){if(t>.01*p)return!1}else if(t/(u+A)>p)return!1;return!0};a.isFinite=f;a.isNaN=e;a.isPowerOfTwo=function(n){return 0===(n&n-1)};a.lerp=r;a.log2=g;a.nextHighestPowerOfTen=function(n){return 10**Math.ceil(Math.LOG10E*Math.log(n))};a.nextHighestPowerOfTwo=function(n){--n;for(let l=
1;32>l;l<<=1)n|=n>>l;return n+1};a.nextPowerOfTwo=function(n){n--;n|=n>>1;n|=n>>2;n|=n>>4;n|=n>>8;n|=n>>16;n++;return n};a.rad2deg=function(n){return 180*n/Math.PI};a.reciprocalClamped=function(n,l=1E-6){return(0>n?-1:1)/Math.max(Math.abs(n),l)};a.roundToNearest=function(n,l){return 0===l?0:Math.round(n/l)*l};a.scale=function(n,l,p,t,u){return r(t,u,(n-l)/(p-l))};a.sign=h;a.smoothstep=function(n,l,p){n=v((p-n)/(l-n),0,1);return n*n*(3-2*n)};a.sphericalToCartesian=function(n,l){const p=n[0],t=n[1];
n=n[2];const u=Math.cos(t);m.set(l,p*u*Math.cos(n),p*u*Math.sin(n),p*Math.sin(t))};a.step=function(n,l){return l<n?0:1};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/vec3":function(){define(["exports","./vec3f64","./common"],function(a,m,v){function r(O){const S=O[0],U=O[1];O=O[2];return Math.sqrt(S*S+U*U+O*O)}function d(O,S){O[0]=S[0];O[1]=S[1];O[2]=S[2];return O}function c(O,S,U,ca){O[0]=S;O[1]=U;O[2]=ca;return O}function b(O,S,U){O[0]=S[0]+U[0];O[1]=S[1]+U[1];O[2]=S[2]+U[2];
return O}function f(O,S,U){O[0]=S[0]-U[0];O[1]=S[1]-U[1];O[2]=S[2]-U[2];return O}function e(O,S,U){O[0]=S[0]*U[0];O[1]=S[1]*U[1];O[2]=S[2]*U[2];return O}function h(O,S,U){O[0]=S[0]/U[0];O[1]=S[1]/U[1];O[2]=S[2]/U[2];return O}function g(O,S){O[0]=Math.ceil(S[0]);O[1]=Math.ceil(S[1]);O[2]=Math.ceil(S[2]);return O}function k(O,S){O[0]=Math.floor(S[0]);O[1]=Math.floor(S[1]);O[2]=Math.floor(S[2]);return O}function n(O,S,U){O[0]=Math.min(S[0],U[0]);O[1]=Math.min(S[1],U[1]);O[2]=Math.min(S[2],U[2]);return O}
function l(O,S,U){O[0]=Math.max(S[0],U[0]);O[1]=Math.max(S[1],U[1]);O[2]=Math.max(S[2],U[2]);return O}function p(O,S){O[0]=Math.round(S[0]);O[1]=Math.round(S[1]);O[2]=Math.round(S[2]);return O}function t(O,S,U){O[0]=S[0]*U;O[1]=S[1]*U;O[2]=S[2]*U;return O}function u(O,S,U,ca){O[0]=S[0]+U[0]*ca;O[1]=S[1]+U[1]*ca;O[2]=S[2]+U[2]*ca;return O}function A(O,S){const U=S[0]-O[0],ca=S[1]-O[1];O=S[2]-O[2];return Math.sqrt(U*U+ca*ca+O*O)}function z(O,S){const U=S[0]-O[0],ca=S[1]-O[1];O=S[2]-O[2];return U*U+
ca*ca+O*O}function w(O){const S=O[0],U=O[1];O=O[2];return S*S+U*U+O*O}function C(O,S){O[0]=-S[0];O[1]=-S[1];O[2]=-S[2];return O}function y(O,S){O[0]=1/S[0];O[1]=1/S[1];O[2]=1/S[2];return O}function x(O,S){var U=S[0];const ca=S[1],ba=S[2];U=U*U+ca*ca+ba*ba;0<U&&(U=1/Math.sqrt(U),O[0]=S[0]*U,O[1]=S[1]*U,O[2]=S[2]*U);return O}function E(O,S){return O[0]*S[0]+O[1]*S[1]+O[2]*S[2]}function D(O,S,U){const ca=S[0],ba=S[1];S=S[2];const ja=U[0],qa=U[1];U=U[2];O[0]=ba*U-S*qa;O[1]=S*ja-ca*U;O[2]=ca*qa-ba*ja;
return O}function q(O,S,U,ca){const ba=S[0],ja=S[1];S=S[2];O[0]=ba+ca*(U[0]-ba);O[1]=ja+ca*(U[1]-ja);O[2]=S+ca*(U[2]-S);return O}function B(O,S,U,ca,ba,ja){const qa=ja*ja,sa=qa*(2*ja-3)+1,wa=qa*(ja-2)+ja,ra=qa*(ja-1);ja=qa*(3-2*ja);O[0]=S[0]*sa+U[0]*wa+ca[0]*ra+ba[0]*ja;O[1]=S[1]*sa+U[1]*wa+ca[1]*ra+ba[1]*ja;O[2]=S[2]*sa+U[2]*wa+ca[2]*ra+ba[2]*ja;return O}function G(O,S,U,ca,ba,ja){var qa=1-ja,sa=qa*qa;const wa=ja*ja,ra=sa*qa;sa*=3*ja;qa*=3*wa;ja*=wa;O[0]=S[0]*ra+U[0]*sa+ca[0]*qa+ba[0]*ja;O[1]=S[1]*
ra+U[1]*sa+ca[1]*qa+ba[1]*ja;O[2]=S[2]*ra+U[2]*sa+ca[2]*qa+ba[2]*ja;return O}function F(O,S){S=S||1;const U=2*v.RANDOM()*Math.PI,ca=2*v.RANDOM()-1,ba=Math.sqrt(1-ca*ca)*S;O[0]=Math.cos(U)*ba;O[1]=Math.sin(U)*ba;O[2]=ca*S;return O}function H(O,S,U){const ca=S[0],ba=S[1];S=S[2];O[0]=U[0]*ca+U[4]*ba+U[8]*S+U[12];O[1]=U[1]*ca+U[5]*ba+U[9]*S+U[13];O[2]=U[2]*ca+U[6]*ba+U[10]*S+U[14];return O}function J(O,S,U){const ca=S[0],ba=S[1];S=S[2];O[0]=ca*U[0]+ba*U[3]+S*U[6];O[1]=ca*U[1]+ba*U[4]+S*U[7];O[2]=ca*U[2]+
ba*U[5]+S*U[8];return O}function Q(O,S,U){const ca=U[0],ba=U[1],ja=U[2],qa=S[0],sa=S[1];S=S[2];let wa=ba*S-ja*sa,ra=ja*qa-ca*S,ya=ca*sa-ba*qa;U=2*U[3];O[0]=qa+wa*U+2*(ba*ya-ja*ra);O[1]=sa+ra*U+2*(ja*wa-ca*ya);O[2]=S+ya*U+2*(ca*ra-ba*wa);return O}function T(O,S,U,ca){const ba=[],ja=[];ba[0]=S[0]-U[0];ba[1]=S[1]-U[1];ba[2]=S[2]-U[2];ja[0]=ba[0];ja[1]=ba[1]*Math.cos(ca)-ba[2]*Math.sin(ca);ja[2]=ba[1]*Math.sin(ca)+ba[2]*Math.cos(ca);O[0]=ja[0]+U[0];O[1]=ja[1]+U[1];O[2]=ja[2]+U[2];return O}function R(O,
S,U,ca){const ba=[],ja=[];ba[0]=S[0]-U[0];ba[1]=S[1]-U[1];ba[2]=S[2]-U[2];ja[0]=ba[2]*Math.sin(ca)+ba[0]*Math.cos(ca);ja[1]=ba[1];ja[2]=ba[2]*Math.cos(ca)-ba[0]*Math.sin(ca);O[0]=ja[0]+U[0];O[1]=ja[1]+U[1];O[2]=ja[2]+U[2];return O}function V(O,S,U,ca){const ba=[],ja=[];ba[0]=S[0]-U[0];ba[1]=S[1]-U[1];ba[2]=S[2]-U[2];ja[0]=ba[0]*Math.cos(ca)-ba[1]*Math.sin(ca);ja[1]=ba[0]*Math.sin(ca)+ba[1]*Math.cos(ca);ja[2]=ba[2];O[0]=ja[0]+U[0];O[1]=ja[1]+U[1];O[2]=ja[2]+U[2];return O}function Y(O,S){d(va,O);d(pa,
S);x(va,va);x(pa,pa);O=E(va,pa);return 1<O?0:-1>O?Math.PI:Math.acos(O)}function da(O){return"vec3("+O[0]+", "+O[1]+", "+O[2]+")"}function na(O,S){return O[0]===S[0]&&O[1]===S[1]&&O[2]===S[2]}function ta(O,S){const U=O[0],ca=O[1];O=O[2];const ba=S[0],ja=S[1];S=S[2];return Math.abs(U-ba)<=v.EPSILON*Math.max(1,Math.abs(U),Math.abs(ba))&&Math.abs(ca-ja)<=v.EPSILON*Math.max(1,Math.abs(ca),Math.abs(ja))&&Math.abs(O-S)<=v.EPSILON*Math.max(1,Math.abs(O),Math.abs(S))}function ka(O,S,U){const ca=U[0]-S[0],
ba=U[1]-S[1];S=U[2]-S[2];U=ca*ca+ba*ba+S*S;if(0<U)return U=1/Math.sqrt(U),O[0]=ca*U,O[1]=ba*U,O[2]=S*U,O;O[0]=0;O[1]=0;O[2]=0;return O}const va=m.create(),pa=m.create();m=Object.freeze({__proto__:null,length:r,copy:d,set:c,add:b,subtract:f,multiply:e,divide:h,ceil:g,floor:k,min:n,max:l,round:p,scale:t,scaleAndAdd:u,distance:A,squaredDistance:z,squaredLength:w,negate:C,inverse:y,normalize:x,dot:E,cross:D,lerp:q,hermite:B,bezier:G,random:F,transformMat4:H,transformMat3:J,transformQuat:Q,rotateX:T,rotateY:R,
rotateZ:V,angle:Y,str:da,exactEquals:na,equals:ta,direction:ka,sub:f,mul:e,div:h,dist:A,sqrDist:z,len:r,sqrLen:w});a.add=b;a.angle=Y;a.bezier=G;a.ceil=g;a.copy=d;a.cross=D;a.direction=ka;a.dist=A;a.distance=A;a.div=h;a.divide=h;a.dot=E;a.equals=ta;a.exactEquals=na;a.floor=k;a.hermite=B;a.inverse=y;a.len=r;a.length=r;a.lerp=q;a.max=l;a.min=n;a.mul=e;a.multiply=e;a.negate=C;a.normalize=x;a.random=F;a.rotateX=T;a.rotateY=R;a.rotateZ=V;a.round=p;a.scale=t;a.scaleAndAdd=u;a.set=c;a.sqrDist=z;a.sqrLen=
w;a.squaredDistance=z;a.squaredLength=w;a.str=da;a.sub=f;a.subtract=f;a.transformMat3=J;a.transformMat4=H;a.transformQuat=Q;a.vec3=m})},"esri/chunks/vec3f64":function(){define(["exports"],function(a){function m(){return[0,0,0]}function v(A){return[A[0],A[1],A[2]]}function r(A,z,w){return[A,z,w]}function d(A){const z=m(),w=Math.min(3,A.length);for(let C=0;C<w;++C)z[C]=A[C];return z}function c(A,z){return new Float64Array(A,z,3)}function b(){return m()}function f(){return[1,1,1]}function e(){return[1,
0,0]}function h(){return[0,1,0]}function g(){return[0,0,1]}const k=m(),n=f(),l=e(),p=h(),t=g();var u=Object.freeze({__proto__:null,create:m,clone:v,fromValues:r,fromArray:d,createView:c,zeros:b,ones:f,unitX:e,unitY:h,unitZ:g,ZEROS:k,ONES:n,UNIT_X:l,UNIT_Y:p,UNIT_Z:t});a.ONES=n;a.UNIT_X=l;a.UNIT_Y=p;a.UNIT_Z=t;a.ZEROS=k;a.clone=v;a.create=m;a.createView=c;a.fromArray=d;a.fromValues=r;a.ones=f;a.unitX=e;a.unitY=h;a.unitZ=g;a.vec3f64=u;a.zeros=b})},"esri/chunks/common":function(){define(["exports"],
function(a){function m(e){return e*c}function v(e){return e*b}function r(e,h){return Math.abs(e-h)<=1E-6*Math.max(1,Math.abs(e),Math.abs(h))}const d=Math.random,c=Math.PI/180,b=180/Math.PI;var f=Object.freeze({__proto__:null,EPSILON:1E-6,RANDOM:d,toRadian:m,toDegree:v,equals:r});a.EPSILON=1E-6;a.RANDOM=d;a.common=f;a.equals=r;a.toDegree=v;a.toRadian=m})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger"],function(a,m,v){function r(F){return null==F?F:new Date(F)}
function d(F){return null==F?F:!!F}function c(F){return null==F?F:F.toString()}function b(F){if(null==F)return F;F=parseFloat(F);return isNaN(F)?0:F}function f(F){return null==F?F:Math.round(parseFloat(F))}function e(F){return F&&F.constructor&&void 0!==F.constructor.__accessorMetadata__}function h(F,H){return null!=H&&F&&!(H instanceof F)}function g(F){return F&&F.Type?"function"===typeof F.Type?F.Type:F.Type.base:null}function k(F,H){var J;(J=!H||!H.constructor)||(J=H.constructor,J=!(J&&"isCollection"in
J));if(J)return n(F,H)?H:new F(H);J=g(F.prototype.itemType);const Q=g(H.constructor.prototype.itemType);if(!J)return H;if(!Q)return new F(H);if(J===Q)return H;if(J.prototype.isPrototypeOf(Q.prototype))return new F(H);n(F,H);return H}function n(F,H){return e(H)?(B.error("Accessor#set","Assigning an instance of '"+(H.declaredClass||"unknown")+"' which is not a subclass of '"+p(F)+"'"),!0):!1}function l(F,H){return null==H?H:F&&"isCollection"in F?k(F,H):h(F,H)?n(F,H)?H:new F(H):H}function p(F){return F&&
F.prototype&&F.prototype.declaredClass||"unknown"}function t(F){switch(F){case Number:return b;case G:return f;case Boolean:return d;case String:return c;case Date:return r;default:return l.bind(null,F)}}function u(F,H){const J=t(F);return 1===arguments.length?J:J(H)}function A(F,H,J){return 1===arguments.length?A.bind(null,F):H?Array.isArray(H)?H.map(Q=>F(Q,J)):[F(H,J)]:H}function z(F,H,J){return 0!==H&&Array.isArray(J)?J.map(Q=>z(F,H-1,Q)):F(J)}function w(F,H,J){if(2===arguments.length)return w.bind(null,
F,H);if(!J)return J;J=z(F,H,J);let Q=H;for(var T=J;0<Q&&Array.isArray(T);)Q--,T=T[0];if(void 0!==T)for(T=0;T<Q;T++)J=[J];return J}function C(F,H){if(2===arguments.length)return C(F).call(null,H);const J=new Set,Q=F.filter(Y=>"function"!==typeof Y),T=F.filter(Y=>"function"===typeof Y);for(const Y of F)"string"!==typeof Y&&"number"!==typeof Y||J.add(Y);let R=null,V=null;return(Y,da)=>{if(null==Y)return Y;const na=typeof Y,ta="string"===na||"number"===na;if(ta&&(J.has(Y)||T.some(ka=>"string"===na&&ka===
String||"number"===na&&ka===Number))||"object"===na&&T.some(ka=>!h(Y,ka)))return Y;ta&&Q.length?(R||(R=Q.map(ka=>"string"===typeof ka?`'${ka}'`:`${ka}`).join(", ")),B.error("Accessor#set",`'${Y}' is not a valid value for this property, only the following values are valid: ${R}`)):"object"===typeof Y&&T.length?(V||(V=T.map(ka=>p(ka)).join(", ")),B.error("Accessor#set",`'${Y}' is not a valid value for this property, value must be one of ${V}`)):B.error("Accessor#set",`'${Y}' is not a valid value for this property`);
da&&(da.valid=!1);return null}}function y(F,H){if(2===arguments.length)return y(F).call(null,H);const J={},Q=[],T=[];for(const V in F.typeMap){const Y=F.typeMap[V];J[V]=u(Y);Q.push(p(Y));T.push(V)}const R="string"===typeof F.key?V=>V[F.key]:F.key;return V=>{if(F.base&&!h(F.base,V)||null==V)return V;var Y=R(V)||F.defaultKeyValue;const da=J[Y];if(!da)return B.error("Accessor#set",`Invalid property value, value needs to be one of ${`'${Q.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${T.join("', '")}'`})`),
null;if(!h(F.typeMap[Y],V))return V;if("string"===typeof F.key&&!e(V)){Y={};for(const na in V)na!==F.key&&(Y[na]=V[na]);return da(Y)}return da(V)}}function x(F){switch(F.type){case "native":return u(F.value);case "array":return A(x(F.value));case "one-of":return E(F);default:return null}}function E(F){let H=null;return(J,Q)=>{if(q(J,F))return J;null==H&&(H=D(F));B.error("Accessor#set",`Invalid property value, value needs to be of type ${H}`);Q&&(Q.valid=!1);return null}}function D(F){switch(F.type){case "native":switch(F.value){case Number:return"number";
case String:return"string";case Boolean:return"boolean";case G:return"integer";case Date:return"date";default:return p(F.value)}case "array":return`array of ${D(F.value)}`;case "one-of":return F=F.values.map(H=>D(H)),`one of ${F.slice(0,F.length-1)} or ${F[F.length-1]}`}return"unknown"}function q(F,H){if(null==F)return!0;switch(H.type){case "native":switch(H.value){case Number:case G:return"number"===typeof F;case Boolean:return"boolean"===typeof F;case String:return"string"===typeof F}return F instanceof
H.value;case "array":return Array.isArray(F)?!F.some(J=>!q(J,H.value)):!1;case "one-of":return H.values.some(J=>q(F,J))}}const B=v.getLogger("esri.core.Accessor");let G=function(){};a.Integer=G;a.default=u;a.ensureArray=function(F,H){return 1===arguments.length?A(u.bind(null,F)):A(u.bind(null,F),H)};a.ensureArrayTyped=A;a.ensureBoolean=d;a.ensureClass=l;a.ensureDate=r;a.ensureInteger=f;a.ensureLongFormType=x;a.ensureNArray=function(F,H,J){return 2===arguments.length?w(u.bind(null,F),H):w(u.bind(null,
F),H,J)};a.ensureNArrayTyped=w;a.ensureNumber=b;a.ensureOneOf=C;a.ensureOneOfType=y;a.ensureString=c;a.ensureType=u;a.isClassedType=e;a.isLongFormType=function(F){if(!(F&&"type"in F))return!1;switch(F.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(F){return Array.isArray(F)?!F.some(H=>{H=typeof H;return!("string"===H||"number"===H||"function"===H&&1<F.length)}):!1};a.requiresType=h;a.types={native(F){return{type:"native",value:F}},array(F){return{type:"array",
value:F}},oneOf(F){return{type:"one-of",values:F}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/colorUtils":function(){define(["exports"],function(a){function m(h,g){const k=[];let n,l;if(h[0].length!==g.length)throw"dimensions do not match";const p=h.length,t=h[0].length;let u=0;for(n=0;n<p;n++){for(l=u=0;l<t;l++)u+=h[n][l]*g[l];k.push(u)}return k}function v(h){h=[h.r/255,h.g/255,h.b/255].map(g=>.04045>=g?g/12.92:((g+.055)/1.055)**2.4);h=m(f,h);return{x:100*h[0],y:100*h[1],z:100*
h[2]}}function r(h){h=m(e,[h.x/100,h.y/100,h.z/100]).map(g=>Math.min(1,Math.max(.0031308>=g?12.92*g:1.055*g**(1/2.4)-.055,0)));return{r:Math.round(255*h[0]),g:Math.round(255*h[1]),b:Math.round(255*h[2])}}function d(h){h=[h.x/95.047,h.y/100,h.z/108.883].map(g=>g>(6/29)**3?g**(1/3):1/3*(29/6)**2*g+4/29);return{l:116*h[1]-16,a:500*(h[0]-h[1]),b:200*(h[1]-h[2])}}function c(h){const g=h.l;h=[(g+16)/116+h.a/500,(g+16)/116,(g+16)/116-h.b/200].map(k=>k>6/29?k**3:3*(6/29)**2*(k-4/29));return{x:95.047*h[0],
y:100*h[1],z:108.883*h[2]}}function b(h){if("r"in h&&"g"in h&&"b"in h)return h;if("l"in h&&"c"in h&&"h"in h){var g=h.c;var k=h.h;g={l:h.l,a:g*Math.cos(k),b:g*Math.sin(k)};return r(c(g))}if("l"in h&&"a"in h&&"b"in h)return r(c(h));if("x"in h&&"y"in h&&"z"in h)return r(h);if("h"in h&&"s"in h&&"v"in h){{k=(h.h+360)%360/60;g=h.v/100*255;h=h.s/100*g;const n=h*(1-Math.abs(k%2-1));switch(Math.floor(k)){case 0:k={r:h,g:n,b:0};break;case 1:k={r:n,g:h,b:0};break;case 2:k={r:0,g:h,b:n};break;case 3:k={r:0,g:n,
b:h};break;case 4:k={r:n,g:0,b:h};break;case 5:case 6:k={r:h,g:0,b:n};break;default:k={r:0,g:0,b:0}}k.r=Math.round(k.r+g-h);k.g=Math.round(k.g+g-h);k.b=Math.round(k.b+g-h);g=k}return g}return h}const f=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],e=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];a.darken=function(h,g){h=d(v(h));h.l*=1-g;return r(c(h))};a.toHSV=function(h){if("h"in h&&"s"in h&&"v"in h)return h;var g=b(h);{h=g.r;const k=g.g,n=g.b;g=Math.max(h,k,
n);const l=g-Math.min(h,k,n);h=0===l?0:g===h?(k-n)/l%6:g===k?(n-h)/l+2:(h-k)/l+4;0>h&&(h+=6);h={h:60*h,s:100*(0===l?0:l/g),v:100/255*g}}return h};a.toLAB=function(h){return"l"in h&&"a"in h&&"b"in h?h:d(v(b(h)))};a.toLCH=function(h){if(!("l"in h&&"c"in h&&"h"in h)){{var g=d(v(b(h)));h=g.l;var k=g.a;const n=g.b;g=Math.sqrt(k*k+n*n);k=Math.atan2(n,k);k=0<k?k:k+2*Math.PI;h={l:h,c:g,h:k}}}return h};a.toRGB=b;a.toXYZ=function(h){return"x"in h&&"y"in h&&"z"in h?h:v(b(h))};Object.defineProperty(a,"__esModule",
{value:!0})})},"esri/views/2d/unitBezier":function(){define(["exports"],function(a){function m(d,c,b,f){function e(t,u){var A;let z,w;z=t;for(A=0;8>A;A++){w=((k*z+g)*z+h)*z-t;if(Math.abs(w)<u)return z;var C=(3*k*z+2*g)*z+h;if(1E-6>Math.abs(C))break;z-=w/C}C=0;A=1;z=t;if(z<C)return C;if(z>A)return A;for(;C<A;){w=((k*z+g)*z+h)*z;if(Math.abs(w-t)<u)break;t>w?C=z:A=z;z=.5*(A-C)+C}return z}const h=3*d,g=3*(b-d)-h,k=1-h-g,n=3*c,l=3*(f-c)-n,p=1-n-l;return function(t,u=1E-6){t=e(t,u);return((p*t+l)*t+n)*
t}}const v=/^cubic-bezier\((.*)\)/,r={};r.ease=m(.25,.1,.25,1);r.linear=m(0,0,1,1);r.easeIn=r["ease-in"]=m(.42,0,1,1);r.easeOut=r["ease-out"]=m(0,0,.58,1);r.easeInOut=r["ease-in-out"]=m(.42,0,.58,1);a.easingFunctions=r;a.parse=function(d){let c=r[d]||null;!c&&(d=v.exec(d))&&(d=d[1].split(",").map(b=>parseFloat(b.trim())),4!==d.length||d.some(b=>isNaN(b))||(c=m.apply(m,d)));return c};a.unitBezier=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports",
"../../../../../Color"],function(a,m){function v(p,t){return{kind:"array",itemType:p,n:t}}function r(p){if("array"===p.kind){const t=r(p.itemType);return"number"===typeof p.n?`array<${t}, ${p.n}>`:"value"===p.itemType.kind?"array":`array<${t}>`}return p.kind}function d(p){if(null===p)return b;if("string"===typeof p)return e;if("boolean"===typeof p)return h;if("number"===typeof p)return f;if(p instanceof m)return g;if(Array.isArray(p)){let t;for(const u of p){const A=d(u);if(!t)t=A;else if(t!==A){t=
n;break}}return v(t||n,p.length)}return"object"===typeof p?k:n}function c(p,t){if("array"===t.kind)return"array"===p.kind&&(0===p.n&&"value"===p.itemType.kind||c(p.itemType,t.itemType))&&("number"!==typeof t.n||t.n===p.n);if("value"===t.kind)for(const u of l)if(c(p,u))return!0;return t.kind===p.kind}const b={kind:"null"},f={kind:"number"},e={kind:"string"},h={kind:"boolean"},g={kind:"color"},k={kind:"object"},n={kind:"value"},l=[b,f,e,h,g,k,v(n)];a.BooleanType=h;a.ColorType=g;a.NullType=b;a.NumberType=
f;a.ObjectType=k;a.StringType=e;a.ValueType=n;a.arrayType=v;a.getType=d;a.matchType=c;a.typeToString=r;a.valueToString=function(p){if(null===p)return"";const t=typeof p;return"string"===t?p:"number"===t||"boolean"===t?String(p):p instanceof m?p.toString():JSON.stringify(p)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports"],function(a){let m=function(){};m.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible",
"none"],default:0}};m.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0}};m.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0},"line-cap":{type:"enum",values:["butt","round","square"],default:0},"line-join":{type:"enum",values:["bevel","round","miter"],default:2},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};m.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0},
"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:0},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:0},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",
default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:2},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),
default:0},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:2},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,
default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:2},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:0},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],
default:[0]}};m.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0}};m.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};m.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,
0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:0}};m.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,
default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:0},"line-width":{type:"number",minimum:0,default:1}};m.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,
maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:0},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",
values:["map","viewport"],default:0}};m.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};
m.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",
values:["map","viewport"],default:0}};a.StyleDefinition=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color","../GeometryUtils","../expression/expression","../expression/types"],function(a,m,v,r){return function(){function d(b,f){this.isDataDriven=!1;this.interpolator=null;switch(b.type){case "number":var e=!0;break;case "color":e=!0;break;case "array":e="number"===b.value;break;default:e=!1}null==f&&
(f=b.default);if(Array.isArray(f)&&0<f.length&&v.ops[f[0]]){e={number:r.NumberType,color:r.ColorType,string:r.StringType,boolean:r.BooleanType,enum:r.StringType};try{var h="array"===b.type?r.arrayType(e[b.value]||r.ValueType,b.length):e[b.type];const g=v.createExpression(f,null,h);this.getValue=this._buildExpression(g,b);this.isDataDriven=!0;g instanceof v.Interpolate&&g.input instanceof v.Zoom&&(this.interpolator=g)}catch(g){console.log(g.message),this.getValue=this._buildSimple(b.default)}}else{e&&
"interval"===f.type&&(e=!1);if(h=f&&f.stops&&0<f.stops.length)for(const g of f.stops)g[1]=this._validate(g[1],b);if(this.isDataDriven=f?!!f.property:!1)if(void 0!==f.default&&(f.default=this._validate(f.default,b)),h)switch(f.type){case "identity":this.getValue=this._buildIdentity(f,b);break;case "categorical":this.getValue=this._buildCategorical(f,b);break;default:this.getValue=e?this._buildInterpolate(f,b):this._buildInterval(f,b)}else this.getValue=this._buildIdentity(f,b);else h?this.getValue=
e?this._buildZoomInterpolate(f):this._buildZoomInterval(f):(f=this._validate(f,b),this.getValue=this._buildSimple(f))}}var c=d.prototype;c._validate=function(b,f){if("number"===f.type){if(b<f.minimum)return f.minimum;if(b>f.maximum)return f.maximum}else"color"===f.type?b=d._parseColor(b):"enum"===f.type?"string"===typeof b&&(b=f.values.indexOf(b)):"array"===f.type&&"enum"===f.value?b=b.map(e=>"string"===typeof b?f.values.indexOf(e):e):"string"===f.type&&(b=r.valueToString(b));return b};c._buildSimple=
function(b){return()=>b};c._buildExpression=function(b,f){return(e,h)=>{try{const g=b.evaluate(h,e);return void 0===g?f.default:this._validate(g,f)}catch(g){return console.log(g.message),f.default}}};c._buildIdentity=function(b,f){return(e,h)=>{let g;h&&(g=h.values[b.property]);return void 0!==g?this._validate(g,f):void 0!==b.default?b.default:f.default}};c._buildCategorical=function(b,f){return(e,h)=>{let g;h&&(g=h.values[b.property]);g=this._categorical(g,b.stops);return void 0!==g?g:void 0!==b.default?
b.default:f.default}};c._buildInterval=function(b,f){return(e,h)=>{let g;h&&(g=h.values[b.property]);return"number"===typeof g?this._interval(g,b.stops):void 0!==b.default?b.default:f.default}};c._buildInterpolate=function(b,f){return(e,h)=>{let g;h&&(g=h.values[b.property]);return"number"===typeof g?this._interpolate(g,b.stops,b.base||1):void 0!==b.default?b.default:f.default}};c._buildZoomInterpolate=function(b){return f=>this._interpolate(f,b.stops,b.base||1)};c._buildZoomInterval=function(b){return f=>
this._interval(f,b.stops)};c._categorical=function(b,f){const e=f.length;for(let h=0;h<e;h++)if(f[h][0]===b)return f[h][1]};c._interval=function(b,f){const e=f.length;let h=0;for(let g=0;g<e;g++)if(f[g][0]<=b)h=g;else break;return f[h][1]};c._interpolate=function(b,f,e){const h=f.length;for(let n=0;n<h;n++){const l=f[n];if(l[0]<=b)var g=l;else{var k=l;break}}if(g&&k){f=k[0]-g[0];b-=g[0];e=1===e?b/f:(e**b-1)/(e**f-1);if(Array.isArray(g[1])){g=g[1];k=k[1];b=[];for(f=0;f<g.length;f++)b.push(m.interpolate(g[f],
k[f],e));return b}return m.interpolate(g[1],k[1],e)}if(g)return g[1];if(k)return k[1]};d._isEmpty=function(b){for(const f in b)if(b.hasOwnProperty(f))return!1;return!0};d._parseColor=function(b){if(Array.isArray(b))return b;"string"===typeof b&&(b=new a(b));if(b instanceof a){if(!this._isEmpty(b))return a.toUnitRGBA(b)}else return b};return d}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./definitions","./Geometry","./GeometryUtils"],
function(a,m,v,r,d){let c=function(h,g,k){this.ratio=h;this.x=g;this.y=k},b=function(){function h(k,n,l,p=8,t=8){this.lines=[];this.starts=[];this.validateTessellation=!0;this.pixelRatio=p;this.pixelMargin=t;this.tileSize=v.TILE_SIZE*p;this.dz=k;this.yPos=n;this.xPos=l}var g=h.prototype;g.setPixelMargin=function(k){k!==this.pixelMargin&&(this.pixelMargin=k,this.setExtent(this._extent))};g.setExtent=function(k){this._extent=k;this.finalRatio=this.tileSize/k*(1<<this.dz);let n=this.pixelRatio*this.pixelMargin;
n/=this.finalRatio;k>>=this.dz;n>k&&(n=k);this.margin=n;this.xmin=k*this.xPos-n;this.ymin=k*this.yPos-n;this.xmax=this.xmin+k+2*n;this.ymax=this.ymin+k+2*n};g.reset=function(k){this.type=k;this.lines=[];this.starts=[];this.line=null;this.start=0};g.moveTo=function(k,n){this._pushLine();this._prevIsIn=this._isIn(k,n);this._moveTo(k,n,this._prevIsIn);this._prevPt=new r.Point(k,n);this._firstPt=new r.Point(k,n);this._dist=0};g.lineTo=function(k,n){const l=this._isIn(k,n),p=new r.Point(k,n),t=r.Point.distance(this._prevPt,
p);if(l)if(this._prevIsIn)this._lineTo(k,n,!0);else{var u=this._prevPt;var A=p;k=this._intersect(A,u);this.start=this._dist+t*(1-this._r);this._lineTo(k.x,k.y,!0);this._lineTo(A.x,A.y,!0)}else if(this._prevIsIn)A=this._prevPt,u=p,k=this._intersect(A,u),this._lineTo(k.x,k.y,!0),this._lineTo(u.x,u.y,!1);else{const w=this._prevPt;if(!(w.x<=this.xmin&&p.x<=this.xmin||w.x>=this.xmax&&p.x>=this.xmax||w.y<=this.ymin&&p.y<=this.ymin||w.y>=this.ymax&&p.y>=this.ymax)){k=[];if(w.x<this.xmin&&p.x>this.xmin||
w.x>this.xmin&&p.x<this.xmin){n=(this.xmin-w.x)/(p.x-w.x);var z=w.y+n*(p.y-w.y);z<=this.ymin?A=!1:z>=this.ymax?A=!0:k.push(new c(n,this.xmin,z))}if(w.x<this.xmax&&p.x>this.xmax||w.x>this.xmax&&p.x<this.xmax)n=(this.xmax-w.x)/(p.x-w.x),z=w.y+n*(p.y-w.y),z<=this.ymin?A=!1:z>=this.ymax?A=!0:k.push(new c(n,this.xmax,z));if(w.y<this.ymin&&p.y>this.ymin||w.y>this.ymin&&p.y<this.ymin)n=(this.ymin-w.y)/(p.y-w.y),z=w.x+n*(p.x-w.x),z<=this.xmin?u=!1:z>=this.xmax?u=!0:k.push(new c(n,z,this.ymin));if(w.y<this.ymax&&
p.y>this.ymax||w.y>this.ymax&&p.y<this.ymax)n=(this.ymax-w.y)/(p.y-w.y),z=w.x+n*(p.x-w.x),z<=this.xmin?u=!1:z>=this.xmax?u=!0:k.push(new c(n,z,this.ymax));if(0===k.length)u?A?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):A?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<k.length&&k[0].ratio>k[1].ratio)this.start=this._dist+t*k[1].ratio,this._lineTo(k[1].x,k[1].y,!0),this._lineTo(k[0].x,k[0].y,!0);else for(this.start=this._dist+t*k[0].ratio,
u=0;u<k.length;u++)this._lineTo(k[u].x,k[u].y,!0)}this._lineTo(p.x,p.y,!1)}this._dist+=t;this._prevIsIn=l;this._prevPt=p};g.close=function(){if(2<this.line.length){var k=this._firstPt,n=this._prevPt;k.x===n.x&&k.y===n.y||this.lineTo(k.x,k.y);k=this.line;for(n=k.length;4<=n;)if(k[0].x===k[1].x&&k[0].x===k[n-2].x||k[0].y===k[1].y&&k[0].y===k[n-2].y)k.pop(),k[0].x=k[n-2].x,k[0].y=k[n-2].y,--n;else break}};g.result=function(k=!0){this._pushLine();if(0===this.lines.length)return null;3===this.type&&k&&
e.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};g.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();const k=this.lines,n=k.length;if(0===n)return null;const l=[];for(let p=0;p<n;p++)l.push({line:k[p],start:this.starts[p]||0});return l};g._isIn=function(k,n){return k>=this.xmin&&k<=this.xmax&&n>=this.ymin&&n<=this.ymax};g._intersect=function(k,n){let l,p,t;if(n.x>=this.xmin&&n.x<=this.xmax)p=n.y<=this.ymin?this.ymin:
this.ymax,t=(p-k.y)/(n.y-k.y),l=k.x+t*(n.x-k.x);else if(n.y>=this.ymin&&n.y<=this.ymax)l=n.x<=this.xmin?this.xmin:this.xmax,t=(l-k.x)/(n.x-k.x),p=k.y+t*(n.y-k.y);else{p=n.y<=this.ymin?this.ymin:this.ymax;l=n.x<=this.xmin?this.xmin:this.xmax;const u=(l-k.x)/(n.x-k.x),A=(p-k.y)/(n.y-k.y);u<A?(t=u,p=k.y+u*(n.y-k.y)):(t=A,l=k.x+A*(n.x-k.x))}this._r=t;return new r.Point(l,p)};g._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):
2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};g._moveTo=function(k,n,l){3!==this.type?l&&(k=Math.round((k-(this.xmin+this.margin))*this.finalRatio),n=Math.round((n-(this.ymin+this.margin))*this.finalRatio),this.line.push(new r.Point(k,n))):(l||(k<this.xmin&&(k=this.xmin),k>this.xmax&&(k=this.xmax),n<this.ymin&&(n=this.ymin),n>this.ymax&&
(n=this.ymax)),k=Math.round((k-(this.xmin+this.margin))*this.finalRatio),n=Math.round((n-(this.ymin+this.margin))*this.finalRatio),this.line.push(new r.Point(k,n)),this._is_v=this._is_h=!1)};g._lineTo=function(k,n,l){if(3!==this.type)if(l){k=Math.round((k-(this.xmin+this.margin))*this.finalRatio);n=Math.round((n-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(l=this.line[this.line.length-1],l.equals(k,n)))return;this.line.push(new r.Point(k,n))}else this.line&&0<this.line.length&&
this._pushLine();else if(l||(k<this.xmin&&(k=this.xmin),k>this.xmax&&(k=this.xmax),n<this.ymin&&(n=this.ymin),n>this.ymax&&(n=this.ymax)),k=Math.round((k-(this.xmin+this.margin))*this.finalRatio),n=Math.round((n-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){l=this.line[this.line.length-1];const p=l.x===k,t=l.y===n;p&&t||(this._is_h&&p?(l.x=k,l.y=n,l=this.line[this.line.length-2],l.x===k&&l.y===n?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(l=this.line[this.line.length-
2],this._is_h=l.x===k,this._is_v=l.y===n)):(this._is_h=l.x===k,this._is_v=l.y===n)):this._is_v&&t?(l.x=k,l.y=n,l=this.line[this.line.length-2],l.x===k&&l.y===n?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(l=this.line[this.line.length-2],this._is_h=l.x===k,this._is_v=l.y===n)):(this._is_h=l.x===k,this._is_v=l.y===n)):(this.line.push(new r.Point(k,n)),this._is_h=p,this._is_v=t))}else this.line.push(new r.Point(k,n))};return h}(),f=function(){function h(){}var g=h.prototype;g.setExtent=
function(k){this._ratio=4096===k?1:4096/k};g.reset=function(k){this.lines=[];this.line=null};g.moveTo=function(k,n){this.line&&this.lines.push(this.line);this.line=[];const l=this._ratio;this.line.push(new r.Point(k*l,n*l))};g.lineTo=function(k,n){const l=this._ratio;this.line.push(new r.Point(k*l,n*l))};g.close=function(){const k=this.line;k&&!k[0].isEqual(k[k.length-1])&&k.push(k[0])};g.result=function(){this.line&&this.lines.push(this.line);return 0===this.lines.length?null:this.lines};m._createClass(h,
[{key:"validateTessellation",get:function(){return 1>this._ratio}}]);return h}(),e=function(){function h(){}h.simplify=function(g,k,n){if(n){var l=-k,p=g+k,t=-k,u=g+k;g=[];k=[];var A=n.length;for(let z=0;z<A;++z){const w=n[z];if(!w||2>w.length)continue;let C=w[0],y;const x=w.length;for(let E=1;E<x;++E)y=w[E],C.x===y.x&&(C.x<=l&&(C.y>y.y?(g.push(z),g.push(E),g.push(0),g.push(-1)):(k.push(z),k.push(E),k.push(0),k.push(-1))),C.x>=p&&(C.y<y.y?(g.push(z),g.push(E),g.push(1),g.push(-1)):(k.push(z),k.push(E),
k.push(1),k.push(-1)))),C.y===y.y&&(C.y<=t&&(C.x<y.x?(g.push(z),g.push(E),g.push(2),g.push(-1)):(k.push(z),k.push(E),k.push(2),k.push(-1))),C.y>=u&&(C.x>y.x?(g.push(z),g.push(E),g.push(3),g.push(-1)):(k.push(z),k.push(E),k.push(3),k.push(-1)))),C=y}0!==g.length&&0!==k.length&&(h.fillParent(n,k,g),h.fillParent(n,g,k),l=[],h.calcDeltas(l,k,g),h.calcDeltas(l,g,k),h.addDeltas(l,n))}};h.fillParent=function(g,k,n){const l=n.length,p=k.length;for(let w=0;w<p;w+=4){var t=k[w],u=k[w+1];const C=k[w+2],y=g[t][u-
1];t=g[t][u];u=8092;let x=-1;for(let E=0;E<l;E+=4){if(n[E+2]!==C)continue;var A=n[E];const D=n[E+1];var z=g[A][D-1];A=g[A][D];switch(C){case 0:case 1:d.between(y.y,z.y,A.y)&&d.between(t.y,z.y,A.y)&&(z=Math.abs(A.y-z.y),z<u&&(u=z,x=E));break;case 2:case 3:d.between(y.x,z.x,A.x)&&d.between(t.x,z.x,A.x)&&(z=Math.abs(A.x-z.x),z<u&&(u=z,x=E))}}k[w+3]=x}};h.calcDeltas=function(g,k,n){const l=k.length;for(let p=0;p<l;p+=4){const t=h.calcDelta(p,k,n,[]);g.push(k[p]);g.push(k[p+1]);g.push(k[p+2]);g.push(t)}};
h.calcDelta=function(g,k,n,l){g=k[g+3];if(-1===g)return 0;const p=l.length;if(1<p&&l[p-2]===g)return 0;l.push(g);return h.calcDelta(g,n,k,l)+1};h.addDeltas=function(g,k){const n=g.length;let l=0;for(var p=0;p<n;p+=4){var t=g[p+3];t>l&&(l=t)}for(p=0;p<n;p+=4){t=k[g[p]];const u=g[p+1],A=l-g[p+3];switch(g[p+2]){case 0:t[u-1].x-=A;t[u].x-=A;1===u&&(t[t.length-1].x-=A);u===t.length-1&&(t[0].x-=A);break;case 1:t[u-1].x+=A;t[u].x+=A;1===u&&(t[t.length-1].x+=A);u===t.length-1&&(t[0].x+=A);break;case 2:t[u-
1].y-=A;t[u].y-=A;1===u&&(t[t.length-1].y-=A);u===t.length-1&&(t[0].y-=A);break;case 3:t[u-1].y+=A,t[u].y+=A,1===u&&(t[t.length-1].y+=A),u===t.length-1&&(t[0].y+=A)}}};return h}();a.SimpleBuilder=f;a.TileClipper=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["exports"],function(a){function m(f,e){f%=e;return 0<=f?f:f+e}const v=Number.POSITIVE_INFINITY,r=Math.PI,d=128/r,c=256/360,b=1/Math.LN2;a.C_256_TO_RAD=r/128;a.C_2PI=2*r;a.C_DEG_TO_256=
c;a.C_DEG_TO_RAD=r/180;a.C_INFINITY=v;a.C_PI=r;a.C_PI_BY_2=r/2;a.C_RAD_TO_256=d;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/1.414213562;a.between=function(f,e,h){return f>=e&&f<=h||f>=h&&f<=e};a.degToByte=function(f){return m(f*c,256)};a.interpolate=function(f,e,h){return f*(1-h)+e*h};a.log2=function(f){return Math.log(f)*b};a.positiveMod=m;a.radToByte=function(f){return m(f*d,256)};a.sqr=function(f){return f*f};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/tiling/enums":function(){define(["exports"],
function(a){a.TileStatus=void 0;var m=a.TileStatus||(a.TileStatus={});m[m.INITIALIZED=0]="INITIALIZED";m[m.NO_DATA=1]="NO_DATA";m[m.READY=2]="READY";m[m.MODIFIED=3]="MODIFIED";m[m.INVALID=4]="INVALID";Object.defineProperty(a,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["./StyleLayer"],function(a){return function(){function m(r,d){this._style=r;this.backgroundBucketIds=[];this._uidToLayer=new Map;this._layerByName={};this._runningId=0;r.layers||
(r.layers=[]);this.version=parseFloat(r.version);this.sprite=d?d.spriteUrl:r.sprite;this.glyphs=d?d.glyphsUrl:r.glyphs;if(this.layers=r.layers.map((c,b,f)=>this._create(c,b,f)))for(d=0;d<this.layers.length;d++)r=this.layers[d],this._layerByName[r.id.toLowerCase()]=r,this._uidToLayer.set(r.uid,r),0===r.type&&this.backgroundBucketIds.push(r.id);this._identifyRefLayers()}var v=m.prototype;v.isPainterDataDriven=function(r){return(r=this._layerByName[r.toLowerCase()])?r.isPainterDataDriven():!1};v.getStyleLayerId=
function(r){return r>=this.layers.length?null:this.layers[r].id};v.getStyleLayerByUID=function(r){r=this._uidToLayer.get(r);return null!=r?r:null};v.getStyleLayerIndex=function(r){return(r=this._layerByName[r.toLowerCase()])?this.layers.indexOf(r):-1};v.setStyleLayer=function(r,d){if(r&&r.id){var c=this._style;null!=d&&d>=this.layers.length&&(d=this.layers.length-1);var b=!0,f;if(f=this._layerByName[r.id.toLowerCase()]){const e=this.layers.indexOf(f);d||(d=e);d===e?(b=!1,f=m._recreateLayer(r,f),this.layers[d]=
f,c.layers[d]=r):(this.layers.splice(e,1),c.layers.splice(e,1),f=this._create(r,d,this.layers),this.layers.splice(d,0,f),c.layers.splice(d,0,r))}else f=this._create(r,d,this.layers),!d||d>=this.layers.length?(this.layers.push(f),c.layers.push(r)):(this.layers.splice(d,0,f),c.layers.splice(d,0,r));this._layerByName[r.id.toLowerCase()]=f;this._uidToLayer.set(f.uid,f);b&&this._recomputeZValues();this._identifyRefLayers()}};v.getStyleLayer=function(r){return(r=this._layerByName[r.toLowerCase()])?{type:r.typeName,
id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:r.layout,paint:r.paint}:null};v.deleteStyleLayer=function(r){const d=this._layerByName[r.toLowerCase()];d&&(delete this._layerByName[r.toLowerCase()],this._uidToLayer.delete(d.uid),r=this.layers.indexOf(d),this.layers.splice(r,1),this._style.layers.splice(r,1),this._recomputeZValues(),this._identifyRefLayers())};v.getLayerById=function(r){return this._layerByName[r.toLowerCase()]};v.getLayoutProperties=
function(r){return(r=this._layerByName[r.toLowerCase()])?r.layout:null};v.getPaintProperties=function(r){return(r=this._layerByName[r.toLowerCase()])?r.paint:null};v.setPaintProperties=function(r,d){if(r=this._layerByName[r.toLowerCase()]){var c=m._recreateLayer({type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:r.layout,paint:d},r),b=this.layers.indexOf(r);this.layers[b]=c;this._style.layers[b].paint=d;this._layerByName[r.id.toLowerCase()]=
c;this._uidToLayer.set(r.uid,c)}};v.setLayoutProperties=function(r,d){if(r=this._layerByName[r.toLowerCase()]){var c=m._recreateLayer({type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:d,paint:r.paint},r),b=this.layers.indexOf(r);this.layers[b]=c;this._style.layers[b].layout=d;this._layerByName[r.id.toLowerCase()]=c;this._uidToLayer.set(r.uid,c)}};v.setStyleLayerVisibility=function(r,d){if(r=this._layerByName[r.toLowerCase()]){var c=
r.layout||{};c.visibility=d;d=m._recreateLayer({type:r.typeName,id:r.id,source:r.source,"source-layer":r.sourceLayer,minzoom:r.minzoom,maxzoom:r.maxzoom,filter:r.filter,layout:c,paint:r.paint},r);var b=this.layers.indexOf(r);this.layers[b]=d;this._style.layers[b].layout=c;this._layerByName[r.id.toLowerCase()]=d;this._uidToLayer.set(r.uid,d)}};v.getStyleLayerVisibility=function(r){var d;r=this._layerByName[r.toLowerCase()];if(!r)return"none";r=r.layout;return null!=(d=null==r?void 0:r.visibility)?
d:"visible"};v._recomputeZValues=function(){const r=this.layers,d=1/(r.length+1);for(let c=0;c<r.length;c++)r[c].z=1-(1+c)*d};v._identifyRefLayers=function(){const r=[],d=[];let c=0;for(const g of this.layers){const k=g.layout;if(1===g.type){var b,f=g,e=g.source+"|"+g.sourceLayer;e+=null!=(b="|"+(null==k?void 0:k.visibility))?b:"";e+="|"+g.minzoom;e+="|"+g.maxzoom;e+="|"+JSON.stringify(g.filter);if(f.hasDataDrivenFill||f.hasDataDrivenOutline)e+="|"+c;r.push({key:e,layer:g})}else if(2===g.type){var h;
f=g;e=g.source+"|"+g.sourceLayer;e+=null!=(h="|"+(null==k?void 0:k.visibility))?h:"";e+="|"+g.minzoom;e+="|"+g.maxzoom;e+="|"+JSON.stringify(g.filter);e+="|"+(void 0!==k?k["line-cap"]:"");e+="|"+(void 0!==k?k["line-join"]:"");f.hasDataDrivenLine&&(e+="|"+c);d.push({key:e,layer:g})}++c}this._assignRefLayers(r);this._assignRefLayers(d)};v._assignRefLayers=function(r){r.sort((h,g)=>h.key<g.key?-1:h.key>g.key?1:0);let d,c;const b=r.length;for(let h=0;h<b;h++){const g=r[h];if(g.key===d)g.layer.refLayerId=
c;else if(d=g.key,c=g.layer.id,1===g.layer.type){if(!g.layer.getPaintProperty("fill-outline-color"))for(var f=h+1;f<b;f++){var e=r[f];if(e.key===d){if(e.layer.getPaintProperty("fill-outline-color")){r[h]=e;r[f]=g;c=e.layer.id;break}}else break}}else if(2===g.layer.type)for(f=g.layer,e=h+1;e<b;e++){const k=r[e];if(k.key!==d)break;const n=k.layer;if(f.canUseThinTessellation&&!n.canUseThinTessellation||!f.canUseThinTessellation&&(n.getPaintProperty("line-pattern")||n.getPaintProperty("line-dasharray")))f=
n,r[h]=k,r[e]=g,c=k.layer.id}}};v._create=function(r,d,c){d=1-1/(c.length+1)*(1+d);c=this._runningId++;switch(r.type){case "background":return new a.BackgroundStyleLayer(0,r,d,c);case "fill":return new a.FillStyleLayer(1,r,d,c);case "line":return new a.LineStyleLayer(2,r,d,c);case "symbol":return new a.SymbolStyleLayer(3,r,d,c);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new a.CircleStyleLayer(4,r,d,c)}throw Error("Unknown vector tile layer");};m._recreateLayer=
function(r,d){switch(r.type){case "background":return new a.BackgroundStyleLayer(0,r,d.z,d.uid);case "fill":return new a.FillStyleLayer(1,r,d.z,d.uid);case "line":return new a.LineStyleLayer(2,r,d.z,d.uid);case "symbol":return new a.SymbolStyleLayer(3,r,d.z,d.uid);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new a.CircleStyleLayer(4,r,d.z,d.uid)}};return m}()})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,m,v,r,d,c,b,f,e,h,g){const k={base:r,key:"type",typeMap:{extent:v,multipoint:d,point:c,polyline:f,polygon:b}};m=m.ensureOneOfType(k);a.Extent=v;a.BaseGeometry=r;a.Multipoint=d;a.Point=c;a.Polygon=b;a.Polyline=f;a.SpatialReference=e;a.featureGeometryTypeKebabDictionary=h.featureGeometryTypeKebabDictionary;a.isFeatureGeometryType=h.isFeatureGeometryType;a.typeKebabDictionary=h.typeKebabDictionary;a.fromJSON=g.fromJSON;a.ensureType=m;a.geometryTypes=k;a.isGeometry=function(n){return n instanceof
r};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Extent":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,m,v,r,d,c,b,f,e,h,g,k,n,l,p,t,u){function A(w,C,y){return null==C?y:null==y?C:w(C,y)}var z;c=z=function(w){function C(...x){x=w.call(this,...x)||this;x.type="extent";x.xmin=0;x.ymin=0;x.mmin=void 0;x.zmin=void 0;x.xmax=0;x.ymax=0;x.mmax=void 0;x.zmax=void 0;return x}a._inheritsLoose(C,w);var y=C.prototype;y.normalizeCtorArgs=function(x,E,D,q,B){return!x||"esri.geometry.SpatialReference"!==x.declaredClass&&null==x.wkid?"object"===typeof x?(x.spatialReference=null==x.spatialReference?n.WGS84:
x.spatialReference,x):{xmin:x,ymin:E,xmax:D,ymax:q,spatialReference:null==B?n.WGS84:B}:{spatialReference:x,xmin:0,ymin:0,xmax:0,ymax:0}};C.fromBounds=function(x,E){return new z({xmin:x[0],ymin:x[1],xmax:x[2],ymax:x[3],spatialReference:E})};y.centerAt=function(x){const E=this.center;return null!=x.z&&this.hasZ?this.offset(x.x-E.x,x.y-E.y,x.z-E.z):this.offset(x.x-E.x,x.y-E.y)};y.clone=function(){const x=new z;x.xmin=this.xmin;x.ymin=this.ymin;x.xmax=this.xmax;x.ymax=this.ymax;x.spatialReference=this.spatialReference;
null!=this.zmin&&(x.zmin=this.zmin,x.zmax=this.zmax);null!=this.mmin&&(x.mmin=this.mmin,x.mmax=this.mmax);return x};y.contains=function(x){if(!x)return!1;const E=this.spatialReference,D=x.spatialReference;E&&D&&!E.equals(D)&&u.canProject(E,D)&&(x=E.isWebMercator?u.geographicToWebMercator(x):u.webMercatorToGeographic(x,!0));return"point"===x.type?l.extentContainsPoint(this,x):"extent"===x.type?l.extentContainsExtent(this,x):!1};y.equals=function(x){if(!x)return!1;const E=this.spatialReference,D=x.spatialReference;
E&&D&&!E.equals(D)&&u.canProject(E,D)&&(x=E.isWebMercator?u.geographicToWebMercator(x):u.webMercatorToGeographic(x,!0));return this.xmin===x.xmin&&this.ymin===x.ymin&&this.zmin===x.zmin&&this.mmin===x.mmin&&this.xmax===x.xmax&&this.ymax===x.ymax&&this.zmax===x.zmax&&this.mmax===x.mmax};y.expand=function(x){x=.5*(1-x);var E=this.width*x;const D=this.height*x;this.xmin+=E;this.ymin+=D;this.xmax-=E;this.ymax-=D;this.hasZ&&(E=(this.zmax-this.zmin)*x,this.zmin+=E,this.zmax-=E);this.hasM&&(x*=this.mmax-
this.mmin,this.mmin+=x,this.mmax-=x);return this};y.intersects=function(x){if(v.isNone(x))return!1;"mesh"===x.type&&(x=x.extent);const E=this.spatialReference,D=x.spatialReference;E&&D&&!E.equals(D)&&u.canProject(E,D)&&(x=E.isWebMercator?u.geographicToWebMercator(x):u.webMercatorToGeographic(x,!0));return p.getFeatureExtentIntersector(x.type)(this,x)};y.normalize=function(){const x=this._normalize(!1,!0);return Array.isArray(x)?x:[x]};y.offset=function(x,E,D){this.xmin+=x;this.ymin+=E;this.xmax+=
x;this.ymax+=E;null!=D&&(this.zmin+=D,this.zmax+=D);return this};y.shiftCentralMeridian=function(){return this._normalize(!0)};y.union=function(x){this.xmin=Math.min(this.xmin,x.xmin);this.ymin=Math.min(this.ymin,x.ymin);this.xmax=Math.max(this.xmax,x.xmax);this.ymax=Math.max(this.ymax,x.ymax);if(this.hasZ||x.hasZ)this.zmin=A(Math.min,this.zmin,x.zmin),this.zmax=A(Math.max,this.zmax,x.zmax);if(this.hasM||x.hasM)this.mmin=A(Math.min,this.mmin,x.mmin),this.mmax=A(Math.max,this.mmax,x.mmax);return this};
y.intersection=function(x){if(!this.intersects(x))return null;this.xmin=Math.max(this.xmin,x.xmin);this.ymin=Math.max(this.ymin,x.ymin);this.xmax=Math.min(this.xmax,x.xmax);this.ymax=Math.min(this.ymax,x.ymax);if(this.hasZ||x.hasZ)this.zmin=A(Math.max,this.zmin,x.zmin),this.zmax=A(Math.min,this.zmax,x.zmax);if(this.hasM||x.hasM)this.mmin=A(Math.max,this.mmin,x.mmin),this.mmax=A(Math.min,this.mmax,x.mmax);return this};y.toJSON=function(x){return this.write(null,x)};y._shiftCM=function(x=t.getInfo(this.spatialReference)){if(!x||
!this.spatialReference)return this;const E=this.spatialReference,D=this._getCM(x);if(D){const q=E.isWebMercator?u.webMercatorToGeographic(D):D;this.xmin-=D.x;this.xmax-=D.x;E.isWebMercator||(q.x=this._normalizeX(q.x,x).x);this.spatialReference=new n(r.replace(E.isWGS84?x.altTemplate:x.wkTemplate,{Central_Meridian:q.x}))}return this};y._getCM=function(x){let E=null;const [D,q]=x.valid;x=this.xmin;const B=this.xmax;x>=D&&x<=q&&B>=D&&B<=q||(E=this.center);return E};y._normalize=function(x,E,D){const q=
this.spatialReference;if(!q)return this;D=D||t.getInfo(q);if(!D)return this;const B=this._getParts(D).map(H=>H.extent);if(2>B.length)return B[0]||this;if(2<B.length)return x?this._shiftCM(D):this.set({xmin:D.valid[0],xmax:D.valid[1]});if(x)return this._shiftCM(D);if(E)return B;let G=!0,F=!0;B.forEach(H=>{H.hasZ||(G=!1);H.hasM||(F=!1)});return{rings:B.map(H=>{const J=[[H.xmin,H.ymin],[H.xmin,H.ymax],[H.xmax,H.ymax],[H.xmax,H.ymin],[H.xmin,H.ymin]];if(G){var Q=(H.zmax-H.zmin)/2;for(let T=0;T<J.length;T++)J[T].push(Q)}if(F)for(H=
(H.mmax-H.mmin)/2,Q=0;Q<J.length;Q++)J[Q].push(H);return J}),hasZ:G,hasM:F,spatialReference:q}};y._getParts=function(x){let E=this.cache._parts;if(!E){E=[];const {ymin:Q,ymax:T,spatialReference:R}=this;var D=this.width,q=this.xmin,B=this.xmax;x=x||t.getInfo(R);const [V,Y]=x.valid;var G=this._normalizeX(this.xmin,x);var F=G.x,H=G.frameId;G=this._normalizeX(this.xmax,x);x=G.x;G=G.frameId;var J=F===x&&0<D;if(D>2*Y){D=new z(q<B?F:x,Q,Y,T,R);q=new z(V,Q,q<B?x:F,T,R);B=new z(0,Q,Y,T,R);F=new z(V,Q,0,T,
R);x=[];J=[];D.contains(B)&&x.push(H);D.contains(F)&&J.push(H);q.contains(B)&&x.push(G);q.contains(F)&&J.push(G);for(let da=H+1;da<G;da++)x.push(da),J.push(da);E.push({extent:D,frameIds:[H]},{extent:q,frameIds:[G]},{extent:B,frameIds:x},{extent:F,frameIds:J})}else F>x||J?E.push({extent:new z(F,Q,Y,T,R),frameIds:[H]},{extent:new z(V,Q,x,T,R),frameIds:[G]}):E.push({extent:new z(F,Q,x,T,R),frameIds:[H]});this.cache._parts=E}G=this.hasZ;D=this.hasM;if(G||D)for(H={},G&&(H.zmin=this.zmin,H.zmax=this.zmax),
D&&(H.mmin=this.mmin,H.mmax=this.mmax),G=0;G<E.length;G++)E[G].extent.set(H);return E};y._normalizeX=function(x,E){const [D,q]=E.valid;E=2*q;var B=0;x>q?(B=Math.ceil(Math.abs(x-q)/E),x-=B*E):x<D&&(B=Math.ceil(Math.abs(x-D)/E),x+=B*E,B=-B);return{x,frameId:B}};a._createClass(C,[{key:"cache",get:function(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");
this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}},{key:"center",get:function(){const x=new k({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(x.z=.5*(this.zmin+this.zmax));this.hasM&&(x.m=.5*(this.mmin+this.mmax));return x}},{key:"extent",get:function(){return this.clone()}},{key:"hasM",get:function(){return null!=this.mmin&&null!=this.mmax}},{key:"hasZ",get:function(){return null!=this.zmin&&null!=this.zmax}},
{key:"height",get:function(){return Math.abs(this.ymax-this.ymin)}},{key:"width",get:function(){return Math.abs(this.xmax-this.xmin)}}]);return C}(g);m.__decorate([d.property({readOnly:!0})],c.prototype,"cache",null);m.__decorate([d.property({readOnly:!0})],c.prototype,"center",null);m.__decorate([d.property({readOnly:!0})],c.prototype,"extent",null);m.__decorate([d.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasM",null);m.__decorate([d.property({readOnly:!0,
json:{write:{enabled:!1,overridePolicy:null}}})],c.prototype,"hasZ",null);m.__decorate([d.property({readOnly:!0})],c.prototype,"height",null);m.__decorate([d.property({readOnly:!0})],c.prototype,"width",null);m.__decorate([d.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],c.prototype,"xmin",void 0);m.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"ymin",void 0);m.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],
c.prototype,"mmin",void 0);m.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],c.prototype,"zmin",void 0);m.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"xmax",void 0);m.__decorate([d.property({type:Number,json:{write:!0}})],c.prototype,"ymax",void 0);m.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],c.prototype,"mmax",
void 0);m.__decorate([d.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],c.prototype,"zmax",void 0);c=z=m.__decorate([h.subclass("esri.geometry.Extent")],c);c.prototype.toJSON.isDefaultToJSON=!0;return c})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){a.__decorate=function(m,v,r,d){var c=arguments.length,b=3>c?v:null===d?d=Object.getOwnPropertyDescriptor(v,r):d,f;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)b=
Reflect.decorate(m,v,r,d);else for(var e=m.length-1;0<=e;e--)if(f=m[e])b=(3>c?f(b):3<c?f(v,r,b):f(v,r))||b;return 3<c&&b&&Object.defineProperty(v,r,b),b}})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,m,v,r,d,c){function b(h){let g=0;var k=h;if(v.isLongFormType(h))return v.ensureLongFormType(h);for(;Array.isArray(k)&&1===k.length&&"string"!==typeof k[0]&&"number"!==typeof k[0];)k=k[0],g++;return v.isOneOf(k)?
0===g?v.ensureOneOf(k):v.ensureNArrayTyped(v.ensureOneOf(k),g):1===g?v.ensureArray(k):1<g?v.ensureNArray(k,g):h.from?h.from:v.ensureType(h)}function f(h,g){return k=>{k=+h(k);null!=g.step&&(k=Math.round(k/g.step)*g.step);null!=g.min&&(k=Math.max(g.min,k));null!=g.max&&(k=Math.min(g.max,k));return k}}const e=m.getLogger("esri.core.accessorSupport.decorators.property");a.ensureRange=f;a.property=function(h={}){return(g,k,n)=>{if(g===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${g.name}.${k}. Accessor does not support static properties.`);
const l=d.getOwnPropertyMetadata(g,k);n&&(n.get||n.set?(l.get=n.get||l.get,l.set=n.set||l.set):"value"in n&&("value"in h&&e.warn(`@property() will redefine the value of "${k}" on "${g.constructor.name}" already defined in the metadata`,h),l.value=h.value=n.value));null!=h.readOnly&&(l.readOnly=h.readOnly);if(g=h.aliasOf){const p="string"===typeof g?g:g.source;g="string"===typeof g?null:!0===g.overridable;let t;l.dependsOn=[p];l.get=function(){let u=r.get(this,p);if("function"===typeof u){t||(t=p.split(".").slice(0,
-1).join("."));const A=r.get(this,t);A&&(u=u.bind(A))}return u};l.readOnly||(l.set=g?function(u){void 0!==u?this._override(k,u):this._clearOverride(k)}:function(u){c.set(this,p,u)})}g=h.type;n=h.types;l.cast||(g?l.cast=b(g):n&&(Array.isArray(n)?l.cast=v.ensureArrayTyped(v.ensureOneOfType(n[0])):l.cast=v.ensureOneOfType(n)));h.range&&(l.cast=f(l.cast,h.range));d.mergeProperty(l,h)}};a.propertyJSONMeta=function(h,g,k){h=d.getOwnPropertyMetadata(h,k);h.json||(h.json={});h=h.json;void 0!==g&&(h.origins||
(h.origins={}),h.origins[g]||(h.origins[g]={}),h=h.origins[g]);return h};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,m){function v(b,f){b="?"===b[b.length-1]?b.slice(0,-1):b;if(null!=f.getItemAt||Array.isArray(f)){var e=parseInt(b,10);if(!isNaN(e))return Array.isArray(f)?f[e]:f.getItemAt(e)}e=m.getProperties(f);return m.isPropertyDeclared(e,b)?e.get(b):f[b]}function r(b,f,e){if(null==b)return b;if((b=v(f[e],
b))||!(e<f.length-1))return e===f.length-1?b:r(b,f,e+1)}function d(b,f,e=0){return"string"===typeof f&&-1===f.indexOf(".")?v(f,b):r(b,m.pathToArray(f),e)}function c(b,f){return d(b,f)}a.default=c;a.exists=function(b,f){return void 0!==d(f,b)};a.get=c;a.valueOf=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang","../maybe"],function(a,m,v,r){function d(h){return h?h.__accessor__?h.__accessor__:h.propertyInvalidated?
h:null:null}function c(h,g,k){return g?Object.keys(g).reduce(function(n,l){let p=null;var t="merge";k&&(p=k.path?`${k.path}.${l}`:l,t=k.policy(p));if("replace"===t)return n[l]=g[l],n;if(void 0===n[l])return n[l]=v.clone(g[l]),n;let u=n[l];t=g[l];if(u===t)return n;if(Array.isArray(t)||Array.isArray(n))u=u?Array.isArray(u)?n[l]=u.concat():n[l]=[u]:n[l]=[],t&&(Array.isArray(t)||(t=[t]),t.forEach(A=>{-1===u.indexOf(A)&&u.push(A)}));else if(t&&"object"===typeof t)if(k){const A=k.path;k.path=r.assumeNonNull(p);
n[l]=c(u,t,k);k.path=A}else n[l]=c(u,t,null);else if(!n.hasOwnProperty(l)||g.hasOwnProperty(l))n[l]=t;return n},h||{}):h}function b(h){return Array.isArray(h)?h:h.split(".")}function f(h){return-1<h.indexOf(",")?h.split(",").map(g=>g.trim()):[h.trim()]}function e(h){if(Array.isArray(h)){const g=[];for(const k of h)g.push(...f(k));return g}return f(h)}a.getDependsInfo=function(h,g){const k=d(h);return k?k.getDependsInfo(h,g,""):""};a.getProperties=d;a.isPropertyDeclared=function(h,g){return null!=
h&&h.metadatas&&null!=h.metadatas[g]};a.merge=function(h,g,k){return k?c(h,g,{policy:k,path:""}):c(h,g,null)};a.once=function(h){let g=!1;return()=>{g||(g=!0,h())}};a.parse=function(h,g,k,n){g=e(g);return 1!==g.length?(g=g.map(l=>n(h,l,k)),m.handlesGroup(g)):n(h,g[0],k)};a.parseConditionalPath=function(h){if(-1===h.indexOf("?"))return null;h=b(h);const g=Array(h.length);for(let k=0;k<h.length;k++){const n=h[k];g[k]="?"===n[n.length-1];g[k]&&(h[k]=n.slice(0,-1))}return{fullPath:h.join("."),conditional:g}};
a.pathToArray=b;a.pathToStringOrArray=function(h){return!h||"string"===typeof h&&-1===h.indexOf(".")?h:b(h)};a.splitPath=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/handleUtils":function(){define(["exports","./maybe"],function(a,m){function v(r){return{remove:()=>{r&&(r(),r=void 0)}}}a.asyncHandle=function(r,d){let c=!1,b=null;r.then(f=>{c?f.remove():b=f});return v(()=>{c=!0;m.isSome(b)?b.remove():m.isSome(d)&&(d.abort(),d=null)})};a.destroyHandle=function(r){return v(m.isSome(r)?
()=>r.destroy():void 0)};a.handlesGroup=function(r){return v(()=>r.forEach(d=>m.isSome(d)&&d.remove()))};a.makeHandle=v;a.refHandle=function(r){return v(()=>{const d=r();m.isSome(d)&&d.remove()})};a.timeoutHandle=function(r,d){const c=setTimeout(r,d);return v(()=>clearTimeout(c))};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","../maybe","./utils"],function(a,m,v,r){function d(k){let n=k.constructor.__accessorMetadata__;
var l=Object.prototype.hasOwnProperty.call(k.constructor,"__accessorMetadata__");if(!n)n=new e({}),Object.defineProperty(k.constructor,"__accessorMetadata__",{value:n,enumerable:!1,configurable:!0,writable:!0});else if(!l){l=Object.create(n.properties);const p=n.autoDestroy;for(const t in l)l[t]=m.clone(l[t]);n=new e(l);n.autoDestroy=p;Object.defineProperty(k.constructor,"__accessorMetadata__",{value:n,enumerable:!1,configurable:!0,writable:!0})}return v.assumeNonNull(k.constructor.__accessorMetadata__)}
function c(k){return d(k).properties}function b(k){return h.test(k)?"replace":"merge"}function f(k){return g.test(k)?b(k.slice(11)):"merge"}let e=function(k){this.autoDestroy=!1;this.properties=k};const h=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,g=/^properties\./;a.ClassMetadata=e;a.getOwnClassMetadata=d;a.getOwnPropertiesMetadata=c;a.getOwnPropertyMetadata=function(k,n){k=c(k);let l=k[n];l||(l=k[n]={});return l};a.merge=function(k,n){return r.merge(k,n,f)};a.mergeProperty=
function(k,n){return r.merge(k,n,b)};a.setPropertyMetadata=function(k,n,l){c(k)[n]=l};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/set":function(){define(["exports","../has","../Logger","./get"],function(a,m,v,r){function d(c,b,f){if(c&&b)if("object"===typeof b)for(var e of Object.getOwnPropertyNames(b))d(c,e,b[e]);else-1!==b.indexOf(".")?(b=b.split("."),e=b.splice(b.length-1,1)[0],d(r.get(c,b),e,f)):c[b]=f}v.getLogger("esri.core.accessorSupport.set");a.default=d;
a.set=d;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,m){let v=function(){function r(c,b={ignoreUnknown:!1}){this.jsonToAPI=c;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(c);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=f=>this.fromJSON(f);this.write=(f,e,h)=>{f=this.toJSON(f);void 0!==f&&m.setDeepValue(h,f,e)};this.write.isJSONMapWriter=
!0}var d=r.prototype;d.toJSON=function(c){return this.apiToJSON.hasOwnProperty(c)?this.apiToJSON[c]:this.options.ignoreUnknown?void 0:c};d.fromJSON=function(c){return this.jsonToAPI.hasOwnProperty(c)?this.jsonToAPI[c]:this.options.ignoreUnknown?void 0:c};d.invertMap=function(c){const b={};for(const f in c)b[c[f]]=f;return b};d.getKeysSorted=function(c){const b=[];for(const f in c)b.push(f);b.sort();return b};return r}();a.JSONMap=v;a.default=v;a.strict=function(){return function(r){return new v(r,
{ignoreUnknown:!0})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../has ../extensions ../metadata ../tracking".split(" "),function(a,m,v,r,d,c){function b(g,k){return null==k.get?function(){const n=this.__accessor__.properties.get(g);if(void 0!==n){c.trackAccess(n);var l=this.__accessor__.store;return l.has(g)?l.get(g):n.metadata.value}}:function(){const n=this.__accessor__.properties.get(g);
if(void 0!==n)return n.getComputed()}}function f(g){var k=g.prototype,n=k.declaredClass;k=d.getOwnClassMetadata(k).properties;r.processClassMetadatas(k,n);n={};for(const l of Object.getOwnPropertyNames(k)){const p=k[l];n[l]={enumerable:!0,configurable:!0,get:b(l,p),set(t){const u=this.__accessor__;if(void 0===u)Object.defineProperty(this,l,{enumerable:!0,configurable:!0,writable:!0,value:t});else if(!Object.isFrozen(this)){if(u.initialized&&p.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${l}' of ${this.declaredClass}`);
if(2===u.lifecycle&&p.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${l}' of ${this.declaredClass}`);u.set(l,t)}}}}Object.defineProperties(g.prototype,n)}const e=new Set,h=new Set;a.processClass=f;a.subclass=function(g){return k=>{k.prototype.declaredClass=g;r.processPrototypeMetadatas(d.getOwnClassMetadata(k.prototype).properties,g);f(k);const n=[],l=[];for(var p=k.prototype;p;)p.hasOwnProperty("initialize")&&!e.has(p.initialize)&&(e.add(p.initialize),n.push(p.initialize)),
p.hasOwnProperty("destroy")&&!h.has(p.destroy)&&(h.add(p.destroy),l.push(p.destroy)),p=Object.getPrototypeOf(p);e.clear();h.clear();p=function(t){function u(...A){var z=t.call(this,...A)||this;if(z.constructor===u&&"function"===typeof z.postscript){n.length&&Object.defineProperty(m._assertThisInitialized(z),"initialize",{enumerable:!1,configurable:!0,value(){for(let w=n.length-1;0<=w;w--)n[w].call(this)}});if(l.length){let w=!1;Object.defineProperty(m._assertThisInitialized(z),"destroy",{enumerable:!1,
configurable:!0,value(){if(!w){w=!0;for(let C=0;C<l.length;C++)l[C].call(this)}}})}z.postscript(...A)}return z}m._inheritsLoose(u,t);return u}(k);p.__accessorMetadata__=d.getOwnClassMetadata(k.prototype);p.prototype.declaredClass=g;return p}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions":function(){define(["exports","./extensions/serializableProperty"],function(a,m){const v=[m.SerializablePropertyExtension];a.instanceCreated=function(r,d){const c=Object.getOwnPropertyNames(d);
for(const b of v)b.instanceCreated&&b.instanceCreated(r,d,c)};a.processClassMetadatas=function(r,d){for(const c of v)if(c.processClassPropertyMetadata)for(const b in r)c.processClassPropertyMetadata(b,r[b],r,d)};a.processPrototypeMetadatas=function(r,d){for(const c of v)if(c.processPrototypePropertyMetadata)for(const b in r)c.processPrototypePropertyMetadata(b,r[b],r,d)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,m,v,r,d,c){function b(e,h,g){let k=e&&e.json;e&&e.json&&e.json.origins&&g&&(e=e.json.origins[g.origin])&&("any"===h||h in e)&&(k=e);return k}const f={processPrototypePropertyMetadata(e,h){if(d.process(h)){v.process(h);if(h.type)if(h.type){e=0;for(var g=h.type;Array.isArray(g)&&!m.isOneOf(g);)g=g[0],e++;e={type:g,ndimArray:e}}else e=void 0;else if(h.types){e=0;for(g=h.types;Array.isArray(g);)g=g[0],e++;e={types:g,ndimArray:e}}else e=void 0;if(h.json.origins)for(const k in h.json.origins)g=
h.json.origins[k],r.create(e,g,!1),c.create(e,g);r.create(e,h.json,!0);c.create(e,h.json)}}};a.SerializablePropertyExtension=f;a.default=f;a.originSpecificPropertyDefinition=b;a.originSpecificReadPropertyDefinition=function(e,h){return b(e,"read",h)};a.originSpecificWritePropertyDefinition=function(e,h){return b(e,"write",h)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=
function(m){if(m.json&&m.json.origins){const v=m.json.origins;m={"web-document":["web-scene","web-map"]};for(const r in m)if(v[r]){const d=v[r];m[r].forEach(c=>{v[c]=d});delete v[r]}}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,m,v,r,d,c){function b(A){var z;const w=null!=(z=A.ndimArray)?z:0;if(1<w)return g(A);
if(1===w)return k(A);if("type"in A&&n(A.type)){var C,y;z=null==(C=A.type.prototype)?void 0:null==(y=C.itemType)?void 0:y.Type;const x=k("function"===typeof z?{type:z}:{types:z});return(E,D,q)=>(E=x(E,D,q))?new A.type(E):E}return f(A)}function f(A){return"type"in A?e(A.type):t(A.types)}function e(A){return A.prototype.read?(z,w,C)=>{if(null==z)return z;w=typeof z;if("object"!==w)u.error(`Expected JSON value of type 'object' to deserialize type '${A.prototype.declaredClass}', but got '${w}'`);else return w=
new A,w.read(z,C),w}:A.fromJSON}function h(A,z,w,C){return 0!==C&&Array.isArray(z)?z.map(y=>h(A,y,w,C-1)):A(z,void 0,w)}function g(A){var z;const w=f(A),C=h.bind(null,w),y=null!=(z=A.ndimArray)?z:0;return(x,E,D)=>{if(null==x)return x;x=C(x,D,y);E=y;for(D=x;0<E&&Array.isArray(D);)E--,D=D[0];if(void 0!==D)for(D=0;D<E;D++)x=[x];return x}}function k(A){const z=f(A);return(w,C,y)=>{if(null==w)return w;if(Array.isArray(w)){C=[];for(const x of w)w=z(x,void 0,y),void 0!==w&&C.push(w);return C}y=z(w,void 0,
y);return void 0!==y?[y]:void 0}}function n(A){return c.isCollection(A)?(A=A.prototype.itemType)&&A.Type?"function"===typeof A.Type?l(A.Type):p(A.Type):!1:!1}function l(A){return Array.isArray(A)?!1:!!A&&A.prototype&&("read"in A.prototype||"fromJSON"in A||n(A))}function p(A){for(const z in A.typeMap)if(!l(A.typeMap[z]))return!1;return!0}function t(A){var z;let w=null;const C=null!=(z=A.errorContext)?z:"type";return(y,x,E)=>{if(null==y)return y;x=typeof y;if("object"!==x)u.error(`Expected JSON value of type 'object' to deserialize, but got '${x}'`);
else{if(!w){x={};for(const F in A.typeMap){var D,q;const H=A.typeMap[F];var B=d.getOwnClassMetadata(H.prototype);if("function"===typeof A.key)continue;B=B.properties[A.key];if(!B)continue;null!=(D=B.json)&&D.type&&Array.isArray(B.json.type)&&1===B.json.type.length&&"string"===typeof B.json.type[0]&&(x[B.json.type[0]]=H);B=null==(q=B.json)?void 0:q.write;if(!B||!B.writer){x[F]=H;continue}var G=B.target;G="string"===typeof G?G:A.key;const J={};B.writer(F,J,G);J[G]&&(x[J[G]]=H)}w=x}D=A.key;if("string"===
typeof D){if(q=(D=y[D])?w[D]:A.defaultKeyValue?A.typeMap[A.defaultKeyValue]:void 0)return D=new q,D.read(y,E),D;D=`Type '${D||"unknown"}' is not supported`;E&&E.messages&&y&&E.messages.push(new r(`${C}:unsupported`,D,{definition:y,context:E}));u.error(D)}}}}const u=m.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");a.create=function(A,z,w){var C,y;!A||!w&&!z.read||null!=(C=z.read)&&C.reader||!1===(null==(y=z.read)?void 0:y.enabled)||(w="types"in A?p(A.types):l(A.type),
w&&v.setDeepValue("read.reader",b(A),z))};a.createTypeReader=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Warning":function(){define(["../chunks/_rollupPluginBabelHelpers","./Message"],function(a,m){m=function(v){function r(d,c,b){var f=v.call(this,d,c,b)||this;return a._assertThisInitialized(f)instanceof r?f:new r(d,c,b)}a._inheritsLoose(r,v);return r}(m);m.prototype.type="warning";return m})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],
function(a){a.isCollection=function(m){return!!m&&m.prototype&&m.prototype.declaredClass&&0===m.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function m(d){d.name&&(d.read?"object"===typeof d.read?void 0===d.read.source&&(d.read.source=d.name):d.read={source:d.name}:d.read={source:d.name},d.write?"object"===typeof d.write?void 0===
d.write.target&&(d.write.target=d.name):d.write={target:d.name}:d.write={target:d.name})}function v(d){"boolean"===typeof d.read?d.read={enabled:d.read}:"function"===typeof d.read?d.read={enabled:!0,reader:d.read}:d.read&&"object"===typeof d.read&&void 0===d.read.enabled&&(d.read.enabled=!0)}function r(d){"boolean"===typeof d.write?d.write={enabled:d.write}:"function"===typeof d.write?d.write={enabled:!0,writer:d.write}:d.write&&"object"===typeof d.write&&void 0===d.write.enabled&&(d.write.enabled=
!0)}a.process=function(d){d.json||(d.json={});v(d.json);r(d.json);m(d.json);if(d.json.origins)for(const c in d.json.origins)v(d.json.origins[c]),r(d.json.origins[c]),m(d.json.origins[c]);return!0};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../object","./type"],function(a,m,v){function r(h,g,k,n){m.setDeepValue(k,d(h,n),g)}function d(h,g){return h&&"function"===typeof h.write?h.write({},
g):h&&"function"===typeof h.toJSON?h.toJSON():"number"===typeof h?c(h):h}function c(h){return-Infinity===h?-Number.MAX_VALUE:Infinity===h?Number.MAX_VALUE:isNaN(h)?null:h}function b(h,g,k,n){null===h?h=null:h&&"function"===typeof h.map?(h=h.map(l=>d(l,n)),"function"===typeof h.toArray&&(h=h.toArray())):h=[d(h,n)];m.setDeepValue(k,h,g)}function f(h,g,k){return 0!==k&&Array.isArray(h)?h.map(n=>f(n,g,k-1)):d(h,g)}function e(h){return function(g,k,n,l){if(null===g)g=null;else{g=f(g,l,h);l=h;for(var p=
g;0<l&&Array.isArray(p);)l--,p=p[0];if(void 0!==p)for(p=0;p<l;p++)g=[g]}m.setDeepValue(n,g,k)}}a.create=function(h,g){var k;if(g.write&&!g.write.writer&&(!1!==g.write.enabled||g.write.overridePolicy)){var n=null!=(k=null==h?void 0:h.ndimArray)?k:0;h&&(1===n||"type"in h&&v.isCollection(h.type))?g.write.writer=b:g.write.writer=1<n?e(n):r}};a.numberToJSON=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils"],
function(a,m,v,r){function d(u){if(void 0!==k)k.onObservableAccessed(u)}function c(u,A,z){const w=l;l=!0;k=u;g.push(u);u=null;try{u=A.call(z)}catch(C){p&&n.error(C)}b();l=w;return u}function b(){const u=g.pop();k=0<g.length?g[g.length-1]:void 0;if(void 0!==u)u.onTrackingEnd()}function f(u,A){if(!(A.flags&32)){var z=p;p=!1;A.flags&64?c(A,A.metadata.get,u):e(u,A);p=z}}function e(u,A){A.flags&128||(A.flags|=128,c(A,()=>{var z=A.metadata.dependsOn||t;for(const w of z)if("string"===typeof w&&-1===w.indexOf("."))h(u,
w,!1);else{z=r.pathToArray(w);for(let C=0,y=u;C<z.length&&null!=y&&"object"===typeof y;++C)y=h(y,z[C],C!==z.length-1)}}),A.flags&=-129)}function h(u,A,z){A="?"===A[A.length-1]?A.slice(0,-1):A;if(null!=u.getItemAt||Array.isArray(u)){var w=parseInt(A,10);if(!isNaN(w))return Array.isArray(u)?u[w]:u.getItemAt(w)}w=r.getProperties(u);if(w=null==w?void 0:w.properties.get(A))d(w),f(u,w);return z?u[A]:void 0}let g=[],k=void 0;const n=v.getLogger("esri.core.Accessor");let l=!1,p=!1;const t=[];a.initializeDependencyTracking=
f;a.resetGlobalTarget=function(){g=[]};a.runTracked=function(u,A,z){if(l)return c(u,A,z);k=u;g.push(u);u=A.call(z);b();return u};a.runTrackedNoThrow=c;a.trackAccess=d;a.trackExplicitDependencies=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Geometry":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),
function(a,m,v,r,d,c,b,f,e,h,g){v=function(k){function n(...p){p=k.call(this,...p)||this;p.type=null;p.hasM=!1;p.hasZ=!1;p.spatialReference=g.WGS84;return p}a._inheritsLoose(n,k);var l=n.prototype;l.readSpatialReference=function(p,t){if(p instanceof g)return p;if(null!=p){const u=new g;u.read(p,t);return u}return p};l.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};l.clearCache=function(){this.notifyChange("cache")};l.getCacheValue=function(p){return this.cache[p]};
l.setCacheValue=function(p,t){this.cache[p]=t};a._createClass(n,[{key:"cache",get:function(){this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){return null}}]);return n}(v.JSONSupport);m.__decorate([r.property()],v.prototype,"type",void 0);m.__decorate([r.property({readOnly:!0})],v.prototype,"cache",null);m.__decorate([r.property({readOnly:!0})],v.prototype,"extent",null);m.__decorate([r.property({type:Boolean,json:{write:{overridePolicy(k){return{enabled:k}}}}})],v.prototype,
"hasM",void 0);m.__decorate([r.property({type:Boolean,json:{write:{overridePolicy(k){return{enabled:k}}}}})],v.prototype,"hasZ",void 0);m.__decorate([r.property({type:g,json:{write:!0}})],v.prototype,"spatialReference",void 0);m.__decorate([e.reader("spatialReference")],v.prototype,"readSpatialReference",null);return v=m.__decorate([h.subclass("esri.geometry.Geometry")],v)})},"esri/core/JSONSupport":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./accessorSupport/read ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,m,v,r,d,c,b){const f=e=>{e=function(h){function g(...n){return h.call(this,...n)||this}m._inheritsLoose(g,h);var k=g.prototype;k.read=function(n,l){d.read(this,n,l)};k.write=function(n={},l){return c.write(this,n,l)};k.toJSON=function(n){return this.write({},n)};g.fromJSON=function(n,l){if(n){if(n.declaredClass)throw Error("JSON object is already hydrated");var p=new this;p.read(n,l);n=p}else n=null;return n};return g}(e);e=v.__decorate([b.subclass("esri.core.JSONSupport")],e);e.prototype.toJSON.isDefaultToJSON=
!0;return e};a.JSONSupport=function(e){function h(){return e.apply(this,arguments)||this}m._inheritsLoose(h,e);return h}(f(r));a.JSONSupport=v.__decorate([b.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=f;a.isJSONSupport=function(e){return e&&"read"in e&&"write"in e&&"toJSON"in e};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/Accessor":function(){define("../chunks/_rollupPluginBabelHelpers ./deprecate ./Logger ./accessorSupport/get ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,m,v,r,d,c,b,f,e,h){function g(k){if(null==k)return{value:k};if(Array.isArray(k))return{type:[k[0]],value:null};switch(typeof k){case "object":return k.constructor&&k.constructor.__accessorMetadata__||k instanceof Date?{type:k.constructor,value:k}:k;case "boolean":return{type:Boolean,value:k};case "string":return{type:String,value:k};case "number":return{type:Number,value:k};case "function":return{type:k,value:null}}}return function(){function k(...l){if(this.constructor===k)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{enumerable:!1,value:new c(this)});0<l.length&&this.normalizeCtorArgs&&(this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,l))}k.createSubclass=function(l={}){if(Array.isArray(l))throw Error("Multi-inheritance unsupported since 4.16");const {properties:p,declaredClass:t,constructor:u}=l;delete l.declaredClass;delete l.properties;delete l.constructor;const A=this;let z=function(w){function C(...y){var x=w.call(this,...y)||this;x.inherited=null;u&&
u.apply(a._assertThisInitialized(x),y);return x}a._inheritsLoose(C,w);return C}(A);d.getOwnClassMetadata(z.prototype);for(const w in l){const C=l[w];z.prototype[w]="function"===typeof C?function(...y){const x=this.inherited;this.inherited=function(...D){if(A.prototype[w])return A.prototype[w].apply(this,D)};let E=void 0;try{E=C.apply(this,y)}catch(D){throw this.inherited=x,D;}this.inherited=x;return E}:l[w]}for(const w in p)l=g(p[w]),e.property(l)(z.prototype,w);return h.subclass(t)(z)};var n=k.prototype;
n.postscript=function(l){const p=this.__accessor__;l=p.ctorArgs||l;p.initialize();l&&(this.set(l),p.ctorArgs=null);p.constructed();this.initialize()};n.initialize=function(){};n.destroy=function(){this.destroyed||(f.removeTarget(this),this.__accessor__.destroy())};n.commitProperty=function(l){this.get(l)};n.get=function(l){return r.get(this,l)};n.hasOwnProperty=function(l){return this.__accessor__?this.__accessor__.has(l):Object.prototype.hasOwnProperty.call(this,l)};n.isInstanceOf=function(l){m.deprecatedFunction(v.getLogger(this.declaredClass),
"isInstanceOf",{replacement:"Use instanceof directly",version:"4.16"});return this instanceof l};n.keys=function(){return this.__accessor__?this.__accessor__.keys():[]};n.set=function(l,p){b.set(this,l,p);return this};n.watch=function(l,p,t){return f.watch(this,l,p,t)};n._clearOverride=function(l){return this.__accessor__.clearOverride(l)};n._override=function(l,p){return this.__accessor__.override(l,p)};n._isOverridden=function(l){return this.__accessor__.isOverridden(l)};n.notifyChange=function(l){this.__accessor__.notifyChange(l)};
n._get=function(l){return this.__accessor__.internalGet(l)};n._set=function(l,p){this.__accessor__.internalSet(l,p);return this};a._createClass(k,[{key:"initialized",get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},{key:"constructed",get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},{key:"destroyed",get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}]);return k}()})},"esri/core/deprecate":function(){define(["exports",
"./has"],function(a,m){function v(c,b,f=!1){f&&d.has(b)||(f&&d.add(b),c.warn(`\ud83d\uded1 DEPRECATED - ${b}`))}function r(c,b,f={}){if(m("esri-deprecation-warnings")){const {replacement:e,version:h,see:g,warnOnce:k}=f;e&&(b+=`\n\t\ud83d\udee0\ufe0f Replacement: ${e}`);h&&(b+=`\n\t\u2699\ufe0f Version: ${h}`);g&&(b+=`\n\t\ud83d\udd17 See ${g} for more details.`);v(c,b,k)}}const d=new Set;a.deprecated=r;a.deprecatedFunction=function(c,b,f={}){if(m("esri-deprecation-warnings")){const {moduleName:e}=
f;r(c,`Function: ${(e?e+"::":"")+b+"()"}`,f)}};a.deprecatedModule=function(c,b,f={}){m("esri-deprecation-warnings")&&r(c,`Module: ${b}`,f)};a.deprecatedProperty=function(c,b,f={}){if(m("esri-deprecation-warnings")){const {moduleName:e}=f;r(c,`Property: ${(e?e+"::":"")+b}`,f)}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Properties":function(){define("../../chunks/_rollupPluginBabelHelpers ../has ../lang ../Logger ../ObjectPool ./Property ./PropertyOrigin ./Store ./tracking ./utils".split(" "),
function(a,m,v,r,d,c,b,f,e,h){r.getLogger("esri.core.accessorSupport.Properties");m=function(){function k(l){this.host=l;this.properties=new Map;this.ctorArgs=null;this.destroyed=!1;this.lifecycle=0;this.store=new f.Store;this._origin=6;l=this.host.constructor.__accessorMetadata__;const p=l.properties;for(const t in p){const u=new c.Property(this,t,p[t]);this.properties.set(t,u)}this.metadatas=p;this._autoDestroy=l.autoDestroy}var n=k.prototype;n.initialize=function(){this.lifecycle=1};n.constructed=
function(){this.lifecycle=2};n.destroy=function(){this.destroyed=!0;if(this._autoDestroy)for(const [p,t]of this.properties){var l=this.internalGet(p);l&&l&&"function"===typeof l.destroy&&(l.destroy(),~t.flags&8&&this._internalSet(t,null));t.destroy()}else for([,l]of this.properties)l.destroy()};n.get=function(l){const p=this.properties.get(l);if(p.metadata.get)return p.getComputed();e.trackAccess(p);const t=this.store;return t.has(l)?t.get(l):p.metadata.value};n.originOf=function(l){const p=this.store.originOf(l);
return void 0===p&&(l=this.properties.get(l),void 0!==l&&l.flags&16)?"defaults":b.idToName(p)};n.has=function(l){return this.properties.has(l)?this.store.has(l):!1};n.keys=function(){return[...this.properties.keys()]};n.internalGet=function(l){const p=this.properties.get(l);if(void 0!==p)return this.store.has(l)?this.store.get(l):p.metadata.value};n.internalSet=function(l,p){l=this.properties.get(l);void 0!==l&&this._internalSet(l,p)};n.getDependsInfo=function(l,p,t){const u=this.properties.get(p);
if(void 0===u)return"";const A=new Set;var z=e.runTracked({onObservableAccessed:C=>A.add(C),onTrackingEnd:()=>{}},()=>{var C;return null==(C=u.metadata.get)?void 0:C.call(l)}),w=l.declaredClass.split(".").pop();p=`${t}${w}.${p}: ${z}\n`;if(0===A.size)return p;t+="  ";for(const C of A){if(!(C instanceof c.Property))continue;z=C.properties.host;w=C.propertyName;const y=h.getProperties(z);p=y?p+y.getDependsInfo(z,w,t):p+`${t}${w}: undefined\n`}return p};n.setAtOrigin=function(l,p,t){l=this.properties.get(l);
if(void 0!==l)return this._setAtOrigin(l,p,t)};n.isOverridden=function(l){l=this.properties.get(l);return void 0!==l&&!!(l.flags&2)};n.clearOverride=function(l){l=this.properties.get(l);void 0!==l&&l.flags&2&&(l.flags&=-3,l.notifyChange())};n.override=function(l,p){l=this.properties.get(l);if(!(void 0===l||null==p&&l.flags&8)){var t=l.metadata.cast;if(t){p=this._cast(t,p);const {valid:u,value:A}=p;g.release(p);if(!u)return;p=A}l.flags|=2;this._internalSet(l,p)}};n.set=function(l,p){l=this.properties.get(l);
if(!(void 0===l||null==p&&l.flags&8)){var t=l.metadata.cast;if(t){p=this._cast(t,p);const {valid:u,value:A}=p;g.release(p);if(!u)return;p=A}(t=l.metadata.set)?t.call(this.host,p):this._internalSet(l,p)}};n.setDefaultOrigin=function(l){this._origin=b.nameToId(l)};n.getDefaultOrigin=function(){return b.idToName(this._origin)};n.notifyChange=function(l){l=this.properties.get(l);void 0!==l&&l.notifyChange()};n.invalidate=function(l){l=this.properties.get(l);void 0!==l&&l.invalidate()};n.commit=function(l){l=
this.properties.get(l);void 0!==l&&l.commit()};n._internalSet=function(l,p){this._setAtOrigin(l,p,0!==this.lifecycle?this._origin:0)};n._setAtOrigin=function(l,p,t){const u=this.store,A=l.propertyName;u.has(A,t)&&v.equals(p,u.get(A))&&~l.flags&2&&t===u.originOf(A)||(l.invalidate(),u.set(A,p,t),l.commit(),e.initializeDependencyTracking(this.host,l))};n._cast=function(l,p){const t=g.acquire();t.valid=!0;t.value=p;l&&(t.value=l.call(this.host,p,t));return t};a._createClass(k,[{key:"initialized",get:function(){return 0!==
this.lifecycle}}]);return k}();r=function(){function k(){this.value=null;this.valid=!0}var n=k.prototype;n.acquire=function(){this.valid=!0};n.release=function(){this.value=null};return k}();const g=new d(r);return m})},"esri/core/accessorSupport/Property":function(){define(["exports","./tracking","./tracking/ObservationHandle"],function(a,m,v){let r=function(){function d(b,f,e){this.properties=b;this.propertyName=f;this.metadata=e;this._handles=this._accessed=this._observers=null;this.flags=1|(e.nonNullable?
8:0)|(e.hasOwnProperty("value")?16:0)|(void 0===e.get?32:0)|(void 0===e.dependsOn?64:0)}var c=d.prototype;c.destroy=function(){this._observers=this._accessed=null;this._clearObservationHandles()};c.getComputed=function(){m.trackAccess(this);var b=this.properties.store;const f=this.propertyName;var e=this.flags;const h=b.get(f);if(e&4||~e&1&&b.has(f))return h;this.flags|=4;const g=this.properties.host;e&64?e=m.runTracked(this,this.metadata.get,g):(m.trackExplicitDependencies(g,this),e=this.metadata.get.call(g));
b.set(f,e,1);b=b.get(f);b===h?this.flags&=-2:this.commit();this.flags&=-5;return b};c.onObservableAccessed=function(b){b!==this&&(null===this._accessed&&(this._accessed=[]),this._accessed.includes(b)||this._accessed.push(b))};c.onTrackingEnd=function(){this._clearObservationHandles();this.flags|=32;const b=this._accessed;if(null!==b){var f=this._handles;null===f&&(f=this._handles=[]);for(let e=0;e<b.length;++e)f.push(b[e].observe(this));b.length=0}};c.observe=function(b){null===this._observers&&(this._observers=
[]);this._observers.includes(b)||this._observers.push(b);return new v.ObservationHandle(this._observers,b)};c.notifyChange=function(){this.onInvalidated();this.onCommitted()};c.invalidate=function(){this.onInvalidated()};c.onInvalidated=function(){~this.flags&2&&(this.flags|=1);const b=this._observers;if(null!==b)for(let f=0;f<b.length;++f)b[f].onInvalidated()};c.commit=function(){this.flags&=-2;this.onCommitted()};c.onCommitted=function(){if(null!==this._observers){var b=this._observers.slice();
for(let f=0;f<b.length;++f)b[f].onCommitted()}};c._clearObservationHandles=function(){const b=this._handles;if(null!==b){for(let f=0;f<b.length;++f)b[f].remove();b.length=0}};return d}();a.Property=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(a,m){let v=function(){function r(d,c){this._observers=d;this._observer=c}r.prototype.remove=function(){m.remove(this._observers,this._observer)};
return r}();a.ObservationHandle=v;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/arrayUtils":function(){define(["exports","./maybe","./RandomLCG"],function(a,m,v){function r(n){return n}function d(n,l=r){if(n&&0!==n.length){var p=n[0],t=l(p);for(let u=1;u<n.length;++u){const A=n[u],z=Number(l(A));z>t&&(t=z,p=A)}return p}}function c(n,l,p,t){t=t||h;var u=Math.max(0,t.last-10);for(let A=u;A<p;++A)if(n[A]===l)return t.last=A;p=Math.min(u,p);for(u=0;u<p;++u)if(n[u]===l)return t.last=u;
return-1}function b(n){return n?(k.seed=n,()=>k.getFloat()):Math.random}const f=!!Array.prototype.fill;let e=function(){this.last=0};const h=new e,g=new Set,k=new v;a.PositionHint=e;a.binaryFindClosest=function(n,l,p){if(n&&0!==n.length){var t=n.length-1,u=n[0];if(l<=p(u))return u;u=n[t];if(l>=p(u))return u;var A=0;u=0;for(var z=t;A<z;){u=A+Math.floor((z-A)/2);const C=n[u],y=p(C);if(y===l)return C;if(l<y){if(0<u){z=n[u-1];var w=p(z);if(l>w)return l-w>=y-l?C:z}z=u}else{if(u<t&&(A=n[u+1],w=p(A),l<w))return l-
y>=w-l?A:C;A=u+1}}return n[u]}};a.binaryIndexOf=function(n,l,p){const t=n.length;let u=0;for(var A=t-1;u<A;){const z=u+Math.floor((A-u)/2);l>n[z]?u=z+1:A=z}A=n[u];return p?l>=n[t-1]?-1:A===l?u:u-1:A===l?u:-1};a.constant=function(n,l){if(f)return Array(n).fill(l);const p=Array(n);for(let t=0;t<n;t++)p[t]=l;return p};a.difference=function(n,l,p){let t,u;p?(t=l.filter(A=>!n.some(z=>p(z,A))),u=n.filter(A=>!l.some(z=>p(z,A)))):(t=l.filter(A=>!n.includes(A)),u=n.filter(A=>!l.includes(A)));return{added:t,
removed:u}};a.equals=function(n,l,p){if(m.isNone(n)&&m.isNone(l))return!0;if(m.isNone(n)||m.isNone(l)||n.length!==l.length)return!1;if(p)for(let t=0;t<n.length;t++){if(!p(n[t],l[t]))return!1}else for(p=0;p<n.length;p++)if(n[p]!==l[p])return!1;return!0};a.first=function(n){if(n)return 0<n.length?n[0]:void 0};a.flatten=function(n){return n.reduce((l,p)=>l.concat(p||[]),[])};a.indexOf=c;a.intersect=function(n,l,p){return n&&l?p?n.filter(function(t){return-1<l.findIndex(function(u){return p(t,u)})}):
n.filter(function(t){return-1<l.indexOf(t)}):[]};a.isArrayLike=function(n){return n&&"number"===typeof n.length};a.last=function(n){if(n){var l=n.length;return 0<l?n[l-1]:void 0}};a.max=d;a.min=function(n,l=r){return d(n,p=>-l(p))};a.pickRandom=function(n,l,p){const t=n.length;if(l>=t)return n.slice(0);p=b(p);const u=new Set,A=[];for(;A.length<l;){const z=Math.floor(p()*t);u.has(z)||(u.add(z),A.push(n[z]))}return A};a.range=function(n,l){void 0===l&&(l=n,n=0);const p=Array(l-n);for(let t=n;t<l;t++)p[t-
n]=t;return p};a.remove=function(n,l){const p=n.indexOf(l);return-1!==p?(n.splice(p,1),l):null};a.removeUnordered=function(n,l,p,t){const u=null==p?n.length:p;t=c(n,l,u,t);if(-1!==t)return n[t]=n[u-1],null==p&&n.pop(),l};a.removeUnorderedMany=function(n,l,p=n.length,t=l.length,u,A){if(0===t||0===p)return p;g.clear();for(let z=0;z<t;++z)g.add(l[z]);u=u||h;l=Math.max(0,u.last-10);for(t=l;t<p;++t)if(g.has(n[t])&&(A&&A.push(n[t]),g.delete(n[t]),n[t]=n[p-1],--p,--t,0===g.size||0===p))return g.clear(),
p;for(t=0;t<l;++t)if(g.has(n[t])&&(A&&A.push(n[t]),g.delete(n[t]),n[t]=n[p-1],--p,--t,0===g.size||0===p))return g.clear(),p;g.clear();return p};a.shuffle=function(n,l){l=b(l);for(let p=n.length-1;0<p;p--){const t=Math.floor(l()*(p+1)),u=n[p];n[p]=n[t];n[t]=u}return n};a.splitIntoChunks=function(n,l){const p=n.length;if(0===p)return[];const t=[];for(let u=0;u<p;u+=l)t.push(n.slice(u,u+l));return t};a.unique=function(n,l){return l?n.filter((p,t,u)=>u.findIndex(l.bind(null,p))===t):n.filter((p,t,u)=>
u.indexOf(p)===t)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/RandomLCG":function(){define(["../chunks/_rollupPluginBabelHelpers"],function(a){let m=function(){function v(d=1){this._seed=d}var r=v.prototype;r.getInt=function(){return this._seed=(v._a*this._seed+v._c)%v._m};r.getFloat=function(){return this.getInt()/(v._m-1)};r.getIntRange=function(d,c){return Math.round(this.getFloatRange(d,c))};r.getFloatRange=function(d,c){c-=d;const b=this.getInt()/v._m;return d+b*c};a._createClass(v,
[{key:"seed",set:function(d){this._seed=null==d?Math.random()*v._m:d}}]);return v}();m._m=2147483647;m._a=48271;m._c=0;return m})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports","../maybe"],function(a,m){function v(d){switch(d){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function r(d){switch(d){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";
case 5:return"web-map";case 6:return"user"}return m.assumeNonNull(void 0)}a.OriginIdNum=7;a.idToName=r;a.idToReadableName=function(d){return r(d)};a.idToWritableName=function(d){return r(d)};a.nameToId=v;a.readableNameToId=function(d){return v(d)};a.writableNameToId=function(d){return v(d)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang"],function(a,m){let v=function(){function r(){this._values=new Map}var d=r.prototype;
d.clone=function(c){const b=new r;this._values.forEach((f,e)=>{c&&c.has(e)||b.set(e,m.clone(f))});return b};d.get=function(c){return this._values.get(c)};d.originOf=function(){return 6};d.keys=function(){return[...this._values.keys()]};d.set=function(c,b){this._values.set(c,b)};d.delete=function(c){this._values.delete(c)};d.has=function(c){return this._values.has(c)};d.forEach=function(c){this._values.forEach(c)};return r}();a.Store=v;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ./get ./trackingUtils ./utils".split(" "),
function(a,m,v,r,d,c,b,f,e){function h(y){z.delete(y);z.add(y);w||(w=d.schedule(k))}function g(y){if(!y.removed){var {callback:x,path:E,oldValue:D,target:q}=y,B=y.getValue();v.equals(D,B)||(y.oldValue=B,x.call(q,B,D,E,q))}}function k(){let y=10;for(;w&&y--;){w=null;const E=n(),D=A.acquire();for(const q of E){var x=q.uid;g(q);x===q.uid&&q.removed&&D.push(q)}for(const q of z)q.removed&&(D.push(q),z.delete(q));for(x=0;x<D.length;x++)u.pool.release(D[x]);A.release(D);A.release(E);C.forEach(q=>q())}}function n(){const y=
A.acquire();y.length=z.size;let x=0;for(const E of z)y[x]=E,++x;z.clear();return y}function l(y,x,E){let D=e.parse(y,x,E,(q,B,G)=>{let F,H,J=f.reactionAsync(()=>b.valueOf(q,B),(Q,T)=>{q.__accessor__.destroyed||F&&F.uid!==H?D.remove():(F||(F=u.pool.acquire(q,B,Q,G,T),H=F.uid),h(F))});return{remove:e.once(function(){J.remove();F&&(F.uid!==H||F.removed||(F.removed=!0,h(F)),F=null);D=J=null})}});return D}function p(y,x,E){const D=e.parse(y,x,E,(q,B,G)=>{let F=!1;return f.reaction(()=>b.valueOf(q,B),(H,
J)=>{q.__accessor__.destroyed?D.remove():F||(F=!0,v.equals(J,H)||G.call(q,H,J,B,q),F=!1)})});return D}function t(y,x,E,D=!1){return!y.__accessor__||y.__accessor__.destroyed?{remove(){}}:D?p(y,x,E):l(y,x,E)}let u=function(){function y(){this.uid=0;this.getValue=this.callback=this.oldValue=this.path=this.target=null;this.removed=!1;this.propertyPath=null}var x=y.prototype;x.acquire=function(E,D,q,B,G){this.target=E;this.path=D;this.oldValue=q;this.callback=B;this.getValue=G;this.propertyPath=e.pathToStringOrArray(D);
this.uid=++y.uid;this.removed=!1};x.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++y.uid;this.removed=!0};return y}();u.pool=new r.ReentrantObjectPool(u);u.uid=0;const A=new m,z=new Set;let w;const C=new Set;a.afterDispatch=function(y){C.add(y);return{remove(){C.delete(y)}}};a.default=t;a.dispatch=k;a.dispatchTarget=function(y){const x=Array.from(z);for(let E=0;E<x.length;E++){const D=x[E];D.target===y&&(g(D),z.delete(D))}};a.isValueInUse=function(y){return c.someSet(z,
x=>x.oldValue===y)};a.removeTarget=function(y){for(const x of z.values())x.target===y&&(x.removed=!0)};a.watch=t;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/ReentrantObjectPool":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./ObjectPool"],function(a,m,v,r){r=function(d){function c(){var f=d.apply(this,arguments)||this;f._set=new Set;return f}m._inheritsLoose(c,d);var b=c.prototype;b.destroy=function(){d.prototype.destroy.call(this);this._set=v.nullifyNonnullableForDispose(this._set)};
b.acquire=function(...f){f=d.prototype.acquire.call(this,...f);this._set.delete(f);return f};b.release=function(f){f&&!this._set.has(f)&&(d.prototype.release.call(this,f),this._set.add(f))};b._dispose=function(f){this._set.delete(f);d.prototype._dispose.call(this,f)};return c}(r);a.ReentrantObjectPool=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/scheduling":function(){define("exports ./maybe ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,
m,v,r,d,c,b){function f(){const D=performance.now();C=null;C=0<A.length?requestAnimationFrame(f):null;w.executeFrameTasks(D)}function e(){A.forAll(D=>{D.removed&&y.push(D)});A.removeUnorderedMany(y.data,y.length);y.clear()}function h(){for(;u.length;){const D=m.assumeNonNull(u.shift());D.isActive&&D.callback()}w.willDispatch=!1}let g=function(D){this.phases=D;this.paused=!1;this.ticks=-1;this.removed=!1},k=function(){function D(q){this.callback=q;this.isActive=!0}D.prototype.remove=function(){this.isActive=
!1};return D}(),n=0,l=0;const p={time:b.Milliseconds(0),deltaTime:b.Milliseconds(0),elapsedFrameTime:b.Milliseconds(0),frameDuration:b.Milliseconds(0)},t=["prepare","preRender","render","postRender","update"],u=[],A=new d;let z=function(){function D(B){this._task=B}var q=D.prototype;q.remove=function(){this._task.removed=!0};q.pause=function(){this._task.paused=!0};q.resume=function(){this._task.paused=!1};return D}();const w={frameTasks:A,willDispatch:!1,clearFrameTasks:function(D=!1){A.forAll(q=>
{q.removed=!0});D&&e()},dispatch:h,executeFrameTasks:function(D){const q=b.Milliseconds(D-n);n=D;const B=0<l?l:1E3/60,G=Math.max(0,q-B);for(let F=0;F<t.length;F++){const H=performance.now(),J=t[F];A.forAll(Q=>{var T;Q.paused||Q.removed||(0===F&&Q.ticks++,Q.phases[J]&&(p.time=D,p.deltaTime=0===Q.ticks?b.Milliseconds(0):q,p.elapsedFrameTime=b.Milliseconds(performance.now()-D),p.frameDuration=b.Milliseconds(B-G),null==(T=Q.phases[J])?void 0:T.call(Q,p)))});x[F].record(performance.now()-H)}e();E.record(performance.now()-
D)}};let C=null;const y=new d,x=t.map(D=>new r(D)),E=new r("total");a.FrameTaskHandle=z;a.addFrameTask=function(D){D=new g(D);A.push(D);null==C&&(n=performance.now(),C=requestAnimationFrame(f));return new z(D)};a.debug=w;a.performanceInfo=x;a.performanceTotal=E;a.schedule=function(D){D=new k(D);u.push(D);w.willDispatch||(w.willDispatch=!0,v(h));return D};a.setFrameDuration=function(D){l=Math.max(0,D)};a.waitTicks=function(D=1,q){const B=c.createResolver(),G=()=>{c.isAborted(q)?B.reject(c.createAbortError()):
0===D?B():(--D,v(()=>G()))};G();return B.promise};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/nextTick":function(){define(["./global"],function(a){function m(c){r.push(c);1===r.length&&v(()=>{for(var b of d)b();b=r.slice();r.length=0;for(const f of b)f()})}const v=function(){return a.queueMicrotask?a.queueMicrotask:c=>{a.Promise.resolve().then(c)}}(),r=[];let d=[];(function(c){c.before=function(b){d.push(b);return{remove(){d=d.filter(f=>f!==b)}}}})(m||(m={}));return m})},"esri/core/PerformanceSampler":function(){define(["../chunks/_rollupPluginBabelHelpers"],
function(a){return function(){function m(v,r=29){this.name=v;this._counter=0;this._items=Array(r)}m.prototype.record=function(v){this._items[++this._counter%this._items.length]=v};a._createClass(m,[{key:"median",get:function(){return this._items.slice().sort()[Math.floor(this._items.length/2)]}},{key:"average",get:function(){return this._items.reduce((v,r)=>v+r,0)/this._items.length}},{key:"last",get:function(){return this._items[this._counter%this._items.length]}}]);return m}()})},"esri/core/PooledArray":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./arrayUtils","./HeapSort"],function(a,m,v){function r(d){d.data.length>1.5*d.length&&(d.data.length=Math.floor(1.1*d.length))}return function(){function d(b){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new m.PositionHint;b&&(b.initialSize&&(this.data=Array(b.initialSize)),b.allocator&&(this._allocator=b.allocator),void 0!==b.deallocator&&(this._deallocator=b.deallocator),b.shrink&&(this._shrink=()=>r(this)))}var c=d.prototype;c.toArray=
function(){return this.data.slice(0,this.length)};c.getItemAt=function(b){if(!(0>b||b>=this._length))return this.data[b]};c.clear=function(){this.length=0};c.prune=function(){this.clear();this.data=[]};c.push=function(b){this.data[this._length++]=b};c.pushArray=function(b,f=b.length){for(let e=0;e<f;e++)this.data[this._length++]=b[e]};c.fill=function(b,f){for(let e=0;e<f;e++)this.data[this._length++]=b};c.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));
const b=this.data[this._length];++this._length;return b};c.unshift=function(b){this.data.unshift(b);this._length++;r(this)};c.pop=function(){if(0!==this.length){var b=this.data[this.length-1];--this.length;this._shrink();return b}};c.remove=function(b){const f=m.indexOf(this.data,b,this.length,this._hint);if(-1!==f)return this.data.splice(f,1),--this.length,b};c.removeUnordered=function(b){b=m.removeUnordered(this.data,b,this.length,this._hint);void 0!==b&&--this.length;this._shrink();return b};c.removeUnorderedIndex=
function(b){if(!(b>=this.length||0>b))return this.swapElements(b,this.length-1),this.pop()};c.removeUnorderedMany=function(b,f=b.length,e){this.length=m.removeUnorderedMany(this.data,b,this.length,f,this._hint,e);this._shrink()};c.front=function(){if(0!==this.length)return this.data[0]};c.back=function(){if(0!==this.length)return this.data[this.length-1]};c.swapElements=function(b,f){b>=this.length||f>=this.length||b===f||([this.data[b],this.data[f]]=[this.data[f],this.data[b]])};c.sort=function(b){v.sort(this.data,
0,this.length,b)};c.iterableSort=function(b){return v.iterableSort(this.data,0,this.length,b)};c.some=function(b,f){for(let e=0;e<this.length;++e)if(b.call(f,this.data[e],e,this.data))return!0;return!1};c.filterInPlace=function(b,f){let e=0;for(let h=0;h<this._length;++h){const g=this.data[h];b.call(f,g,h,this.data)&&(this.data[h]=this.data[e],this.data[e]=g,e++)}if(this._deallocator)for(b=e;b<this._length;b++)this.data[b]=this._deallocator(this.data[b]);this._length=e;this._shrink();return this};
c.forAll=function(b,f){const e=this.length,h=this.data;for(let g=0;g<e;++g)b.call(f,h[g],g,h)};c.map=function(b,f){const e=Array(this.length);for(let h=0;h<this.length;++h)e[h]=b.call(f,this.data[h],h,this.data);return e};c.reduce=function(b,f){for(let e=0;e<this.length;++e)f=b(f,this.data[e],e,this.data);return f};c.has=function(b){const f=this.length,e=this.data;for(let h=0;h<f;++h)if(e[h]===b)return!0;return!1};a._createClass(d,[{key:"length",get:function(){return this._length},set:function(b){if(b>
this._length)if(this._allocator)for(;this._length<b;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=b;else{if(this._deallocator)for(let f=b;f<this._length;++f)this.data[f]=this._deallocator(this.data[f]);this._length=b;this._shrink()}}}]);return d}()})},"esri/core/HeapSort":function(){define(function(){var a;(function(m){const v=(d,c,b,f)=>{let e=c;const h=b>>>1,g=d[e-1];for(;c<=h;){c=e<<1;c<b&&0>f(d[c-1],d[c])&&++c;const k=d[c-1];if(0>=f(k,g))break;d[e-1]=k;
e=c}d[e-1]=g},r=(d,c)=>d<c?-1:d>c?1:0;m.sort=function(d,c,b,f){void 0===c&&(c=0);void 0===b&&(b=d.length);void 0===f&&(f=r);for(var e=b>>>1;e>c;e--)v(d,e,b,f);e=c+1;for(--b;b>c;b--){const h=d[c];d[c]=d[b];d[b]=h;v(d,e,b,f)}};m.iterableSort=function*(d,c,b,f){void 0===c&&(c=0);void 0===b&&(b=d.length);void 0===f&&(f=r);for(var e=b>>>1;e>c;e--)v(d,e,b,f),yield;e=c+1;for(--b;b>c;b--){const h=d[c];d[c]=d[b];d[b]=h;v(d,e,b,f);yield}}})(a||(a={}));return a})},"esri/core/time":function(){define(["exports"],
function(a){a.Milliseconds=function(m){return m};a.MillisecondsFromSeconds=function(m){return 1E3*m};a.Seconds=function(m){return m};a.SecondsFromMilliseconds=function(m){return.001*m};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/SetUtils":function(){define(["exports","./maybe"],function(a,m){a.someSet=function(v,r){for(const d of v.entries())if(r(d[0]))return!0;return!1};a.union=function(v,r){const d=new Set;m.isSome(v)&&v.forEach(c=>d.add(c));m.isSome(r)&&r.forEach(c=>d.add(c));
return d};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","./tracking","./tracking/SimpleTrackingTarget"],function(a,m,v){function r(b,f,e={runImmediately:!1}){function h(){if(g&&!n)if(d)c.includes(h)||c.unshift(h);else{var l=k;g.clear();n=d=!0;k=m.runTracked(g,b);d=n=!1;for(f(k,l);c.length;)c.pop()()}}let g=new v.SimpleTrackingTarget(h),k=null,n=!1;n=!0;k=m.runTracked(g,b);n=!1;e.runImmediately&&f(k,k);return{remove:function(){g&&
(g.destroy(),k=g=null)}}}let d=!1;const c=[];a.autorun=function(b){function f(){if(e&&!h)if(d)c.includes(f)||c.unshift(f);else for(e.clear(),h=d=!0,m.runTracked(e,b),d=h=!1;c.length;)c.pop()()}let e=new v.SimpleTrackingTarget(f),h=!1;h=!0;m.runTracked(e,b);h=!1;return{remove:function(){e&&(e.destroy(),e=null)}}};a.reaction=r;a.reactionAsync=function(b,f){function e(){if(!h)return null;h.clear();return g=m.runTracked(h,b)}let h=new v.SimpleTrackingTarget(function(){f(g,e)}),g=null;e();return{remove:function(){h&&
(h.destroy(),h=null);g=null}}};a.reactionInit=function(b,f){return r(b,f,{runImmediately:!0})};a.when=function(b,f){return r(()=>b(),e=>{e&&f()},{runImmediately:!0})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){let m=function(){function v(d){this._notify=d;this._accessed=[];this._handles=[];this._invalidCount=0}var r=v.prototype;r.destroy=function(){this._accessed.length=0;this.clear()};r.onInvalidated=
function(){this._invalidCount++};r.onCommitted=function(){const d=this._invalidCount;1===d?(this._invalidCount=0,this._notify()):this._invalidCount=0<d?d-1:0};r.onObservableAccessed=function(d){this._accessed.includes(d)||this._accessed.push(d)};r.onTrackingEnd=function(){const d=this._handles,c=this._accessed;for(let b=0;b<c.length;++b)d.push(c[b].observe(this));c.length=0};r.clear=function(){const d=this._handles;for(let c=0;c<d.length;++c)d[c].remove();d.length=0};return v}();a.SimpleTrackingTarget=
m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,m,v,r){function d(b,f,e=c){if(f&&"object"===typeof f){var h=v.getProperties(b),g=h.metadatas,k={};for(const y of Object.getOwnPropertyNames(f)){var n=k,l=g,p=y,t=f,u=e,A=r.originSpecificReadPropertyDefinition(l[p],u);A&&(!A.read||!1!==A.read.enabled&&!A.read.source)&&(n[p]=!0);for(const x of Object.getOwnPropertyNames(l)){A=
r.originSpecificReadPropertyDefinition(l[x],u);a:{var z=p;var w=t;if(A&&A.read&&!1!==A.read.enabled&&A.read.source){A=A.read.source;if("string"===typeof A){if(A===z||-1<A.indexOf(".")&&0===A.indexOf(z)&&m.exists(A,w)){z=!0;break a}}else for(const E of A)if(E===z||-1<E.indexOf(".")&&0===E.indexOf(z)&&m.exists(E,w)){z=!0;break a}z=!1}else z=!1}z&&(n[x]=!0)}}h.setDefaultOrigin(e.origin);for(var C of Object.getOwnPropertyNames(k))l=(l=(n=r.originSpecificReadPropertyDefinition(g[C],e).read)&&n.source)&&
"string"===typeof l?m.valueOf(f,l):f[C],n&&n.reader&&(l=n.reader.call(b,l,f,e)),void 0!==l&&h.set(C,l);if(!e||!e.ignoreDefaults)for(const y of Object.getOwnPropertyNames(g))k[y]||(C=b,f=y,g=h,n=e,l=(l=r.originSpecificPropertyDefinition(g.metadatas[f],"any",n))&&l.default,void 0!==l&&(C="function"===typeof l?l.call(C,f,n):l,void 0!==C&&g.set(f,C)));h.setDefaultOrigin("user")}}const c={origin:"service"};a.default=d;a.read=d;a.readLoadable=function(b,f,e,h=c){var g;f={...h,messages:[]};e(f);null==(g=
f.messages)?void 0:g.forEach(k=>{"warning"!==k.type||b.loaded?h&&h.messages&&h.messages.push(k):b.loadWarnings.push(k)})};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,m,v,r,d,c,b){function f(k,n,l,p,t){var u,A;const z={};null==(u=n.write)?void 0:null==(A=u.writer)?void 0:A.call(k,p,z,l,t);return z}function e(k,n,l,p,
t,u){if(!p||!p.write)return!1;var A=k.get(l);if(!t&&p.write.overridePolicy){var z=p.write.overridePolicy.call(k,A,l,u);void 0!==z&&(t=z)}t||(t=p.write);if(!t||!1===t.enabled)return!1;if((null===A&&!t.allowNull||void 0===A)&&t.isRequired)return(n=new v("web-document-write:property-required",`Missing value for required property '${l}' on '${k.declaredClass}'`,{propertyName:l,target:k}),u)&&u.messages?u.messages.push(n):n&&!u&&g.error(n.name,n.message),!1;if(void 0===A||null===A&&!t.allowNull)return!1;
z=p.default;void 0===z?A=!1:null!=p.defaultEquals?A=p.defaultEquals(A):"function"===typeof z?Array.isArray(A)?(k=z.call(k,l,u),A=m.equals(k,A)):A=!1:A=z===A;return A?!1:void 0!==p.default?!0:!t.ignoreOrigin&&u&&u.origin&&n.store.originOf(l)<d.nameToId(u.origin)?!1:!0}function h(k,n,l){if(k&&"function"===typeof k.toJSON&&(!k.toJSON.isDefaultToJSON||!k.write))return c.merge(n,k.toJSON());const p=c.getProperties(k),t=p.metadatas;for(const z in t){const w=b.originSpecificWritePropertyDefinition(t[z],
l);if(!e(k,p,z,w,void 0,l))continue;const C=k.get(z),y=f(k,w,w.write&&"string"===typeof w.write.target?w.write.target:z,C,l);if(0<Object.keys(y).length){var u,A;n=c.merge(n,y);null!=l&&null!=(u=l.resources)&&null!=(A=u.pendingOperations)&&A.length&&Promise.all(l.resources.pendingOperations).then(()=>c.merge(n,y));l&&l.writtenProperties&&l.writtenProperties.push({target:k,propName:z,oldOrigin:d.idToReadableName(p.store.originOf(z)),newOrigin:l.origin})}}return n}const g=r.getLogger("esri.core.accessorSupport.write");
a.default=h;a.willPropertyWrite=function(k,n,l,p){const t=c.getProperties(k),u=b.originSpecificWritePropertyDefinition(t.metadatas[n],p);return u?e(k,t,n,u,l,p):!1};a.write=h;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","../../object","./property"],function(a,m,v){a.reader=function(r,d,c){let b,f;void 0===d||Array.isArray(d)?(f=r,c=d,b=[void 0]):(f=d,b=Array.isArray(r)?r:[r]);return(e,h)=>{const g=e.constructor.prototype;
b.forEach(k=>{k=v.propertyJSONMeta(e,k,f);k.read&&"object"!==typeof k.read&&(k.read={});m.setDeepValue("read.reader",g[h],k);c&&(k.read.source=(k.read.source||[]).concat(c))})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/SpatialReference":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,m,v,r,d,c,b,f,e){var h;v=h=function(g){function k(l){l=g.call(this,l)||this;l.latestWkid=null;l.wkid=null;l.wkt=null;l.vcsWkid=null;l.latestVcsWkid=null;l.imageCoordinateSystem=null;return l}a._inheritsLoose(k,g);k.fromJSON=function(l){if(!l)return null;if(l.wkid){if(102100===l.wkid)return h.WebMercator;if(4326===l.wkid)return h.WGS84}const p=new h;p.read(l);return p};var n=k.prototype;n.normalizeCtorArgs=function(l){return l&&"object"===typeof l?l:{["string"===typeof l?"wkt":"wkid"]:l}};
n.writeWkt=function(l,p){this.wkid||(p.wkt=l)};n.clone=function(){if(this===h.WGS84)return h.WGS84;if(this===h.WebMercator)return h.WebMercator;const l=new h;null!=this.wkid?(l.wkid=this.wkid,null!=this.latestWkid&&(l.latestWkid=this.latestWkid),null!=this.vcsWkid&&(l.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(l.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(l.wkt=this.wkt);this.imageCoordinateSystem&&(l.imageCoordinateSystem=r.clone(this.imageCoordinateSystem));return l};n.equals=function(l){if(null==
l)return!1;if(this.imageCoordinateSystem||l.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==l.imageCoordinateSystem)return!1;const {id:p,referenceServiceName:t}=l.imageCoordinateSystem,{geodataXform:u}=l.imageCoordinateSystem,A=this.imageCoordinateSystem;return null==p||u?JSON.stringify(A)===JSON.stringify(l.imageCoordinateSystem):t?A.id===p&&A.referenceServiceName===t:A.id===p}return e.equals(this,l)};n.toJSON=function(l){return this.write(void 0,l)};a._createClass(k,[{key:"isWGS84",
get:function(){return e.isWGS84(this)}},{key:"isWebMercator",get:function(){return e.isWebMercator(this)}},{key:"isGeographic",get:function(){return e.isGeographic(this)}},{key:"isWrappable",get:function(){return e.isWrappable(this)}}]);return k}(v.JSONSupport);v.GCS_NAD_1927=null;v.WGS84=null;v.WebMercator=null;m.__decorate([c.property({readOnly:!0})],v.prototype,"isWGS84",null);m.__decorate([c.property({readOnly:!0})],v.prototype,"isWebMercator",null);m.__decorate([c.property({readOnly:!0})],v.prototype,
"isGeographic",null);m.__decorate([c.property({readOnly:!0})],v.prototype,"isWrappable",null);m.__decorate([c.property({type:d.Integer,json:{write:!0}})],v.prototype,"latestWkid",void 0);m.__decorate([c.property({type:d.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],v.prototype,"wkid",void 0);m.__decorate([c.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],
v.prototype,"wkt",void 0);m.__decorate([f.writer("wkt"),f.writer("web-scene","wkt")],v.prototype,"writeWkt",null);m.__decorate([c.property({type:d.Integer,json:{write:!0}})],v.prototype,"vcsWkid",void 0);m.__decorate([c.property({type:d.Integer,json:{write:!0}})],v.prototype,"latestVcsWkid",void 0);m.__decorate([c.property()],v.prototype,"imageCoordinateSystem",void 0);v=h=m.__decorate([b.subclass("esri.geometry.SpatialReference")],v);v.prototype.toJSON.isDefaultToJSON=!0;v.GCS_NAD_1927=new v({wkid:4267,
wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});v.WGS84=new v(e.WGS84);v.WebMercator=new v(e.WebMercator);Object.freeze&&(Object.freeze(v.GCS_NAD_1927),Object.freeze(v.WGS84),Object.freeze(v.WebMercator));return v})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","../../object","./property"],function(a,m,v){a.writer=function(r,d,c){let b,f;void 0===
d?(f=r,b=[void 0]):"string"!==typeof d?(f=r,b=[void 0],c=d):(f=d,b=Array.isArray(r)?r:[r]);return(e,h)=>{const g=e.constructor.prototype;b.forEach(k=>{k=v.propertyJSONMeta(e,k,f);k.write&&"object"!==typeof k.write&&(k.write={});c&&m.setDeepValue("write.target",c,k);m.setDeepValue("write.writer",g[h],k)})}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/maybe","../../core/string","./WKIDUnitConversion"],function(a,
m,v,r){function d(p){return e(p)&&null!=p.wkid&&!0===h[p.wkid]}function c(p){return 104971===p||104905===p}function b(p){return e(p)&&null!=p.wkid&&c(p.wkid)}function f(p){return e(p)&&null!=p.wkid&&104903===p.wkid}function e(p){return m.isSome(p)&&(null!=p.wkid&&2E3<=p.wkid||null!=p.wkt)}const h={102113:!0,102100:!0,3857:!0,3785:!0},g={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0},k=[-2.0037508342788905E7,2.0037508342788905E7],n=[-2.0037508342787E7,2.0037508342787E7],l={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:k,origin:n,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:k,origin:n,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:k,origin:n,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:k,origin:n,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};v={wkid:4326,wkt:v.replace(l[4326].wkTemplate,{Central_Meridian:"0.0"})};a.WGS84=v;a.WebMercator={wkid:102100,latestWkid:3857};a.equals=function(p,t){return m.isNone(p)||m.isNone(t)?!1:p===t?!0:null!=p.wkid||null!=t.wkid?p.wkid===t.wkid||d(p)&&d(t)||null!=t.latestWkid&&p.wkid===t.latestWkid||null!=p.latestWkid&&t.wkid===p.latestWkid:p.wkt&&t.wkt?p.wkt.toUpperCase()===t.wkt.toUpperCase():!1};a.getInfo=function(p){return e(p)&&p.wkid?l[p.wkid]:null};a.isCGCS2000=function(p){return e(p)&&4490===
p.wkid};a.isEarth=function(p){return!(b(p)||f(p))};a.isGeographic=function(p){return e(p)?p.wkid?null==r[p.wkid]:p.wkt?!!/^\s*GEOGCS/i.test(p.wkt):!1:!1};a.isMars=b;a.isMoon=f;a.isValid=e;a.isWGS84=function(p){return e(p)&&4326===p.wkid};a.isWKIDFromMars=c;a.isWKIDFromMoon=function(p){return 104903===p};a.isWebMercator=d;a.isWrappable=function(p){return e(p)&&null!=p.wkid&&!0===g[p.wkid]};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;
const m={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,
2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,
3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,
3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,
3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,
5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,
6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,
6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,
6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,
6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,
7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,
7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,
8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,
8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,
8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,
24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,
31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,
102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,
103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,
103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,
103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)m[a]=0;for(a=2056;2065>=a;a++)m[a]=0;for(a=2067;2135>=a;a++)m[a]=
0;for(a=2137;2154>=a;a++)m[a]=0;for(a=2161;2170>=a;a++)m[a]=0;for(a=2172;2193>=a;a++)m[a]=0;for(a=2195;2198>=a;a++)m[a]=0;for(a=2200;2203>=a;a++)m[a]=0;for(a=2205;2217>=a;a++)m[a]=0;for(a=2222;2224>=a;a++)m[a]=1;for(a=2225;2250>=a;a++)m[a]=2;for(a=2251;2253>=a;a++)m[a]=1;for(a=2257;2264>=a;a++)m[a]=2;for(a=2274;2279>=a;a++)m[a]=2;for(a=2280;2282>=a;a++)m[a]=1;for(a=2283;2289>=a;a++)m[a]=2;for(a=2290;2292>=a;a++)m[a]=0;for(a=2308;2313>=a;a++)m[a]=0;for(a=2315;2491>=a;a++)m[a]=0;for(a=2494;2866>=a;a++)m[a]=
0;for(a=2867;2869>=a;a++)m[a]=1;for(a=2870;2888>=a;a++)m[a]=2;for(a=2891;2895>=a;a++)m[a]=2;for(a=2896;2898>=a;a++)m[a]=1;for(a=2902;2908>=a;a++)m[a]=2;for(a=2915;2920>=a;a++)m[a]=2;for(a=2921;2923>=a;a++)m[a]=1;for(a=2924;2930>=a;a++)m[a]=2;for(a=2931;2962>=a;a++)m[a]=0;for(a=2964;2968>=a;a++)m[a]=2;for(a=2969;2973>=a;a++)m[a]=0;for(a=2975;2991>=a;a++)m[a]=0;for(a=2995;3051>=a;a++)m[a]=0;for(a=3054;3079>=a;a++)m[a]=0;for(a=3081;3088>=a;a++)m[a]=0;for(a=3092;3101>=a;a++)m[a]=0;for(a=3106;3138>=a;a++)m[a]=
0;for(a=3146;3151>=a;a++)m[a]=0;for(a=3153;3166>=a;a++)m[a]=0;for(a=3168;3172>=a;a++)m[a]=0;for(a=3174;3203>=a;a++)m[a]=0;for(a=3294;3358>=a;a++)m[a]=0;for(a=3367;3403>=a;a++)m[a]=0;for(a=3408;3416>=a;a++)m[a]=0;for(a=3417;3438>=a;a++)m[a]=2;for(a=3441;3446>=a;a++)m[a]=2;for(a=3447;3450>=a;a++)m[a]=0;for(a=3451;3459>=a;a++)m[a]=2;for(a=3460;3478>=a;a++)m[a]=0;for(a=3554;3559>=a;a++)m[a]=0;for(a=3560;3570>=a;a++)m[a]=2;for(a=3571;3581>=a;a++)m[a]=0;for(a=3594;3597>=a;a++)m[a]=0;for(a=3601;3604>=a;a++)m[a]=
0;for(a=3637;3639>=a;a++)m[a]=0;for(a=3665;3667>=a;a++)m[a]=0;for(a=3693;3695>=a;a++)m[a]=0;for(a=3701;3727>=a;a++)m[a]=0;for(a=3728;3739>=a;a++)m[a]=2;for(a=3740;3751>=a;a++)m[a]=0;for(a=3753;3760>=a;a++)m[a]=2;for(a=3761;3773>=a;a++)m[a]=0;for(a=3775;3777>=a;a++)m[a]=0;for(a=3779;3781>=a;a++)m[a]=0;for(a=3783;3785>=a;a++)m[a]=0;for(a=3788;3791>=a;a++)m[a]=0;for(a=3797;3802>=a;a++)m[a]=0;for(a=3814;3816>=a;a++)m[a]=0;for(a=3825;3829>=a;a++)m[a]=0;for(a=3832;3841>=a;a++)m[a]=0;for(a=3844;3852>=a;a++)m[a]=
0;for(a=3873;3885>=a;a++)m[a]=0;for(a=3890;3893>=a;a++)m[a]=0;for(a=3907;3912>=a;a++)m[a]=0;for(a=3942;3950>=a;a++)m[a]=0;for(a=3968;3970>=a;a++)m[a]=0;for(a=3973;3976>=a;a++)m[a]=0;for(a=3986;3989>=a;a++)m[a]=0;for(a=3994;3997>=a;a++)m[a]=0;for(a=4048;4051>=a;a++)m[a]=0;for(a=4056;4063>=a;a++)m[a]=0;for(a=4093;4096>=a;a++)m[a]=0;for(a=4390;4398>=a;a++)m[a]=0;for(a=4399;4413>=a;a++)m[a]=2;for(a=4418;4433>=a;a++)m[a]=2;for(a=4455;4457>=a;a++)m[a]=2;for(a=4484;4489>=a;a++)m[a]=0;for(a=4491;4554>=a;a++)m[a]=
0;for(a=4568;4589>=a;a++)m[a]=0;for(a=4652;4656>=a;a++)m[a]=0;for(a=4766;4800>=a;a++)m[a]=0;for(a=5014;5016>=a;a++)m[a]=0;for(a=5069;5072>=a;a++)m[a]=0;for(a=5105;5130>=a;a++)m[a]=0;for(a=5173;5188>=a;a++)m[a]=0;for(a=5253;5259>=a;a++)m[a]=0;for(a=5269;5275>=a;a++)m[a]=0;for(a=5292;5311>=a;a++)m[a]=0;for(a=5329;5331>=a;a++)m[a]=0;for(a=5343;5349>=a;a++)m[a]=0;for(a=5355;5357>=a;a++)m[a]=0;for(a=5387;5389>=a;a++)m[a]=0;for(a=5459;5463>=a;a++)m[a]=0;for(a=5479;5482>=a;a++)m[a]=0;for(a=5518;5520>=a;a++)m[a]=
0;for(a=5530;5539>=a;a++)m[a]=0;for(a=5550;5552>=a;a++)m[a]=0;for(a=5562;5583>=a;a++)m[a]=0;for(a=5623;5625>=a;a++)m[a]=2;for(a=5631;5639>=a;a++)m[a]=0;for(a=5649;5653>=a;a++)m[a]=0;for(a=5663;5680>=a;a++)m[a]=0;for(a=5682;5685>=a;a++)m[a]=0;for(a=5875;5877>=a;a++)m[a]=0;for(a=5896;5899>=a;a++)m[a]=0;for(a=5921;5940>=a;a++)m[a]=0;for(a=6050;6125>=a;a++)m[a]=0;for(a=6244;6275>=a;a++)m[a]=0;for(a=6328;6348>=a;a++)m[a]=0;for(a=6350;6356>=a;a++)m[a]=0;for(a=6366;6372>=a;a++)m[a]=0;for(a=6381;6387>=a;a++)m[a]=
0;for(a=6393;6404>=a;a++)m[a]=0;for(a=6480;6483>=a;a++)m[a]=0;for(a=6511;6514>=a;a++)m[a]=0;for(a=6579;6581>=a;a++)m[a]=0;for(a=6619;6624>=a;a++)m[a]=0;for(a=6625;6627>=a;a++)m[a]=2;for(a=6628;6632>=a;a++)m[a]=0;for(a=6634;6637>=a;a++)m[a]=0;for(a=6669;6692>=a;a++)m[a]=0;for(a=6707;6709>=a;a++)m[a]=0;for(a=6720;6723>=a;a++)m[a]=0;for(a=6732;6738>=a;a++)m[a]=0;for(a=6931;6933>=a;a++)m[a]=0;for(a=6956;6959>=a;a++)m[a]=0;for(a=7005;7007>=a;a++)m[a]=0;for(a=7057;7070>=a;a++)m[a]=2;for(a=7074;7082>=a;a++)m[a]=
0;for(a=7109;7118>=a;a++)m[a]=0;for(a=7119;7127>=a;a++)m[a]=1;for(a=7374;7376>=a;a++)m[a]=0;for(a=7528;7586>=a;a++)m[a]=0;for(a=7587;7645>=a;a++)m[a]=2;for(a=7692;7696>=a;a++)m[a]=0;for(a=7755;7787>=a;a++)m[a]=0;for(a=7791;7795>=a;a++)m[a]=0;for(a=7799;7801>=a;a++)m[a]=0;for(a=7803;7805>=a;a++)m[a]=0;for(a=7825;7831>=a;a++)m[a]=0;for(a=7845;7859>=a;a++)m[a]=0;for(a=8013;8032>=a;a++)m[a]=0;for(a=8065;8068>=a;a++)m[a]=1;for(a=8518;8529>=a;a++)m[a]=2;for(a=8533;8536>=a;a++)m[a]=2;for(a=8538;8540>=a;a++)m[a]=
2;for(a=8677;8679>=a;a++)m[a]=0;for(a=8836;8840>=a;a++)m[a]=0;for(a=8857;8859>=a;a++)m[a]=0;for(a=8908;8910>=a;a++)m[a]=0;for(a=9154;9159>=a;a++)m[a]=0;for(a=9205;9218>=a;a++)m[a]=0;for(a=9271;9273>=a;a++)m[a]=0;for(a=9295;9297>=a;a++)m[a]=0;for(a=9356;9360>=a;a++)m[a]=0;for(a=9404;9407>=a;a++)m[a]=0;for(a=9476;9482>=a;a++)m[a]=0;for(a=9487;9494>=a;a++)m[a]=0;for(a=9697;9699>=a;a++)m[a]=0;for(a=20002;20032>=a;a++)m[a]=0;for(a=20062;20092>=a;a++)m[a]=0;for(a=20135;20138>=a;a++)m[a]=0;for(a=20248;20258>=
a;a++)m[a]=0;for(a=20348;20358>=a;a++)m[a]=0;for(a=20436;20440>=a;a++)m[a]=0;for(a=20822;20824>=a;a++)m[a]=0;for(a=20934;20936>=a;a++)m[a]=0;for(a=21035;21037>=a;a++)m[a]=0;for(a=21095;21097>=a;a++)m[a]=0;for(a=21148;21150>=a;a++)m[a]=0;for(a=21413;21423>=a;a++)m[a]=0;for(a=21453;21463>=a;a++)m[a]=0;for(a=21473;21483>=a;a++)m[a]=0;for(a=21780;21782>=a;a++)m[a]=0;for(a=21891;21894>=a;a++)m[a]=0;for(a=21896;21899>=a;a++)m[a]=0;for(a=22171;22177>=a;a++)m[a]=0;for(a=22181;22187>=a;a++)m[a]=0;for(a=22191;22197>=
a;a++)m[a]=0;for(a=22234;22236>=a;a++)m[a]=0;for(a=22521;22525>=a;a++)m[a]=0;for(a=22991;22994>=a;a++)m[a]=0;for(a=23028;23038>=a;a++)m[a]=0;for(a=23830;23853>=a;a++)m[a]=0;for(a=23866;23872>=a;a++)m[a]=0;for(a=23877;23884>=a;a++)m[a]=0;for(a=23886;23894>=a;a++)m[a]=0;for(a=23946;23948>=a;a++)m[a]=0;for(a=24311;24313>=a;a++)m[a]=0;for(a=24342;24347>=a;a++)m[a]=0;for(a=24370;24374>=a;a++)m[a]=10;for(a=24375;24381>=a;a++)m[a]=0;for(a=24718;24721>=a;a++)m[a]=0;for(a=24817;24821>=a;a++)m[a]=0;for(a=24877;24882>=
a;a++)m[a]=0;for(a=24891;24893>=a;a++)m[a]=0;for(a=25391;25395>=a;a++)m[a]=0;for(a=25828;25838>=a;a++)m[a]=0;for(a=26191;26195>=a;a++)m[a]=0;for(a=26391;26393>=a;a++)m[a]=0;for(a=26701;26722>=a;a++)m[a]=0;for(a=26729;26799>=a;a++)m[a]=2;for(a=26801;26803>=a;a++)m[a]=2;for(a=26811;26813>=a;a++)m[a]=2;for(a=26847;26870>=a;a++)m[a]=2;for(a=26891;26899>=a;a++)m[a]=0;for(a=26901;26923>=a;a++)m[a]=0;for(a=26929;26946>=a;a++)m[a]=0;for(a=26948;26998>=a;a++)m[a]=0;for(a=27037;27040>=a;a++)m[a]=0;for(a=27205;27232>=
a;a++)m[a]=0;for(a=27258;27260>=a;a++)m[a]=0;for(a=27391;27398>=a;a++)m[a]=0;for(a=27561;27564>=a;a++)m[a]=0;for(a=27571;27574>=a;a++)m[a]=0;for(a=27581;27584>=a;a++)m[a]=0;for(a=27591;27594>=a;a++)m[a]=0;for(a=28191;28193>=a;a++)m[a]=0;for(a=28348;28358>=a;a++)m[a]=0;for(a=28402;28432>=a;a++)m[a]=0;for(a=28462;28492>=a;a++)m[a]=0;for(a=29118;29122>=a;a++)m[a]=0;for(a=29168;29172>=a;a++)m[a]=0;for(a=29177;29185>=a;a++)m[a]=0;for(a=29187;29195>=a;a++)m[a]=0;for(a=29900;29903>=a;a++)m[a]=0;for(a=30161;30179>=
a;a++)m[a]=0;for(a=30491;30494>=a;a++)m[a]=0;for(a=30729;30732>=a;a++)m[a]=0;for(a=31251;31259>=a;a++)m[a]=0;for(a=31265;31268>=a;a++)m[a]=0;for(a=31275;31279>=a;a++)m[a]=0;for(a=31281;31297>=a;a++)m[a]=0;for(a=31461;31469>=a;a++)m[a]=0;for(a=31491;31495>=a;a++)m[a]=0;for(a=31917;31922>=a;a++)m[a]=0;for(a=31965;32E3>=a;a++)m[a]=0;for(a=32001;32003>=a;a++)m[a]=2;for(a=32005;32031>=a;a++)m[a]=2;for(a=32033;32060>=a;a++)m[a]=2;for(a=32064;32067>=a;a++)m[a]=2;for(a=32074;32077>=a;a++)m[a]=2;for(a=32081;32086>=
a;a++)m[a]=0;for(a=32107;32130>=a;a++)m[a]=0;for(a=32133;32158>=a;a++)m[a]=0;for(a=32164;32167>=a;a++)m[a]=2;for(a=32180;32199>=a;a++)m[a]=0;for(a=32201;32260>=a;a++)m[a]=0;for(a=32301;32360>=a;a++)m[a]=0;for(a=32601;32662>=a;a++)m[a]=0;for(a=32664;32667>=a;a++)m[a]=2;for(a=32701;32761>=a;a++)m[a]=0;for(a=53001;53004>=a;a++)m[a]=0;for(a=53008;53019>=a;a++)m[a]=0;for(a=53021;53032>=a;a++)m[a]=0;for(a=53034;53037>=a;a++)m[a]=0;for(a=53042;53046>=a;a++)m[a]=0;for(a=53074;53080>=a;a++)m[a]=0;for(a=54001;54004>=
a;a++)m[a]=0;for(a=54008;54019>=a;a++)m[a]=0;for(a=54021;54032>=a;a++)m[a]=0;for(a=54034;54037>=a;a++)m[a]=0;for(a=54042;54046>=a;a++)m[a]=0;for(a=54048;54053>=a;a++)m[a]=0;for(a=54074;54080>=a;a++)m[a]=0;for(a=54098;54101>=a;a++)m[a]=0;for(a=102001;102040>=a;a++)m[a]=0;for(a=102042;102063>=a;a++)m[a]=0;for(a=102065;102067>=a;a++)m[a]=0;for(a=102070;102117>=a;a++)m[a]=0;for(a=102122;102216>=a;a++)m[a]=0;for(a=102221;102377>=a;a++)m[a]=0;for(a=102382;102388>=a;a++)m[a]=0;for(a=102389;102398>=a;a++)m[a]=
2;for(a=102399;102444>=a;a++)m[a]=0;for(a=102445;102447>=a;a++)m[a]=2;for(a=102448;102458>=a;a++)m[a]=0;for(a=102459;102468>=a;a++)m[a]=2;for(a=102469;102499>=a;a++)m[a]=0;for(a=102500;102519>=a;a++)m[a]=1;for(a=102520;102524>=a;a++)m[a]=0;for(a=102525;102529>=a;a++)m[a]=2;for(a=102530;102588>=a;a++)m[a]=0;for(a=102590;102598>=a;a++)m[a]=0;for(a=102601;102603>=a;a++)m[a]=0;for(a=102605;102628>=a;a++)m[a]=0;for(a=102629;102646>=a;a++)m[a]=2;for(a=102648;102700>=a;a++)m[a]=2;for(a=102701;102703>=a;a++)m[a]=
0;for(a=102707;102730>=a;a++)m[a]=2;for(a=102733;102758>=a;a++)m[a]=2;for(a=102767;102900>=a;a++)m[a]=0;for(a=102965;102969>=a;a++)m[a]=0;for(a=102971;102973>=a;a++)m[a]=0;for(a=102975;102989>=a;a++)m[a]=0;for(a=102990;102992>=a;a++)m[a]=1;for(a=102997;103002>=a;a++)m[a]=0;for(a=103003;103008>=a;a++)m[a]=2;for(a=103009;103011>=a;a++)m[a]=0;for(a=103012;103014>=a;a++)m[a]=2;for(a=103019;103021>=a;a++)m[a]=0;for(a=103022;103024>=a;a++)m[a]=2;for(a=103029;103031>=a;a++)m[a]=0;for(a=103032;103034>=a;a++)m[a]=
2;for(a=103065;103068>=a;a++)m[a]=0;for(a=103074;103076>=a;a++)m[a]=0;for(a=103077;103079>=a;a++)m[a]=1;for(a=103080;103082>=a;a++)m[a]=0;for(a=103083;103085>=a;a++)m[a]=2;for(a=103090;103093>=a;a++)m[a]=0;for(a=103097;103099>=a;a++)m[a]=0;for(a=103100;103102>=a;a++)m[a]=2;for(a=103107;103109>=a;a++)m[a]=0;for(a=103110;103112>=a;a++)m[a]=2;for(a=103113;103116>=a;a++)m[a]=0;for(a=103117;103120>=a;a++)m[a]=2;for(a=103153;103157>=a;a++)m[a]=0;for(a=103158;103162>=a;a++)m[a]=2;for(a=103163;103165>=a;a++)m[a]=
0;for(a=103166;103168>=a;a++)m[a]=1;for(a=103169;103171>=a;a++)m[a]=2;for(a=103186;103188>=a;a++)m[a]=0;for(a=103189;103191>=a;a++)m[a]=2;for(a=103192;103195>=a;a++)m[a]=0;for(a=103196;103199>=a;a++)m[a]=2;for(a=103200;103224>=a;a++)m[a]=0;for(a=103225;103227>=a;a++)m[a]=1;for(a=103232;103237>=a;a++)m[a]=0;for(a=103238;103243>=a;a++)m[a]=2;for(a=103244;103246>=a;a++)m[a]=0;for(a=103247;103249>=a;a++)m[a]=2;for(a=103254;103256>=a;a++)m[a]=0;for(a=103257;103259>=a;a++)m[a]=2;for(a=103264;103266>=a;a++)m[a]=
0;for(a=103267;103269>=a;a++)m[a]=2;for(a=103300;103375>=a;a++)m[a]=0;for(a=103381;103383>=a;a++)m[a]=0;for(a=103384;103386>=a;a++)m[a]=1;for(a=103387;103389>=a;a++)m[a]=0;for(a=103390;103392>=a;a++)m[a]=2;for(a=103397;103399>=a;a++)m[a]=0;for(a=103400;103471>=a;a++)m[a]=2;for(a=103476;103478>=a;a++)m[a]=0;for(a=103479;103481>=a;a++)m[a]=2;for(a=103486;103488>=a;a++)m[a]=0;for(a=103489;103491>=a;a++)m[a]=2;for(a=103492;103495>=a;a++)m[a]=0;for(a=103496;103499>=a;a++)m[a]=2;for(a=103528;103543>=a;a++)m[a]=
0;for(a=103544;103548>=a;a++)m[a]=2;for(a=103549;103551>=a;a++)m[a]=0;for(a=103552;103554>=a;a++)m[a]=1;for(a=103555;103557>=a;a++)m[a]=2;for(a=103558;103560>=a;a++)m[a]=0;for(a=103571;103573>=a;a++)m[a]=0;for(a=103574;103576>=a;a++)m[a]=2;for(a=103577;103580>=a;a++)m[a]=0;for(a=103581;103583>=a;a++)m[a]=2;for(a=103595;103694>=a;a++)m[a]=0;for(a=103696;103699>=a;a++)m[a]=0;for(a=103700;103793>=a;a++)m[a]=2;for(a=103794;103872>=a;a++)m[a]=0;for(a=103900;103971>=a;a++)m[a]=2;return m})},"esri/geometry/Point":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,m,v,r,d,c,b,f,e,h,g,k,n,l,p,t,u){function A(y){return y&&("esri.geometry.SpatialReference"===y.declaredClass||null!=y.wkid)}var z;const w=[0,0],C=v.getLogger("esri.geometry.Point");v=z=function(y){function x(...D){D=y.call(this,...D)||this;D.x=0;D.y=0;D.z=void 0;D.m=void 0;D.type="point";return D}a._inheritsLoose(x,y);x.copy=function(D,q){q._set("x",D._get("x"));q._set("y",D._get("y"));q._set("z",D._get("z"));q._set("m",D._get("m"));D=D._get("spatialReference");q._set("spatialReference",
Object.isFrozen(D)?D:D.clone())};var E=x.prototype;E.normalizeCtorArgs=function(D,q,B,G,F){let H;if(Array.isArray(D))H=D,F=q,D=H[0],q=H[1],B=H[2],G=H[3];else if(D&&"object"===typeof D){if(H=D,D=null!=H.x?H.x:H.longitude,q=null!=H.y?H.y:H.latitude,B=H.z,G=H.m,(F=H.spatialReference)&&"esri.geometry.SpatialReference"!==F.declaredClass&&(F=new n(F)),null!=H.longitude||null!=H.latitude)null==H.longitude?C.warn(".longitude\x3d","Latitude was defined without longitude"):null==H.latitude?C.warn(".latitude\x3d",
"Longitude was defined without latitude"):!H.declaredClass&&F&&F.isWebMercator&&(q=u.lngLatToXY(H.longitude,H.latitude,w),D=q[0],q=q[1])}else A(B)?(F=B,B=null):A(G)&&(F=G,G=null);D={x:D,y:q};null==D.x&&null!=D.y?C.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==D.y&&null!=D.x&&C.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=F&&(D.spatialReference=F);null!=B&&(D.z=B);null!=G&&(D.m=G);return D};E.writeX=function(D,q,B){q[B]=isNaN(D)?"NaN":D};E.readX=
function(D){return"string"===typeof D?NaN:D};E.clone=function(){const D=new z;D.x=this.x;D.y=this.y;D.z=this.z;D.m=this.m;D.spatialReference=this.spatialReference;return D};E.copy=function(D){z.copy(D,this);return this};E.equals=function(D){if(!D)return!1;const {x:q,y:B,z:G,m:F,spatialReference:H}=this,{z:J,m:Q}=D;let {x:T,y:R,spatialReference:V}=D;if(!H.equals(V))if(H.isWebMercator&&V.isWGS84)[T,R]=u.lngLatToXY(T,R),V=H;else if(H.isWGS84&&V.isWebMercator)[T,R]=u.xyToLngLat(T,R),V=H;else return!1;
return q===T&&B===R&&G===J&&F===Q&&H.wkid===V.wkid};E.offset=function(D,q,B){return l.offsetPoint(this,D,q,B)};E.normalize=function(){if(!this.spatialReference)return this;var D=t.getInfo(this.spatialReference);if(!D)return this;let q=this.x;const [B,G]=D.valid;D=2*G;let F;q>G?(F=Math.ceil(Math.abs(q-G)/D),q-=F*D):q<B&&(F=Math.ceil(Math.abs(q-B)/D),q+=F*D);this._set("x",q);return this};E.distance=function(D){return p.distance(this,D)};E.toArray=function(){const D=this.hasZ,q=this.hasM;return D&&q?
[this.x,this.y,this.z,this.m]:D?[this.x,this.y,this.z]:q?[this.x,this.y,this.m]:[this.x,this.y]};E.toJSON=function(D){return this.write(null,D)};a._createClass(x,[{key:"cache",get:function(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}},{key:"hasM",get:function(){return void 0!==this.m},set:function(D){const q=void 0!==this._get("m");D!==q&&(this._set("m",D?0:void 0),this._set("hasM",D))}},{key:"hasZ",
get:function(){return void 0!==this.z},set:function(D){const q=void 0!==this._get("z");D!==q&&(this._set("z",D?0:void 0),this._set("hasZ",D))}},{key:"latitude",get:function(){const {spatialReference:D,x:q,y:B}=this;if(D){if(D.isWebMercator)return u.xyToLngLat(q,B,w)[1];if(D.isGeographic)return B}return null},set:function(D){const {spatialReference:q,x:B}=this;q&&(q.isWebMercator?this._set("y",u.lngLatToXY(B,D,w)[1]):q.isGeographic&&this._set("y",D),this._set("latitude",D))}},{key:"longitude",get:function(){const {x:D,
y:q,spatialReference:B}=this;if(B){if(B.isWebMercator)return u.xyToLngLat(D,q,w)[0];if(B.isGeographic)return D}return NaN},set:function(D){const {y:q,spatialReference:B}=this;B&&(B.isWebMercator?this._set("x",u.lngLatToXY(D,q,w)[0]):B.isGeographic&&this._set("x",D),this._set("longitude",D))}}]);return x}(k);m.__decorate([r.property({readOnly:!0})],v.prototype,"cache",null);m.__decorate([r.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],v.prototype,"hasM",null);m.__decorate([r.property({type:Boolean,
json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],v.prototype,"hasZ",null);m.__decorate([r.property({type:Number})],v.prototype,"latitude",null);m.__decorate([r.property({type:Number})],v.prototype,"longitude",null);m.__decorate([r.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),c.cast(y=>isNaN(y)?y:g.ensureNumber(y))],v.prototype,"x",void 0);m.__decorate([h.writer("x")],v.prototype,"writeX",null);m.__decorate([f.reader("x")],v.prototype,"readX",null);
m.__decorate([r.property({type:Number,json:{write:!0}})],v.prototype,"y",void 0);m.__decorate([r.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],v.prototype,"z",void 0);m.__decorate([r.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],v.prototype,"m",void 0);v=z=m.__decorate([e.subclass("esri.geometry.Point")],v);v.prototype.toJSON.isDefaultToJSON=!0;return v})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports",
"../ensureType","../metadata"],function(a,m,v){function r(f){const e="__accessorMetadata__"in f?m.ensureType(f):f;return function(...h){h.push(e);if("number"===typeof h[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");return d.apply(this,h)}}function d(f,e,h,g){v.getOwnPropertyMetadata(f,e).cast=g}function c(f){return function(e,h){v.getOwnPropertyMetadata(e,f).cast=e[h]}}const b=Object.prototype.toString;a.cast=function(...f){if(3!==f.length||"string"!==typeof f[1]){if(1===
f.length&&"[object Function]"===b.call(f[0]))return r(f[0]);if(1===f.length&&"string"===typeof f[0])return c(f[0])}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/offset":function(){define(["exports"],function(a){a.offsetCoordsX=function(m,v){m[0]+=v;return m};a.offsetPoint=function(m,v,r,d){m.x+=v;m.y+=r;if(null!=d){var c;m.z=(null!=(c=m.z)?c:0)+d}return m};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/pointUtils":function(){define(["exports"],
function(a){a.distance=function(m,v){const r=m.x-v.x,d=m.y-v.y;m=m.hasZ&&v.hasZ?m.z-v.z:0;return Math.sqrt(r*r+d*d+m*m)};a.squareDistance=function(m,v){const r=m.x-v.x,d=m.y-v.y;m=m.hasZ&&v.hasZ?m.z-v.z:0;return r*r+d*d+m*m};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],function(a,m,v,r,d){function c(g,k,n,l,p){p.spatialReference=n;if("x"in g&&
"x"in p)[p.x,p.y]=k(g.x,g.y,h,l);else if("xmin"in g&&"xmin"in p)[p.xmin,p.ymin]=k(g.xmin,g.ymin,h,l),[p.xmax,p.ymax]=k(g.xmax,g.ymax,h,l);else if("paths"in g&&"paths"in p||"rings"in g&&"rings"in p){g="paths"in g?g.paths:g.rings;n=[];for(let u=0;u<g.length;u++){const A=g[u];var t=[];n.push(t);for(let z=0;z<A.length;z++)t.push(k(A[z][0],A[z][1],[0,0],l)),2<A[z].length&&t[z].push(A[z][2]),3<A[z].length&&t[z].push(A[z][3])}"paths"in p?p.paths=n:p.rings=n}else if("points"in g&&"points"in p){g=g.points;
n=[];for(t=0;t<g.length;t++)n[t]=k(g[t][0],g[t][1],[0,0],l),2<g[t].length&&n[t].push(g[t][2]),3<g[t].length&&n[t].push(g[t][3]);p.points=n}return p}function b(g,k){const n=g&&(null!=g.wkid||null!=g.wkt?g:g.spatialReference),l=k&&(null!=k.wkid||null!=k.wkt?k:k.spatialReference);return g&&"type"in g&&"mesh"===g.type||k&&"type"in k&&"mesh"===k.type||!n||!l?!1:d.equals(l,n)?!0:d.isWebMercator(l)&&d.isWGS84(n)||d.isWebMercator(n)&&d.isWGS84(l)}function f(g,k,n=[0,0]){89.99999<k?k=89.99999:-89.99999>k&&
(k=-89.99999);k*=.017453292519943;n[0]=.017453292519943*g*r.earth.radius;n[1]=r.earth.halfSemiMajorAxis*Math.log((1+Math.sin(k))/(1-Math.sin(k)));return n}function e(g,k,n=[0,0],l=!1){g=g/r.earth.radius*57.29577951308232;n[0]=l?g:g-360*Math.floor((g+180)/360);n[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*k/r.earth.radius)));return n}const h=[0,0];a.canProject=b;a.geographicToWebMercator=function(g,k=!1,n=m.clone(g)){return c(g,f,v.WebMercator,k,n)};a.lngLatToXY=f;a.project=function(g,
k){const n=g&&g.spatialReference;k=k&&(null!=k.wkid||null!=k.wkt?k:k.spatialReference);return b(n,k)?d.equals(n,k)?m.clone(g):d.isWebMercator(k)?c(g,f,v.WebMercator,!1,m.clone(g)):d.isWGS84(k)?c(g,e,v.WGS84,!1,m.clone(g)):null:null};a.webMercatorToGeographic=function(g,k=!1,n=m.clone(g)){return c(g,e,v.WGS84,k,n)};a.x2lon=function(g){return g/r.earth.radius};a.xyToLngLat=e;a.y2lat=function(g){return Math.PI/2-2*Math.atan(Math.exp(-1*g/r.earth.radius))};Object.defineProperty(a,"__esModule",{value:!0})})},
"esri/geometry/support/Ellipsoid":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(a,m){let v=function(){function b(f,e,h,g){this.semiMajorAxis=f;this.flattening=e;this.outerAtmosphereRimWidth=h;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=g?g:
2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}m._createClass(b,[{key:"radius",get:function(){return this.semiMajorAxis}}]);return b}();const r=new v(6378137,1/298.257223563,3E5,.006694379990137799),d=new v(3396190,.005886007555525457,23E4),c=new v(1737400,0,0);a.Ellipsoid=v;a.earth=r;a.mars=d;a.moon=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/contains":function(){define(["exports"],function(a){function m(b,
f){return v(b,f[0],f[1])}function v(b,f,e,h){return f>=b.xmin&&f<=b.xmax&&e>=b.ymin&&e<=b.ymax?null!=h&&b.hasZ?h>=b.zmin&&h<=b.zmax:!0:!1}function r(b,f){if(b=b.rings)if(Array.isArray(b[0][0])){var e=!1;for(let h=0,g=b.length;h<g;h++)e=d(e,b[h],f);f=e}else f=d(!1,b,f);else f=!1;return f}function d(b,f,e){const [h,g]=e;e=0;for(let k=0,n=f.length;k<n;k++){e++;e===n&&(e=0);const [l,p]=f[k],[t,u]=f[e];(p<g&&u>=g||u<g&&p>=g)&&l+(g-p)/(u-p)*(t-l)<h&&(b=!b)}return b}const c=[0,0];a.extentContainsCoords2D=
m;a.extentContainsCoords3D=function(b,f){return v(b,f[0],f[1],f[2])};a.extentContainsExtent=function(b,f){const {xmin:e,ymin:h,zmin:g,xmax:k,ymax:n,zmax:l}=f;return b.hasZ&&f.hasZ?v(b,e,h,g)&&v(b,e,n,g)&&v(b,k,n,g)&&v(b,k,h,g)&&v(b,e,h,l)&&v(b,e,n,l)&&v(b,k,n,l)&&v(b,k,h,l):v(b,e,h)&&v(b,e,n)&&v(b,k,n)&&v(b,k,h)};a.extentContainsMultipoint=function(b,f){if(!f.points||f.points.length)return!1;for(const e of f.points)if(!m(b,e))return!1;return!0};a.extentContainsPoint=function(b,f){return v(b,f.x,f.y,
f.z)};a.polygonContainsCoords=r;a.polygonContainsPoint=function(b,f){c[1]=f.y;c[0]=f.x;return r(b,c)};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,m){function v(u,A){return m.extentContainsPoint(u,A)}function r(u,A){var z=u.hasZ&&A.hasZ;if(u.xmin<=A.xmin){var w=A.xmin;if(u.xmax<w)return!1}else if(w=u.xmin,A.xmax<w)return!1;if(u.ymin<=A.ymin){if(w=A.ymin,u.ymax<w)return!1}else if(w=u.ymin,A.ymax<w)return!1;
if(z&&A.hasZ)if(u.zmin<=A.zmin){if(z=A.zmin,u.zmax<z)return!1}else if(z=u.zmin,A.zmax<z)return!1;return!0}function d(u,A){const {points:z,hasZ:w}=A;A=w?m.extentContainsCoords3D:m.extentContainsCoords2D;for(const C of z)if(A(u,C))return!0;return!1}function c(u,A){h[0]=u.xmin;h[1]=u.ymax;g[0]=u.xmax;g[1]=u.ymax;k[0]=u.xmin;k[1]=u.ymin;n[0]=u.xmax;n[1]=u.ymin;for(var z of l)if(m.polygonContainsCoords(A,z))return!0;for(const w of A.rings)if(w.length){A=w[0];if(m.extentContainsCoords2D(u,A))return!0;for(z=
1;z<w.length;z++){const C=w[z];if(m.extentContainsCoords2D(u,C)||f(A,C,p))return!0;A=C}}return!1}function b(u,A){h[0]=u.xmin;h[1]=u.ymax;g[0]=u.xmax;g[1]=u.ymax;k[0]=u.xmin;k[1]=u.ymin;n[0]=u.xmax;n[1]=u.ymin;A=A.paths;for(const z of A){if(!A.length)continue;let w=z[0];if(m.extentContainsCoords2D(u,w))return!0;for(let C=1;C<z.length;C++){const y=z[C];if(m.extentContainsCoords2D(u,y)||f(w,y,p))return!0;w=y}}return!1}function f(u,A,z){for(let w=0;w<z.length;w++)if(e(u,A,z[w][0],z[w][1]))return!0;return!1}
function e(u,A,z,w,C){const [y,x]=u,[E,D]=A,[q,B]=z,[G,F]=w;var H=G-q;u=y-q;A=E-y;const J=F-B;z=x-B;w=D-x;const Q=J*A-H*w;if(0===Q)return!1;H=(H*z-J*u)/Q;u=(A*z-w*u)/Q;return 0<=H&&1>=H&&0<=u&&1>=u?(C&&(C[0]=y+H*(E-y),C[1]=x+H*(D-x)),!0):!1}const h=[0,0],g=[0,0],k=[0,0],n=[0,0],l=[h,g,k,n],p=[[k,h],[h,g],[g,n],[n,k]],t=[0,0];a.extentIntersectsExtent=r;a.extentIntersectsMultipoint=d;a.extentIntersectsPoint=v;a.extentIntersectsPolygon=c;a.extentIntersectsPolyline=b;a.getFeatureExtentIntersector=function(u){switch(u){case "esriGeometryEnvelope":case "extent":return r;
case "esriGeometryMultipoint":case "multipoint":return d;case "esriGeometryPoint":case "point":return v;case "esriGeometryPolygon":case "polygon":return c;case "esriGeometryPolyline":case "polyline":return b}};a.isSelfIntersecting=function(u){for(let D=0;D<u.length;D++){const q=u[D];for(var A=0;A<q.length-1;A++){var z=q[A],w=q[A+1];for(var C=D+1;C<u.length;C++)for(var y=0;y<u[C].length-1;y++){var x=u[C][y],E=u[C][y+1];if(e(z,w,x,E,t)&&!(t[0]===z[0]&&t[1]===z[1]||t[0]===x[0]&&t[1]===x[1]||t[0]===w[0]&&
t[1]===w[1]||t[0]===E[0]&&t[1]===E[1]))return!0}}A=q.length;if(!(4>=A))for(z=0;z<A-3;z++)for(w=A-1,0===z&&(w=A-2),C=q[z],y=q[z+1],x=z+2;x<w;x++){E=q[x];const B=q[x+1];if(e(C,y,E,B,t)&&!(t[0]===C[0]&&t[1]===C[1]||t[0]===E[0]&&t[1]===E[1]||t[0]===y[0]&&t[1]===y[1]||t[0]===B[0]&&t[1]===B[1]))return!0}}return!1};a.segmentIntersects=e;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Multipoint":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,m,v,r,d,c,b,f,e,h,g,k,n,l){function p(u){return(A,z)=>null==A?z:null==z?A:u(A,z)}var t;d=t=function(u){function A(...w){w=u.call(this,...w)||this;w.points=[];w.type="multipoint";return w}a._inheritsLoose(A,u);var z=A.prototype;z.normalizeCtorArgs=function(w,C){if(!w&&!C)return null;const y={};Array.isArray(w)?(y.points=w,y.spatialReference=C):!w||"esri.geometry.SpatialReference"!==w.declaredClass&&null==w.wkid?(w.points&&(y.points=w.points),w.spatialReference&&(y.spatialReference=w.spatialReference),
w.hasZ&&(y.hasZ=w.hasZ),w.hasM&&(y.hasM=w.hasM)):y.spatialReference=w;if(w=y.points&&y.points[0])void 0===y.hasZ&&void 0===y.hasM?(y.hasZ=2<w.length,y.hasM=!1):void 0===y.hasZ?y.hasZ=3<w.length:void 0===y.hasM&&(y.hasM=3<w.length);return y};z.writePoints=function(w,C){C.points=v.clone(this.points)};z.addPoint=function(w){l.updateSupportFromPoint(this,w);Array.isArray(w)?this.points.push(w):this.points.push(w.toArray());this.notifyChange("points");return this};z.clone=function(){const w={points:v.clone(this.points),
spatialReference:this.spatialReference};this.hasZ&&(w.hasZ=!0);this.hasM&&(w.hasM=!0);return new t(w)};z.getPoint=function(w){if(!this._validateInputs(w))return null;w=this.points[w];const C={x:w[0],y:w[1],spatialReference:this.spatialReference};let y=2;this.hasZ&&(C.z=w[2],y=3);this.hasM&&(C.m=w[y]);return new n(C)};z.removePoint=function(w){if(!this._validateInputs(w))return null;w=new n(this.points.splice(w,1)[0],this.spatialReference);this.notifyChange("points");return w};z.setPoint=function(w,
C){if(!this._validateInputs(w))return this;l.updateSupportFromPoint(this,C);Array.isArray(C)||(C=C.toArray());this.points[w]=C;this.notifyChange("points");return this};z.toJSON=function(w){return this.write(null,w)};z._validateInputs=function(w){return null!=w&&0<=w&&w<this.points.length};a._createClass(A,[{key:"cache",get:function(){this.commitProperty("points");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const w=
this.points;if(!w.length)return null;const C=new g,y=this.hasZ,x=this.hasM,E=y?3:2;var D=w[0];const q=p(Math.min),B=p(Math.max);let [G,F]=D,[H,J]=D,Q,T,R,V;for(let Y=0,da=w.length;Y<da;Y++){D=w[Y];const [na,ta]=D;G=q(G,na);F=q(F,ta);H=B(H,na);J=B(J,ta);if(y&&2<D.length){const ka=D[2];Q=q(Q,ka);R=B(R,ka)}x&&D.length>E&&(D=D[E],T=q(T,D),V=B(V,D))}C.xmin=G;C.ymin=F;C.xmax=H;C.ymax=J;C.spatialReference=this.spatialReference;y?(C.zmin=Q,C.zmax=R):(C.zmin=null,C.zmax=null);x?(C.mmin=T,C.mmax=V):(C.mmin=
null,C.mmax=null);return C}}]);return A}(k);m.__decorate([r.property({readOnly:!0})],d.prototype,"cache",null);m.__decorate([r.property()],d.prototype,"extent",null);m.__decorate([r.property({type:[[Number]],json:{write:{isRequired:!0}}})],d.prototype,"points",void 0);m.__decorate([h.writer("points")],d.prototype,"writePoints",null);d=t=m.__decorate([e.subclass("esri.geometry.Multipoint")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/geometry/support/zmUtils":function(){define(["exports"],
function(a){a.updateSupportFromPoint=function(m,v,r=!1){let {hasM:d,hasZ:c}=m;Array.isArray(v)?4!==v.length||d||c?3===v.length&&r&&!d?(c=!0,d=!1):3===v.length&&d&&c&&(c=d=!1):c=d=!0:(c=!c&&v.hasZ&&(!d||v.hasM),d=!d&&v.hasM&&(!c||v.hasZ));m.hasZ=c;m.hasM=d};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polygon":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,m,v,r,d,c,b,f,e,h,g,k,n,l,p,t,u,A,z,w,C){var y;d=y=function(x){function E(...q){q=x.call(this,...q)||this;q.rings=[];q.type="polygon";return q}a._inheritsLoose(E,x);E.fromExtent=function(q){var B=q.clone().normalize();q=q.spatialReference;let G=!1,F=!1;B.map(H=>{H.hasZ&&(G=!0);H.hasM&&(F=!0)});B={rings:B.map(function(H){const J=[[H.xmin,H.ymin],[H.xmin,H.ymax],[H.xmax,H.ymax],[H.xmax,H.ymin],[H.xmin,H.ymin]];if(G&&H.hasZ){var Q=H.zmin+.5*(H.zmax-H.zmin);for(let T=0;T<J.length;T++)J[T].push(Q)}if(F&&
H.hasM)for(H=H.mmin+.5*(H.mmax-H.mmin),Q=0;Q<J.length;Q++)J[Q].push(H);return J}),spatialReference:q};G&&(B.hasZ=!0);F&&(B.hasM=!0);return new y(B)};var D=E.prototype;D.normalizeCtorArgs=function(q,B){let G=null,F,H,J=null;q&&!Array.isArray(q)?(G=q.rings?q.rings:null,B||(q.spatialReference?B=q.spatialReference:q.rings||(B=q)),F=q.hasZ,H=q.hasM):G=q;G=G||[];B=B||l.WGS84;G.length&&G[0]&&null!=G[0][0]&&"number"===typeof G[0][0]&&(G=[G]);if(J=G[0]&&G[0][0])void 0===F&&void 0===H?(F=2<J.length,H=3<J.length):
void 0===F?F=H?3<J.length:2<J.length:void 0===H&&(H=F?3<J.length:2<J.length);return{rings:G,spatialReference:B,hasZ:F,hasM:H}};D.writeRings=function(q,B){B.rings=v.clone(this.rings)};D.addRing=function(q){if(q){var B=this.rings,G=B.length;if(Array.isArray(q[0]))B[G]=q.concat();else{const F=[];for(let H=0,J=q.length;H<J;H++)F[H]=q[H].toArray();B[G]=F}this.notifyChange("rings");return this}};D.clone=function(){const q=new y;q.spatialReference=this.spatialReference;q.rings=v.clone(this.rings);q.hasZ=
this.hasZ;q.hasM=this.hasM;return q};D.contains=function(q){if(!q)return!1;w.canProject(q,this.spatialReference)&&(q=w.project(q,this.spatialReference));return t.polygonContainsPoint(this,q)};D.isClockwise=function(q){q=Array.isArray(q[0])?q:q.map(B=>this.hasZ?this.hasM?[B.x,B.y,B.z,B.m]:[B.x,B.y,B.z]:[B.x,B.y]);return u.isClockwise(q,this.hasM,this.hasZ)};D.getPoint=function(q,B){if(!this._validateInputs(q,B))return null;q=this.rings[q][B];B=this.hasZ;const G=this.hasM;return B&&!G?new n(q[0],q[1],
q[2],void 0,this.spatialReference):G&&!B?new n(q[0],q[1],void 0,q[2],this.spatialReference):B&&G?new n(q[0],q[1],q[2],q[3],this.spatialReference):new n(q[0],q[1],this.spatialReference)};D.insertPoint=function(q,B,G){if(!this._validateInputs(q,B,!0))return this;C.updateSupportFromPoint(this,G);Array.isArray(G)||(G=G.toArray());this.rings[q].splice(B,0,G);this.notifyChange("rings");return this};D.removePoint=function(q,B){if(!this._validateInputs(q,B))return null;q=new n(this.rings[q].splice(B,1)[0],
this.spatialReference);this.notifyChange("rings");return q};D.removeRing=function(q){if(!this._validateInputs(q,null))return null;q=this.rings.splice(q,1)[0];const B=this.spatialReference;q=q.map(G=>new n(G,B));this.notifyChange("rings");return q};D.setPoint=function(q,B,G){if(!this._validateInputs(q,B))return this;C.updateSupportFromPoint(this,G);Array.isArray(G)||(G=G.toArray());this.rings[q][B]=G;this.notifyChange("rings");return this};D._validateInputs=function(q,B,G=!1){return null==q||0>q||
q>=this.rings.length||null!=B&&(q=this.rings[q],G&&(0>B||B>q.length)||!G&&(0>B||B>=q.length))?!1:!0};D.toJSON=function(q){return this.write(null,q)};a._createClass(E,[{key:"cache",get:function(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"centroid",get:function(){const q=p.polygonCentroid(this);if(!q||isNaN(q[0])||isNaN(q[1])||this.hasZ&&isNaN(q[2]))return null;const B=new n;B.x=q[0];B.y=q[1];B.spatialReference=
this.spatialReference;this.hasZ&&(B.z=q[2]);return B}},{key:"extent",get:function(){const {spatialReference:q}=this;var B=A.getPolygonExtent(this);if(!B)return null;B=new g(B);B.spatialReference=q;return B}},{key:"isSelfIntersecting",get:function(){return z.isSelfIntersecting(this.rings)}}]);return E}(k);m.__decorate([r.property({readOnly:!0})],d.prototype,"cache",null);m.__decorate([r.property({readOnly:!0})],d.prototype,"centroid",null);m.__decorate([r.property({readOnly:!0})],d.prototype,"extent",
null);m.__decorate([r.property({readOnly:!0})],d.prototype,"isSelfIntersecting",null);m.__decorate([r.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"rings",void 0);m.__decorate([h.writer("rings")],d.prototype,"writeRings",null);d=y=m.__decorate([e.subclass("esri.geometry.Polygon")],d);d.prototype.toJSON.isDefaultToJSON=!0;return d})},"esri/geometry/support/centroid":function(){define(["exports","./coordsUtils"],function(a,m){function v(c,b){if(!c||!c.length)return null;const f=
[],e=[],h=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let g=0,k=c.length;g<k;g++){const n=r(c[g],b,h);n&&e.push(n)}e.sort((g,k)=>{let n=g[2]-k[2];0===n&&b&&(n=g[4]-k[4]);return n});e.length&&(f[0]=e[0][0],f[1]=e[0][1],b&&(f[2]=e[0][3]),f[0]<h[0]||f[0]>h[1]||f[1]<h[2]||f[1]>h[3]||b&&(f[2]<h[4]||f[2]>h[5]))&&(f.length=0);if(!f.length)if(c=c[0]&&c[0].length?d(c[0],b):null)f[0]=c[0],f[1]=c[1],b&&2<c.length&&(f[2]=c[2]);else return null;return f}
function r(c,b,f){let e=0,h=0,g=0,k=0,n=0;const l=c.length?c[0][0]:0,p=c.length?c[0][1]:0,t=c.length&&b?c[0][2]:0;for(let A=0;A<c.length;A++){var u=c[A];const z=c[(A+1)%c.length],[w,C,y]=u,x=w-l,E=C-p,D=b?y-t:void 0,[q,B,G]=z,F=q-l,H=B-p,J=b?G-t:void 0,Q=x*H-F*E;k+=Q;e+=(x+F)*Q;h+=(E+H)*Q;b&&2<u.length&&2<z.length&&(u=x*J-F*D,g+=(D+J)*u,n+=u);w<f[0]&&(f[0]=w);w>f[1]&&(f[1]=w);C<f[2]&&(f[2]=C);C>f[3]&&(f[3]=C);b&&(y<f[4]&&(f[4]=y),y>f[5]&&(f[5]=y))}0<k&&(k*=-1);0<n&&(n*=-1);if(!k)return null;k*=.5;
n*=.5;c=[e/(6*k)+l,h/(6*k)+p,k];b&&(f[4]===f[5]||0===n?(c[3]=(f[4]+f[5])/2,c[4]=0):(c[3]=g/(6*n)+t,c[4]=n));return c}function d(c,b){const f=b?[0,0,0]:[0,0],e=b?[0,0,0]:[0,0];let h=0,g=0,k=0,n=0;for(let p=0,t=c.length;p<t-1;p++){var l=c[p];const u=c[p+1];if(l&&u){f[0]=l[0];f[1]=l[1];e[0]=u[0];e[1]=u[1];b&&2<l.length&&2<u.length&&(f[2]=l[2],e[2]=u[2]);const A=m.getLength(f,e);A&&(h+=A,l=m.getMidpoint(l,u),g+=A*l[0],k+=A*l[1],b&&2<l.length&&(n+=A*l[2]))}}return 0<h?b?[g/h,k/h,n/h]:[g/h,k/h]:c.length?
c[0]:null}a.extentCentroid=function(c){return c?c.hasZ?[c.xmax-c.xmin/2,c.ymax-c.ymin/2,c.zmax-c.zmin/2]:[c.xmax-c.xmin/2,c.ymax-c.ymin/2]:null};a.lineCentroid=d;a.polygonCentroid=function(c){return c?v(c.rings,c.hasZ):null};a.ringsCentroid=v;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/coordsUtils":function(){define(["exports","./spatialReferenceUtils"],function(a,m){function v(b,f){const e=f[0]-b[0],h=f[1]-b[1];return 2<b.length&&2<f.length?(b=b[2]-f[2],Math.sqrt(e*
e+h*h+b*b)):Math.sqrt(e*e+h*h)}function r(b,f,e){const h=b[0]+e*(f[0]-b[0]),g=b[1]+e*(f[1]-b[1]);return 2<b.length&&2<f.length?[h,g,b[2]+e*(f[2]-b[2])]:[h,g]}function d(b,f,e){const h=b.length;let g=0,k=0,n=0;for(let l=0;l<h;l++){const p=b[l],t=b[(l+1)%h];let u=2;g+=p[0]*t[1]-t[0]*p[1];2<p.length&&2<t.length&&e&&(k+=p[0]*t[2]-t[0]*p[2],u=3);p.length>u&&t.length>u&&f&&(n+=p[0]*t[u]-t[0]*p[u])}return 0>=g&&0>=k&&0>=n}function c(b,f){if(f=m.getInfo(f)){var e=f.valid[0],h=f.valid[1],g=h-e;for(const k of b){let n=
Infinity,l=-Infinity;k.forEach(p=>{let t=p[0];for(;t<e;)t+=g;for(;t>h;)t-=g;n=Math.min(n,t);l=Math.max(l,t);p[0]=t});b=l-n;g-b<b&&k.forEach(p=>{0>p[0]&&(p[0]+=g)})}}}a.closeRings=function(b){if("rings"in b)for(const f of b.rings)3>f.length||f[0][0]===f[f.length-1][0]&&f[0][1]===f[f.length-1][1]||f.push([f[0][0],f[0][1]])};a.closeRingsAndFixWinding=function(b){if("rings"in b){for(var f of b.rings)3>f.length||f[0][0]===f[f.length-1][0]&&f[0][1]===f[f.length-1][1]||f.push([f[0][0],f[0][1]]);if(0<b.rings.length&&
!d(b.rings[0],b.hasM,b.hasZ))for(f=0;f<b.rings.length;++f)b.rings[f]=b.rings[f].reverse()}};a.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(b,f,e,h){let g=Infinity,k=-Infinity;b.forEach(l=>{let p=l.pos[0];for(;p<f;)p+=h;for(;p>e;)p-=h;g=Math.min(g,p);k=Math.max(k,p);l.unnormalizedPos[0]=p;l.unnormalizedPos[1]=l.pos[1];2<l.pos.length&&(l.unnormalizedPos[2]=l.pos[2]);3<l.pos.length&&(l.unnormalizedPos[3]=l.pos[3])});const n=k-g;h-n<n&&b.forEach(l=>{0>l.unnormalizedPos[0]&&(l.unnormalizedPos[0]+=
h)})};a.geometryToCoordinates=function(b){if(!b)return null;if(Array.isArray(b))return b;const f=b.hasZ,e=b.hasM;if("point"===b.type)return e&&f?[b.x,b.y,b.z,b.m]:f?[b.x,b.y,b.z]:e?[b.x,b.y,b.m]:[b.x,b.y];if("polygon"===b.type)return b.rings.slice(0);if("polyline"===b.type)return b.paths.slice(0);if("multipoint"===b.type)return b.points.slice(0);if("extent"===b.type){b=b.clone().normalize();if(!b)return null;let h=!1,g=!1;b.forEach(k=>{k.hasZ&&(h=!0);k.hasM&&(g=!0)});return b.map(k=>{const n=[[k.xmin,
k.ymin],[k.xmin,k.ymax],[k.xmax,k.ymax],[k.xmax,k.ymin],[k.xmin,k.ymin]];if(h&&k.hasZ){var l=.5*(k.zmax-k.zmin);for(let p=0;p<n.length;p++)n[p].push(l)}if(g&&k.hasM)for(k=.5*(k.mmax-k.mmin),l=0;l<n.length;l++)n[l].push(k);return n})}return null};a.getLength=v;a.getMidpoint=function(b,f){return r(b,f,.5)};a.getPathLength=function(b){const f=b.length;let e=0;for(let h=0;h<f-1;++h)e+=v(b[h],b[h+1]);return e};a.getPointOnPath=function(b,f){if(0>=f)return b[0];const e=b.length;let h=0;for(let g=0;g<e-
1;++g){const k=v(b[g],b[g+1]);if(f-h<k)return r(b[g],b[g+1],(f-h)/k);h+=k}return b[e-1]};a.getRingArea=function(b){const f=b.length;let e=0;for(let h=0;h<f;h++){const g=b[h],k=b[(h+1)%f];e+=g[0]*k[1]-k[0]*g[1]}return e};a.isClockwise=d;a.projectPointOnLine=function(b,f,e,h){const [g,k]=f,[n,l]=e[h],[p,t]=e[h+1];f=p-n;e=t-l;h=Math.min(1,Math.max(0,((g-n)*f+(k-l)*e)/(f*f+e*e)));b[0]=n+f*h;b[1]=l+e*h;return b};a.unnormalizeGeometryOnDatelineCrossing=function(b){if("polygon"!==b.type&&"polyline"!==b.type)return b;
c("polygon"===b.type?b.rings:b.paths,b.spatialReference);return b};a.unnormalizeVerticesOnDatelineCrossing=c;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,m){function v(e,h=!1,g=!1){return h?g?{xmin:e[0],ymin:e[1],zmin:e[2],mmin:e[3],xmax:e[4],ymax:e[5],zmax:e[6],mmax:e[7]}:{xmin:e[0],ymin:e[1],zmin:e[2],xmax:e[3],ymax:e[4],zmax:e[5]}:g?{xmin:e[0],ymin:e[1],mmin:e[2],xmax:e[3],ymax:e[4],mmax:e[5]}:{xmin:e[0],
ymin:e[1],xmax:e[2],ymax:e[3]}}function r(e){const {hasZ:h,hasM:g,points:k}=e;return v(m.getPointsBounds(f,k,h,g),h,g)}function d(e){const {x:h,y:g,z:k,m:n}=e;e=null!=n;return null!=k?e?{xmin:h,ymin:g,zmin:k,mmin:n,xmax:h,ymax:g,zmax:k,mmax:n}:{xmin:h,ymin:g,zmin:k,xmax:h,ymax:g,zmax:k}:e?{xmin:h,ymin:g,mmin:n,xmax:h,ymax:g,mmax:n}:{xmin:h,ymin:g,xmax:h,ymax:g}}function c(e){const {hasZ:h,hasM:g,rings:k}=e;return(e=m.getRingsOrPathsBounds(f,k,h,g))?v(e,h,g):null}function b(e){const {hasZ:h,hasM:g,
paths:k}=e;return(e=m.getRingsOrPathsBounds(f,k,h,g))?v(e,h,g):null}const f=[];a.getGeometryExtent=function(e){return e?void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax?e:void 0!==e.x&&void 0!==e.y?d(e):void 0!==e.rings?c(e):void 0!==e.paths?b(e):void 0!==e.points?r(e):null:null};a.getMultipointExtent=r;a.getPointExtent=d;a.getPolygonExtent=c;a.getPolylineExtent=b;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/boundsUtils":function(){define(["exports"],
function(a){function m(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function v(e){return(h,g)=>null==h?g:null==g?h:e(h,g)}function r(e,h,g,k){const n=g?3:2;if(!h.length||!h[0].length)return null;let [l,p]=h[0][0],[t,u]=h[0][0],A=void 0,z=void 0,w=void 0;var C=void 0;for(let y=0;y<h.length;y++){const x=h[y];for(let E=0;E<x.length;E++){const D=x[E],[q,B]=D;l=b(l,q);p=b(p,B);t=f(t,q);u=f(u,B);if(g&&2<D.length){const G=D[2];A=b(A,G);z=f(z,G)}k&&D.length>n&&(C=D[n],w=b(A,
C),C=f(z,C))}}if(g){if(k)return e[0]=l,e[1]=p,e[2]=A,e[3]=w,e[4]=t,e[5]=u,e[6]=z,e[7]=C,e.length=8,e;e[0]=l;e[1]=p;e[2]=A;e[3]=t;e[4]=u;e[5]=z;e.length=6;return e}if(k)return e[0]=l,e[1]=p,e[2]=w,e[3]=t,e[4]=u,e[5]=C,e.length=6,e;e[0]=l;e[1]=p;e[2]=t;e[3]=u;e.length=4;return e}function d(e,h,g,k,n,l){g=h.xmin;k=h.xmax;const p=h.ymin,t=h.ymax;let u=h.zmin,A=h.zmax,z=h.mmin;h=h.mmax;if(n){u=u||0;A=A||0;if(l)return e[0]=g,e[1]=p,e[2]=u,e[3]=z||0,e[4]=k,e[5]=t,e[6]=A,e[7]=h||0,e;e[0]=g;e[1]=p;e[2]=u;
e[3]=k;e[4]=t;e[5]=A;return e}if(l)return e[0]=g,e[1]=p,e[2]=z||0,e[3]=k,e[4]=t,e[5]=h||0,e;e[0]=g;e[1]=p;e[2]=k;e[3]=t;return e}function c(e,h,g,k,n,l){const p=g?3:2;k=k&&l;g=g&&n;if(!h.length||!h[0].length)return null;let [t,u]=h[0],[A,z]=h[0],w=void 0,C=void 0,y=void 0;var x=void 0;for(let E=0;E<h.length;E++){const D=h[E],[q,B]=D;t=b(t,q);u=b(u,B);A=f(A,q);z=f(z,B);if(g&&2<D.length){const G=D[2];w=b(w,G);C=f(C,G)}k&&D.length>p&&(x=D[p],y=b(w,x),x=f(C,x))}if(n){w=w||0;C=C||0;if(l)return e[0]=t,
e[1]=u,e[2]=w,e[3]=y||0,e[4]=A,e[5]=z,e[6]=C,e[7]=x||0,e;e[0]=t;e[1]=u;e[2]=w;e[3]=A;e[4]=z;e[5]=C;return e}if(l)return e[0]=t,e[1]=u,e[2]=y||0,e[3]=A,e[4]=z,e[5]=x||0,e;e[0]=t;e[1]=u;e[2]=A;e[3]=z;return e}const b=v(Math.min),f=v(Math.max);a.getBoundsXY=function(e,h){if(void 0!==h.paths)return r(e,h.paths,!1,!1);if(void 0!==h.rings)return r(e,h.rings,!1,!1);if(void 0!==h.points)return c(e,h.points,!1,!1,!1,!1);if(m(h))return d(e,h);void 0!==h.x&&void 0!==h.y&&(e[0]=h.x,e[1]=h.y,e[2]=h.x,e[3]=h.y);
return e};a.getBoundsXYZ=function(e,h){if(void 0!==h.paths)return r(e,h.paths,!0,!1);if(void 0!==h.rings)return r(e,h.rings,!0,!1);if(void 0!==h.points)return c(e,h.points,!0,!1,!0,!1);if(m(h))return d(e,h,!0,!1,!0,!1);void 0!==h.x&&void 0!==h.y&&(e[0]=h.x,e[1]=h.y,e[2]=h.z,e[3]=h.x,e[4]=h.y,e[5]=h.z);return e};a.getExtentBounds=d;a.getPointsBounds=c;a.getPointsBoundsCenterX=function(e){if(!e.length||!e[0].length)return null;let [h]=e[0],[g]=e[0];for(let k=0;k<e.length;k++){const [n]=e[k];h=b(h,n);
g=f(g,n)}return h+.5*(g-h)};a.getPointsBoundsWidth=function(e){if(!e.length||!e[0].length)return null;let [h]=e[0],[g]=e[0];for(let k=0;k<e.length;k++){const [n]=e[k];h=b(h,n);g=f(g,n)}return g-h};a.getRingsOrPathsBounds=r;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/Polyline":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,m,v,r,d,c,b,f,e,h,g,k,n,l,p,t){var u;d=u=function(A){function z(...C){C=A.call(this,...C)||this;C.paths=[];C.type="polyline";return C}a._inheritsLoose(z,A);var w=z.prototype;w.normalizeCtorArgs=function(C,y){let x=null,E,D,q=null;C&&!Array.isArray(C)?(x=C.paths?C.paths:null,y||(C.spatialReference?y=C.spatialReference:C.paths||(y=C)),E=C.hasZ,D=C.hasM):x=C;x=x||[];y=y||l.WGS84;x.length&&x[0]&&null!=x[0][0]&&"number"===typeof x[0][0]&&(x=[x]);if(q=x[0]&&x[0][0])void 0===E&&void 0===D?(E=
2<q.length,D=!1):void 0===E?E=!D&&3<q.length:void 0===D&&(D=!E&&3<q.length);return{paths:x,spatialReference:y,hasZ:E,hasM:D}};w.writePaths=function(C,y){y.paths=v.clone(this.paths)};w.addPath=function(C){if(C){var y=this.paths,x=y.length;if(Array.isArray(C[0]))y[x]=C.concat();else{const E=[];for(let D=0,q=C.length;D<q;D++)E[D]=C[D].toArray();y[x]=E}this.notifyChange("paths");return this}};w.clone=function(){const C=new u;C.spatialReference=this.spatialReference;C.paths=v.clone(this.paths);C.hasZ=
this.hasZ;C.hasM=this.hasM;return C};w.getPoint=function(C,y){if(!this._validateInputs(C,y))return null;C=this.paths[C][y];y=this.hasZ;const x=this.hasM;return y&&!x?new n(C[0],C[1],C[2],void 0,this.spatialReference):x&&!y?new n(C[0],C[1],void 0,C[2],this.spatialReference):y&&x?new n(C[0],C[1],C[2],C[3],this.spatialReference):new n(C[0],C[1],this.spatialReference)};w.insertPoint=function(C,y,x){if(!this._validateInputs(C,y,!0))return this;t.updateSupportFromPoint(this,x);Array.isArray(x)||(x=x.toArray());
this.paths[C].splice(y,0,x);this.notifyChange("paths");return this};w.removePath=function(C){if(!this._validateInputs(C,null))return null;C=this.paths.splice(C,1)[0];const y=this.spatialReference;C=C.map(x=>new n(x,y));this.notifyChange("paths");return C};w.removePoint=function(C,y){if(!this._validateInputs(C,y))return null;C=new n(this.paths[C].splice(y,1)[0],this.spatialReference);this.notifyChange("paths");return C};w.setPoint=function(C,y,x){if(!this._validateInputs(C,y))return this;t.updateSupportFromPoint(this,
x);Array.isArray(x)||(x=x.toArray());this.paths[C][y]=x;this.notifyChange("paths");return this};w._validateInputs=function(C,y,x=!1){return null==C||0>C||C>=this.paths.length||null!=y&&(C=this.paths[C],x&&(0>y||y>C.length)||!x&&(0>y||y>=C.length))?!1:!0};w.toJSON=function(C){return this.write(null,C)};a._createClass(z,[{key:"cache",get:function(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}},{key:"extent",get:function(){const {spatialReference:C}=
this;var y=p.getPolylineExtent(this);if(!y)return null;y=new g(y);y.spatialReference=C;return y}}]);return z}(k);m.__decorate([r.property({readOnly:!0})],d.prototype,"cache",null);m.__decorate([r.property({readOnly:!0})],d.prototype,"extent",null);m.__decorate([r.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],d.prototype,"paths",void 0);m.__decorate([h.writer("paths")],d.prototype,"writePaths",null);d=u=m.__decorate([e.subclass("esri.geometry.Polyline")],d);d.prototype.toJSON.isDefaultToJSON=
!0;return d})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,m){const v=m.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});m=m.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=v;a.isFeatureGeometryType=
function(r){return"point"===r||"multipoint"===r||"polyline"===r||"polygon"===r};a.typeKebabDictionary=m;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,m,v,r,d,c,b){function f(p){return void 0!==p.xmin&&void 0!==p.ymin&&void 0!==p.xmax&&void 0!==p.ymax}function e(p){return void 0!==p.points}function h(p){return void 0!==p.x&&void 0!==p.y}function g(p){return void 0!==
p.paths}function k(p){return void 0!==p.rings}function n(p){return p?p instanceof v?p:h(p)?d.fromJSON(p):g(p)?b.fromJSON(p):k(p)?c.fromJSON(p):e(p)?r.fromJSON(p):f(p)?m.fromJSON(p):null:null}const l={esriGeometryPoint:d,esriGeometryPolyline:b,esriGeometryPolygon:c,esriGeometryEnvelope:m,esriGeometryMultipoint:r};a.fromJSON=n;a.fromJson=function(p){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(t){console.warn(t.stack)}return n(p)};a.getGeometryType=function(p){return p&&l[p]||
null};a.getJsonType=function(p){return p?h(p)?"esriGeometryPoint":g(p)?"esriGeometryPolyline":k(p)?"esriGeometryPolygon":f(p)?"esriGeometryEnvelope":e(p)?"esriGeometryMultipoint":null:null};a.isExtent=f;a.isMesh=function(p){return void 0!==p.vertexAttributes};a.isMultipoint=e;a.isPoint=h;a.isPolygon=k;a.isPolyline=g;Object.defineProperty(a,"__esModule",{value:!0})})},"*noref":1}});require.boot&&require.apply(null,require.boot);