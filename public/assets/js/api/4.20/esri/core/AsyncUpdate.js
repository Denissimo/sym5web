// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Logger ./accessorSupport/tracking ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleTrackingTarget".split(" "),function(h,k,l,q,r,t,m,u){function v(e,f){const g=()=>{if(!d||a)return f();d.clear();a=!0;const b=t.runTracked(d,f);a=!1;return b};let d=new u.SimpleTrackingTarget(()=>{d&&!a&&e(g)}),a=!1;e(g);return{remove:()=>{d&&(d.destroy(),d=null)}}}const p=e=>{e=function(f){function g(){var a=f.apply(this,
arguments)||this;a.asyncUpdateState=new Map;return a}k._inheritsLoose(g,f);var d=g.prototype;d.autoUpdateAsync=function(a,b){return v(c=>this.updateAsync(a,c),b)};d.updateAsync=function(){var a=k._asyncToGenerator(function*(b,c){if(!this.startAsyncUpdate(b)){try{const n=yield c();this._set(b,n)}catch(n){r.getLogger(this.declaredClass).warn(`Async update of "${b}" failed. Async update functions should not throw exceptions.`)}this.endAsyncUpdate(b)&&this.updateAsync(b,c)}});return function(b,c){return a.apply(this,
arguments)}}();d.startAsyncUpdate=function(a){var b;const c=null!=(b=this.asyncUpdateState.get(a))?b:0;if(c&1)return this.asyncUpdateState.set(a,c|2),!0;this.asyncUpdateState.set(a,c|1);return!1};d.endAsyncUpdate=function(a){var b;const c=(null!=(b=this.asyncUpdateState.get(a))?b:0)&-2;if(c&2)return this.asyncUpdateState.set(a,c&-3),!0;this.asyncUpdateState.set(a,c);return!1};return g}(e);return e=l.__decorate([m.subclass("esri.core.AsyncUpdate")],e)};h.AsyncUpdate=function(e){function f(){return e.apply(this,
arguments)||this}k._inheritsLoose(f,e);return f}(p(q));h.AsyncUpdate=l.__decorate([m.subclass("esri.core.AsyncUpdate")],h.AsyncUpdate);h.AsyncUpdateMixin=p;Object.defineProperty(h,"__esModule",{value:!0})});