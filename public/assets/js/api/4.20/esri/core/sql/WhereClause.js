// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/sql/AggregateFunctions":function(){define(["exports"],function(R){function T(k){let t=0;for(let h=0;h<k.length;h++)t+=k[h];return t/k.length}function fa(k){const t=T(k),h=k.length;let I=0;for(const v of k)I+=(v-t)**2;return 1<h?I/(h-1):0}const ha={min:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.min.apply(Math,k[0])},max:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.max.apply(Math,k[0])},avg:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:T(k[0])},
sum:{minParams:1,maxParams:1,evaluate:k=>{if(null==k[0])k=null;else{{k=k[0];let t=0;for(let h=0;h<k.length;h++)t+=k[h];k=t}}return k}},stddev:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.sqrt(fa(k[0]))},count:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:k[0].length},var:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:fa(k[0])}};R.aggregateFunction=function(k,t){const h=ha[k.toLowerCase()];if(null==h)throw Error("Function Not Recognised");if(t.length<h.minParams||t.length>
h.maxParams)throw Error(`Invalid Parameter count for call to ${k.toUpperCase()}`);return h.evaluate(t)};R.isAggregate=function(k,t){k=ha[k.toLowerCase()];return null!=k&&t>=k.minParams&&t<=k.maxParams};Object.defineProperty(R,"__esModule",{value:!0})})},"esri/core/sql/StandardizedFunctions":function(){define(["exports","../string"],function(R,T){let fa=function(){function k(){this.op="+";this.minute=this.year=this.month=this.hour=this.second=this.day=0}k.fixDefaults=function(t){if(null!==t.precision||
null!==t.secondary)throw Error("Primary and Secondary SqlInterval qualifiers not supported");};k.createFromMilliseconds=function(t){const h=new k;h.second=t/1E3;return h};k.createFromValueAndQualifer=function(t,h,I){let v=null;const E=new k;E.op="-"===I?"-":"+";if("interval-period"===h.type){k.fixDefaults(h);if("year"===h.period||"month"===h.period)throw Error("Year-Month Intervals not supported");if(/^[0-9]{1,}$/.test(t))E[h.period]=parseFloat(t);else throw Error("Illegal Interval");}else{k.fixDefaults(h.start);
k.fixDefaults(h.end);if("year"===h.start.period||"month"===h.start.period)throw Error("Year-Month Intervals not supported");if("year"===h.end.period||"month"===h.end.period)throw Error("Year-Month Intervals not supported");switch(h.start.period){case "day":switch(h.end.period){case "hour":v=/^[0-9]{1,} [0-9]{1,}$/;if(v.test(t))E[h.start.period]=parseFloat(t.split(" ")[0]),E[h.end.period]=parseFloat(t.split(" ")[1]);else throw Error("Illegal Interval");break;case "minute":v=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$/;
if(v.test(t))E[h.start.period]=parseFloat(t.split(" ")[0]),t=t.split(" ")[1].split(":"),E.hour=parseFloat(t[0]),E.minute=parseFloat(t[1]);else throw Error("Illegal Interval");break;case "second":v=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(v.test(t))E[h.start.period]=parseFloat(t.split(" ")[0]),t=t.split(" ")[1].split(":"),E.hour=parseFloat(t[0]),E.minute=parseFloat(t[1]),E.second=parseFloat(t[2]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";
}break;case "hour":switch(h.end.period){case "minute":v=/^[0-9]{1,}:[0-9]{1,}$/;if(v.test(t))E.hour=parseFloat(t.split(":")[0]),E.minute=parseFloat(t.split(":")[1]);else throw Error("Illegal Interval");break;case "second":v=/^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(v.test(t))t=t.split(":"),E.hour=parseFloat(t[0]),E.minute=parseFloat(t[1]),E.second=parseFloat(t[2]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;case "minute":switch(h.end.period){case "second":v=
/^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(v.test(t))t=t.split(":"),E.minute=parseFloat(t[0]),E.second=parseFloat(t[1]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;default:throw"Invalid Interval.";}}return E};k.prototype.valueInMilliseconds=function(){return("-"===this.op?-1:1)*(1E3*this.second+6E4*this.minute+36E5*this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)};return k}();const ha={extract:{minParams:2,maxParams:2,evaluate:([k,t])=>
{if(null==t)return null;if(t instanceof Date)switch(k.toUpperCase()){case "SECOND":return t.getSeconds();case "MINUTE":return t.getMinutes();case "HOUR":return t.getHours();case "DAY":return t.getDate();case "MONTH":return t.getMonth()+1;case "YEAR":return t.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");}},substring:{minParams:2,maxParams:3,evaluate:k=>{if(2===k.length){const [t,h]=k;return null==t||null==h?null:t.toString().substring(h-1)}if(3===k.length){const [t,h,I]=k;return null==
t||null==h||null==I?null:0>=I?"":t.toString().substring(h-1,h+I-1)}}},position:{minParams:2,maxParams:2,evaluate:([k,t])=>null==k||null==t?null:t.indexOf(k)+1},trim:{minParams:2,maxParams:3,evaluate:k=>{var t=3===k.length,h=t?k[1]:" ";t=t?k[2]:k[1];if(null==h||null==t)return null;h=`(${T.escapeRegExpString(h)})`;switch(k[0]){case "BOTH":return t.replace(new RegExp(`^${h}*|${h}*$`,"g"),"");case "LEADING":return t.replace(new RegExp(`^${h}*`,"g"),"");case "TRAILING":return t.replace(new RegExp(`${h}*$`,
"g"),"")}throw Error("Invalid Parameter for call to TRIM");}},abs:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.abs(k[0])},ceiling:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.ceil(k[0])},floor:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.floor(k[0])},log:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.log(k[0])},log10:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.log(k[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?
null:Math.sin(k[0])},cos:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.cos(k[0])},tan:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.tan(k[0])},asin:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.asin(k[0])},acos:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.acos(k[0])},atan:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:Math.atan(k[0])},sign:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:0<k[0]?1:0>k[1]?-1:0},power:{minParams:2,maxParams:2,
evaluate:k=>null==k[0]||null==k[1]?null:k[0]**k[1]},mod:{minParams:2,maxParams:2,evaluate:k=>null==k[0]||null==k[1]?null:k[0]%k[1]},round:{minParams:1,maxParams:2,evaluate:k=>{const t=k[0];k=2===k.length?10**k[1]:1;return null==t?null:Math.round(t*k)/k}},truncate:{minParams:1,maxParams:2,evaluate:k=>null==k[0]?null:1===k.length?parseInt(k[0].toFixed(0),10):parseFloat(k[0].toFixed(k[1]))},char_length:{minParams:1,maxParams:1,evaluate:k=>"string"===typeof k[0]||k[0]instanceof String?k[0].length:0},
concat:{minParams:1,maxParams:Infinity,evaluate:k=>{let t="";for(let h=0;h<k.length;h++){if(null==k[h])return null;t+=k[h].toString()}return t}},lower:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:k[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:k=>null==k[0]?null:k[0].toString().toUpperCase()}};R.SqlInterval=fa;R.evaluateFunction=function(k,t){const h=ha[k.toLowerCase()];if(null==h)throw Error("Function Not Recognised");if(t.length<h.minParams||t.length>h.maxParams)throw Error(`Invalid Parameter count for call to ${k.toUpperCase()}`);
return h.evaluate(t)};R.isStandardized=function(k,t){k=ha[k.toLowerCase()];return null!=k&&t>=k.minParams&&t<=k.maxParams};Object.defineProperty(R,"__esModule",{value:!0})})},"esri/core/sql/WhereGrammar":function(){define(["exports","../../chunks/_commonjsHelpers"],function(R,T){var fa={exports:{}};(function(k){(function(t,h){k.exports&&(k.exports=h())})(T.commonjsGlobal,function(){function t(h,I,v,E){this.message=h;this.expected=I;this.found=v;this.location=E;this.name="SyntaxError";"function"===
typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}(function(h,I){function v(){this.constructor=h}v.prototype=I.prototype;h.prototype=new v})(t,Error);t.buildMessage=function(h,I){function v(r){return r.charCodeAt(0).toString(16).toUpperCase()}function E(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(G){return"\\x0"+v(G)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(G){return"\\x"+
v(G)})}function ia(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(G){return"\\x0"+v(G)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(G){return"\\x"+v(G)})}var ka={literal:function(r){return'"'+E(r.text)+'"'},"class":function(r){var G="",M;for(M=0;M<r.parts.length;M++)G+=r.parts[M]instanceof Array?ia(r.parts[M][0])+"-"+ia(r.parts[M][1]):ia(r.parts[M]);
return"["+(r.inverted?"^":"")+G+"]"},any:function(r){return"any character"},end:function(r){return"end of input"},other:function(r){return r.description}};return"Expected "+function(r){var G=Array(r.length),M;for(M=0;M<r.length;M++){var L=M;var S=r[M];S=ka[S.type](S);G[L]=S}G.sort();if(0<G.length){for(r=M=1;M<G.length;M++)G[M-1]!==G[M]&&(G[r]=G[M],r++);G.length=r}switch(G.length){case 1:return G[0];case 2:return G[0]+" or "+G[1];default:return G.slice(0,-1).join(", ")+", or "+G[G.length-1]}}(h)+" but "+
(I?'"'+E(I)+'"':"end of input")+" found."};return{SyntaxError:t,parse:function(h,I){function v(c,e){return{type:"literal",text:c,ignoreCase:e}}function E(c,e,d){return{type:"class",parts:c,inverted:e,ignoreCase:d}}function ia(c){var e=cb[c],d;if(!e){for(d=c-1;!cb[d];)d--;e=cb[d];for(e={line:e.line,column:e.column};d<c;)10===h.charCodeAt(d)?(e.line++,e.column=1):e.column++,d++;cb[c]=e}return e}function ka(c,e){var d=ia(c),f=ia(e);return{start:{offset:c,line:d.line,column:d.column},end:{offset:e,line:f.line,
column:f.column}}}function r(c){b<ja||(b>ja&&(ja=b,Ab=[]),Ab.push(c))}function G(){var c=b;var e=q();if(e!==a)if(e=L(),e!==a){var d=q();d!==a?c=e:(b=c,c=a)}else b=c,c=a;else b=c,c=a;return c}function M(){var c=b;var e=L();if(e!==a){var d=[];var f=b;var p=q();if(p!==a){var x=db();if(x!==a){var z=q();if(z!==a){var D=L();D!==a?f=p=[p,x,z,D]:(b=f,f=a)}else b=f,f=a}else b=f,f=a}else b=f,f=a;for(;f!==a;)d.push(f),f=b,p=q(),p!==a?(x=db(),x!==a?(z=q(),z!==a?(D=L(),D!==a?f=p=[p,x,z,D]:(b=f,f=a)):(b=f,f=a)):
(b=f,f=a)):(b=f,f=a);if(d!==a){c={type:"expr_list"};e=[e];for(f=0;f<d.length;f++)e.push(d[f][3]);c.value=e}else b=c,c=a}else b=c,c=a;return c}function L(){var c=b;var e=S();if(e!==a){var d=[];var f=b;var p=q();if(p!==a){var x=gc();if(x!==a){var z=q();if(z!==a){var D=S();D!==a?f=p=[p,x,z,D]:(b=f,f=a)}else b=f,f=a}else b=f,f=a}else b=f,f=a;for(;f!==a;)d.push(f),f=b,p=q(),p!==a?(x=gc(),x!==a?(z=q(),z!==a?(D=S(),D!==a?f=p=[p,x,z,D]:(b=f,f=a)):(b=f,f=a)):(b=f,f=a)):(b=f,f=a);d!==a?c=e=Ja(e,d):(b=c,c=a)}else b=
c,c=a;return c}function S(){var c=b;var e=qa();if(e!==a){var d=[];var f=b;var p=q();if(p!==a){var x=eb();if(x!==a){var z=q();if(z!==a){var D=qa();D!==a?f=p=[p,x,z,D]:(b=f,f=a)}else b=f,f=a}else b=f,f=a}else b=f,f=a;for(;f!==a;)d.push(f),f=b,p=q(),p!==a?(x=eb(),x!==a?(z=q(),z!==a?(D=qa(),D!==a?f=p=[p,x,z,D]:(b=f,f=a)):(b=f,f=a)):(b=f,f=a)):(b=f,f=a);d!==a?c=e=Ja(e,d):(b=c,c=a)}else b=c,c=a;return c}function qa(){var c=b;var e=Ka();if(e===a){e=b;if(33===h.charCodeAt(b)){var d=kd;b++}else d=a,0===n&&
r(ld);if(d!==a){var f=b;n++;if(61===h.charCodeAt(b)){var p=hc;b++}else p=a,0===n&&r(ic);n--;p===a?f=void 0:(b=f,f=a);f!==a?e=d=[d,f]:(b=e,e=a)}else b=e,e=a}e!==a?(d=q(),d!==a?(f=qa(),f!==a?c=e={type:"unary_expr",operator:"NOT",expr:f}:(b=c,c=a)):(b=c,c=a)):(b=c,c=a);if(c===a)if(c=b,e=Z(),e!==a)if(d=q(),d!==a){d=[];f=b;p=q();if(p!==a){var x=va();if(x!==a){var z=q();if(z!==a){var D=Z();D!==a?f=p=[p,x,z,D]:(b=f,f=a)}else b=f,f=a}else b=f,f=a}else b=f,f=a;if(f!==a)for(;f!==a;)d.push(f),f=b,p=q(),p!==
a?(x=va(),x!==a?(z=q(),z!==a?(D=Z(),D!==a?f=p=[p,x,z,D]:(b=f,f=a)):(b=f,f=a)):(b=f,f=a)):(b=f,f=a);else d=a;d!==a&&(d={type:"arithmetic",tail:d});d===a&&(d=b,f=wa(),f!==a?(p=q(),p!==a?(p=V(),p!==a?(p=q(),p!==a?(p=M(),p!==a?(x=q(),x!==a?(x=W(),x!==a?d=f={op:f,right:p}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,f=wa(),f!==a?(p=q(),p!==a?(p=V(),p!==a?(p=q(),p!==a?(p=W(),p!==a?d=f={op:f,right:{type:"expr_list",value:[]}}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=
d,d=a)):(b=d,d=a),d===a&&(d=b,f=wa(),f!==a?(p=q(),p!==a?(p=l(),p!==a?d=f={op:f,right:p}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a))),d===a&&(d=b,p=Ka(),p!==a?(f=q(),f!==a?(f=jc(),f!==a?(x=q(),x!==a?(x=Z(),x!==a?(z=q(),z!==a?(z=eb(),z!==a?(p=q(),p!==a?(p=Z(),p!==a?d=p={op:"NOT"+f,right:{type:"expr_list",value:[x,p]}}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,p=jc(),p!==a?(f=q(),f!==a?(f=Z(),f!==a?(x=q(),x!==a?(x=eb(),x!==a?(z=q(),z!==a?(z=Z(),
z!==a?d=p={op:p,right:{type:"expr_list",value:[f,z]}}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)),d===a&&(d=b,f=kc(),f!==a?(p=q(),p!==a?(p=Ka(),p!==a?(p=q(),p!==a?(p=Z(),p!==a?d=f={op:f+"NOT",right:p}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,f=kc(),f!==a?(p=q(),p!==a?(p=Z(),p!==a?d=f={op:f,right:p}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)),d===a&&(d=b,f=La(),f!==a?(p=q(),p!==a?(p=O(),p!==a?(x=q(),x!==a?(x=b,h.substr(b,6).toLowerCase()===md?(z=h.substr(b,
6),b+=6):(z=a,0===n&&r(nd)),z!==a?(z=b,n++,D=C(),n--,D===a?z=void 0:(b=z,z=a),z!==a?x="ESCAPE":(b=x,x=a)):(b=x,x=a),x!==a?(x=q(),x!==a?(x=X(),x!==a?d=f={op:f,right:p,escape:x.value}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,f=La(),f!==a?(p=q(),p!==a?(p=O(),p!==a?d=f={op:f,right:p,escape:""}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a))))));d===a&&(d=null);d!==a?(c=e,e=d,""==e||void 0==e||null==e?e=c:(d=null,e=d="arithmetic"==e.type?Ja(c,e.tail):lc(e.op,c,e.right,e.escape)),
c=e):(b=c,c=a)}else b=c,c=a;else b=c,c=a;return c}function va(){if(h.substr(b,2)===mc){var c=mc;b+=2}else c=a,0===n&&r(od);c===a&&(62===h.charCodeAt(b)?(c=pd,b++):(c=a,0===n&&r(qd)),c===a&&(h.substr(b,2)===nc?(c=nc,b+=2):(c=a,0===n&&r(rd)),c===a&&(h.substr(b,2)===oc?(c=oc,b+=2):(c=a,0===n&&r(sd)),c===a&&(60===h.charCodeAt(b)?(c=td,b++):(c=a,0===n&&r(ud)),c===a&&(61===h.charCodeAt(b)?(c=hc,b++):(c=a,0===n&&r(ic)),c===a&&(h.substr(b,2)===pc?(c=pc,b+=2):(c=a,0===n&&r(vd))))))));return c}function La(){var c=
c=b;var e=Ka();if(e!==a){var d=q();if(d!==a){var f=qc();f!==a?c=e=[e,d,f]:(b=c,c=a)}else b=c,c=a}else b=c,c=a;c!==a&&(c=c[0]+" "+c[2]);c===a&&(c=qc());return c}function wa(){var c=c=b;var e=Ka();if(e!==a){var d=q();if(d!==a){var f=Bb();f!==a?c=e=[e,d,f]:(b=c,c=a)}else b=c,c=a}else b=c,c=a;c!==a&&(c=c[0]+" "+c[2]);c===a&&(c=Bb());return c}function Z(){var c=b;var e=Ma();if(e!==a){var d=[];var f=b;var p=q();if(p!==a){var x=fb();if(x!==a){var z=q();if(z!==a){var D=Ma();D!==a?f=p=[p,x,z,D]:(b=f,f=a)}else b=
f,f=a}else b=f,f=a}else b=f,f=a;for(;f!==a;)d.push(f),f=b,p=q(),p!==a?(x=fb(),x!==a?(z=q(),z!==a?(D=Ma(),D!==a?f=p=[p,x,z,D]:(b=f,f=a)):(b=f,f=a)):(b=f,f=a)):(b=f,f=a);d!==a?c=e=Ja(e,d):(b=c,c=a)}else b=c,c=a;return c}function fb(){if(43===h.charCodeAt(b)){var c=Cb;b++}else c=a,0===n&&r(Db);c===a&&(45===h.charCodeAt(b)?(c=Eb,b++):(c=a,0===n&&r(Fb)));return c}function Ma(){var c=b;var e=Na();if(e!==a){var d=[];var f=b;var p=q();if(p!==a){var x=gb();if(x!==a){var z=q();if(z!==a){var D=Na();D!==a?f=
p=[p,x,z,D]:(b=f,f=a)}else b=f,f=a}else b=f,f=a}else b=f,f=a;for(;f!==a;)d.push(f),f=b,p=q(),p!==a?(x=gb(),x!==a?(z=q(),z!==a?(D=Na(),D!==a?f=p=[p,x,z,D]:(b=f,f=a)):(b=f,f=a)):(b=f,f=a)):(b=f,f=a);d!==a?c=e=Ja(e,d):(b=c,c=a)}else b=c,c=a;return c}function gb(){if(42===h.charCodeAt(b)){var c=wd;b++}else c=a,0===n&&r(xd);c===a&&(47===h.charCodeAt(b)?(c=yd,b++):(c=a,0===n&&r(zd)));return c}function Na(){var c=X();if(c===a){var e=b;var d=b;var f=hb();if(f!==a){var p=rc();if(p!==a){var x=sc();x!==a?d=
f=parseFloat(f+p+x):(b=d,d=a)}else b=d,d=a}else b=d,d=a;d===a&&(d=b,f=hb(),f!==a?(p=rc(),p!==a?d=f=parseFloat(f+p):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,f=hb(),f!==a?(p=sc(),p!==a?d=f=parseFloat(f+p):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,f=hb(),f!==a&&(f=parseFloat(f)),d=f)));var z=d;if(z!==a){var D=b;n++;var Ad=Oa();n--;Ad===a?D=void 0:(b=D,D=a);D!==a?e=z={type:"number",value:z}:(b=e,e=a)}else b=e,e=a;c=e;if(c===a){var Pa=b;var xa=b;if(h.substr(b,4).toLowerCase()===Bd){var ib=h.substr(b,4);b+=4}else ib=a,
0===n&&r(Cd);if(ib!==a){var Qa=b;n++;var Dd=C();n--;Dd===a?Qa=void 0:(b=Qa,Qa=a);Qa!==a?xa=ib=[ib,Qa]:(b=xa,xa=a)}else b=xa,xa=a;var ra=xa;ra!==a&&(ra={type:"bool",value:!0});Pa=ra;if(Pa===a){Pa=b;var ya=b;if(h.substr(b,5).toLowerCase()===Ed){var jb=h.substr(b,5);b+=5}else jb=a,0===n&&r(Fd);if(jb!==a){var Ra=b;n++;var Gd=C();n--;Gd===a?Ra=void 0:(b=Ra,Ra=a);Ra!==a?ya=jb=[jb,Ra]:(b=ya,ya=a)}else b=ya,ya=a;ra=ya;ra!==a&&(ra={type:"bool",value:!1});Pa=ra}c=Pa;if(c===a){var za=b;if(h.substr(b,4).toLowerCase()===
Hd){var kb=h.substr(b,4);b+=4}else kb=a,0===n&&r(Id);if(kb!==a){var Sa=b;n++;var Jd=C();n--;Jd===a?Sa=void 0:(b=Sa,Sa=a);Sa!==a?za=kb=[kb,Sa]:(b=za,za=a)}else b=za,za=a;var Gb=za;Gb!==a&&(Gb={type:"null",value:null});c=Gb;if(c===a){var na=b;var Aa=b;if(h.substr(b,4).toLowerCase()===Kd){var Hb=h.substr(b,4);b+=4}else Hb=a,0===n&&r(Ld);if(Hb!==a){var lb=b;n++;var Md=C();n--;Md===a?lb=void 0:(b=lb,lb=a);lb!==a?Aa=Hb="DATE":(b=Aa,Aa=a)}else b=Aa,Aa=a;var tc=Aa;if(tc!==a){var Nd=q();if(Nd!==a){var uc=
O();uc!==a?na=tc={type:"date",value:uc.value}:(b=na,na=a)}else b=na,na=a}else b=na,na=a;c=na;if(c===a){var oa=b;var Ba=b;if(h.substr(b,9).toLowerCase()===Od){var Ib=h.substr(b,9);b+=9}else Ib=a,0===n&&r(Pd);if(Ib!==a){var mb=b;n++;var Qd=C();n--;Qd===a?mb=void 0:(b=mb,mb=a);mb!==a?Ba=Ib="TIMESTAMP":(b=Ba,Ba=a)}else b=Ba,Ba=a;var vc=Ba;if(vc!==a){var Rd=q();if(Rd!==a){var wc=O();wc!==a?oa=vc={type:"timestamp",value:wc.value}:(b=oa,oa=a)}else b=oa,oa=a}else b=oa,oa=a;c=oa;if(c===a){var J=b;var Ta=xc();
if(Ta!==a){var Jb=q();if(Jb!==a){if(45===h.charCodeAt(b)){var la=Eb;b++}else la=a,0===n&&r(Fb);la===a&&(43===h.charCodeAt(b)?(la=Cb,b++):(la=a,0===n&&r(Db)));if(la!==a){var Kb=q();if(Kb!==a){var Ua=O();if(Ua!==a){var Sd=q();if(Sd!==a){var yc=m();yc!==a?J=Ta={type:"interval",value:Ua,qualifier:yc,op:la}:(b=J,J=a)}else b=J,J=a}else b=J,J=a}else b=J,J=a}else b=J,J=a}else b=J,J=a}else b=J,J=a;J===a&&(J=b,Ta=xc(),Ta!==a?(Jb=q(),Jb!==a?(la=O(),la!==a?(Kb=q(),Kb!==a?(Ua=m(),Ua!==a?J=Ta={type:"interval",
value:la,qualifier:Ua,op:""}:(b=J,J=a)):(b=J,J=a)):(b=J,J=a)):(b=J,J=a)):(b=J,J=a));c=J}}}}}}var H=c;if(H===a){var P=b;var Ca=b;if(h.substr(b,7).toLowerCase()===Td){var Lb=h.substr(b,7);b+=7}else Lb=a,0===n&&r(Ud);if(Lb!==a){var nb=b;n++;var Vd=C();n--;Vd===a?nb=void 0:(b=nb,nb=a);nb!==a?Ca=Lb="EXTRACT":(b=Ca,Ca=a)}else b=Ca,Ca=a;var zc=Ca;if(zc!==a){var Wd=q();if(Wd!==a){var Xd=V();if(Xd!==a){var Yd=q();if(Yd!==a){var ca=Ac();ca===a&&(ca=Bc(),ca===a&&(ca=Cc(),ca===a&&(ca=Dc(),ca===a&&(ca=Ec(),ca===
a&&(ca=sa())))));var Fc=ca;if(Fc!==a){var Zd=q();if(Zd!==a){var $d=Mb();if($d!==a){var ae=q();if(ae!==a){var Gc=L();if(Gc!==a){var be=q();if(be!==a){var ce=W();ce!==a?P=zc={type:"function",name:"extract",args:{type:"expr_list",value:[{type:"string",value:Fc},Gc]}}:(b=P,P=a)}else b=P,P=a}else b=P,P=a}else b=P,P=a}else b=P,P=a}else b=P,P=a}else b=P,P=a}else b=P,P=a}else b=P,P=a}else b=P,P=a}else b=P,P=a;H=P;if(H===a){var N=b;var Da=b;if(h.substr(b,9).toLowerCase()===de){var Nb=h.substr(b,9);b+=9}else Nb=
a,0===n&&r(ee);if(Nb!==a){var ob=b;n++;var fe=C();n--;fe===a?ob=void 0:(b=ob,ob=a);ob!==a?Da=Nb="SUBSTRING":(b=Da,Da=a)}else b=Da,Da=a;var Hc=Da;if(Hc!==a){var ge=q();if(ge!==a){var he=V();if(he!==a){var ie=q();if(ie!==a){var Ob=L();if(Ob!==a){var je=q();if(je!==a){var ke=Mb();if(ke!==a){var le=q();if(le!==a){var Pb=L();if(Pb!==a){var me=q();if(me!==a){var Y=b;var Ea=b;if(h.substr(b,3).toLowerCase()===ne){var Qb=h.substr(b,3);b+=3}else Qb=a,0===n&&r(oe);if(Qb!==a){var pb=b;n++;var pe=C();n--;pe===
a?pb=void 0:(b=pb,pb=a);pb!==a?Ea=Qb="FOR":(b=Ea,Ea=a)}else b=Ea,Ea=a;var Va=Ea;if(Va!==a){var Ic=q();if(Ic!==a){var Jc=L();if(Jc!==a){var Kc=q();Kc!==a?Y=Va=[Va,Ic,Jc,Kc]:(b=Y,Y=a)}else b=Y,Y=a}else b=Y,Y=a}else b=Y,Y=a;Y===a&&(Y=null);Y!==a?(Va=W(),Va!==a?N=Hc={type:"function",name:"substring",args:{type:"expr_list",value:Y?[Ob,Pb,Y[2]]:[Ob,Pb]}}:(b=N,N=a)):(b=N,N=a)}else b=N,N=a}else b=N,N=a}else b=N,N=a}else b=N,N=a}else b=N,N=a}else b=N,N=a}else b=N,N=a}else b=N,N=a}else b=N,N=a}else b=N,N=a;
H=N;if(H===a){var A=b;var Wa=Lc();if(Wa!==a){var Rb=q();if(Rb!==a){var Sb=V();if(Sb!==a){var Tb=q();if(Tb!==a){var da=g();da===a&&(da=null);if(da!==a){var Ub=q();if(Ub!==a){var Xa=L();if(Xa!==a){var Vb=q();if(Vb!==a){var Wb=Mb();if(Wb!==a){var qe=q();if(qe!==a){var Mc=L();if(Mc!==a){var re=q();if(re!==a){var se=W();se!==a?A=Wa={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==da?"BOTH":da},Xa,Mc]}}:(b=A,A=a)}else b=A,A=a}else b=A,A=a}else b=A,A=a}else b=A,A=a}else b=
A,A=a}else b=A,A=a}else b=A,A=a}else b=A,A=a}else b=A,A=a}else b=A,A=a}else b=A,A=a}else b=A,A=a;A===a&&(A=b,Wa=Lc(),Wa!==a?(Rb=q(),Rb!==a?(Sb=V(),Sb!==a?(Tb=q(),Tb!==a?(da=g(),da===a&&(da=null),da!==a?(Ub=q(),Ub!==a?(Xa=L(),Xa!==a?(Vb=q(),Vb!==a?(Wb=W(),Wb!==a?A=Wa={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==da?"BOTH":da},Xa]}}:(b=A,A=a)):(b=A,A=a)):(b=A,A=a)):(b=A,A=a)):(b=A,A=a)):(b=A,A=a)):(b=A,A=a)):(b=A,A=a)):(b=A,A=a));H=A;if(H===a){var Q=b;var Fa=
b;if(h.substr(b,8).toLowerCase()===te){var Xb=h.substr(b,8);b+=8}else Xb=a,0===n&&r(ue);if(Xb!==a){var qb=b;n++;var ve=C();n--;ve===a?qb=void 0:(b=qb,qb=a);qb!==a?Fa=Xb="POSITION":(b=Fa,Fa=a)}else b=Fa,Fa=a;var Nc=Fa;if(Nc!==a){var we=q();if(we!==a){var xe=V();if(xe!==a){var ye=q();if(ye!==a){var Oc=L();if(Oc!==a){var ze=q();if(ze!==a){var Ae=Bb();if(Ae!==a){var Be=q();if(Be!==a){var Pc=L();if(Pc!==a){var Ce=q();if(Ce!==a){var De=W();De!==a?Q=Nc={type:"function",name:"position",args:{type:"expr_list",
value:[Oc,Pc]}}:(b=Q,Q=a)}else b=Q,Q=a}else b=Q,Q=a}else b=Q,Q=a}else b=Q,Q=a}else b=Q,Q=a}else b=Q,Q=a}else b=Q,Q=a}else b=Q,Q=a}else b=Q,Q=a}else b=Q,Q=a;H=Q;if(H===a){var U=b;var Ya;var ea=b;ea=Ya=rb();if(ea===a)if(ea=b,96===h.charCodeAt(b)?(Ya=Qc,b++):(Ya=a,0===n&&r(Rc)),Ya!==a){var sb=[];if(Sc.test(h.charAt(b))){var ma=h.charAt(b);b++}else ma=a,0===n&&r(Tc);if(ma!==a)for(;ma!==a;)sb.push(ma),Sc.test(h.charAt(b))?(ma=h.charAt(b),b++):(ma=a,0===n&&r(Tc));else sb=a;sb!==a?(96===h.charCodeAt(b)?
(ma=Qc,b++):(ma=a,0===n&&r(Rc)),ma!==a?ea=Ya=sb.join(""):(b=ea,ea=a)):(b=ea,ea=a)}else b=ea,ea=a;var Yb=ea;if(Yb!==a){var Ee=q();if(Ee!==a){var Fe=V();if(Fe!==a){var Ge=q();if(Ge!==a){var Za=M();Za===a&&(Za=null);if(Za!==a){var He=q();if(He!==a){var Ie=W();Ie!==a?U=Yb={type:"function",name:Yb,args:Za?Za:{type:"expr_list",value:[]}}:(b=U,U=a)}else b=U,U=a}else b=U,U=a}else b=U,U=a}else b=U,U=a}else b=U,U=a}else b=U,U=a;H=U;if(H===a){var aa;var F=b;var $a=tb();if($a!==a){var Zb=q();if(Zb!==a){var ab=
L();if(ab!==a){var $b=q();if($b!==a){var ta=[];for(aa=Ga();aa!==a;)ta.push(aa),aa=Ga();if(ta!==a)if(aa=q(),aa!==a){var vb=ub();vb!==a?F=$a={type:"case_expression",format:"simple",operand:ab,clauses:ta,else:null}:(b=F,F=a)}else b=F,F=a;else b=F,F=a}else b=F,F=a}else b=F,F=a}else b=F,F=a}else b=F,F=a;if(F===a)if(F=b,$a=tb(),$a!==a)if(Zb=q(),Zb!==a)if(ab=L(),ab!==a)if($b=q(),$b!==a){ta=[];for(aa=Ga();aa!==a;)ta.push(aa),aa=Ga();if(ta!==a)if(aa=q(),aa!==a)if(vb=Uc(),vb!==a){var Je=q();if(Je!==a){var Ke=
ub();Ke!==a?F=$a={type:"case_expression",format:"simple",operand:ab,clauses:ta,else:vb.value}:(b=F,F=a)}else b=F,F=a}else b=F,F=a;else b=F,F=a;else b=F,F=a}else b=F,F=a;else b=F,F=a;else b=F,F=a;else b=F,F=a;var ac=F;if(ac===a){var ba;var K=b;var bb=tb();if(bb!==a){var bc=q();if(bc!==a){var ua=[];for(ba=pa();ba!==a;)ua.push(ba),ba=pa();if(ua!==a)if(ba=q(),ba!==a){var wb=ub();wb!==a?K=bb={type:"case_expression",format:"searched",clauses:ua,else:null}:(b=K,K=a)}else b=K,K=a;else b=K,K=a}else b=K,K=
a}else b=K,K=a;if(K===a)if(K=b,bb=tb(),bb!==a)if(bc=q(),bc!==a){ua=[];for(ba=pa();ba!==a;)ua.push(ba),ba=pa();if(ua!==a)if(ba=q(),ba!==a)if(wb=Uc(),wb!==a){var Le=q();if(Le!==a){var Me=ub();Me!==a?K=bb={type:"case_expression",format:"searched",clauses:ua,else:wb.value}:(b=K,K=a)}else b=K,K=a}else b=K,K=a;else b=K,K=a;else b=K,K=a}else b=K,K=a;else b=K,K=a;ac=K}H=ac;if(H===a){var xb;var Ha=b;var Vc=Oa();if(Vc!==a){var cc=[];for(xb=u();xb!==a;)cc.push(xb),xb=u();cc!==a?Ha=Vc+=cc.join(""):(b=Ha,Ha=a)}else b=
Ha,Ha=a;var yb=Ha;if(yb!==a){var dc=yb;yb=/^CURRENT_DATE$/i.test(dc)?{type:"current_time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(dc)?{type:"current_time",mode:"timestamp"}:{type:"column_ref",table:"",column:dc}}H=yb;if(H===a&&(H=l(),H===a)){H=b;var Wc=V();if(Wc!==a){var Ne=q();if(Ne!==a){var ec=L();if(ec!==a){var Oe=q();if(Oe!==a){var Pe=W();Pe!==a?(ec.paren=!0,H=Wc=ec):(b=H,H=a)}else b=H,H=a}else b=H,H=a}else b=H,H=a}else b=H,H=a}}}}}}}}return H}function rb(){var c;var e=b;var d=Oa();if(d!==a){var f=
[];for(c=C();c!==a;)f.push(c),c=C();f!==a?e=d+=f.join(""):(b=e,e=a)}else b=e,e=a;return e}function Oa(){if(Qe.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===n&&r(Re);return c}function C(){if(Se.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===n&&r(Te);return c}function u(){if(Ue.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===n&&r(Ve);return c}function l(){var c=b;if(64===h.charCodeAt(b)){var e=We;b++}else e=a,0===n&&r(Xe);if(e!==a){var d=rb();d!==a?c=e=[e,d]:(b=c,c=a)}else b=c,
c=a;c!==a&&(c={type:"param",value:c[1]});return c}function g(){var c=b;if(h.substr(b,7).toLowerCase()===Ye){var e=h.substr(b,7);b+=7}else e=a,0===n&&r(Ze);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="LEADING":(b=c,c=a)}else b=c,c=a;c===a&&(c=b,h.substr(b,8).toLowerCase()===$e?(e=h.substr(b,8),b+=8):(e=a,0===n&&r(af)),e!==a?(e=b,n++,d=C(),n--,d===a?e=void 0:(b=e,e=a),e!==a?c="TRAILING":(b=c,c=a)):(b=c,c=a),c===a&&(c=b,h.substr(b,4).toLowerCase()===bf?(e=h.substr(b,4),b+=4):(e=
a,0===n&&r(cf)),e!==a?(e=b,n++,d=C(),n--,d===a?e=void 0:(b=e,e=a),e!==a?c="BOTH":(b=c,c=a)):(b=c,c=a)));return c}function m(){var c=b;var e=b;var d=w();if(d!==a){var f=q();if(f!==a)if(f=V(),f!==a)if(f=q(),f!==a)if(f=B(),f!==a){var p=q();p!==a?(p=W(),p!==a?e=d={type:"interval-period",period:d.value,precision:f,secondary:null}:(b=e,e=a)):(b=e,e=a)}else b=e,e=a;else b=e,e=a;else b=e,e=a;else b=e,e=a}else b=e,e=a;e===a&&(e=b,d=w(),d!==a&&(d=Xc(d)),e=d);if(e!==a)if(d=q(),d!==a)if(d=b,h.substr(b,2).toLowerCase()===
df?(f=h.substr(b,2),b+=2):(f=a,0===n&&r(ef)),f!==a?(f=b,n++,p=C(),n--,p===a?f=void 0:(b=f,f=a),f!==a?d="TO":(b=d,d=a)):(b=d,d=a),d!==a)if(d=q(),d!==a){d=b;f=w();f!==a&&(f={type:"interval-period",period:f.value,precision:null,secondary:null});d=f;if(d===a){d=b;f=sa();if(f!==a)if(f=q(),f!==a)if(f=V(),f!==a)if(f=q(),f!==a)if(f=B(),f!==a)if(p=q(),p!==a)if(p=db(),p!==a)if(p=q(),p!==a)if(p=y(),p!==a){var x=q();x!==a?(x=W(),x!==a?d=f=Yc(f,p):(b=d,d=a)):(b=d,d=a)}else b=d,d=a;else b=d,d=a;else b=d,d=a;else b=
d,d=a;else b=d,d=a;else b=d,d=a;else b=d,d=a;else b=d,d=a;else b=d,d=a;d===a&&(d=b,f=sa(),f!==a?(f=q(),f!==a?(f=V(),f!==a?(f=q(),f!==a?(f=B(),f!==a?(p=q(),p!==a?(p=W(),p!==a?d=f={type:"interval-period",period:"second",precision:f,secondary:null}:(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a)):(b=d,d=a),d===a&&(d=b,f=sa(),f!==a&&(f={type:"interval-period",period:"second",precision:null,secondary:null}),d=f))}d!==a?c=e={type:"interval-qualifier",start:e,end:d}:(b=c,c=a)}else b=c,c=
a;else b=c,c=a;else b=c,c=a;else b=c,c=a;c===a&&(c=b,d=w(),d!==a?(e=q(),e!==a?(e=V(),e!==a?(e=q(),e!==a?(e=y(),e!==a?(f=q(),f!==a?(f=W(),f!==a?c=d={type:"interval-period",period:d.value,precision:e,secondary:null}:(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,d=w(),d!==a&&(d=Xc(d)),c=d,c===a&&(c=b,d=sa(),d!==a?(e=q(),e!==a?(e=V(),e!==a?(e=q(),e!==a?(e=B(),e!==a?(f=q(),f!==a?(f=db(),f!==a?(d=q(),d!==a?(d=y(),d!==a?(f=q(),f!==a?(f=W(),f!==a?c=d=Yc(e,d):(b=c,
c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,d=sa(),d!==a?(e=q(),e!==a?(e=V(),e!==a?(e=q(),e!==a?(e=y(),e!==a?(f=q(),f!==a?(f=W(),f!==a?c=d={type:"interval-period",period:"second",precision:e,secondary:null}:(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,d=sa(),d!==a&&(d={type:"interval-period",period:"second",precision:null,secondary:null}),c=d)))));return c}function w(){var c=
b;c=Cc();c!==a&&(c={type:"string",value:"day"});c===a&&(c=b,c=Dc(),c!==a&&(c={type:"string",value:"hour"}),c===a&&(c=b,c=Ec(),c!==a&&(c={type:"string",value:"minute"}),c===a&&(c=b,c=Bc(),c!==a&&(c={type:"string",value:"month"}),c===a&&(c=b,c=Ac(),c!==a&&(c={type:"string",value:"year"})))));return c}function y(){var c=Ia();c!==a&&(c=parseFloat(c));return c}function B(){var c=Ia();c!==a&&(c=parseFloat(c));return c}function O(){var c=X();c===a&&(c=l());return c}function X(){var c=b;if(39===h.charCodeAt(b)){var e=
Zc;b++}else e=a,0===n&&r($c);e===a&&(h.substr(b,2)===ad?(e=ad,b+=2):(e=a,0===n&&r(ff)));if(e!==a){e=[];var d=b;h.substr(b,2)===zb?(d=zb,b+=2):(d=a,0===n&&r(bd));d!==a&&(d="'");d===a&&(cd.test(h.charAt(b))?(d=h.charAt(b),b++):(d=a,0===n&&r(dd)));for(;d!==a;)e.push(d),d=b,h.substr(b,2)===zb?(d=zb,b+=2):(d=a,0===n&&r(bd)),d!==a&&(d="'"),d===a&&(cd.test(h.charAt(b))?(d=h.charAt(b),b++):(d=a,0===n&&r(dd)));e!==a?(39===h.charCodeAt(b)?(d=Zc,b++):(d=a,0===n&&r($c)),d!==a?c=e={type:"string",value:e.join("")}:
(b=c,c=a)):(b=c,c=a)}else b=c,c=a;return c}function pa(){var c=b;var e=ed();if(e!==a)if(e=q(),e!==a)if(e=L(),e!==a){var d=q();d!==a?(d=fd(),d!==a?(d=q(),d!==a?(d=L(),d!==a?c=e={type:"when_clause",operand:e,value:d}:(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)}else b=c,c=a;else b=c,c=a;else b=c,c=a;return c}function Ga(){var c=b;var e=ed();if(e!==a)if(e=q(),e!==a)if(e=L(),e!==a){var d=q();d!==a?(d=fd(),d!==a?(d=q(),d!==a?(d=L(),d!==a?c=e={type:"when_clause",operand:e,value:d}:(b=c,c=a)):(b=c,c=a)):(b=
c,c=a)):(b=c,c=a)}else b=c,c=a;else b=c,c=a;else b=c,c=a;return c}function Uc(){var c=b;var e=b;if(h.substr(b,4).toLowerCase()===gf){var d=h.substr(b,4);b+=4}else d=a,0===n&&r(hf);if(d!==a){d=b;n++;var f=C();n--;f===a?d=void 0:(b=d,d=a);d!==a?e="ELSE":(b=e,e=a)}else b=e,e=a;e!==a?(e=q(),e!==a?(e=L(),e!==a?c={type:"else_clause",value:e}:(b=c,c=a)):(b=c,c=a)):(b=c,c=a);return c}function hb(){var c=Ia();if(c===a){c=b;if(45===h.charCodeAt(b)){var e=Eb;b++}else e=a,0===n&&r(Fb);e===a&&(43===h.charCodeAt(b)?
(e=Cb,b++):(e=a,0===n&&r(Db)));if(e!==a){var d=Ia();d!==a?c=e=e[0]+d:(b=c,c=a)}else b=c,c=a}return c}function rc(){var c=b;if(46===h.charCodeAt(b)){var e=jf;b++}else e=a,0===n&&r(kf);e!==a?(e=Ia(),e===a&&(e=null),e!==a?c="."+(null!=e?e:""):(b=c,c=a)):(b=c,c=a);return c}function sc(){var c;var e=c=b;if(lf.test(h.charAt(b))){var d=h.charAt(b);b++}else d=a,0===n&&r(mf);d!==a?(nf.test(h.charAt(b))?(d=h.charAt(b),b++):(d=a,0===n&&r(of)),d===a&&(d=null),d!==a?e="e"+(null===d?"":d):(b=e,e=a)):(b=e,e=a);
e!==a?(d=Ia(),d!==a?c=e+d:(b=c,c=a)):(b=c,c=a);return c}function Ia(){var c=[];var e=gd();if(e!==a)for(;e!==a;)c.push(e),e=gd();else c=a;c!==a&&(c=c.join(""));return c}function gd(){if(pf.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===n&&r(qf);return c}function Bb(){var c=b;if(h.substr(b,2).toLowerCase()===rf){var e=h.substr(b,2);b+=2}else e=a,0===n&&r(sf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="IN":(b=c,c=a)}else b=c,c=a;return c}function kc(){var c=b;if(h.substr(b,
2).toLowerCase()===tf){var e=h.substr(b,2);b+=2}else e=a,0===n&&r(uf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="IS":(b=c,c=a)}else b=c,c=a;return c}function qc(){var c=b;if(h.substr(b,4).toLowerCase()===vf){var e=h.substr(b,4);b+=4}else e=a,0===n&&r(wf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="LIKE":(b=c,c=a)}else b=c,c=a;return c}function Ka(){var c=b;if(h.substr(b,3).toLowerCase()===xf){var e=h.substr(b,3);b+=3}else e=a,0===n&&r(yf);if(e!==a){e=b;
n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="NOT":(b=c,c=a)}else b=c,c=a;return c}function eb(){var c=b;if(h.substr(b,3).toLowerCase()===zf){var e=h.substr(b,3);b+=3}else e=a,0===n&&r(Af);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="AND":(b=c,c=a)}else b=c,c=a;return c}function gc(){var c=b;if(h.substr(b,2).toLowerCase()===Bf){var e=h.substr(b,2);b+=2}else e=a,0===n&&r(Cf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="OR":(b=c,c=a)}else b=c,c=a;return c}
function jc(){var c=b;if(h.substr(b,7).toLowerCase()===Df){var e=h.substr(b,7);b+=7}else e=a,0===n&&r(Ef);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="BETWEEN":(b=c,c=a)}else b=c,c=a;return c}function Mb(){var c=b;if(h.substr(b,4).toLowerCase()===Ff){var e=h.substr(b,4);b+=4}else e=a,0===n&&r(Gf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="FROM":(b=c,c=a)}else b=c,c=a;return c}function Lc(){var c=b;if(h.substr(b,4).toLowerCase()===Hf){var e=h.substr(b,4);
b+=4}else e=a,0===n&&r(If);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="TRIM":(b=c,c=a)}else b=c,c=a;return c}function xc(){var c=b;if(h.substr(b,8).toLowerCase()===Jf){var e=h.substr(b,8);b+=8}else e=a,0===n&&r(Kf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="INTERVAL":(b=c,c=a)}else b=c,c=a;return c}function Ac(){var c=b;if(h.substr(b,4).toLowerCase()===Lf){var e=h.substr(b,4);b+=4}else e=a,0===n&&r(Mf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=
e,e=a);e!==a?c="YEAR":(b=c,c=a)}else b=c,c=a;return c}function Bc(){var c=b;if(h.substr(b,5).toLowerCase()===Nf){var e=h.substr(b,5);b+=5}else e=a,0===n&&r(Of);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="MONTH":(b=c,c=a)}else b=c,c=a;return c}function Cc(){var c=b;if(h.substr(b,3).toLowerCase()===Pf){var e=h.substr(b,3);b+=3}else e=a,0===n&&r(Qf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="DAY":(b=c,c=a)}else b=c,c=a;return c}function Dc(){var c=b;if(h.substr(b,
4).toLowerCase()===Rf){var e=h.substr(b,4);b+=4}else e=a,0===n&&r(Sf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="HOUR":(b=c,c=a)}else b=c,c=a;return c}function Ec(){var c=b;if(h.substr(b,6).toLowerCase()===Tf){var e=h.substr(b,6);b+=6}else e=a,0===n&&r(Uf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="MINUTE":(b=c,c=a)}else b=c,c=a;return c}function sa(){var c=b;if(h.substr(b,6).toLowerCase()===Vf){var e=h.substr(b,6);b+=6}else e=a,0===n&&r(Wf);if(e!==a){e=
b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="SECOND":(b=c,c=a)}else b=c,c=a;return c}function tb(){var c=b;if(h.substr(b,4).toLowerCase()===Xf){var e=h.substr(b,4);b+=4}else e=a,0===n&&r(Yf);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="CASE":(b=c,c=a)}else b=c,c=a;return c}function ub(){var c=b;if(h.substr(b,3).toLowerCase()===Zf){var e=h.substr(b,3);b+=3}else e=a,0===n&&r($f);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="END":(b=c,c=a)}else b=c,c=
a;return c}function ed(){var c=b;if(h.substr(b,4).toLowerCase()===ag){var e=h.substr(b,4);b+=4}else e=a,0===n&&r(bg);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="WHEN":(b=c,c=a)}else b=c,c=a;return c}function fd(){var c=b;if(h.substr(b,4).toLowerCase()===cg){var e=h.substr(b,4);b+=4}else e=a,0===n&&r(dg);if(e!==a){e=b;n++;var d=C();n--;d===a?e=void 0:(b=e,e=a);e!==a?c="THEN":(b=c,c=a)}else b=c,c=a;return c}function db(){if(44===h.charCodeAt(b)){var c=eg;b++}else c=a,0===n&&r(fg);
return c}function V(){if(40===h.charCodeAt(b)){var c=gg;b++}else c=a,0===n&&r(hg);return c}function W(){if(41===h.charCodeAt(b)){var c=ig;b++}else c=a,0===n&&r(jg);return c}function q(){var c;var e=[];for(c=hd();c!==a;)e.push(c),c=hd();return e}function hd(){if(kg.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===n&&r(lg);return c}function lc(c,e,d,f){c={type:"binary_expr",operator:c,left:e,right:d};void 0!==f&&(c.escape=f);return c}function Ja(c,e){for(var d=0;d<e.length;d++)c=lc(e[d][1],c,e[d][3]);
return c}I=void 0!==I?I:{};var a={},id={start:G},jd=G,kd="!",ld=v("!",!1),hc="\x3d",ic=v("\x3d",!1),mc="\x3e\x3d",od=v("\x3e\x3d",!1),pd="\x3e",qd=v("\x3e",!1),nc="\x3c\x3d",rd=v("\x3c\x3d",!1),oc="\x3c\x3e",sd=v("\x3c\x3e",!1),td="\x3c",ud=v("\x3c",!1),pc="!\x3d",vd=v("!\x3d",!1),Cb="+",Db=v("+",!1),Eb="-",Fb=v("-",!1),wd="*",xd=v("*",!1),yd="/",zd=v("/",!1),Qe=/^[A-Za-z_\x80-\uFFFF]/,Re=E([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],!1,!1),Se=/^[A-Za-z0-9_]/,Te=E([["A","Z"],["a","z"],["0","9"],
"_"],!1,!1),Ue=/^[A-Za-z0-9_.\x80-\uFFFF]/,Ve=E([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),We="@",Xe=v("@",!1),Xc=function(c){return{type:"interval-period",period:c.value,precision:null,secondary:null}},Yc=function(c,e){return{type:"interval-period",period:"second",precision:c,secondary:e}},Zc="'",$c=v("'",!1),ad="N'",ff=v("N'",!1),zb="''",bd=v("''",!1),cd=/^[^']/,dd=E(["'"],!0,!1),jf=".",kf=v(".",!1),pf=/^[0-9]/,qf=E([["0","9"]],!1,!1),lf=/^[eE]/,mf=E(["e","E"],!1,!1),nf=
/^[+\-]/,of=E(["+","-"],!1,!1),Hd="null",Id=v("NULL",!0),Bd="true",Cd=v("TRUE",!0),Ed="false",Fd=v("FALSE",!0),rf="in",sf=v("IN",!0),tf="is",uf=v("IS",!0),vf="like",wf=v("LIKE",!0),md="escape",nd=v("ESCAPE",!0),xf="not",yf=v("NOT",!0),zf="and",Af=v("AND",!0),Bf="or",Cf=v("OR",!0),Df="between",Ef=v("BETWEEN",!0),Ff="from",Gf=v("FROM",!0),ne="for",oe=v("FOR",!0),de="substring",ee=v("SUBSTRING",!0),Td="extract",Ud=v("EXTRACT",!0),Hf="trim",If=v("TRIM",!0),te="position",ue=v("POSITION",!0),Od="timestamp",
Pd=v("TIMESTAMP",!0),Kd="date",Ld=v("DATE",!0),Ye="leading",Ze=v("LEADING",!0),$e="trailing",af=v("TRAILING",!0),bf="both",cf=v("BOTH",!0),df="to",ef=v("TO",!0),Jf="interval",Kf=v("INTERVAL",!0),Lf="year",Mf=v("YEAR",!0),Nf="month",Of=v("MONTH",!0),Pf="day",Qf=v("DAY",!0),Rf="hour",Sf=v("HOUR",!0),Tf="minute",Uf=v("MINUTE",!0),Vf="second",Wf=v("SECOND",!0),Xf="case",Yf=v("CASE",!0),Zf="end",$f=v("END",!0),ag="when",bg=v("WHEN",!0),cg="then",dg=v("THEN",!0),gf="else",hf=v("ELSE",!0),eg=",",fg=v(",",
!1),gg="(",hg=v("(",!1),ig=")",jg=v(")",!1),kg=/^[ \t\n\r]/,lg=E([" ","\t","\n","\r"],!1,!1),Qc="`",Rc=v("`",!1),Sc=/^[^`]/,Tc=E(["`"],!0,!1),b=0,cb=[{line:1,column:1}],ja=0,Ab=[],n=0;if("startRule"in I){if(!(I.startRule in id))throw Error("Can't start parsing from rule \""+I.startRule+'".');jd=id[I.startRule]}var fc=jd();if(fc!==a&&b===h.length)return fc;fc!==a&&b<h.length&&r({type:"end"});throw function(c,e,d){return new t(t.buildMessage(c,e),c,e,d)}(Ab,ja<h.length?h.charAt(ja):null,ja<h.length?
ka(ja,ja+1):ka(ja,ja));}}})})(fa);let ha=function(){function k(){}k.parse=function(t){return fa.exports.parse(t)};return k}();R.WhereGrammar=ha;Object.defineProperty(R,"__esModule",{value:!0})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(R){R.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};R.commonjsRequire=function(T){throw Error('Could not dynamically require "'+
T+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');};R.getDefaultExportFromCjs=function(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T["default"]:T}})},"*noref":1}});
define("exports ../../chunks/_rollupPluginBabelHelpers ../has ./AggregateFunctions ./StandardizedFunctions ./WhereGrammar".split(" "),function(R,T,fa,ha,k,t){function h(u,l){u+="";return u.length>=l?u:Array(l-u.length+1).join("0")+u}function I(u,l,g="0",m="0",w="0",y="0",B="",O="0",X="0"){return"+"===B||"-"===B?(u=`${h(parseInt(u,10),4)}-${h(parseInt(l,10),2)}-${h(parseInt(g,10),2)}`,l="",10>parseFloat(y)&&(l="0"),m=`${h(parseInt(m,10),2)}:${h(parseInt(w,10),2)}:${l+parseFloat(y).toString()}`,B=`${B}${h(parseInt(O,
10),2)}:${h(parseInt(X,10),2)}`,new Date(u+"T"+m+B)):new Date(parseInt(u,10),parseInt(l,10)-1,parseInt(g,10),parseInt(m,10),parseInt(w,10),parseFloat(y))}function v(u){let l=fb.exec(u);if(null!==l){const [,g,m,w,y,B,O]=l;return I(g,m,w,y,B,O)}l=Ma.exec(u);if(null!==l){const [,g,m,w,y,B,O,X,pa,Ga]=l;return I(g,m,w,y,B,O,X,pa,Ga)}l=gb.exec(u);if(null!==l){const [,g,m,w,y,B,O,X,pa]=l;return I(g,m,w,y,B,"0",O,X,pa)}l=Na.exec(u);if(null!==l){const [,g,m,w,y,B]=l;return I(g,m,w,y,B)}l=Z.exec(u);if(null!==
l){const [,g,m,w]=l;return I(g,m,w)}throw Error("SQL Invalid Timestamp");}function E(u){u=Z.exec(u);if(null===u)throw Error("SQL Invalid Date");const [,l,g,m]=u;return new Date(parseInt(l,10),parseInt(g,10)-1,parseInt(m,10))}function ia(u){return Array.isArray(u)?u:[u]}function ka(u){return null!==u?!0!==u:null}function r(u,l){return null!=u&&null!=l?!0===u&&!0===l:!1===u||!1===l?!1:null}function G(u,l){return null!=u&&null!=l?!0===u||!0===l:!0===u||!0===l?!0:null}function M(u,l){if(null==u)return null;
let g=!1;for(const m of l)if(null==m)g=null;else if(u===m){g=!0;break}return g}function L(u,l,g){if(null==u)return null;let m="",w=0;for(let y=0;y<l.length;y++){const B=l.charAt(y);switch(w){case 0:B===g?w=1:m=0<="-[]/{}()*+?.\\^$|".indexOf(B)?m+("\\"+B):"%"===B?m+".*":"_"===B?m+".":m+B;break;case 1:m=0<="-[]/{}()*+?.\\^$|".indexOf(B)?m+("\\"+B):m+B,w=0}}return(new RegExp("^"+m+"$")).test(u)}function S(u){return u instanceof Date?u.valueOf():u}function qa(u,l,g){if(null==l||null==g)return null;l=
S(l);g=S(g);switch(u){case "\x3c\x3e":return l!==g;case "\x3d":return l===g;case "\x3e":return l>g;case "\x3c":return l<g;case "\x3e\x3d":return l>=g;case "\x3c\x3d":return l<=g}}function va(u){const l=[],g={};for(const m of u)u=m.toLowerCase(),void 0===g[u]&&(l.push(m),g[u]=1);return l}function La(u,l,g){if(l instanceof k.SqlInterval)if(g instanceof Date)switch(u){case "+":return new Date(l.valueInMilliseconds()+g.getTime());case "-":return l.valueInMilliseconds()-g.getTime();case "*":return l.valueInMilliseconds()*
g.getTime();case "/":return l.valueInMilliseconds()/g.getTime()}else if(g instanceof k.SqlInterval)switch(u){case "+":return k.SqlInterval.createFromMilliseconds(l.valueInMilliseconds()+g.valueInMilliseconds());case "-":return k.SqlInterval.createFromMilliseconds(l.valueInMilliseconds()-g.valueInMilliseconds());case "*":return l.valueInMilliseconds()*g.valueInMilliseconds();case "/":return l.valueInMilliseconds()/g.valueInMilliseconds()}else l=l.valueInMilliseconds();else if(g instanceof k.SqlInterval)if(l instanceof
Date)switch(u){case "+":return new Date(g.valueInMilliseconds()+l.getTime());case "-":return new Date(l.getTime()-g.valueInMilliseconds());case "*":return l.getTime()*g.valueInMilliseconds();case "/":return l.getTime()/g.valueInMilliseconds()}else g=g.valueInMilliseconds();else if(l instanceof Date&&"number"===typeof g)switch(g*=864E5,l=l.getTime(),u){case "+":return new Date(l+g);case "-":return new Date(l-g);case "*":return new Date(l*g);case "/":return new Date(l/g)}else if(g instanceof Date&&
"number"===typeof l)switch(l*=864E5,g=g.getTime(),u){case "+":return new Date(l+g);case "-":return new Date(l-g);case "*":return new Date(l*g);case "/":return new Date(l/g)}switch(u){case "+":return l+g;case "-":return l-g;case "*":return l*g;case "/":return l/g}}function wa(u,l,g,m){u=m.getAttribute(u,l);return null!=u&&1===g[l]?new Date(u):u}const Z=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,fb=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,Ma=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,
gb=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,Na=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;let rb=function(){function u(){}u.makeBool=function(l){return!0===l};u.featureValue=function(l,g,m,w){return wa(l,g,m,w)};u.equalsNull=function(l){return null===l};u.applyLike=function(l,g,m){return L(l,g,m)};u.ensureArray=function(l){return ia(l)};u.applyIn=function(l,g){return M(l,g)};u.currentDate=function(){const l=new Date;l.setHours(0,0,0,0);return l};u.makeSqlInterval=
function(l,g,m){return k.SqlInterval.createFromValueAndQualifer(l,g,m)};u.convertInterval=function(l){return l instanceof k.SqlInterval?l.valueInMilliseconds():l};u.currentTimestamp=function(){return new Date};u.compare=function(l,g,m){return qa(l,g,m)};u.calculate=function(l,g,m){return La(l,g,m)};u.makeComparable=function(l){return S(l)};u.evaluateFunction=function(l,g){return k.evaluateFunction(l,g)};u.lookup=function(l,g){l=g[l];return void 0===l?null:l};u.between=function(l,g){return null==l||
null==g[0]||null==g[1]?null:l>=g[0]&&l<=g[1]};u.notbetween=function(l,g){return null==l||null==g[0]||null==g[1]?null:l<g[0]||l>g[1]};u.ternaryNot=function(l){return ka(l)};u.ternaryAnd=function(l,g){return r(l,g)};u.ternaryOr=function(l,g){return G(l,g)};return u}(),Oa=function(){function u(g,m){this.fieldsIndex=m;this.datefields={};this.parameters={};this.parseTree=t.WhereGrammar.parse(g);const {isStandardized:w,isAggregate:y,referencedFieldNames:B}=this.extractExpressionInfo(m);this.referencedFieldNames=
B;this.isStandardized=w;this.isAggregate=y}u.create=function(g,m){return new u(g,m)};var l=u.prototype;l.testSet=function(g,m=C){const w={};for(const y of this.fieldNames)w[y]=g.map(B=>m.getAttribute(B,y));return!!this.evaluateNode(this.parseTree,{attributes:w},C)};l.calculateValue=function(g,m=C){g=this.evaluateNode(this.parseTree,g,m);return g instanceof k.SqlInterval?g.valueInMilliseconds()/864E5:g};l.calculateValueCompiled=function(g,m=C){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(g,
this.parameters,m,this.datefields);if(fa("csp-restrictions"))return this.calculateValue(g,m);this.compileMe();return this.parseTree._compiledVersion(g,this.parameters,m,this.datefields)};l.testFeature=function(g,m=C){return!!this.evaluateNode(this.parseTree,g,m)};l.testFeatureCompiled=function(g,m=C){if(null!=this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(g,this.parameters,m,this.datefields);if(fa("csp-restrictions"))return this.testFeature(g,m);this.compileMe();return!!this.parseTree._compiledVersion(g,
this.parameters,m,this.datefields)};l.getFunctions=function(){const g=[];this.visitAll(this.parseTree,m=>{"function"===m.type&&g.push(m.name.toLowerCase())});return va(g)};l.getExpressions=function(){const g=new Map;this.visitAll(this.parseTree,m=>{if("function"===m.type){const w=m.name.toLowerCase();m=m.args.value[0];if("column_ref"===m.type){m=m.column;const y=`${w}-${m}`;g.has(y)||g.set(y,{aggregateType:w,field:m})}}});return[...g.values()]};l.getVariables=function(){const g=[];this.visitAll(this.parseTree,
m=>{"param"===m.type&&g.push(m.value.toLowerCase())});return va(g)};l.compileMe=function(){const g="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=(new Function("feature","lookups","attributeAdapter","datefields",g)).bind(rb)};l.extractExpressionInfo=function(g){const m=[];let w=!0,y=!0;this.visitAll(this.parseTree,B=>{switch(B.type){case "column_ref":{const O=g.get(B.column),X=O&&O.name;!O||"date"!==O.type&&"esriFieldTypeDate"!==O.type||
(this.datefields[O.name]=1);void 0!==X?(m.push(X),B.column=X):m.push(B.column);break}case "function":{const {name:O,args:X}=B;B=X.value.length;w&&(w=k.isStandardized(O,B));y&&(y=ha.isAggregate(O,B))}}});return{referencedFieldNames:va(m),isStandardized:w,isAggregate:y}};l.visitAll=function(g,m){if(null!=g)switch(m(g),g.type){case "when_clause":this.visitAll(g.operand,m);this.visitAll(g.value,m);break;case "case_expression":for(const w of g.clauses)this.visitAll(w,m);"simple"===g.format&&this.visitAll(g.operand,
m);null!==g.else&&this.visitAll(g.else,m);break;case "expr_list":for(const w of g.value)this.visitAll(w,m);break;case "unary_expr":this.visitAll(g.expr,m);break;case "binary_expr":this.visitAll(g.left,m);this.visitAll(g.right,m);break;case "function":this.visitAll(g.args,m)}};l.evaluateNodeToJavaScript=function(g){switch(g.type){case "interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(g.value)+", "+JSON.stringify(g.qualifier)+","+JSON.stringify(g.op)+")";case "case_expression":var m=
"";if("simple"===g.format){var w="this.makeComparable("+this.evaluateNodeToJavaScript(g.operand)+")";m="( ";for(let y=0;y<g.clauses.length;y++)m+=" ("+w+" \x3d\x3d\x3d this.makeComparable("+this.evaluateNodeToJavaScript(g.clauses[y].operand)+")) ? ("+this.evaluateNodeToJavaScript(g.clauses[y].value)+") : "}else for(m="( ",w=0;w<g.clauses.length;w++)m+=" this.makeBool("+this.evaluateNodeToJavaScript(g.clauses[w].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(g.clauses[w].value)+") : ";
m=null!==g.else?m+this.evaluateNodeToJavaScript(g.else):m+"null";return m+=" )";case "param":return"this.lookup("+JSON.stringify(g.value.toLowerCase())+",lookups)";case "expr_list":m="[";for(w of g.value)"["!==m&&(m+=","),m+=this.evaluateNodeToJavaScript(w);return m+="]";case "unary_expr":return"this.ternaryNot("+this.evaluateNodeToJavaScript(g.expr)+")";case "binary_expr":switch(g.operator){case "AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+
" )";case "OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+" )";case "IS":if("null"!==g.right.type)throw Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(g.left)+")";case "ISNOT":if("null"!==g.right.type)throw Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(g.left)+")))";case "IN":return"this.applyIn("+this.evaluateNodeToJavaScript(g.left)+",this.ensureArray("+
this.evaluateNodeToJavaScript(g.right)+"))";case "NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(g.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(g.right)+")))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+")";case "NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+")";case "LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(g.left)+
","+this.evaluateNodeToJavaScript(g.right)+","+JSON.stringify(g.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+","+JSON.stringify(g.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+JSON.stringify(g.operator)+","+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+")";case "*":case "-":case "+":case "/":return"this.calculate("+
JSON.stringify(g.operator)+","+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+")"}throw Error("Not Supported Operator "+g.operator);case "null":case "bool":case "string":case "number":return JSON.stringify(g.value);case "date":return"(new Date("+E(g.value).getTime().toString()+"))";case "timestamp":return"(new Date("+v(g.value).getTime().toString()+"))";case "current_time":return"date"===g.mode?"this.currentDate()":"this.currentTimestamp()";case "column_ref":return"this.featureValue(feature,"+
JSON.stringify(g.column)+",datefields,attributeAdapter)";case "function":return"this.evaluateFunction("+JSON.stringify(g.name)+","+this.evaluateNodeToJavaScript(g.args)+")"}throw Error("Unsupported sql syntax "+g.type);};l.evaluateNode=function(g,m,w){switch(g.type){case "interval":return m=this.evaluateNode(g.value,m,w),k.SqlInterval.createFromValueAndQualifer(m,g.qualifier,g.op);case "case_expression":if("simple"===g.format){var y=S(this.evaluateNode(g.operand,m,w));for(var B=0;B<g.clauses.length;B++)if(y===
S(this.evaluateNode(g.clauses[B].operand,m,w)))return this.evaluateNode(g.clauses[B].value,m,w)}else for(y=0;y<g.clauses.length;y++)if(!0===this.evaluateNode(g.clauses[y].operand,m,w))return this.evaluateNode(g.clauses[y].value,m,w);return null!==g.else?this.evaluateNode(g.else,m,w):null;case "param":return this.parameters[g.value.toLowerCase()];case "expr_list":y=[];for(B of g.value)y.push(this.evaluateNode(B,m,w));return y;case "unary_expr":return ka(this.evaluateNode(g.expr,m,w));case "binary_expr":switch(g.operator){case "AND":return r(this.evaluateNode(g.left,
m,w),this.evaluateNode(g.right,m,w));case "OR":return G(this.evaluateNode(g.left,m,w),this.evaluateNode(g.right,m,w));case "IS":if("null"!==g.right.type)throw Error("Unsupported RHS for IS");return null===this.evaluateNode(g.left,m,w);case "ISNOT":if("null"!==g.right.type)throw Error("Unsupported RHS for IS");return null!==this.evaluateNode(g.left,m,w);case "IN":return y=ia(this.evaluateNode(g.right,m,w)),M(this.evaluateNode(g.left,m,w),y);case "NOT IN":return y=ia(this.evaluateNode(g.right,m,w)),
ka(M(this.evaluateNode(g.left,m,w),y));case "BETWEEN":return y=this.evaluateNode(g.left,m,w),g=this.evaluateNode(g.right,m,w),null==y||null==g[0]||null==g[1]?null:y>=S(g[0])&&y<=S(g[1]);case "NOTBETWEEN":return y=this.evaluateNode(g.left,m,w),g=this.evaluateNode(g.right,m,w),null==y||null==g[0]||null==g[1]?null:y<S(g[0])||y>S(g[1]);case "LIKE":return L(this.evaluateNode(g.left,m,w),this.evaluateNode(g.right,m,w),g.escape);case "NOT LIKE":return ka(L(this.evaluateNode(g.left,m,w),this.evaluateNode(g.right,
m,w),g.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return qa(g.operator,this.evaluateNode(g.left,m,w),this.evaluateNode(g.right,m,w));case "-":case "+":case "*":case "/":return La(g.operator,this.evaluateNode(g.left,m,w),this.evaluateNode(g.right,m,w))}case "null":case "bool":case "string":case "number":return g.value;case "date":return E(g.value);case "timestamp":return v(g.value);case "current_time":return m=new Date,"date"===g.mode&&m.setHours(0,
0,0,0),m;case "column_ref":return wa(m,g.column,this.datefields,w);case "function":return m=this.evaluateNode(g.args,m,w),this.isAggregate?ha.aggregateFunction(g.name,m):k.evaluateFunction(g.name,m)}throw Error("Unsupported sql syntax "+g.type);};T._createClass(u,[{key:"fieldNames",get:function(){return this.referencedFieldNames}}]);return u}();const C={getAttribute(u,l){return(u&&"object"===typeof u.attributes?u.attributes:u)[l]}};R.WhereClause=Oa;R.defaultAttributeAdapter=C;Object.defineProperty(R,
"__esModule",{value:!0})});