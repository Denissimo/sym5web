// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("require exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../core/Error ../Portal ../../rest/support/ProjectParameters".split(" "),function(l,f,m,n,g,q,r){function p(){return h.apply(this,arguments)}function h(){h=m._asyncToGenerator(function*(a=null,e){if(n.geometryServiceUrl)return new (yield new Promise(function(b,d){l(["../../tasks/GeometryService"],function(c){b(Object.freeze({__proto__:null,"default":c}))},d)})).default({url:n.geometryServiceUrl});if(!a)throw new g("internal:geometry-service-url-not-configured");
a="portal"in a?a.portal||q.getDefault():a;yield a.load({signal:e});if(a.helperServices&&a.helperServices.geometry&&a.helperServices.geometry.url)return new (yield new Promise(function(b,d){l(["../../tasks/GeometryService"],function(c){b(Object.freeze({__proto__:null,"default":c}))},d)})).default({url:a.helperServices.geometry.url});throw new g("internal:geometry-service-url-not-configured");});return h.apply(this,arguments)}function k(){k=m._asyncToGenerator(function*(a,e,b=null,d){b=yield p(b,d);
const c=new r;c.geometries=[a];c.outSpatialReference=e;if((a=yield b.project(c,{signal:d}))&&Array.isArray(a)&&1===a.length)return a[0];throw new g("internal:geometry-service-projection-failed");});return k.apply(this,arguments)}f.create=p;f.projectGeometry=function(a,e){return k.apply(this,arguments)};Object.defineProperty(f,"__esModule",{value:!0})});