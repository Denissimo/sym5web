// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),function(l,q,f,p,g,x,y,z,A,r,m,t,u,v,w){l.OperationalLayer=
c=>{c=function(k){function n(){var b=k.apply(this,arguments)||this;b.title=null;return b}q._inheritsLoose(n,k);var h=n.prototype;h.writeListMode=function(b,a,e,d){d&&"ground"===d.layerContainerType?a[e]=b:b&&u.willPropertyWrite(this,e,{},d)&&(a[e]=b)};h.writeOperationalLayerType=function(b,a,e,d){!b||d&&"tables"===d.layerContainerType||(a.layerType=b)};h.writeTitle=function(b,a){a.title=b||"Layer"};h.read=function(b,a){a&&(a.layer=this);t.readLoadable(this,b,e=>k.prototype.read.call(this,b,e),a)};
h.write=function(b,a){if(a&&a.origin){const d=`${a.origin}/${a.layerContainerType||"operational-layers"}`;var e=v.supportedTypes[d];e=e&&e[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===d&&(e=!1);if(!e)return a.messages&&a.messages.push(new p("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,{layer:this})),null}b=k.prototype.write.call(this,
b,{...a,layer:this});a=!!a&&!!a.messages&&!!a.messages.filter(d=>d instanceof p&&"web-document-write:property-required"===d.name).length;return!this.url&&a?null:b};h.beforeSave=function(){};return n}(c);f.__decorate([g.property({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],c.prototype,"id",void 0);f.__decorate([g.property({json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}})],c.prototype,"listMode",
void 0);f.__decorate([m.writer("listMode")],c.prototype,"writeListMode",null);f.__decorate([g.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],c.prototype,"operationalLayerType",void 0);f.__decorate([m.writer("operationalLayerType")],c.prototype,"writeOperationalLayerType",null);f.__decorate([g.property(w.opacity)],c.prototype,"opacity",void 0);f.__decorate([g.property({type:String,json:{write:{ignoreOrigin:!0,allowNull:!0},
origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,allowNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],c.prototype,"title",void 0);f.__decorate([m.writer("title")],c.prototype,"writeTitle",null);f.__decorate([g.property({type:Boolean,json:{name:"visibility",origins:{"web-document":{name:"visibility",default:!0},"portal-item":{name:"visibility",read:{source:["visible","visibility"]}}}}})],c.prototype,"visible",void 0);return c=f.__decorate([r.subclass("esri.layers.mixins.OperationalLayer")],
c)};l.isOperationalLayer=function(c){return"operationalLayerType"in c};Object.defineProperty(l,"__esModule",{value:!0})});