// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/graphics/sources/WFSSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../core/Error ../../../core/HandleOwner ../../../core/has ../../../core/Loadable ../../../core/maybe ../../../core/promiseUtils ../../../core/watchUtils ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/Logger ../../../core/jsonMap ../../../core/accessorSupport/decorators/subclass ../../../geometry/support/typeUtils ./support/clientSideDefaults ../../ogc/wfsUtils ../../../rest/support/FeatureSet ../../../geometry/Extent".split(" "),
function(B,c,R,G,J,L,fa,qa,ja,W,ia,pa,ka,h,z,m,q,v,y,u,x,C){B.WFSSource=function(H){function P(){var S=H.apply(this,arguments)||this;S.capabilities=y.createCapabilities(!1,!1);S.type="wfs";S._updateCustomParameters=W.debounce(()=>{var M;const Y=S.layer.customParameters;return null==(M=S._connection)?void 0:M.invoke("setCustomParameters",Y)});return S}c._inheritsLoose(P,H);var Q=P.prototype;Q.load=function(S){var M;S=null!=(M=ja.isSome(S)&&S.signal)?M:null;this.addResolvingPromise(this._startWorker({signal:S}));
return Promise.resolve(this)};Q.destroy=function(){var S;null==(S=this._connection)?void 0:S.close();this._connection=null};Q.openPorts=function(){var S=c._asyncToGenerator(function*(){yield this.load();return this._connection.openPorts()});return function(){return S.apply(this,arguments)}}();Q.queryFeatures=function(){var S=c._asyncToGenerator(function*(M,Y={}){yield this.load(Y);M=yield this._connection.invoke("queryFeatures",M?M.toJSON():null,Y);return x.fromJSON(M)});return function(M){return S.apply(this,
arguments)}}();Q.queryFeaturesJSON=function(){var S=c._asyncToGenerator(function*(M,Y={}){yield this.load(Y);return this._connection.invoke("queryFeatures",M?M.toJSON():null,Y)});return function(M){return S.apply(this,arguments)}}();Q.queryFeatureCount=function(){var S=c._asyncToGenerator(function*(M,Y={}){yield this.load(Y);return this._connection.invoke("queryFeatureCount",M?M.toJSON():null,Y)});return function(M){return S.apply(this,arguments)}}();Q.queryObjectIds=function(){var S=c._asyncToGenerator(function*(M,
Y={}){yield this.load(Y);return this._connection.invoke("queryObjectIds",M?M.toJSON():null,Y)});return function(M){return S.apply(this,arguments)}}();Q.queryExtent=function(){var S=c._asyncToGenerator(function*(M,Y={}){yield this.load(Y);M=yield this._connection.invoke("queryExtent",M?M.toJSON():null,Y);return{count:M.count,extent:C.fromJSON(M.extent)}});return function(M){return S.apply(this,arguments)}}();Q.querySnapping=function(){var S=c._asyncToGenerator(function*(M,Y={}){yield this.load(Y);
return this._connection.invoke("querySnapping",M,Y)});return function(M){return S.apply(this,arguments)}}();Q.refresh=function(){var S=c._asyncToGenerator(function*(M={}){yield this.load(M);({extent:M}=yield this._connection.invoke("refresh",void 0,M));this.sourceJSON.extent=M;return{extent:M}});return function(){return S.apply(this,arguments)}}();Q._createLoadOptions=function(){var S=c._asyncToGenerator(function*(M){const {url:Y,customParameters:sa,name:la,namespaceUri:xa,spatialReference:ya,fields:ta,
geometryType:Ma,swapXY:Ra}=this.layer;if(!Y)throw new J("wfs-layer:missing-url","WFSLayer must be created with a url");this.wfsCapabilities=this.wfsCapabilities||(yield u.getCapabilities(Y,{customParameters:sa,...M}));M="fields geometryType name namespaceUri spatialReference swapXY".split(" ").some(Ia=>null==this.layer[Ia])?yield u.getWFSLayerInfo(this.wfsCapabilities,la,xa,{spatialReference:ya,customParameters:sa,signal:null==M?void 0:M.signal}):{...u.prepareWFSLayerFields(ta),geometryType:Ma,name:la,
namespaceUri:xa,spatialReference:ya,swapXY:Ra};const Ka=ja.unwrap(u.findFeatureType(this.wfsCapabilities.readFeatureTypes(),M.name,M.namespaceUri)),Na=v.featureGeometryTypeKebabDictionary.toJSON(M.geometryType);return{customParameters:sa,featureType:Ka,fields:M.fields.map(Ia=>Ia.toJSON()),geometryField:M.geometryField,geometryType:Na,getFeatureUrl:this.wfsCapabilities.operations.GetFeature.url,getFeatureOutputFormat:this.wfsCapabilities.operations.GetFeature.outputFormat,objectIdField:M.objectIdField,
spatialReference:M.spatialReference.toJSON(),swapXY:M.swapXY}});return function(M){return S.apply(this,arguments)}}();Q._startWorker=function(){var S=c._asyncToGenerator(function*(M){const [Y,sa]=yield W.eachAlways([this._createLoadOptions(M),pa.open("WFSSourceWorker",{...M,strategy:fa("feature-layers-workers")?"dedicated":"local"})]);var la=Y.error||sa.error||null;const xa=sa.value||null;if(la)throw xa&&xa.close(),la;la=Y.value;this._connection=sa.value;({extent:M}=yield this._connection.invoke("load",
la,M));this.sourceJSON={extent:M,fields:la.fields,geometryType:la.geometryType,objectIdField:la.objectIdField,geometryField:la.geometryField,drawingInfo:y.createDrawingInfo(la.geometryType),name:la.featureType.title,wfsInfo:{name:la.featureType.name,featureUrl:la.getFeatureUrl,maxFeatures:3E3,swapXY:la.swapXY,supportedSpatialReferences:la.featureType.supportedSpatialReferences,version:"2.0.0",wfsNamespace:la.featureType.namespaceUri}};this.handles.add(ia.init(this.layer,"customParameters",()=>this._updateCustomParameters().catch(()=>
{})))});return function(M){return S.apply(this,arguments)}}();return P}(L.HandleOwnerMixin(qa));R.__decorate([ka.property()],B.WFSSource.prototype,"capabilities",void 0);R.__decorate([ka.property({constructOnly:!0})],B.WFSSource.prototype,"layer",void 0);R.__decorate([ka.property()],B.WFSSource.prototype,"sourceJSON",void 0);R.__decorate([ka.property()],B.WFSSource.prototype,"type",void 0);R.__decorate([ka.property()],B.WFSSource.prototype,"wfsCapabilities",void 0);B.WFSSource=R.__decorate([q.subclass("esri.layers.graphics.sources.WFSSource")],
B.WFSSource);B.default=B.WFSSource;Object.defineProperty(B,"__esModule",{value:!0})})},"esri/layers/ogc/wfsUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../core/Error ../../core/interatorUtils ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../geometry/projection ../../geometry/support/spatialReferenceUtils ../../geometry/support/typeUtils ../graphics/sources/geojson/geojson ./dateUtils ./xmlUtils ../support/Field ../../geometry/SpatialReference ../../geometry/Extent".split(" "),
function(B,c,R,G,J,L,fa,qa,ja,W,ia,pa,ka,h,z,m,q,v){function y(){y=c._asyncToGenerator(function*(E,a){a=yield G(E,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetCapabilities",VERSION:"2.0.0",...null==a?void 0:a.customParameters},signal:null==a?void 0:a.signal});a=u(a.data);ja.isHTTPSProtocol(E)&&(ja.hasSameOrigin(E,a.operations.DescribeFeatureType.url,!0)&&(a.operations.DescribeFeatureType.url=ja.toHTTPS(a.operations.DescribeFeatureType.url)),ja.hasSameOrigin(E,a.operations.GetFeature.url,
!0)&&(a.operations.GetFeature.url=ja.toHTTPS(a.operations.GetFeature.url)));return a});return y.apply(this,arguments)}function u(E){E=La(E);ca(E);Ja(E);const a=E.firstElementChild,b=new Map;return{operations:x(a),get featureTypes(){return Array.from(C(a,b))},readFeatureTypes:()=>C(a,b)}}function x(E){let a=!1;const b={GetCapabilities:{url:""},DescribeFeatureType:{url:""},GetFeature:{url:"",outputFormat:null,supportsPagination:!1}};z.visitXML(E,{OperationsMetadata:{Operation:d=>{switch(d.getAttribute("name")){case "GetCapabilities":return{DCP:{HTTP:{Get:e=>
{b.GetCapabilities.url=e.getAttribute("xlink:href")}}}};case "DescribeFeatureType":return{DCP:{HTTP:{Get:e=>{b.DescribeFeatureType.url=e.getAttribute("xlink:href")}}}};case "GetFeature":return{DCP:{HTTP:{Get:e=>{b.GetFeature.url=e.getAttribute("xlink:href")}}},Parameter:e=>{if("outputFormat"===e.getAttribute("name"))return{AllowedValues:{Value:n=>{n=n.textContent;Ta.has(n.toLowerCase())&&(b.GetFeature.outputFormat=n)}}}}}}},Constraint:d=>{switch(d.getAttribute("name")){case "KVPEncoding":return{DefaultValue:e=>
{a="true"===e.textContent.toLowerCase()}};case "ImplementsResultPaging":return{DefaultValue:e=>{b.GetFeature.supportsPagination="true"===e.textContent.toLowerCase()}}}}}});if(!a)throw new J("wfs-layer:kvp-encoding-not-supported","WFS service doesn't support key/value pair (KVP) encoding");if(fa.isNone(b.GetFeature.outputFormat))throw new J("wfs-layer:geojson-not-supported","WFS service doesn't support GeoJSON output format");return b}function C(E,a){return z.iterateXML(E,{FeatureTypeList:{FeatureType:b=>
{if(a.has(b))return a.get(b);const d={typeName:"undefined:undefined",name:"",title:"",description:"",extent:null,namespacePrefix:"",namespaceUri:"",supportedSpatialReferences:[]},e=new Set([4326]),n=p=>{var t,l;p=parseInt(null==(t=p.textContent.match(c._wrapRegExp(/([0-9]+$)/i,{wkid:1})))?void 0:null==(l=t.groups)?void 0:l.wkid,10);Number.isNaN(p)||e.add(p)};z.visitXML(b,{Name:p=>{const {name:t,prefix:l}=Aa(p.textContent);d.typeName=`${l}:${t}`;d.name=t;d.namespacePrefix=l;d.namespaceUri=p.lookupNamespaceURI(l)},
Abstract:p=>{d.description=p.textContent},Title:p=>{d.title=p.textContent},WGS84BoundingBox:p=>{d.extent=H(p)},DefaultSRS:n,DefaultCRS:n,OtherSRS:n,OtherCRS:n});d.title||(d.title=d.name);d.supportedSpatialReferences.push(...e);a.set(b,d);return d}}})}function H(E){let a,b,d,e;for(const n of E.children)switch(n.localName){case "LowerCorner":[a,b]=n.textContent.split(" ").map(p=>Number.parseFloat(p));break;case "UpperCorner":[d,e]=n.textContent.split(" ").map(p=>Number.parseFloat(p))}return{xmin:a,
ymin:b,xmax:d,ymax:e,spatialReference:ia.WGS84}}function P(E,a,b){return L.find(E,d=>b?d.name===a&&d.namespaceUri===b:d.typeName===a||d.name===a)}function Q(){Q=c._asyncToGenerator(function*(E,a,b,d={}){var e;const {featureType:n,extent:p}=yield S(E,a,b,d),{fields:t,geometryType:l,swapXY:w,objectIdField:A,geometryField:D}=yield Y(E,n.typeName,d);return{url:E.operations.GetCapabilities.url,name:n.name,namespaceUri:n.namespaceUri,fields:t,geometryField:D,geometryType:l,objectIdField:A,spatialReference:null!=
(e=d.spatialReference)?e:q.WGS84,extent:p,swapXY:w,wfsCapabilities:E,customParameters:d.customParameters}});return Q.apply(this,arguments)}function S(E,a,b){return M.apply(this,arguments)}function M(){M=c._asyncToGenerator(function*(E,a,b,d={}){const {spatialReference:e=q.WGS84}=d;E=E.readFeatureTypes();b=a?P(E,a,b):E.next().value;if(fa.isNone(b)){if(a)throw new J("wfs-layer:feature-type-not-found",`The type '${a}' could not be found in the service`);throw new J("wfs-layer:empty-service","The service is empty");
}a=new v({...b.extent,spatialReference:e});if(!ia.equals(e,ia.WGS84))try{yield W.initializeProjection(ia.WGS84,e,void 0,d),a=W.project(a,ia.WGS84)}catch{throw new J("wfs-layer:unsupported-spatial-reference","Projection not supported");}return{extent:a,spatialReference:e,featureType:b}});return M.apply(this,arguments)}function Y(E,a){return sa.apply(this,arguments)}function sa(){sa=c._asyncToGenerator(function*(E,a,b={}){const [d,e]=yield qa.eachAlways([ta(E.operations.DescribeFeatureType.url,a,b),
xa(E,a,b)]);if(d.error||e.error)throw new J("wfs-layer:getWFSLayerTypeInfo-error",`An error occurred while getting info about the feature type '${a}'`,{error:d.error||e.error});const {fields:n,errors:p}=d.value;E=d.value.geometryType||e.value.geometryType;b=e.value.swapXY;if(fa.isNone(E))throw new J("wfs-layer:unknown-geometry-type",`The geometry type could not be determined for type '${a}`,{typeName:a,geometryType:E,fields:n,errors:p});return{...la(n),geometryType:E,swapXY:b}});return sa.apply(this,
arguments)}function la(E){var a;const b=E.find(e=>"geometry"===e.type);let d=E.find(e=>"oid"===e.type);E=E.filter(e=>"geometry"!==e.type);d||(d=new m({name:"__esri_wfs_id__",type:"oid",alias:"__esri_wfs_id__"}),E.unshift(d));return{geometryField:null!=(a=null==b?void 0:b.name)?a:null,objectIdField:d.name,fields:E}}function xa(E,a){return ya.apply(this,arguments)}function ya(){ya=c._asyncToGenerator(function*(E,a,b={}){var d;let e,n=!1;const [p,t]=yield Promise.all([Na(E.operations.GetFeature.url,
a,E.operations.GetFeature.outputFormat,{...b,count:1}),G(E.operations.GetFeature.url,{responseType:"text",query:Ba(a,void 0,{...b,count:1}),signal:null==b?void 0:b.signal})]);if(E="FeatureCollection"===p.type&&(null==(d=p.features[0])?void 0:d.geometry)){e=pa.featureGeometryTypeKebabDictionary.fromJSON(ka.getGeometryType(E.type));switch(E.type){case "Point":var l=E.coordinates;break;case "LineString":case "MultiPoint":l=E.coordinates[0];break;case "MultiLineString":case "Polygon":l=E.coordinates[0][0];
break;case "MultiPolygon":l=E.coordinates[0][0][0]}if(E=/<[^>]*pos[^>]*> *(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)/.exec(t.data))d=l[0].toFixed(3),l=l[1].toFixed(3),a=parseFloat(E[1]).toFixed(3),E=parseFloat(E[2]).toFixed(3),d===E&&l===a&&(n=!0)}return{geometryType:e,swapXY:n}});return ya.apply(this,arguments)}function ta(E,a,b){return Ma.apply(this,arguments)}function Ma(){Ma=c._asyncToGenerator(function*(E,a,b){E=yield G(E,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"DescribeFeatureType",VERSION:"2.0.0",
TYPENAME:a,...null==b?void 0:b.customParameters},signal:null==b?void 0:b.signal});return Ra(a,E.data)});return Ma.apply(this,arguments)}function Ra(E,a){const {name:b}=Aa(E);a=La(a);Ja(a);const d=L.find(z.iterateXML(a.firstElementChild,{element:e=>({name:e.getAttribute("name"),typeName:Aa(e.getAttribute("type")).name})}),({name:e})=>e===b);if(fa.isSome(d)){const e=L.find(z.iterateXML(a.firstElementChild,{complexType:n=>n}),n=>n.getAttribute("name")===d.typeName);if(fa.isSome(e))return Ka(e)}throw new J("wfs-layer:feature-type-not-found",
`Type '${E}' not found in document`,{document:(new XMLSerializer).serializeToString(a)});}function Ka(E){var a,b;const d=[],e=[];let n;var p=z.iterateXML(E,{complexContent:{extension:{sequence:{element:t=>t}}}});for(const t of p){p=t.getAttribute("name");if(!p)continue;let l,w;t.hasAttribute("type")?l=Aa(t.getAttribute("type")).name:z.visitXML(t,{simpleType:{restriction:F=>{l=Aa(F.getAttribute("base")).name;return{maxLength:N=>{w=+N.getAttribute("value")}}}}});if(!l)continue;const A="true"===t.getAttribute("nillable");
let D=!1;switch(l.toLowerCase()){case "integer":case "nonpositiveinteger":case "negativeinteger":case "long":case "int":case "short":case "byte":case "nonnegativeinteger":case "unsignedlong":case "unsignedint":case "unsignedshort":case "unsignedbyte":case "positiveinteger":e.push(new m({name:p,alias:p,type:"integer",nullable:A}));break;case "float":case "double":case "decimal":e.push(new m({name:p,alias:p,type:"double",nullable:A}));break;case "boolean":case "string":case "gyearmonth":case "gyear":case "gmonthday":case "gday":case "gmonth":case "anyuri":case "qname":case "notation":case "normalizedstring":case "token":case "language":case "idrefs":case "entities":case "nmtoken":case "nmtokens":case "name":case "ncname":case "id":case "idref":case "entity":case "duration":case "time":e.push(new m({name:p,
alias:p,type:"string",nullable:A,length:null!=(a=w)?a:255}));break;case "datetime":case "date":e.push(new m({name:p,alias:p,type:"date",nullable:A,length:null!=(b=w)?b:36}));break;case "pointpropertytype":n="point";D=!0;break;case "multipointpropertytype":n="multipoint";D=!0;break;case "curvepropertytype":case "multicurvepropertytype":case "multilinestringpropertytype":n="polyline";D=!0;break;case "surfacepropertytype":case "multisurfacepropertytype":case "multipolygonpropertytype":n="polygon";D=
!0;break;case "geometrypropertytype":case "multigeometrypropertytype":D=!0;d.push(new J("wfs-layer:unknown-geometry-type",`geometry type '${l}' is not supported`,{type:(new XMLSerializer).serializeToString(E)}));break;default:d.push(new J("wfs-layer:unknown-field-type",`Unknown field type '${l}'`,{type:(new XMLSerializer).serializeToString(E)}))}D&&e.push(new m({name:p,alias:p,type:"geometry",nullable:A}))}for(const t of e)if("integer"===t.type&&!t.nullable&&Oa.has(t.name.toLowerCase())){t.type="oid";
break}return{geometryType:n,fields:e,errors:d}}function Na(E,a,b,d){return Ia.apply(this,arguments)}function Ia(){Ia=c._asyncToGenerator(function*(E,a,b,d){({data:E}=yield G(E,{responseType:"text",query:Ba(a,b,d),signal:null==d?void 0:d.signal}));E=E.replace(/": +(-?\d+),(\d+)(,)?/g,'": $1.$2$3');try{var e;if(null!=d&&null!=(e=d.dateFields)&&e.length){const n=new Set(d.dateFields);return JSON.parse(E,(p,t)=>n.has(p)?h.parseDate(t):t)}return JSON.parse(E)}catch(n){throw new J("wfs-layer:malformed-json",
"Error while parsing the\u00a0response",{response:E,error:n});}});return Ia.apply(this,arguments)}function Ba(E,a,b){return{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:"2.0.0",TYPENAMES:E,OUTPUTFORMAT:a,SRSNAME:"EPSG:4326",STARTINDEX:null==b?void 0:b.startIndex,COUNT:null==b?void 0:b.count,...null==b?void 0:b.customParameters}}function Pa(){Pa=c._asyncToGenerator(function*(E,a,b){E=yield G(E,{responseType:"text",query:{SERVICE:"WFS",REQUEST:"GetFeature",VERSION:"2.0.0",TYPENAMES:a,RESULTTYPE:"hits",
...null==b?void 0:b.customParameters},signal:null==b?void 0:b.signal});E=La(E.data);Ja(E);E=Number.parseFloat(E.firstElementChild.getAttribute("numberMatched"));return Number.isNaN(E)?0:E});return Pa.apply(this,arguments)}function La(E){return(new DOMParser).parseFromString(E.trim(),"text/xml")}function Aa(E){const [a,b]=E.split(":");return{prefix:b?a:"",name:null!=b?b:a}}function ca(E){if((E=E.firstElementChild.getAttribute("version"))&&"2.0.0"!==E)throw new J("wfs-layer:unsupported-wfs-version",
`Unsupported WFS version ${E}. Supported version: ${"2.0.0"}`);}function Ja(E){let a,b;z.visitXML(E.firstElementChild,{Exception:d=>{a=d.getAttribute("exceptionCode");return{ExceptionText:e=>{b=e.textContent}}}});if(a)throw new J(`wfs-layer:${a}`,b);}const Ta=new Set(["json","application/json","geojson","application/json; subtype\x3dgeojson"]),Oa=new Set(["objectid","fid"]);B.WFS_OID_FIELD_NAME="__esri_wfs_id__";B.describeFeatureType=ta;B.findFeatureType=P;B.getCapabilities=function(E,a){return y.apply(this,
arguments)};B.getFeature=Na;B.getFeatureCount=function(E,a,b){return Pa.apply(this,arguments)};B.getFeatureTypeInfo=S;B.getWFSLayerInfo=function(E,a,b){return Q.apply(this,arguments)};B.parseDescribeFeatureTypeResponse=Ra;B.parseGetCapabilitiesResponse=u;B.prepareWFSLayerFields=la;Object.defineProperty(B,"__esModule",{value:!0})})},"esri/core/interatorUtils":function(){define(["exports"],function(B){B.find=function(c,R){for(const G of c)if(null!=G&&R(G))return G};Object.defineProperty(B,"__esModule",
{value:!0})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./projectionEllipsoid ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils".split(" "),function(B,c,R,G,
J,L,fa,qa,ja,W,ia,pa,ka,h,z,m,q,v,y,u,x,C,H){function P(){return!!X&&h.isLoaded()}function Q(f){L.isNone(da)&&(da=Promise.all([h.load(),(new Promise(function(k,g){B(["../chunks/geometryEngineBase"],k,g)})).then(function(k){return k.geometryEngineBase}),new Promise(function(k,g){B(["./geometryAdapters/hydrated"],k,g)})]));return da.then(([,k,{hydratedAdapter:g}])=>{fa.throwIfAborted(f);ba=g;X=k.default;X._enableProjection(h.pe)})}function S(f,k,g,r,I=null){if(L.isNone(g)||L.isNone(r))return k;if(Y(g,
r,I))return k.map(K=>la(K,g,r));if(L.isNone(I)){const K=C.cacheKey(g,r);void 0!==ea[K]?I=ea[K]:(I=M(g,r,null),L.isNone(I)&&(I=new C),ea[K]=I)}if(L.isNone(X))throw new Da;return X._project(f,k,g,r,I)}function M(f,k,g=null){if(L.isNone(X))throw new Da;if(L.isNone(f)||L.isNone(k))return null;f=X._getTransformation(ba,f,k,g,null==g?void 0:g.spatialReference);return null!==f?C.fromGE(f):null}function Y(f,k,g){return g?!1:H.equals(f,k)?!0:H.isValid(f)&&H.isValid(k)&&!!T(f,k,Ea)}function sa(){sa=R._asyncToGenerator(function*(f,
k,g,r){if(!P())if(Array.isArray(f))for(const {source:I,dest:K,geographicTransformation:Z}of f){if(!Y(I,K,Z))return Q(r)}else if(!Y(f,k,g))return Q(r)});return sa.apply(this,arguments)}function la(f,k,g){if(!f)return f;if("x"in f){var r=new z;return xa(f,k,r,g)?r:null}return"xmin"in f?(r=new pa,Ra(f,k,r,g)?r:null):"rings"in f?(r=new m,Ma(f,k,r,g)?r:null):"paths"in f?(r=new q,ta(f,k,r,g)?r:null):"points"in f?(r=new ka,ya(f,k,r,g)?r:null):null}function xa(f,k,g,r,I=0){ha[0]=f.x;ha[1]=f.y;const K=f.z;
ha[2]=void 0!==K?K:I;if(!Ba(ha,k,0,ha,r,0,1))return!1;g.x=ha[0];g.y=ha[1];g.spatialReference=r;void 0===K?(g.z=void 0,g.hasZ=!1):(g.z=ha[2],g.hasZ=!0);void 0===f.m?(g.m=void 0,g.hasM=!1):(g.m=f.m,g.hasM=!0);return!0}function ya(f,k,g,r,I=0){const {points:K,hasZ:Z,hasM:aa}=f;f=[];const wa=K.length,ua=[];for(var ra of K)ua.push(ra[0],ra[1],Z?ra[2]:I);if(!Ba(ua,k,0,ua,r,0,wa))return!1;for(k=0;k<wa;++k){I=3*k;ra=ua[I];const Fa=ua[I+1];Z&&aa?f.push([ra,Fa,ua[I+2],K[k][3]]):Z?f.push([ra,Fa,ua[I+2]]):aa?
f.push([ra,Fa,K[k][2]]):f.push([ra,Fa])}g.points=f;g.spatialReference=r;g.hasZ=Z;g.hasM=aa;return!0}function ta(f,k,g,r,I=0){const {paths:K,hasZ:Z,hasM:aa}=f;f=[];if(!Pa(K,Z,aa,k,f,r,I))return!1;g.paths=f;g.spatialReference=r;g.hasZ=Z;g.hasM=aa;return!0}function Ma(f,k,g,r,I=0){const {rings:K,hasZ:Z,hasM:aa}=f;f=[];if(!Pa(K,Z,aa,k,f,r,I))return!1;g.rings=f;g.spatialReference=r;g.hasZ=Z;g.hasM=aa;return!0}function Ra(f,k,g,r,I=0){const {xmin:K,ymin:Z,xmax:aa,ymax:wa,hasZ:ua,hasM:ra}=f;if(!Ka(K,Z,ua?
f.zmin:I,k,ha,r))return!1;g.xmin=ha[0];g.ymin=ha[1];ua&&(g.zmin=ha[2]);if(!Ka(aa,wa,ua?f.zmax:I,k,ha,r))return!1;g.xmax=ha[0];g.ymax=ha[1];ua&&(g.zmax=ha[2]);ra&&(g.mmin=f.mmin,g.mmax=f.mmax);g.spatialReference=r;return!0}function Ka(f,k,g,r,I,K){na[0]=f;na[1]=k;na[2]=g;return Ba(na,r,0,I,K,0,1)}function Na(f,k,g,r){if(L.isNone(k)||L.isNone(r)||2>f.length)return!1;2===f.length&&(na[0]=f[0],na[1]=f[1],na[2]=0,f=na);return Ba(f,k,0,g,r,0,1)}function Ia(f,k,g){if(L.isNone(k))return!1;k=Aa(k,Ca);k=za[k][6];
if(L.isNone(k))return!1;k(f,0,na,0);g!==na&&(g[0]=na[0],g[1]=na[1],2<g.length&&(g[2]=na[2]));return!0}function Ba(f,k,g,r,I,K,Z=1){k=T(k,I,Ea);if(L.isNone(k))return!1;if(k===ca){if(f===r&&g===K)return!0;Z=g+3*Z;for(let aa=g,wa=K;aa<Z;aa++,wa++)r[wa]=f[aa];return!0}Z=g+3*Z;for(let aa=g,wa=K;aa<Z;aa+=3,wa+=3)k(f,aa,r,wa);return!0}function Pa(f,k,g,r,I,K,Z=0){const aa=[];for(const wa of f)for(const ua of wa)aa.push(ua[0],ua[1],k?ua[2]:Z);if(!Ba(aa,r,0,aa,K,0,aa.length/3))return!1;r=0;I.length=0;for(const wa of f){f=
[];for(const ua of wa)k&&g?f.push([aa[r++],aa[r++],aa[r++],ua[3]]):k?f.push([aa[r++],aa[r++],aa[r++]]):(g?f.push([aa[r++],aa[r++],ua[2]]):f.push([aa[r++],aa[r++]]),r++);I.push(f)}return!0}function La(f,k,g){const r=Math.sin(k);k=Math.cos(k);const I=Math.sin(f);f=Math.cos(f);g[0]=-r;g[4]=-I*k;g[8]=f*k;g[12]=0;g[1]=k;g[5]=-I*r;g[9]=f*r;g[13]=0;g[2]=0;g[6]=f;g[10]=I;g[14]=0;g[3]=0;g[7]=0;g[11]=0;g[15]=1;return g}function Aa(f,k){if(k.spatialReference===f)return k.spatialReferenceId;k.spatialReference=
f;"metersPerUnit"in k&&(k.metersPerUnit=qa.getMetersPerUnitForSR(f,1));return f.wkt===v.SphericalECEFSpatialReference.wkt?k.spatialReferenceId=1:H.isWGS84(f)?k.spatialReferenceId=2:H.isWebMercator(f)?k.spatialReferenceId=3:f.wkt===v.WGS84ECEFSpatialReference.wkt?k.spatialReferenceId=4:4490===f.wkid?k.spatialReferenceId=5:f.wkt===v.SphericalPCPFMars.wkt?k.spatialReferenceId=7:f.wkt===v.SphericalPCPFMoon.wkt?k.spatialReferenceId=9:H.isMars(f)?k.spatialReferenceId=8:H.isMoon(f)?k.spatialReferenceId=
10:k.spatialReferenceId=0}function ca(f,k,g,r){f!==g&&(g[r++]=f[k++],g[r++]=f[k++],g[r]=f[k])}function Ja(f,k,g,r){g[r++]=oa*(f[k++]/u.earth.radius);g[r++]=oa*(Math.PI/2-2*Math.atan(Math.exp(-1*f[k++]/u.earth.radius)));g[r]=f[k]}function Ta(f,k,g,r){Ja(f,k,g,r);n(g,r,g,r)}function Oa(f,k,g,r){Ja(f,k,g,r);F(g,r,g,r)}function E(f,k,g,r,I){var K=.4999999*Math.PI;K=J.clamp(va*f[k+1],-K,K);K=Math.sin(K);g[r++]=va*f[k]*I.radius;g[r++]=I.halfSemiMajorAxis*Math.log((1+K)/(1-K));g[r]=f[k+2]}function a(f,k,
g,r){E(f,k,g,r,u.earth)}function b(f,k,g,r,I){I+=f[k+2];const K=va*f[k+1];f=va*f[k];k=Math.cos(K);g[r++]=Math.cos(f)*k*I;g[r++]=Math.sin(f)*k*I;g[r]=Math.sin(K)*I}function d(f,k,g,r){b(f,k,g,r,u.moon.radius)}function e(f,k,g,r){b(f,k,g,r,u.mars.radius)}function n(f,k,g,r){b(f,k,g,r,u.earth.radius)}function p(f,k,g,r,I){var K=f[k];const Z=f[k+1];k=f[k+2];f=Math.sqrt(K*K+Z*Z+k*k);k=J.asinClamped(k/(0===f?1:f));K=Math.atan2(Z,K);g[r++]=oa*K;g[r++]=oa*k;g[r]=f-I}function t(f,k,g,r){p(f,k,g,r,u.moon.radius)}
function l(f,k,g,r){p(f,k,g,r,u.mars.radius)}function w(f,k,g,r){p(f,k,g,r,u.earth.radius)}function A(f,k,g,r){w(f,k,g,r);a(g,r,g,r)}function D(f,k,g,r){w(f,k,g,r);F(g,r,g,r)}function F(f,k,g,r){{var I=u.earth;const Z=va*f[k];var K=va*f[k+1];f=f[k+2];k=Math.sin(K);K=Math.cos(K);const aa=I.radius/Math.sqrt(1-I.eccentricitySquared*k*k);g[r++]=(aa+f)*K*Math.cos(Z);g[r++]=(aa+f)*K*Math.sin(Z);g[r++]=(aa*(1-I.eccentricitySquared)+f)*k}}function N(f,k,g,r){var I=x.earthEllipsoidConstants,K=f[k],Z=f[k+1];
f=f[k+2];let aa;k=Math.abs(f);var wa=K*K+Z*Z;var ua=Math.sqrt(wa);var ra=wa+f*f;var Fa=Math.sqrt(ra);K=Math.atan2(Z,K);var Sa=f*f/ra;ra=wa/ra;Z=I.a2/Fa;wa=I.a3-I.a4/Fa;.3<ra?(Sa=k/Fa*(1+ra*(I.a1+Z+Sa*wa)/Fa),Fa=Math.asin(Sa),Z=Sa*Sa,ra=Math.sqrt(1-Z)):(ra=ua/Fa*(1-Sa*(I.a5-Z-ra*wa)/Fa),Fa=Math.acos(ra),Z=1-ra*ra,Sa=Math.sqrt(Z));aa=1-u.earth.eccentricitySquared*Z;Z=u.earth.radius/Math.sqrt(aa);I=I.a6*Z;Z=ua-Z*ra;wa=k-I*Sa;k=ra*Z+Sa*wa;ua=ra*wa-Sa*Z;I=ua/(I/aa+k);Fa+=I;0>f&&(Fa=-Fa);g[r++]=oa*K;g[r++]=
oa*Fa;g[r]=k+ua*I/2}function O(f,k,g,r){N(f,k,g,r);n(g,r,g,r)}function U(f,k,g,r){N(f,k,g,r);a(g,r,g,r)}function T(f,k,g=ma()){return L.isNone(f)||L.isNone(k)?null:V(f,k,g).projector}function V(f,k,g){if(L.isNone(f)||L.isNone(k)||g.source.spatialReference===f&&g.dest.spatialReference===k)return g;const r=Aa(f,g.source),I=Aa(k,g.dest);0===r&&0===I?H.equals(f,k)?g.projector=ca:g.projector=null:g.projector=za[r][I];return g}function ma(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},
dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:ca}}let X=null,ba=null,da=null,ea={},Da=function(f){function k(){return f.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}R._inheritsLoose(k,f);return k}(G);const za={[2]:{[5]:null,[8]:null,[10]:null,[11]:ca,[6]:ca,[1]:n,[7]:null,[9]:null,[0]:null,[3]:a,[2]:ca,[4]:F},[5]:{[5]:ca,[8]:null,[10]:null,[11]:ca,[6]:ca,[1]:n,[7]:null,[9]:null,[0]:null,[3]:null,[2]:null,[4]:F},
[8]:{[5]:null,[8]:ca,[10]:null,[11]:ca,[6]:null,[1]:null,[7]:e,[9]:null,[0]:null,[3]:null,[2]:null,[4]:null},[10]:{[5]:null,[8]:null,[10]:ca,[11]:ca,[6]:null,[1]:null,[7]:null,[9]:d,[0]:null,[3]:null,[2]:null,[4]:null},[3]:{[5]:null,[8]:null,[10]:null,[11]:Ja,[6]:Ja,[1]:Ta,[7]:null,[9]:null,[0]:null,[3]:ca,[2]:Ja,[4]:Oa},[4]:{[5]:N,[8]:null,[10]:null,[11]:N,[6]:N,[1]:O,[7]:null,[9]:null,[0]:null,[3]:U,[2]:N,[4]:ca},[1]:{[5]:w,[8]:null,[10]:null,[11]:w,[6]:w,[1]:ca,[7]:null,[9]:null,[0]:null,[3]:A,
[2]:w,[4]:D},[7]:{[5]:null,[8]:l,[10]:null,[11]:l,[6]:null,[1]:null,[7]:ca,[9]:null,[0]:null,[3]:null,[2]:null,[4]:null},[9]:{[5]:null,[8]:null,[10]:t,[11]:t,[6]:null,[1]:null,[7]:null,[9]:ca,[0]:null,[3]:null,[2]:null,[4]:null},[0]:{[5]:null,[8]:null,[10]:null,[11]:null,[6]:null,[1]:null,[7]:null,[9]:null,[0]:ca,[3]:null,[2]:null,[4]:null},[11]:{[5]:ca,[8]:ca,[10]:ca,[11]:ca,[6]:ca,[1]:n,[7]:e,[9]:d,[0]:null,[3]:a,[2]:ca,[4]:F},[6]:{[5]:null,[8]:null,[10]:null,[11]:ca,[6]:ca,[1]:n,[7]:null,[9]:null,
[0]:null,[3]:null,[2]:ca,[4]:F}},Ca={spatialReference:null,spatialReferenceId:0},Ga={spatialReference:null,spatialReferenceId:0},Ea=ma(),Ha=ma(),va=J.deg2rad(1),oa=J.rad2deg(1),na=ia.create(),Qa=ia.create(),Ua=ia.create(),ha=ia.create(),Va=ia.create();c.canProjectToWGS84ComparableLonLat=function(f){if(L.isNone(f))return!1;f=Aa(f,Ca);return!!za[f][6]};c.canProjectWithoutEngine=Y;c.computeLatLonToENURotation=La;c.computeLinearTransformation=function(f,k,g,r){if(L.isNone(f)||L.isNone(r))return!1;var I=
Aa(f,Ca),K=Aa(r,Ga);if(I===K&&1!==K&&7!==K&&9!==K&&(0!==I||H.equals(f,r)))return ja.identity(g),ja.translate(g,g,k),!0;if(1===K||7===K||9===K){r=f=0;I=za[I][11];K=za[11][K];if(L.isNone(I)||L.isNone(K))return!1;I(k,0,Qa,0);K(Qa,0,Ua,0);f=va*Qa[0];r=va*Qa[1];La(r,f,g);g[12]=Ua[0];g[13]=Ua[1];g[14]=Ua[2];return!0}if(3===K&&(2===I||1===I)){K=za[I][11];if(L.isNone(K))return!1;K(k,0,Qa,0);k=va*Qa[1];a(Qa,0,Ua,0);ja.identity(g);ja.translate(g,g,Ua);k=1/Math.cos(k);ja.scale(g,g,[k,k,1]);return!0}return!1};
c.getProjectorName=function(f,k){switch(T(f,k,Ea)){case ca:return"copy3";case n:return"wgs84ToSphericalECEF";case a:return"wgs84ToWebMercator";case F:return"wgs84ToWGS84ECEF";case Ja:return"webMercatorToWGS84";case Ta:return"webMercatorToSphericalECEF";case Oa:return"webMercatorToWGS84ECEF";case N:return"wgs84ECEFToWGS84";case O:return"wgs84ECEFToSphericalECEF";case U:return"wgs84ECEFToWebMercator";case w:return"sphericalECEFToWGS84";case A:return"sphericalECEFToWebMercator";case l:return"sphericalMarsPCPFToMars2000";
case t:return"sphericalMoonPCPFToMoon2000";case D:return"sphericalECEFToWGS84ECEF";case e:return"mars2000ToSphericalPCPF";case d:return"moon2000ToSphericalPCPF";default:return null}};c.getTransformation=M;c.getTransformations=function(f,k,g=null){if(L.isNone(X))throw new Da;f=X._getTransformationBySuitability(ba,f,k,g,null==g?void 0:g.spatialReference);if(null!==f){k=[];for(const r of f)k.push(C.fromGE(r));return k}return[]};c.initializeProjection=function(f,k,g,r){return sa.apply(this,arguments)};
c.isLoaded=P;c.isSupported=function(){return!0};c.load=Q;c.localLinearScaleFactors=function(f,k,g,r){if(L.isNone(k)||L.isNone(r))return!1;const I=Aa(k,Ca);var K=Aa(r,Ga);if(I===K&&0!==I||H.equals(k,r))return g[0]=1,g[1]=1,g[2]=1,!0;if(1===I){k=W.length(f);f=k/Math.sqrt(f[0]*f[0]+f[1]*f[1]);k/=u.earth.radius;if(3===K)return g[0]=f*k,g[1]=f*k,g[2]=1,!0;if(2===K||5===K)return K=180/(u.earth.radius*Math.PI),g[0]=K*f*k,g[1]=K*k,g[2]=1,!0}return!1};c.lonLatToSphericalPCPF=function(f,k,g,r,I=0){r+=I;I=Math.cos(g);
f[0]=Math.cos(k)*I*r;f[1]=Math.sin(k)*I*r;f[2]=Math.sin(g)*r};c.lonLatToWebMercatorComparable=E;c.project=function(f,k,g=null){return Array.isArray(f)?0===f.length?[]:S(ba,f,f[0].spatialReference,k,g):S(ba,[f],f.spatialReference,k,g)[0]};c.projectBoundingRect=function(f,k,g,r){if(null==f)return!1;if(H.equals(k,r))return y.set(g,f),!0;na[0]=f[0];na[1]=f[1];na[2]=0;if(!Ba(na,k,0,na,r,0,1))return!1;g[0]=na[0];g[1]=na[1];na[0]=f[2];na[1]=f[3];na[2]=0;if(!Ba(na,k,0,na,r,0,1))return!1;g[2]=na[0];g[3]=na[1];
return!0};c.projectBoundingSphere=function(f,k,g,r){if(L.isNone(k)||L.isNone(r))return!1;k=V(k,r,Ha);if(k.projector===ca)return g[0]=f[0],g[1]=f[1],g[2]=f[2],g[3]=f[3],!0;if(L.isNone(k.projector))return!1;const {source:I,dest:K}=k;if(3===K.spatialReferenceId){k=za[I.spatialReferenceId][2];if(L.isNone(k))return!1;k(f,0,Qa,0);k=Math.abs(va*Qa[1])+Math.asin(f[3]/(u.earth.radius+f[2]));a(Qa,0,g,0);g[3]=k>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(k)*f[3];return!0}k.projector(f,0,g,0);g[3]=f[3]*I.metersPerUnit/
K.metersPerUnit;return!0};c.projectBuffer=Ba;c.projectDirection=function(f,k,g,r,I){W.copy(ha,f);W.add(Va,f,k);Na(ha,g,ha,I);Na(Va,g,Va,I);W.subtract(r,Va,ha);W.normalize(r,r)};c.projectExtent=function(f,k,g=k.spatialReference,r=0){return L.isNone(g)?!1:Ra(f,f.spatialReference,k,g,r)};c.projectMany=S;c.projectMultipoint=function(f,k,g=k.spatialReference,r=0){return L.isNone(g)?!1:ya(f,f.spatialReference,k,g,r)};c.projectPoint=function(f,k,g=k.spatialReference,r=0){return L.isNone(g)?!1:xa(f,f.spatialReference,
k,g,r)};c.projectPointToVector=function(f,k,g,r=0){ha[0]=f.x;ha[1]=f.y;const I=f.z;ha[2]=void 0!==I?I:r;return Ba(ha,f.spatialReference,0,k,g,0,1)};c.projectPointToWGS84ComparableLonLat=function(f,k){ha[0]=f.x;ha[1]=f.y;const g=f.z;ha[2]=void 0!==g?g:0;return Ia(ha,f.spatialReference,k)};c.projectPolygon=function(f,k,g=k.spatialReference,r=0){return L.isNone(g)?!1:Ma(f,f.spatialReference,k,g,r)};c.projectPolyline=function(f,k,g=k.spatialReference,r=0){return L.isNone(g)?!1:ta(f,f.spatialReference,
k,g,r)};c.projectVectorToDehydratedPoint=function(f,k,g){return Ba(f,k,0,ha,g.spatialReference,0,1)?(g.x=ha[0],g.y=ha[1],g.z=ha[2],g):null};c.projectVectorToPoint=function(f,k,g){if(L.isNone(k)||L.isNone(g))return null;const r=new z({spatialReference:g});return Ba(f,k,0,ha,g,0,1)?(r.x=ha[0],r.y=ha[1],r.z=ha[2],r):null};c.projectVectorToVector=Na;c.projectVectorToWGS84ComparableLonLat=function(f,k,g){return Ia(f,k,g)};c.projectXYZToVector=Ka;c.sphericalPCPFtoLonLatElevation=p;c.unload=function(){da=
ba=X=null;ea={}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(B,c,R){function G(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function J(a,b,d,e,n,p,t,l,w,A,D,F,N,O,U,T,V){a[0]=b;a[1]=d;a[2]=e;a[3]=n;a[4]=p;a[5]=t;a[6]=l;a[7]=w;a[8]=A;a[9]=D;a[10]=F;a[11]=N;a[12]=O;a[13]=U;
a[14]=T;a[15]=V;return a}function L(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function fa(a,b){if(a===b){const d=b[1],e=b[2],n=b[3],p=b[6],t=b[7],l=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=d;a[6]=b[9];a[7]=b[13];a[8]=e;a[9]=p;a[11]=b[14];a[12]=n;a[13]=t;a[14]=l}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],
a[14]=b[11],a[15]=b[15];return a}function qa(a,b){const d=b[0],e=b[1],n=b[2],p=b[3],t=b[4],l=b[5],w=b[6],A=b[7],D=b[8],F=b[9],N=b[10],O=b[11],U=b[12],T=b[13],V=b[14];b=b[15];const ma=d*l-e*t,X=d*w-n*t,ba=d*A-p*t,da=e*w-n*l,ea=e*A-p*l,Da=n*A-p*w,za=D*T-F*U,Ca=D*V-N*U,Ga=D*b-O*U,Ea=F*V-N*T,Ha=F*b-O*T,va=N*b-O*V;let oa=ma*va-X*Ha+ba*Ea+da*Ga-ea*Ca+Da*za;if(!oa)return null;oa=1/oa;a[0]=(l*va-w*Ha+A*Ea)*oa;a[1]=(n*Ha-e*va-p*Ea)*oa;a[2]=(T*Da-V*ea+b*da)*oa;a[3]=(N*ea-F*Da-O*da)*oa;a[4]=(w*Ga-t*va-A*Ca)*
oa;a[5]=(d*va-n*Ga+p*Ca)*oa;a[6]=(V*ba-U*Da-b*X)*oa;a[7]=(D*Da-N*ba+O*X)*oa;a[8]=(t*Ha-l*Ga+A*za)*oa;a[9]=(e*Ga-d*Ha-p*za)*oa;a[10]=(U*ea-T*ba+b*ma)*oa;a[11]=(F*ba-D*ea-O*ma)*oa;a[12]=(l*Ca-t*Ea-w*za)*oa;a[13]=(d*Ea-e*Ca+n*za)*oa;a[14]=(T*X-U*da-V*ma)*oa;a[15]=(D*da-F*X+N*ma)*oa;return a}function ja(a,b){const d=b[0],e=b[1],n=b[2],p=b[3],t=b[4],l=b[5],w=b[6],A=b[7],D=b[8],F=b[9],N=b[10],O=b[11],U=b[12],T=b[13],V=b[14];b=b[15];a[0]=l*(N*b-O*V)-F*(w*b-A*V)+T*(w*O-A*N);a[1]=-(e*(N*b-O*V)-F*(n*b-p*V)+
T*(n*O-p*N));a[2]=e*(w*b-A*V)-l*(n*b-p*V)+T*(n*A-p*w);a[3]=-(e*(w*O-A*N)-l*(n*O-p*N)+F*(n*A-p*w));a[4]=-(t*(N*b-O*V)-D*(w*b-A*V)+U*(w*O-A*N));a[5]=d*(N*b-O*V)-D*(n*b-p*V)+U*(n*O-p*N);a[6]=-(d*(w*b-A*V)-t*(n*b-p*V)+U*(n*A-p*w));a[7]=d*(w*O-A*N)-t*(n*O-p*N)+D*(n*A-p*w);a[8]=t*(F*b-O*T)-D*(l*b-A*T)+U*(l*O-A*F);a[9]=-(d*(F*b-O*T)-D*(e*b-p*T)+U*(e*O-p*F));a[10]=d*(l*b-A*T)-t*(e*b-p*T)+U*(e*A-p*l);a[11]=-(d*(l*O-A*F)-t*(e*O-p*F)+D*(e*A-p*l));a[12]=-(t*(F*V-N*T)-D*(l*V-w*T)+U*(l*N-w*F));a[13]=d*(F*V-N*T)-
D*(e*V-n*T)+U*(e*N-n*F);a[14]=-(d*(l*V-w*T)-t*(e*V-n*T)+U*(e*w-n*l));a[15]=d*(l*N-w*F)-t*(e*N-n*F)+D*(e*w-n*l);return a}function W(a){const b=a[0],d=a[1],e=a[2],n=a[3],p=a[4],t=a[5],l=a[6],w=a[7],A=a[8],D=a[9],F=a[10],N=a[11],O=a[12],U=a[13],T=a[14];a=a[15];return(b*t-d*p)*(F*a-N*T)-(b*l-e*p)*(D*a-N*U)+(b*w-n*p)*(D*T-F*U)+(d*l-e*t)*(A*a-N*O)-(d*w-n*t)*(A*T-F*O)+(e*w-n*l)*(A*U-D*O)}function ia(a,b,d){const e=b[0],n=b[1],p=b[2],t=b[3],l=b[4],w=b[5],A=b[6],D=b[7],F=b[8],N=b[9],O=b[10],U=b[11],T=b[12],
V=b[13],ma=b[14];b=b[15];let X=d[0],ba=d[1],da=d[2],ea=d[3];a[0]=X*e+ba*l+da*F+ea*T;a[1]=X*n+ba*w+da*N+ea*V;a[2]=X*p+ba*A+da*O+ea*ma;a[3]=X*t+ba*D+da*U+ea*b;X=d[4];ba=d[5];da=d[6];ea=d[7];a[4]=X*e+ba*l+da*F+ea*T;a[5]=X*n+ba*w+da*N+ea*V;a[6]=X*p+ba*A+da*O+ea*ma;a[7]=X*t+ba*D+da*U+ea*b;X=d[8];ba=d[9];da=d[10];ea=d[11];a[8]=X*e+ba*l+da*F+ea*T;a[9]=X*n+ba*w+da*N+ea*V;a[10]=X*p+ba*A+da*O+ea*ma;a[11]=X*t+ba*D+da*U+ea*b;X=d[12];ba=d[13];da=d[14];ea=d[15];a[12]=X*e+ba*l+da*F+ea*T;a[13]=X*n+ba*w+da*N+ea*V;
a[14]=X*p+ba*A+da*O+ea*ma;a[15]=X*t+ba*D+da*U+ea*b;return a}function pa(a,b,d){const e=d[0],n=d[1];d=d[2];let p=void 0,t=void 0,l=void 0,w=void 0,A=void 0,D=void 0,F=void 0,N=void 0,O=void 0,U=void 0,T=void 0,V=void 0;b===a?(a[12]=b[0]*e+b[4]*n+b[8]*d+b[12],a[13]=b[1]*e+b[5]*n+b[9]*d+b[13],a[14]=b[2]*e+b[6]*n+b[10]*d+b[14],a[15]=b[3]*e+b[7]*n+b[11]*d+b[15]):(p=b[0],t=b[1],l=b[2],w=b[3],A=b[4],D=b[5],F=b[6],N=b[7],O=b[8],U=b[9],T=b[10],V=b[11],a[0]=p,a[1]=t,a[2]=l,a[3]=w,a[4]=A,a[5]=D,a[6]=F,a[7]=
N,a[8]=O,a[9]=U,a[10]=T,a[11]=V,a[12]=p*e+A*n+O*d+b[12],a[13]=t*e+D*n+U*d+b[13],a[14]=l*e+F*n+T*d+b[14],a[15]=w*e+N*n+V*d+b[15]);return a}function ka(a,b,d){const e=d[0],n=d[1];d=d[2];a[0]=b[0]*e;a[1]=b[1]*e;a[2]=b[2]*e;a[3]=b[3]*e;a[4]=b[4]*n;a[5]=b[5]*n;a[6]=b[6]*n;a[7]=b[7]*n;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function h(a,b,d,e){let n=e[0],p=e[1];e=e[2];let t=Math.sqrt(n*n+p*p+e*e);var l=void 0,w=void 0;let A=void 0,D=void 0,
F=void 0,N=void 0,O=void 0,U=void 0,T=void 0,V=void 0,ma=void 0,X=void 0,ba=void 0,da=void 0,ea=void 0,Da=void 0,za=void 0,Ca=void 0,Ga=void 0,Ea=void 0,Ha=void 0,va=void 0;w=l=void 0;if(t<R.EPSILON)return null;t=1/t;n*=t;p*=t;e*=t;l=Math.sin(d);w=Math.cos(d);A=1-w;D=b[0];F=b[1];N=b[2];O=b[3];U=b[4];T=b[5];V=b[6];ma=b[7];X=b[8];ba=b[9];da=b[10];ea=b[11];Da=n*n*A+w;za=p*n*A+e*l;Ca=e*n*A-p*l;Ga=n*p*A-e*l;Ea=p*p*A+w;Ha=e*p*A+n*l;va=n*e*A+p*l;l=p*e*A-n*l;w=e*e*A+w;a[0]=D*Da+U*za+X*Ca;a[1]=F*Da+T*za+ba*
Ca;a[2]=N*Da+V*za+da*Ca;a[3]=O*Da+ma*za+ea*Ca;a[4]=D*Ga+U*Ea+X*Ha;a[5]=F*Ga+T*Ea+ba*Ha;a[6]=N*Ga+V*Ea+da*Ha;a[7]=O*Ga+ma*Ea+ea*Ha;a[8]=D*va+U*l+X*w;a[9]=F*va+T*l+ba*w;a[10]=N*va+V*l+da*w;a[11]=O*va+ma*l+ea*w;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function z(a,b,d){const e=Math.sin(d);d=Math.cos(d);const n=b[4],p=b[5],t=b[6],l=b[7],w=b[8],A=b[9],D=b[10],F=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=n*d+w*e;a[5]=
p*d+A*e;a[6]=t*d+D*e;a[7]=l*d+F*e;a[8]=w*d-n*e;a[9]=A*d-p*e;a[10]=D*d-t*e;a[11]=F*d-l*e;return a}function m(a,b,d){const e=Math.sin(d);d=Math.cos(d);const n=b[0],p=b[1],t=b[2],l=b[3],w=b[8],A=b[9],D=b[10],F=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=n*d-w*e;a[1]=p*d-A*e;a[2]=t*d-D*e;a[3]=l*d-F*e;a[8]=n*e+w*d;a[9]=p*e+A*d;a[10]=t*e+D*d;a[11]=l*e+F*d;return a}function q(a,b,d){const e=Math.sin(d);d=Math.cos(d);const n=b[0],p=b[1],t=b[2],
l=b[3],w=b[4],A=b[5],D=b[6],F=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=n*d+w*e;a[1]=p*d+A*e;a[2]=t*d+D*e;a[3]=l*d+F*e;a[4]=w*d-n*e;a[5]=A*d-p*e;a[6]=D*d-t*e;a[7]=F*d-l*e;return a}function v(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function y(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];
a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function u(a,b,d){let e=d[0],n=d[1];d=d[2];let p=Math.sqrt(e*e+n*n+d*d),t=void 0,l=void 0,w=void 0;if(p<R.EPSILON)return null;p=1/p;e*=p;n*=p;d*=p;t=Math.sin(b);l=Math.cos(b);w=1-l;a[0]=e*e*w+l;a[1]=n*e*w+d*t;a[2]=d*e*w-n*t;a[3]=0;a[4]=e*n*w-d*t;a[5]=n*n*w+l;a[6]=d*n*w+e*t;a[7]=0;a[8]=e*d*w+n*t;a[9]=n*d*w-e*t;a[10]=d*d*w+l;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function x(a,b){const d=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;
a[4]=0;a[5]=b;a[6]=d;a[7]=0;a[8]=0;a[9]=-d;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function C(a,b){const d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-d;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=d;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function H(a,b){const d=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=d;a[2]=0;a[3]=0;a[4]=-d;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function P(a,b,d){var e=b[0],n=b[1],p=b[2],t=
b[3],l=e+e,w=n+n;const A=p+p;b=e*l;const D=e*w;e*=A;const F=n*w;n*=A;p*=A;l*=t;w*=t;t*=A;a[0]=1-(F+p);a[1]=D+t;a[2]=e-w;a[3]=0;a[4]=D-t;a[5]=1-(b+p);a[6]=n+l;a[7]=0;a[8]=e+w;a[9]=n-l;a[10]=1-(b+F);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function Q(a,b){const d=E,e=-b[0],n=-b[1],p=-b[2],t=b[3],l=b[4],w=b[5],A=b[6],D=b[7],F=e*e+n*n+p*p+t*t;0<F?(d[0]=2*(l*t+D*e+w*p-A*n)/F,d[1]=2*(w*t+D*n+A*e-l*p)/F,d[2]=2*(A*t+D*p+l*n-w*e)/F):(d[0]=2*(l*t+D*e+w*p-A*n),d[1]=2*(w*t+D*n+A*e-l*p),d[2]=
2*(A*t+D*p+l*n-w*e));P(a,b,d);return a}function S(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function M(a,b){const d=b[0],e=b[1],n=b[2],p=b[4],t=b[5],l=b[6],w=b[8],A=b[9];b=b[10];a[0]=Math.sqrt(d*d+e*e+n*n);a[1]=Math.sqrt(p*p+t*t+l*l);a[2]=Math.sqrt(w*w+A*A+b*b);return a}function Y(a,b){const d=b[0]+b[5]+b[10];let e=0;0<d?(e=2*Math.sqrt(d+1),a[3]=.25*e,a[0]=(b[6]-b[9])/e,a[1]=(b[8]-b[2])/e,a[2]=(b[1]-b[4])/e):b[0]>b[5]&&b[0]>b[10]?(e=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/e,a[0]=.25*
e,a[1]=(b[1]+b[4])/e,a[2]=(b[8]+b[2])/e):b[5]>b[10]?(e=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/e,a[0]=(b[1]+b[4])/e,a[1]=.25*e,a[2]=(b[6]+b[9])/e):(e=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/e,a[0]=(b[8]+b[2])/e,a[1]=(b[6]+b[9])/e,a[2]=.25*e);return a}function sa(a,b,d,e){var n=b[0],p=b[1],t=b[2],l=b[3],w=n+n,A=p+p,D=t+t;b=n*w;const F=n*A;n*=D;const N=p*A;p*=D;t*=D;w*=l;A*=l;l*=D;D=e[0];const O=e[1];e=e[2];a[0]=(1-(N+t))*D;a[1]=(F+l)*D;a[2]=(n-A)*D;a[3]=0;a[4]=(F-l)*O;a[5]=(1-(b+t))*
O;a[6]=(p+w)*O;a[7]=0;a[8]=(n+A)*e;a[9]=(p-w)*e;a[10]=(1-(b+N))*e;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function la(a,b,d,e,n){var p=b[0],t=b[1],l=b[2],w=b[3],A=p+p,D=t+t,F=l+l;b=p*A;var N=p*D,O=p*F;p=t*D;t*=F;var U=l*F;l=w*A;D*=w;const T=w*F;var V=e[0],ma=e[1];F=e[2];e=n[0];w=n[1];n=n[2];A=(1-(p+U))*V;const X=(N+T)*V;V*=O-D;N=(N-T)*ma;U=(1-(b+U))*ma;ma*=t+l;O=(O+D)*F;t=(t-l)*F;b=(1-(b+p))*F;a[0]=A;a[1]=X;a[2]=V;a[3]=0;a[4]=N;a[5]=U;a[6]=ma;a[7]=0;a[8]=O;a[9]=t;a[10]=b;a[11]=0;
a[12]=d[0]+e-(A*e+N*w+O*n);a[13]=d[1]+w-(X*e+U*w+t*n);a[14]=d[2]+n-(V*e+ma*w+b*n);a[15]=1;return a}function xa(a,b){var d=b[0],e=b[1],n=b[2];b=b[3];var p=d+d,t=e+e;const l=n+n;d*=p;const w=e*p;e*=t;const A=n*p,D=n*t;n*=l;p*=b;t*=b;b*=l;a[0]=1-e-n;a[1]=w+b;a[2]=A-t;a[3]=0;a[4]=w-b;a[5]=1-d-n;a[6]=D+p;a[7]=0;a[8]=A+t;a[9]=D-p;a[10]=1-d-e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ya(a,b,d,e,n,p,t){const l=1/(d-b),w=1/(n-e),A=1/(p-t);a[0]=2*p*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*p*w;a[6]=
0;a[7]=0;a[8]=(d+b)*l;a[9]=(n+e)*w;a[10]=(t+p)*A;a[11]=-1;a[12]=0;a[13]=0;a[14]=t*p*2*A;a[15]=0;return a}function ta(a,b,d,e,n){b=1/Math.tan(b/2);let p=void 0;a[0]=b/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=n&&Infinity!==n?(p=1/(e-n),a[10]=(n+e)*p,a[14]=2*n*e*p):(a[10]=-1,a[14]=-2*e);return a}function Ma(a,b,d,e){const n=Math.tan(b.upDegrees*Math.PI/180),p=Math.tan(b.downDegrees*Math.PI/180),t=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*
Math.PI/180);const l=2/(t+b),w=2/(n+p);a[0]=l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=w;a[6]=0;a[7]=0;a[8]=-((t-b)*l*.5);a[9]=(n-p)*w*.5;a[10]=e/(d-e);a[11]=-1;a[12]=0;a[13]=0;a[14]=e*d/(d-e);a[15]=0;return a}function Ra(a,b,d,e,n,p,t){const l=1/(b-d),w=1/(e-n),A=1/(p-t);a[0]=-2*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*w;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*A;a[11]=0;a[12]=(b+d)*l;a[13]=(n+e)*w;a[14]=(t+p)*A;a[15]=1;return a}function Ka(a,b,d,e){let n=void 0,p=void 0;var t=void 0,l=void 0;let w=void 0,A=void 0;
var D=void 0,F=void 0;let N=void 0,O=void 0;const U=b[0],T=b[1];b=b[2];t=e[0];l=e[1];e=e[2];D=d[0];F=d[1];d=d[2];if(Math.abs(U-D)<R.EPSILON&&Math.abs(T-F)<R.EPSILON&&Math.abs(b-d)<R.EPSILON)return L(a);D=U-D;F=T-F;N=b-d;O=1/Math.sqrt(D*D+F*F+N*N);D*=O;F*=O;N*=O;n=l*N-e*F;p=e*D-t*N;t=t*F-l*D;(O=Math.sqrt(n*n+p*p+t*t))?(O=1/O,n*=O,p*=O,t*=O):t=p=n=0;l=F*t-N*p;w=N*n-D*t;A=D*p-F*n;(O=Math.sqrt(l*l+w*w+A*A))?(O=1/O,l*=O,w*=O,A*=O):A=w=l=0;a[0]=n;a[1]=l;a[2]=D;a[3]=0;a[4]=p;a[5]=w;a[6]=F;a[7]=0;a[8]=t;
a[9]=A;a[10]=N;a[11]=0;a[12]=-(n*U+p*T+t*b);a[13]=-(l*U+w*T+A*b);a[14]=-(D*U+F*T+N*b);a[15]=1;return a}function Na(a,b,d,e){const n=b[0],p=b[1];b=b[2];var t=e[0];const l=e[1];var w=e[2];e=n-d[0];let A=p-d[1];d=b-d[2];let D=e*e+A*A+d*d;0<D&&(D=1/Math.sqrt(D),e*=D,A*=D,d*=D);let F=l*d-w*A;w=w*e-t*d;t=t*A-l*e;D=F*F+w*w+t*t;0<D&&(D=1/Math.sqrt(D),F*=D,w*=D,t*=D);a[0]=F;a[1]=w;a[2]=t;a[3]=0;a[4]=A*t-d*w;a[5]=d*F-e*t;a[6]=e*w-A*F;a[7]=0;a[8]=e;a[9]=A;a[10]=d;a[11]=0;a[12]=n;a[13]=p;a[14]=b;a[15]=1;return a}
function Ia(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function Ba(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function Pa(a,b,d){a[0]=b[0]+d[0];a[1]=b[1]+d[1];a[2]=b[2]+d[2];a[3]=b[3]+d[3];a[4]=b[4]+d[4];a[5]=b[5]+d[5];a[6]=b[6]+d[6];a[7]=b[7]+d[7];a[8]=
b[8]+d[8];a[9]=b[9]+d[9];a[10]=b[10]+d[10];a[11]=b[11]+d[11];a[12]=b[12]+d[12];a[13]=b[13]+d[13];a[14]=b[14]+d[14];a[15]=b[15]+d[15];return a}function La(a,b,d){a[0]=b[0]-d[0];a[1]=b[1]-d[1];a[2]=b[2]-d[2];a[3]=b[3]-d[3];a[4]=b[4]-d[4];a[5]=b[5]-d[5];a[6]=b[6]-d[6];a[7]=b[7]-d[7];a[8]=b[8]-d[8];a[9]=b[9]-d[9];a[10]=b[10]-d[10];a[11]=b[11]-d[11];a[12]=b[12]-d[12];a[13]=b[13]-d[13];a[14]=b[14]-d[14];a[15]=b[15]-d[15];return a}function Aa(a,b,d){a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*
d;a[5]=b[5]*d;a[6]=b[6]*d;a[7]=b[7]*d;a[8]=b[8]*d;a[9]=b[9]*d;a[10]=b[10]*d;a[11]=b[11]*d;a[12]=b[12]*d;a[13]=b[13]*d;a[14]=b[14]*d;a[15]=b[15]*d;return a}function ca(a,b,d,e){a[0]=b[0]+d[0]*e;a[1]=b[1]+d[1]*e;a[2]=b[2]+d[2]*e;a[3]=b[3]+d[3]*e;a[4]=b[4]+d[4]*e;a[5]=b[5]+d[5]*e;a[6]=b[6]+d[6]*e;a[7]=b[7]+d[7]*e;a[8]=b[8]+d[8]*e;a[9]=b[9]+d[9]*e;a[10]=b[10]+d[10]*e;a[11]=b[11]+d[11]*e;a[12]=b[12]+d[12]*e;a[13]=b[13]+d[13]*e;a[14]=b[14]+d[14]*e;a[15]=b[15]+d[15]*e;return a}function Ja(a,b){return a[0]===
b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function Ta(a,b){const d=a[0],e=a[1],n=a[2],p=a[3],t=a[4],l=a[5],w=a[6],A=a[7],D=a[8],F=a[9],N=a[10],O=a[11],U=a[12],T=a[13],V=a[14];a=a[15];const ma=b[0],X=b[1],ba=b[2],da=b[3],ea=b[4],Da=b[5],za=b[6],Ca=b[7],Ga=b[8],Ea=b[9],Ha=b[10],va=b[11],oa=b[12],na=b[13],Qa=b[14];b=b[15];return Math.abs(d-
ma)<=R.EPSILON*Math.max(1,Math.abs(d),Math.abs(ma))&&Math.abs(e-X)<=R.EPSILON*Math.max(1,Math.abs(e),Math.abs(X))&&Math.abs(n-ba)<=R.EPSILON*Math.max(1,Math.abs(n),Math.abs(ba))&&Math.abs(p-da)<=R.EPSILON*Math.max(1,Math.abs(p),Math.abs(da))&&Math.abs(t-ea)<=R.EPSILON*Math.max(1,Math.abs(t),Math.abs(ea))&&Math.abs(l-Da)<=R.EPSILON*Math.max(1,Math.abs(l),Math.abs(Da))&&Math.abs(w-za)<=R.EPSILON*Math.max(1,Math.abs(w),Math.abs(za))&&Math.abs(A-Ca)<=R.EPSILON*Math.max(1,Math.abs(A),Math.abs(Ca))&&Math.abs(D-
Ga)<=R.EPSILON*Math.max(1,Math.abs(D),Math.abs(Ga))&&Math.abs(F-Ea)<=R.EPSILON*Math.max(1,Math.abs(F),Math.abs(Ea))&&Math.abs(N-Ha)<=R.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ha))&&Math.abs(O-va)<=R.EPSILON*Math.max(1,Math.abs(O),Math.abs(va))&&Math.abs(U-oa)<=R.EPSILON*Math.max(1,Math.abs(U),Math.abs(oa))&&Math.abs(T-na)<=R.EPSILON*Math.max(1,Math.abs(T),Math.abs(na))&&Math.abs(V-Qa)<=R.EPSILON*Math.max(1,Math.abs(V),Math.abs(Qa))&&Math.abs(a-b)<=R.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}function Oa(a){const b=
R.EPSILON,d=a[0],e=a[1],n=a[2],p=a[4],t=a[5],l=a[6],w=a[8],A=a[9];a=a[10];return Math.abs(1-(d*d+p*p+w*w))<=b&&Math.abs(1-(e*e+t*t+A*A))<=b&&Math.abs(1-(n*n+l*l+a*a))<=b}const E=c.create();c=Object.freeze({__proto__:null,copy:G,set:J,identity:L,transpose:fa,invert:qa,adjoint:ja,determinant:W,multiply:ia,translate:pa,scale:ka,rotate:h,rotateX:z,rotateY:m,rotateZ:q,fromTranslation:v,fromScaling:y,fromRotation:u,fromXRotation:x,fromYRotation:C,fromZRotation:H,fromRotationTranslation:P,fromQuat2:Q,getTranslation:S,
getScaling:M,getRotation:Y,fromRotationTranslationScale:sa,fromRotationTranslationScaleOrigin:la,fromQuat:xa,frustum:ya,perspective:ta,perspectiveFromFieldOfView:Ma,ortho:Ra,lookAt:Ka,targetTo:Na,str:Ia,frob:Ba,add:Pa,subtract:La,multiplyScalar:Aa,multiplyScalarAndAdd:ca,exactEquals:Ja,equals:Ta,isOrthoNormal:Oa,mul:ia,sub:La});B.add=Pa;B.adjoint=ja;B.copy=G;B.determinant=W;B.equals=Ta;B.exactEquals=Ja;B.frob=Ba;B.fromQuat=xa;B.fromQuat2=Q;B.fromRotation=u;B.fromRotationTranslation=P;B.fromRotationTranslationScale=
sa;B.fromRotationTranslationScaleOrigin=la;B.fromScaling=y;B.fromTranslation=v;B.fromXRotation=x;B.fromYRotation=C;B.fromZRotation=H;B.frustum=ya;B.getRotation=Y;B.getScaling=M;B.getTranslation=S;B.identity=L;B.invert=qa;B.isOrthoNormal=Oa;B.lookAt=Ka;B.mat4=c;B.mul=ia;B.multiply=ia;B.multiplyScalar=Aa;B.multiplyScalarAndAdd=ca;B.ortho=Ra;B.perspective=ta;B.perspectiveFromFieldOfView=Ma;B.rotate=h;B.rotateX=z;B.rotateY=m;B.rotateZ=q;B.scale=ka;B.set=J;B.str=Ia;B.sub=La;B.subtract=La;B.targetTo=Na;
B.translate=pa;B.transpose=fa})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(B,c,R,G,J){function L(){return!!c._pe}function fa(){return!!J("esri-wasm")}function qa(){return h?h:h=(new Promise(function(m,q){B(["./pe-wasm"],m,q)})).then(function(m){return m.peWasm}).then(({default:m})=>m({locateFile:q=>G.getAssetUrl(`esri/geometry/support/${q}`)})).then(m=>{ja(m)})}function ja(m){function q(u,x,C){u[x]=C(u[x])}c._pe=m;c.PeDefs.init();
c.PeGTlistExtended.init();c.PeNotationMgrs.init();c.PeNotationUtm.init();c.PePCSInfo.init();c.PeGCSExtent=function(u){function x(){return u.apply(this,arguments)||this}R._inheritsLoose(x,u);x.prototype.destroy=function(){c._pe.destroy(this)};return x}(c._pe.PeGCSExtent);m=[c._pe.PeDatum,c._pe.PeGeogcs,c._pe.PeGeogtran,c._pe.PeObject,c._pe.PeParameter,c._pe.PePrimem,c._pe.PeProjcs,c._pe.PeSpheroid,c._pe.PeUnit];for(var v of m)q(v.prototype,"getName",u=>function(){return u.call(this,Array(c.PeDefs.PE_NAME_MAX))});
for(const u of[c._pe.PeGeogtran,c._pe.PeProjcs])q(u.prototype,"getParameters",x=>function(){const C=Array(c.PeDefs.PE_PARM_MAX);let H=x.call(this);for(let P=0;P<C.length;P++){const Q=c._pe.getValue(H,"*");C[P]=Q?c._pe.wrapPointer(Q,c._pe.PeParameter):null;H+=Int32Array.BYTES_PER_ELEMENT}return C});q(c._pe.PeHorizon.prototype,"getCoord",u=>function(){const x=this.getSize();if(!x)return null;const C=[],H=u.call(this);ka(C,x,H);return C});q(c._pe.PeGTlistExtendedEntry.prototype,"getEntries",u=>{const x=
c._pe._pe_getPeGTlistExtendedGTsSize();return function(){let C=null;var H=u.call(this);if(!c._pe.compare(H,c._pe.NULL)){C=[H];const P=this.getSteps();if(1<P){H=c._pe.getPointer(H);for(let Q=1;Q<P;Q++)C.push(c._pe.wrapPointer(H+x*Q,c._pe.PeGTlistExtendedGTs))}}return C}});const y=c._pe._pe_getPeHorizonSize();v=u=>function(){let x=this._cache;x||(this._cache=x=new Map);if(x.has(u))return x.get(u);let C=null;var H=u.call(this);if(!c._pe.compare(H,c._pe.NULL)){C=[H];const P=H.getNump();if(1<P){H=c._pe.getPointer(H);
for(let Q=1;Q<P;Q++)C.push(c._pe.wrapPointer(H+y*Q,c._pe.PeHorizon))}}x.set(u,C);return C};q(c._pe.PeProjcs.prototype,"horizonGcsGenerate",v);q(c._pe.PeProjcs.prototype,"horizonPcsGenerate",v);c._pe.PeObject.prototype.toString=function(u=c.PeDefs.PE_STR_OPTS_NONE){c._pe.ensureCache.prepare();const x=c._pe.getPointer(this),C=c._pe.ensureInt8(Array(c.PeDefs.PE_BUFFER_MAX));return c._pe.UTF8ToString(c._pe._pe_object_to_string_ext(x,u,C))}}function W(m){if(m){var q=c._pe.getClass(m);q&&(q=c._pe.getCache(q))&&
(m=c._pe.getPointer(m))&&delete q[m]}}function ia(m,q){const v=[];q=Array(q);for(let y=0;y<m;y++)v.push(c._pe.ensureInt8(q));return v}function pa(m){let q;Array.isArray(m[0])?(q=[],m.forEach(v=>{q.push(v[0],v[1])})):q=m;return q}function ka(m,q,v,y=!1){if(y)for(y=0;y<2*q;y++)m[y]=c._pe.getValue(v+y*Float64Array.BYTES_PER_ELEMENT,"double");else{y=0===m.length;for(let u=0;u<q;u++)y&&(m[u]=Array(2)),m[u][0]=c._pe.getValue(v,"double"),m[u][1]=c._pe.getValue(v+Float64Array.BYTES_PER_ELEMENT,"double"),
v+=2*Float64Array.BYTES_PER_ELEMENT}}let h;c._pe=null;c.PeCSTransformations=void 0;(function(m){function q(u,x,C){c._pe.ensureCache.prepare();var H=pa(C);const P=C===H;H=c._pe.ensureFloat64(H);(u=c._pe._pe_geog_to_proj(c._pe.getPointer(u),x,H))&&ka(C,x,H,P);return u}function v(u,x,C){return y(u,x,C,0)}function y(u,x,C,H){c._pe.ensureCache.prepare();var P=pa(C);const Q=C===P;P=c._pe.ensureFloat64(P);(u=c._pe._pe_proj_to_geog_center(c._pe.getPointer(u),x,P,H))&&ka(C,x,P,Q);return u}m.geogToProj=q;m.projGeog=
function(u,x,C,H){switch(H){case c.PeDefs.PE_TRANSFORM_P_TO_G:return v(u,x,C);case c.PeDefs.PE_TRANSFORM_G_TO_P:return q(u,x,C)}return 0};m.projToGeog=v;m.projToGeogCenter=y})(c.PeCSTransformations||(c.PeCSTransformations={}));c.PeDefs=void 0;(function(m){m.init=function(){m.PE_BUFFER_MAX=c._pe.PeDefs.prototype.PE_BUFFER_MAX;m.PE_NAME_MAX=c._pe.PeDefs.prototype.PE_NAME_MAX;m.PE_MGRS_MAX=c._pe.PeDefs.prototype.PE_MGRS_MAX;m.PE_USNG_MAX=c._pe.PeDefs.prototype.PE_USNG_MAX;m.PE_DD_MAX=c._pe.PeDefs.prototype.PE_DD_MAX;
m.PE_DDM_MAX=c._pe.PeDefs.prototype.PE_DDM_MAX;m.PE_DMS_MAX=c._pe.PeDefs.prototype.PE_DMS_MAX;m.PE_UTM_MAX=c._pe.PeDefs.prototype.PE_UTM_MAX;m.PE_PARM_MAX=c._pe.PeDefs.prototype.PE_PARM_MAX;m.PE_TYPE_NONE=c._pe.PeDefs.prototype.PE_TYPE_NONE;m.PE_TYPE_GEOGCS=c._pe.PeDefs.prototype.PE_TYPE_GEOGCS;m.PE_TYPE_PROJCS=c._pe.PeDefs.prototype.PE_TYPE_PROJCS;m.PE_TYPE_GEOGTRAN=c._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;m.PE_TYPE_COORDSYS=c._pe.PeDefs.prototype.PE_TYPE_COORDSYS;m.PE_TYPE_UNIT=c._pe.PeDefs.prototype.PE_TYPE_UNIT;
m.PE_TYPE_LINUNIT=c._pe.PeDefs.prototype.PE_TYPE_LINUNIT;m.PE_STR_OPTS_NONE=c._pe.PeDefs.prototype.PE_STR_OPTS_NONE;m.PE_STR_AUTH_NONE=c._pe.PeDefs.prototype.PE_STR_AUTH_NONE;m.PE_STR_AUTH_TOP=c._pe.PeDefs.prototype.PE_STR_AUTH_TOP;m.PE_STR_NAME_CANON=c._pe.PeDefs.prototype.PE_STR_NAME_CANON;m.PE_PARM_X0=c._pe.PeDefs.prototype.PE_PARM_X0;m.PE_PARM_ND=c._pe.PeDefs.prototype.PE_PARM_ND;m.PE_TRANSFORM_1_TO_2=c._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;m.PE_TRANSFORM_2_TO_1=c._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;
m.PE_TRANSFORM_P_TO_G=c._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;m.PE_TRANSFORM_G_TO_P=c._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;m.PE_HORIZON_RECT=c._pe.PeDefs.prototype.PE_HORIZON_RECT;m.PE_HORIZON_POLY=c._pe.PeDefs.prototype.PE_HORIZON_POLY;m.PE_HORIZON_LINE=c._pe.PeDefs.prototype.PE_HORIZON_LINE;m.PE_HORIZON_DELTA=c._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(c.PeDefs||(c.PeDefs={}));c.PeFactory=void 0;(function(m){function q(x,C){let H=null,P=v[x];P||(P={},v[x]=P);P.hasOwnProperty(String(C))?H=
P[C]:(x=c._pe.PeFactory.prototype.factoryByType(x,C),c._pe.compare(x,c._pe.NULL)||(H=x,P[C]=H));return H=u(H)}const v={},y={},u=x=>{if(x){const C=x.getType();switch(C){case c.PeDefs.PE_TYPE_GEOGCS:x=c._pe.castObject(x,c._pe.PeGeogcs);break;case c.PeDefs.PE_TYPE_PROJCS:x=c._pe.castObject(x,c._pe.PeProjcs);break;case c.PeDefs.PE_TYPE_GEOGTRAN:x=c._pe.castObject(x,c._pe.PeGeogtran);break;default:C&c.PeDefs.PE_TYPE_UNIT&&(x=c._pe.castObject(x,c._pe.PeUnit))}}return x};m.initialize=function(){c._pe.PeFactory.prototype.initialize(null)};
m.coordsys=function(x){return q(c.PeDefs.PE_TYPE_COORDSYS,x)};m.factoryByType=q;m.fromString=function(x,C){let H=null,P=y[x];P||(P={},y[x]=P);P.hasOwnProperty(C)?H=P[C]:(x=c._pe.PeFactory.prototype.fromString(x,C),c._pe.compare(x,c._pe.NULL)||(H=x,P[C]=H));return H=u(H)};m.geogcs=function(x){return q(c.PeDefs.PE_TYPE_GEOGCS,x)};m.geogtran=function(x){return q(c.PeDefs.PE_TYPE_GEOGTRAN,x)};m.getCode=function(x){return c._pe.PeFactory.prototype.getCode(x)};m.projcs=function(x){return q(c.PeDefs.PE_TYPE_PROJCS,
x)};m.unit=function(x){return q(c.PeDefs.PE_TYPE_UNIT,x)}})(c.PeFactory||(c.PeFactory={}));c.PeGCSExtent=null;c.PeGTlistExtended=void 0;(function(m){let q;m.init=function(){m.PE_GTLIST_OPTS_COMMON=c._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;q=c._pe._pe_getPeGTlistExtendedEntrySize()};m.getGTlist=function(v,y,u,x,C,H){let P=null;const Q=new c._pe.PeInteger(H);try{const S=c._pe.PeGTlistExtended.prototype.getGTlist(v,y,u,x,C,Q);if(H=Q.val)if(P=[S],1<H){const M=c._pe.getPointer(S);for(v=1;v<
H;v++)P.push(c._pe.wrapPointer(M+q*v,c._pe.PeGTlistExtendedEntry))}}finally{c._pe.destroy(Q)}return P}})(c.PeGTlistExtended||(c.PeGTlistExtended={}));c.PeGTlistExtendedEntry=void 0;(function(m){m.destroy=function(q){if(q&&q.length){for(const v of q)W(v),v.getEntries().forEach(y=>{W(y);y=y.getGeogtran();W(y);y.getParameters().forEach(W);[y.getGeogcs1(),y.getGeogcs2()].forEach(u=>{W(u);const x=u.getDatum();W(x);W(x.getSpheroid());W(u.getPrimem());W(u.getUnit())})});c._pe.PeGTlistExtendedEntry.prototype.Delete(q[0])}}})(c.PeGTlistExtendedEntry||
(c.PeGTlistExtendedEntry={}));c.PeGTTransformations=void 0;(function(m){m.geogToGeog=function(q,v,y,u,x){c._pe.ensureCache.prepare();var C=pa(y);const H=y===C;C=c._pe.ensureFloat64(C);let P=0;u&&(P=c._pe.ensureFloat64(u));(q=c._pe._pe_geog_to_geog(c._pe.getPointer(q),v,C,P,x))&&ka(y,v,C,H);return q}})(c.PeGTTransformations||(c.PeGTTransformations={}));c.PeNotationDms=void 0;(function(m){const q=(y,u,x,C,H,P)=>{c._pe.ensureCache.prepare();switch(y){case "dd":var Q=c._pe._pe_geog_to_dd;var S=c.PeDefs.PE_DD_MAX;
break;case "ddm":Q=c._pe._pe_geog_to_ddm;S=c.PeDefs.PE_DDM_MAX;break;case "dms":Q=c._pe._pe_geog_to_dms,S=c.PeDefs.PE_DMS_MAX}y=0;u&&(y=c._pe.getPointer(u));u=pa(C);u=c._pe.ensureFloat64(u);S=ia(x,S);C=c._pe.ensureInt32(S);if(H=Q(y,x,u,H,C))for(Q=0;Q<x;Q++)P[Q]=c._pe.UTF8ToString(S[Q]);return H},v=(y,u,x,C,H)=>{c._pe.ensureCache.prepare();switch(y){case "dd":var P=c._pe._pe_dd_to_geog;break;case "ddm":P=c._pe._pe_ddm_to_geog;break;case "dms":P=c._pe._pe_dms_to_geog}y=0;u&&(y=c._pe.getPointer(u));
u=C.map(Q=>c._pe.ensureString(Q));C=c._pe.ensureInt32(u);u=c._pe.ensureFloat64(Array(2*x));(P=P(y,x,C,u))&&ka(H,x,u);return P};m.geog_to_dms=function(y,u,x,C,H){return q("dms",y,u,x,C,H)};m.dms_to_geog=function(y,u,x,C){return v("dms",y,u,x,C)};m.geog_to_ddm=function(y,u,x,C,H){return q("ddm",y,u,x,C,H)};m.ddm_to_geog=function(y,u,x,C){return v("ddm",y,u,x,C)};m.geog_to_dd=function(y,u,x,C,H){return q("dd",y,u,x,C,H)};m.dd_to_geog=function(y,u,x,C){return v("dd",y,u,x,C)}})(c.PeNotationDms||(c.PeNotationDms=
{}));c.PeNotationMgrs=void 0;(function(m){m.init=function(){m.PE_MGRS_STYLE_NEW=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;m.PE_MGRS_STYLE_OLD=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;m.PE_MGRS_STYLE_AUTO=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;m.PE_MGRS_180_ZONE_1_PLUS=c._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;m.PE_MGRS_ADD_SPACES=c._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};m.geog_to_mgrs_extended=function(q,v,y,u,x,C,H){c._pe.ensureCache.prepare();let P=
0;q&&(P=c._pe.getPointer(q));q=pa(y);y=c._pe.ensureFloat64(q);q=ia(v,c.PeDefs.PE_MGRS_MAX);const Q=c._pe.ensureInt32(q);if(u=c._pe._pe_geog_to_mgrs_extended(P,v,y,u,x,C,Q))for(x=0;x<v;x++)H[x]=c._pe.UTF8ToString(q[x]);return u};m.mgrs_to_geog_extended=function(q,v,y,u,x){c._pe.ensureCache.prepare();let C=0;q&&(C=c._pe.getPointer(q));q=y.map(H=>c._pe.ensureString(H));y=c._pe.ensureInt32(q);q=c._pe.ensureFloat64(Array(2*v));(u=c._pe._pe_mgrs_to_geog_extended(C,v,y,u,q))&&ka(x,v,q);return u}})(c.PeNotationMgrs||
(c.PeNotationMgrs={}));c.PeNotationUsng=void 0;(function(m){m.geog_to_usng=function(q,v,y,u,x,C,H){c._pe.ensureCache.prepare();let P=0;q&&(P=c._pe.getPointer(q));q=pa(y);y=c._pe.ensureFloat64(q);q=ia(v,c.PeDefs.PE_MGRS_MAX);const Q=c._pe.ensureInt32(q);if(u=c._pe._pe_geog_to_usng(P,v,y,u,x,C,Q))for(x=0;x<v;x++)H[x]=c._pe.UTF8ToString(q[x]);return u};m.usng_to_geog=function(q,v,y,u){c._pe.ensureCache.prepare();var x=0;q&&(x=c._pe.getPointer(q));q=y.map(C=>c._pe.ensureString(C));y=c._pe.ensureInt32(q);
q=c._pe.ensureFloat64(Array(2*v));(x=c._pe._pe_usng_to_geog(x,v,y,q))&&ka(u,v,q);return x}})(c.PeNotationUsng||(c.PeNotationUsng={}));c.PeNotationUtm=void 0;(function(m){m.init=function(){m.PE_UTM_OPTS_NONE=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;m.PE_UTM_OPTS_ADD_SPACES=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;m.PE_UTM_OPTS_NS=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};m.geog_to_utm=function(q,v,y,u,x){c._pe.ensureCache.prepare();var C=0;q&&(C=c._pe.getPointer(q));q=pa(y);y=
c._pe.ensureFloat64(q);q=ia(v,c.PeDefs.PE_UTM_MAX);const H=c._pe.ensureInt32(q);if(u=c._pe._pe_geog_to_utm(C,v,y,u,H))for(C=0;C<v;C++)x[C]=c._pe.UTF8ToString(q[C]);return u};m.utm_to_geog=function(q,v,y,u,x){c._pe.ensureCache.prepare();let C=0;q&&(C=c._pe.getPointer(q));q=y.map(H=>c._pe.ensureString(H));y=c._pe.ensureInt32(q);q=c._pe.ensureFloat64(Array(2*v));(u=c._pe._pe_utm_to_geog(C,v,y,u,q))&&ka(x,v,q);return u}})(c.PeNotationUtm||(c.PeNotationUtm={}));c.PePCSInfo=void 0;(function(m){const q=
new Map;m.init=function(){m.PE_PCSINFO_OPTION_NONE=c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;m.PE_PCSINFO_OPTION_DOMAIN=c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;m.PE_POLE_OUTSIDE_BOUNDARY=c._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;m.PE_POLE_POINT=c._pe.PePCSInfo.prototype.PE_POLE_POINT};m.generate=function(v,y=m.PE_PCSINFO_OPTION_DOMAIN){let u,x;q.has(v)&&(x=q.get(v),x[y]&&(u=x[y]));u||(u=c._pe.PePCSInfo.prototype.generate(v,y),x||(x=[],q.set(v,x)),x[y]=u);return u}})(c.PePCSInfo||
(c.PePCSInfo={}));c.PeVersion=void 0;(function(m){m.version_string=function(){return c._pe.PeVersion.prototype.version_string()}})(c.PeVersion||(c.PeVersion={}));var z=Object.freeze({__proto__:null,get _pe(){return c._pe},isLoaded:L,isSupported:fa,load:qa,get PeCSTransformations(){return c.PeCSTransformations},get PeDefs(){return c.PeDefs},get PeFactory(){return c.PeFactory},get PeGCSExtent(){return c.PeGCSExtent},get PeGTlistExtended(){return c.PeGTlistExtended},get PeGTlistExtendedEntry(){return c.PeGTlistExtendedEntry},
get PeGTTransformations(){return c.PeGTTransformations},get PeNotationDms(){return c.PeNotationDms},get PeNotationMgrs(){return c.PeNotationMgrs},get PeNotationUsng(){return c.PeNotationUsng},get PeNotationUtm(){return c.PeNotationUtm},get PePCSInfo(){return c.PePCSInfo},get PeVersion(){return c.PeVersion},_init:ja});c._init=ja;c.isLoaded=L;c.isSupported=fa;c.load=qa;c.pe=z})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/maybe","../Extent"],function(B,
c,R,G){function J(h=ka){return[h[0],h[1],h[2],h[3]]}function L(h){return h[0]>=h[2]?0:h[2]-h[0]}function fa(h){return h[1]>=h[3]?0:h[3]-h[1]}function qa(h,z,m){return z>=h[0]&&m>=h[1]&&z<=h[2]&&m<=h[3]}function ja(h,z){h[0]=z[0];h[1]=z[1];h[2]=z[2];h[3]=z[3];return h}function W(h){return 4===h.length}function ia(h,z,m){return h<z?z:h>m?m:h}const pa=[Infinity,Infinity,-Infinity,-Infinity],ka=[0,0,0,0];B.NEGATIVE_INFINITY=pa;B.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];B.UNIT=[0,0,1,
1];B.ZERO=ka;B.allFinite=function(h){for(let z=0;4>z;z++)if(!isFinite(h[z]))return!1;return!0};B.area=function(h){return L(h)*fa(h)};B.center=function(h,z=[0,0]){z[0]=(h[0]+h[2])/2;z[1]=(h[1]+h[3])/2;return z};B.clone=function(h){return[h[0],h[1],h[2],h[3]]};B.contains=function(h,z){return z[0]>=h[0]&&z[2]<=h[2]&&z[1]>=h[1]&&z[3]<=h[3]};B.containsPoint=function(h,z){return qa(h,z[0],z[1])};B.containsPointObject=function(h,z){return qa(h,z.x,z.y)};B.containsPointWithMargin=function(h,z,m){return z[0]>=
h[0]-m&&z[1]>=h[1]-m&&z[0]<=h[2]+m&&z[1]<=h[3]+m};B.containsXY=qa;B.create=J;B.diameter=function(h){const z=L(h);h=fa(h);return Math.sqrt(z*z+h*h)};B.distance=function(h,z){const m=(h[1]+h[3])/2,q=Math.max(Math.abs(z[0]-(h[0]+h[2])/2)-L(h)/2,0);h=Math.max(Math.abs(z[1]-m)-fa(h)/2,0);return Math.sqrt(q*q+h*h)};B.empty=function(h){return h?ja(h,pa):J(pa)};B.equals=function(h,z,m){if(R.isNone(h)||R.isNone(z))return h===z;if(!W(h)||!W(z))return!1;if(m)for(let q=0;q<h.length;q++){if(!m(h[q],z[q]))return!1}else for(m=
0;m<h.length;m++)if(h[m]!==z[m])return!1;return!0};B.expand=function(h,z,m=h){if("length"in z)if(W(z))m[0]=Math.min(h[0],z[0]),m[1]=Math.min(h[1],z[1]),m[2]=Math.max(h[2],z[2]),m[3]=Math.max(h[3],z[3]);else{if(2===z.length||3===z.length)m[0]=Math.min(h[0],z[0]),m[1]=Math.min(h[1],z[1]),m[2]=Math.max(h[2],z[0]),m[3]=Math.max(h[3],z[1])}else switch(z.type){case "extent":m[0]=Math.min(h[0],z.xmin);m[1]=Math.min(h[1],z.ymin);m[2]=Math.max(h[2],z.xmax);m[3]=Math.max(h[3],z.ymax);break;case "point":m[0]=
Math.min(h[0],z.x),m[1]=Math.min(h[1],z.y),m[2]=Math.max(h[2],z.x),m[3]=Math.max(h[3],z.y)}return m};B.expandPointInPlace=function(h,z){z[0]<h[0]&&(h[0]=z[0]);z[0]>h[2]&&(h[2]=z[0]);z[1]<h[1]&&(h[1]=z[1]);z[1]>h[3]&&(h[3]=z[1])};B.expandWithNestedArray=function(h,z,m=h){const q=z.length;let v=h[0],y=h[1],u=h[2];h=h[3];for(let x=0;x<q;x++){const C=z[x];v=Math.min(v,C[0]);y=Math.min(y,C[1]);u=Math.max(u,C[0]);h=Math.max(h,C[1])}m[0]=v;m[1]=y;m[2]=u;m[3]=h;return m};B.fromExtent=function(h,z=J()){z[0]=
h.xmin;z[1]=h.ymin;z[2]=h.xmax;z[3]=h.ymax;return z};B.fromValues=function(h,z,m,q,v=J()){v[0]=h;v[1]=z;v[2]=m;v[3]=q;return v};B.height=fa;B.intersection=function(h,z,m=h){const q=z[0],v=z[1],y=z[2];z=z[3];m[0]=ia(h[0],q,y);m[1]=ia(h[1],v,z);m[2]=ia(h[2],q,y);m[3]=ia(h[3],v,z);return m};B.intersects=function(h,z){return Math.max(z[0],h[0])<=Math.min(z[2],h[2])&&Math.max(z[1],h[1])<=Math.min(z[3],h[3])};B.is=W;B.isPoint=function(h){return(0===L(h)||!isFinite(h[0]))&&(0===fa(h)||!isFinite(h[1]))};
B.offset=function(h,z,m,q=h){q[0]=h[0]+z;q[1]=h[1]+m;q[2]=h[2]+z;q[3]=h[3]+m;return q};B.pad=function(h,z,m=h){m[0]=h[0]-z;m[1]=h[1]-z;m[2]=h[2]+z;m[3]=h[3]+z;return m};B.set=ja;B.setMax=function(h,z,m=h){m[2]=z[0];m[3]=z[1];m!==h&&(m[0]=h[0],m[1]=h[1]);return h};B.setMin=function(h,z,m=h){m[0]=z[0];m[1]=z[1];m!==h&&(m[2]=h[2],m[3]=h[3]);return m};B.size=function(h,z){z[0]=h[2]-h[0];z[1]=h[3]-h[1]};B.toExtent=function(h,z){return new G({xmin:h[0],ymin:h[1],xmax:h[2],ymax:h[3],spatialReference:z})};
B.width=L;Object.defineProperty(B,"__esModule",{value:!0})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(B,c){const R=Math.PI/180;var G=c.earth.radius;const J=c.earth.eccentricitySquared;G={a1:G*J,a2:G*J*G*J,a3:G*J*J/2,a4:G*J*G*J*2.5,a5:G*J+G*J*J/2,a6:1-J};c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:c.earth.radius,f:c.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:c.moon.radius,
f:c.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:c.mars.radius,f:c.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,
f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},
104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,
f:0},104970:{a:593E3,f:0},104971:{a:c.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};B.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;B.earthEllipsoidConstants=G;B.spheroids=c;B.toRadians=R;Object.defineProperty(B,"__esModule",{value:!0})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(B){return function(){function c(G){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(G&&
G.steps)for(const J of G.steps)J instanceof B?this.steps.push(J):this.steps.push(new B({wkid:J.wkid,wkt:J.wkt,isInverse:J.isInverse}))}c.cacheKey=function(G,J){return[void 0!==G.wkid&&null!==G.wkid?G.wkid.toString():"-1",void 0!==G.wkt&&null!==G.wkt?G.wkt.toString():"",void 0!==J.wkid&&null!==J.wkid?J.wkid.toString():"-1",void 0!==J.wkt&&null!==J.wkt?J.wkt.toString():""].join()};c.fromGE=function(G){const J=new c;let L="";for(const fa of G.steps)G=B.fromGE(fa),J.steps.push(G),L+=G.uid.toString()+
",";J._cached_projection={};J._gtlistentry=null;J._chain=L;return J};var R=c.prototype;R.getInverse=function(){const G=new c;G.steps=[];for(let J=this.steps.length-1;0<=J;J--)G.steps.push(this.steps[J].getInverse());return G};R.getGTListEntry=function(){let G="";for(const J of this.steps)G+=J.uid.toString()+",";G!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=G);return this._gtlistentry};R.assignCachedGe=function(G,J,L){this._cached_projection[c.cacheKey(G,J)]=L};R.getCachedGeTransformation=
function(G,J){let L="";for(const fa of this.steps)L+=fa.uid.toString()+",";L!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=L);G=this._cached_projection[c.cacheKey(G,J)];return void 0===G?null:G};return c}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(B){let c=0;return function(){function R(G=null){this.uid=c++;G?(this._wkt=void 0!==G.wkt?G.wkt:null,this._wkid=void 0!==G.wkid?G.wkid:-1,
this._isInverse=void 0!==G.isInverse?!0===G.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}R.fromGE=function(G){const J=new R;J._wkt=G.wkt;J._wkid=G.wkid;J._isInverse=G.isInverse;return J};R.prototype.getInverse=function(){const G=new R;G._wkt=this.wkt;G._wkid=this._wkid;G._isInverse=!this.isInverse;return G};B._createClass(R,[{key:"wkt",get:function(){return this._wkt},set:function(G){this._wkt=G;this.uid=c++}},{key:"wkid",get:function(){return this._wkid},set:function(G){this._wkid=
G;this.uid=c++}},{key:"isInverse",get:function(){return this._isInverse},set:function(G){this._isInverse=G;this.uid=c++}}]);return R}()})},"esri/layers/graphics/sources/geojson/geojson":function(){define(["exports","../../../../core/Error","../../OptimizedFeature","../../OptimizedGeometry"],function(B,c,R,G){function*J(v){switch(v.type){case "Feature":yield v;break;case "FeatureCollection":for(const y of v.features)y&&(yield y)}}function*L(v){if(!v)return null;switch(v.type){case "Point":yield v.coordinates;
break;case "LineString":case "MultiPoint":yield*v.coordinates;break;case "MultiLineString":case "Polygon":for(const y of v.coordinates)yield*y;break;case "MultiPolygon":for(const y of v.coordinates)for(const u of y)yield*u}}function*fa(v,y={}){const {geometryType:u,objectIdField:x}=y;for(const H of v){var C;const {geometry:P,properties:Q,id:S}=H;if(P&&q[P.type]!==u)continue;v=Q||{};let M=null!=(C=v[x])?C:null;x&&null!=S&&!v[x]&&(v[x]=M=S);yield new R(P?ia(new G,P,y):null,v,null,M)}}function qa(v){for(const y of v)if(2<
y.length)return!0;return!1}function ja(v){let y=0;for(let u=0;u<v.length;u++){const x=v[u],C=v[(u+1)%v.length];y+=x[0]*C[1]-C[0]*x[1]}return 0>=y}function W(v){const y=v[0],u=v[v.length-1];y[0]===u[0]&&y[1]===u[1]&&y[2]===u[2]||v.push(y);return v}function ia(v,y,u){switch(y.type){case "LineString":return h(v,y.coordinates,u),v;case "MultiLineString":for(const C of y.coordinates)h(v,C,u);return v;case "MultiPoint":return h(v,y.coordinates,u),v;case "MultiPolygon":for(var x of y.coordinates)for(pa(v,
x[0],u),y=1;y<x.length;y++)ka(v,x[y],u);return v;case "Point":return m(v,y.coordinates,u),v;case "Polygon":x=y.coordinates;pa(v,x[0],u);for(y=1;y<x.length;y++)ka(v,x[y],u);return v}}function pa(v,y,u){y=W(y);ja(y)?h(v,y,u):z(v,y,u)}function ka(v,y,u){y=W(y);ja(y)?z(v,y,u):h(v,y,u)}function h(v,y,u){for(const x of y)m(v,x,u);v.lengths.push(y.length)}function z(v,y,u){for(let x=y.length-1;0<=x;x--)m(v,y[x],u);v.lengths.push(y.length)}function m(v,y,u){const [x,C,H]=y;v.coords.push(x,C);u.hasZ&&v.coords.push(H||
0)}const q={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};B.createOptimizedFeatures=function(v,y){return Array.from(fa(J(v),y))};B.getGeometryType=function(v){return q[v]};B.inferLayerProperties=function(v,y={}){const u=[];var x=new Set;const C=new Set;var H=!1;let P=Number.NEGATIVE_INFINITY,Q=null,S=!1,M=void 0;({geometryType:y=null}=y);var Y=
!1;for(const sa of J(v)){const {geometry:la,properties:xa,id:ya}=sa;if(la&&(y||(y=q[la.type]),q[la.type]!==y))continue;H||(H=L(la),H=qa(H));!S&&(S=null!=ya)&&(M=typeof ya,"number"===M&&(Q=Object.keys(xa).filter(ta=>xa[ta]===ya)));S&&"number"===M&&null!=ya&&(P=Math.max(P,ya),1<Q.length?Q=Q.filter(ta=>xa[ta]===ya):1===Q.length&&(Q=xa[Q[0]]===ya?Q:[]));if(!Y&&xa){v=!0;for(const ta in xa)if(!x.has(ta))if(Y=xa[ta],null==Y)v=!1,C.add(ta);else{a:switch(typeof Y){case "string":Y="esriFieldTypeString";break a;
case "number":Y="esriFieldTypeDouble";break a;default:Y="unknown"}"unknown"===Y?C.add(ta):(C.delete(ta),x.add(ta),u.push({name:ta,alias:ta,type:Y}))}Y=v}}if(x=Q&&1===Q.length&&Q[0]||null)for(const sa of u)sa.name===x&&(sa.type="esriFieldTypeOID");return{fields:u,geometryType:y,hasZ:H,maxObjectId:Math.max(0,P),objectIdFieldName:x,objectIdFieldType:M,unknownFields:Array.from(C)}};B.validateGeoJSON=function(v){if(!v)throw new c("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==v.type&&"FeatureCollection"!==
v.type)throw new c("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:v});({crs:v}=v);if(v){var y="string"===typeof v?v:"name"===v.type?v.properties.name:"EPSG"===v.type?v.properties.code:null,u=/.*(CRS84H?|4326)$/i;if(!y||!u.test(y))throw new c("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:v});}};Object.defineProperty(B,"__esModule",{value:!0})})},"esri/layers/ogc/dateUtils":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],
function(B,c){function R(J){J=(new Date(J)).getTime();return Number.isNaN(J)?null:J}const G=c._wrapRegExp(/^(?:(\x2D?[0-9]{4,})\x2D([0-9]{2})\x2D([0-9]{2}))(?:T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]+))?)?(?:(Z)|(?:(\+|\x2D)([0-9]{2}):([0-9]{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11});B.parseDate=function(J){var L;var fa,qa,ja,W=G.exec(J);if(W){W=W.groups;var ia=+W.year,pa=+W.month-1,ka=+W.day,h=+(null!=(fa=W.hours)?fa:
0);fa=+(null!=(qa=W.minutes)?qa:0);qa=+(null!=(ja=W.seconds)?ja:0);if(23<h||59<fa||59<qa)var z=null;else z=(ja=null!=(z=W.ms)?z:"0")?+ja.padEnd(3,"0").substring(0,3):0,z=W.isUTC?Date.UTC(ia,pa,ka,h,fa,qa,z):W.offsetSign?6E4*("+"===W.offsetSign?-1:1)*(60*+W.offsetHours+ +W.offsetMinutes)+Date.UTC(ia,pa,ka,h,fa,qa,z):(new Date(ia,pa,ka,h,fa,qa,z)).getTime(),z=Number.isNaN(z)?null:z}else z=null;return null!=(L=z)?L:R(J)};B.parseJSDate=R;Object.defineProperty(B,"__esModule",{value:!0})})},"esri/layers/ogc/xmlUtils":function(){define(["exports"],
function(B){function c(G,J){for(const L of G.children)L.localName in J&&(G=J[L.localName],"function"===typeof G?(G=G(L))&&c(L,G):c(L,G))}function*R(G,J){for(const L of G.children)L.localName in J&&(G=J[L.localName],"function"===typeof G?yield G(L):yield*R(L,G))}B.iterateXML=R;B.visitXML=c;Object.defineProperty(B,"__esModule",{value:!0})})},"*noref":1}});
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../geometry ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../core/MultiOriginJSONSupport ../core/object ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../geometry/support/typeUtils ./Layer ./graphics/sources/WFSSource ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./ogc/wfsUtils ./support/commonProperties ./support/FeatureReduction ./support/FeatureReductionCluster ./support/FeatureReductionSelection ./support/featureReductionUtils ./support/Field ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ../rest/support/Query ../support/popupUtils ../symbols/support/ElevationInfo ../geometry/Extent ../geometry/SpatialReference".split(" "),function(B,
c,R,G,J,L,fa,qa,ja,W,ia,pa,ka,h,z,m,q,v,y,u,x,C,H,P,Q,S,M,Y,sa,la,xa,ya,ta,Ma,Ra,Ka,Na,Ia,Ba,Pa,La,Aa,ca,Ja,Ta,Oa,E,a,b,d){var e;R=Aa.defineFieldProperties();h=e=function(n){function p(l){l=n.call(this,l)||this;l.capabilities=null;l.copyright=null;l.customParameters=null;l.definitionExpression=null;l.displayField=null;l.elevationInfo=null;l.featureReduction=null;l.featureUrl=void 0;l.fields=null;l.fieldsIndex=null;l.fullExtent=null;l.geometryType=null;l.labelsVisible=!0;l.labelingInfo=null;l.legendEnabled=
!0;l.objectIdField=null;l.operationalLayerType="WFS";l.maxFeatures=3E3;l.mode=0;l.name=null;l.namespaceUri=null;l.outFields=null;l.popupEnabled=!0;l.popupTemplate=null;l.screenSizePerspectiveEnabled=!0;l.source=new M["default"]({layer:B._assertThisInitialized(l)});l.spatialReference=d.WGS84;l.spatialReferences=[4326];l.swapXY=void 0;l.title="WFS";l.type="wfs";l.url=null;l.version=void 0;return l}B._inheritsLoose(p,n);p.fromWFSLayerInfo=function(l){const {customParameters:w,fields:A,geometryField:D,
geometryType:F,name:N,namespaceUri:O,objectIdField:U,spatialReference:T,swapXY:V,url:ma,wfsCapabilities:X}=l;return new e({customParameters:w,fields:A,geometryField:D,geometryType:F,name:N,namespaceUri:O,objectIdField:U,spatialReference:T,swapXY:V,url:ma,wfsCapabilities:X})};var t=p.prototype;t.destroy=function(){var l;null==(l=this.source)?void 0:l.destroy()};t.load=function(l){this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WFS"]},l).then(()=>this.source.load(l)).then(()=>{this.read(this.source.sourceJSON,
{origin:"service",url:this.parsedUrl});this.revert("objectIdField fields timeInfo spatialReference name namespaceUri".split(" "),"service");ca.fixRendererFields(this.renderer,this.fieldsIndex);ca.fixTimeInfoFields(this.timeInfo,this.fieldsIndex)}));return Promise.resolve(this)};t.readFeatureReduction=function(l,w){return Pa.read(l,w)};t.writeWebSceneFeatureReduction=function(l,w,A,D){Pa.writeTarget(l,w,"layerDefinition.featureReduction",D)};t.writeFields=function(l,w,A){l=l.filter(D=>D.name!==Ra.WFS_OID_FIELD_NAME);
this.geometryField&&l.unshift(new La({name:this.geometryField,alias:this.geometryField,type:"geometry"}));z.setDeepValue(A,l.map(D=>D.toJSON()),w)};t.createPopupTemplate=function(l){return E.createPopupTemplate(this,l)};t.createQuery=function(){const l=new Oa;l.returnGeometry=!0;l.outFields=["*"];l.where=this.definitionExpression||"1\x3d1";const {timeOffset:w,timeExtent:A}=this;l.timeExtent=null!=w&&null!=A?A.offset(-w.value,w.unit):A||null;return l};t.getFieldDomain=function(l,w){var A;return null==
(A=this.getField(l))?void 0:A.domain};t.getField=function(l){return this.fieldsIndex.get(l)};t.queryFeatures=function(l,w){return this.load().then(()=>this.source.queryFeatures(Oa.from(l)||this.createQuery(),w)).then(A=>{if(null!=A&&A.features)for(const D of A.features)D.layer=D.sourceLayer=this;return A})};t.queryObjectIds=function(l,w){return this.load().then(()=>this.source.queryObjectIds(Oa.from(l)||this.createQuery(),w))};t.queryFeatureCount=function(l,w){return this.load().then(()=>this.source.queryFeatureCount(Oa.from(l)||
this.createQuery(),w))};t.queryExtent=function(l,w){return this.load().then(()=>this.source.queryExtent(Oa.from(l)||this.createQuery(),w))};t.refresh=function(){this.source.refresh().then(l=>{this.read(l,{origin:"service"});n.prototype.refresh.call(this)})};B._createClass(p,[{key:"createQueryVersion",get:function(){this.commitProperty("definitionExpression");this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("capabilities");
return(this._get("createQueryVersion")||0)+1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"parsedUrl",get:function(){return this.url?m.urlToObject(this.url):null}},{key:"renderer",set:function(l){ca.fixRendererFields(l,this.fieldsIndex);this._set("renderer",l)}}]);return p}(sa.CustomParametersMixin(Y.BlendLayer(Ma.TemporalLayer(ya.RefreshableLayer(ta.ScaleRangeLayer(la.OperationalLayer(xa.PortalLayer(h.MultiOriginJSONMixin(S)))))))));c.__decorate([q.property({readOnly:!0,
aliasOf:"source.capabilities"})],h.prototype,"capabilities",void 0);c.__decorate([q.property({type:String})],h.prototype,"copyright",void 0);c.__decorate([q.property({readOnly:!0})],h.prototype,"createQueryVersion",null);c.__decorate([q.property({json:{read:{source:"wfsInfo.customParameters"},write:{target:"wfsInfo.customParameters",ignoreOrigin:!0}}})],h.prototype,"customParameters",void 0);c.__decorate([q.property({readOnly:!0})],h.prototype,"defaultPopupTemplate",null);c.__decorate([q.property({type:String})],
h.prototype,"definitionExpression",void 0);c.__decorate([q.property({type:String})],h.prototype,"displayField",void 0);c.__decorate([q.property({type:a})],h.prototype,"elevationInfo",void 0);c.__decorate([q.property({types:{key:"type",base:Na["default"],typeMap:{selection:Ba,cluster:Ia}},json:{write:{target:"layerDefinition.featureReduction"}}})],h.prototype,"featureReduction",void 0);c.__decorate([C.reader("featureReduction",["layerDefinition.featureReduction"])],h.prototype,"readFeatureReduction",
null);c.__decorate([P.writer("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:Pa.webSceneFeatureReductionTypes}})],h.prototype,"writeWebSceneFeatureReduction",null);c.__decorate([q.property({readOnly:!0,json:{read:{source:"wfsInfo.featureUrl"},write:{target:"wfsInfo.featureUrl",ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"featureUrl",void 0);c.__decorate([q.property({type:[La],json:{read:{source:"layerDefinition.fields"},write:{target:"layerDefinition.fields",ignoreOrigin:!0,
isRequired:!0},origins:{service:{read:{source:"fields"}}}}})],h.prototype,"fields",void 0);c.__decorate([P.writer("fields")],h.prototype,"writeFields",null);c.__decorate([q.property(R.fieldsIndex)],h.prototype,"fieldsIndex",void 0);c.__decorate([q.property({type:b,json:{origins:{service:{read:{source:"extent"}}}}})],h.prototype,"fullExtent",void 0);c.__decorate([q.property()],h.prototype,"geometryField",void 0);c.__decorate([q.property({type:Q.featureGeometryTypeKebabDictionary.apiValues,json:{read:{source:"layerDefinition.geometryType",
reader:Q.featureGeometryTypeKebabDictionary.read},write:{target:"layerDefinition.geometryType",writer:Q.featureGeometryTypeKebabDictionary.write,ignoreOrigin:!0},origins:{service:{read:Q.featureGeometryTypeKebabDictionary.read}}}})],h.prototype,"geometryType",void 0);c.__decorate([q.property({type:String})],h.prototype,"id",void 0);c.__decorate([q.property(Ka.labelsVisible)],h.prototype,"labelsVisible",void 0);c.__decorate([q.property({type:[Ja],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo",
reader:Ta.reader},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],h.prototype,"labelingInfo",void 0);c.__decorate([q.property(Ka.legendEnabled)],h.prototype,"legendEnabled",void 0);c.__decorate([q.property({type:["show","hide"]})],h.prototype,"listMode",void 0);c.__decorate([q.property({type:String})],h.prototype,"objectIdField",void 0);c.__decorate([q.property({type:["WFS"]})],h.prototype,"operationalLayerType",void 0);c.__decorate([q.property({json:{read:{source:"wfsInfo.maxFeatures"},
write:{target:"wfsInfo.maxFeatures",ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"maxFeatures",void 0);c.__decorate([q.property({readOnly:!0,json:{read:{source:"mode"},write:{target:"mode",ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"mode",void 0);c.__decorate([q.property({json:{read:{source:"wfsInfo.name"},write:{target:"wfsInfo.name",ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"name",void 0);c.__decorate([q.property({json:{read:{source:"wfsInfo.wfsNamespace"},write:{target:"wfsInfo.wfsNamespace",
ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"namespaceUri",void 0);c.__decorate([q.property(R.outFields)],h.prototype,"outFields",void 0);c.__decorate([q.property({readOnly:!0})],h.prototype,"parsedUrl",null);c.__decorate([q.property(Ka.popupEnabled)],h.prototype,"popupEnabled",void 0);c.__decorate([q.property({type:G,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],h.prototype,"popupTemplate",void 0);c.__decorate([q.property({types:ka.rendererTypes,json:{origins:{service:{read:{source:"drawingInfo.renderer"}}},
read:{source:"layerDefinition.drawingInfo.renderer"},write:{target:"layerDefinition.drawingInfo.renderer",ignoreOrigin:!0}}})],h.prototype,"renderer",null);c.__decorate([q.property({type:Boolean})],h.prototype,"screenSizePerspectiveEnabled",void 0);c.__decorate([q.property({readOnly:!0})],h.prototype,"source",void 0);c.__decorate([q.property({type:d,json:{read:{source:"layerDefinition.spatialReference"},write:{target:"layerDefinition.spatialReference",ignoreOrigin:!0,isRequired:!0},origins:{service:{read:{source:"extent.spatialReference"}}}}})],
h.prototype,"spatialReference",void 0);c.__decorate([q.property({readOnly:!0,json:{read:{source:"wfsInfo.supportedSpatialReferences"},write:{target:"wfsInfo.supportedSpatialReferences",ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"spatialReferences",void 0);c.__decorate([q.property({json:{read:{source:"wfsInfo.swapXY"},write:{target:"wfsInfo.swapXY",ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"swapXY",void 0);c.__decorate([q.property({json:{read:{source:"title"},write:{enabled:!0,ignoreOrigin:!0,
isRequired:!0},origins:{service:{read:{source:"name"}}}}})],h.prototype,"title",void 0);c.__decorate([q.property({json:{read:!1},readOnly:!0})],h.prototype,"type",void 0);c.__decorate([q.property({type:String,json:{write:!0}})],h.prototype,"url",void 0);c.__decorate([q.property({readOnly:!0,json:{read:{source:"wfsInfo.version"},write:{target:"wfsInfo.version",ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"version",void 0);c.__decorate([q.property({aliasOf:"source.wfsCapabilities"})],h.prototype,
"wfsCapabilities",void 0);return h=e=c.__decorate([H.subclass("esri.layers.WFSLayer")],h)});