// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
require({cache:{"esri/request":function(){define("require ./chunks/_rollupPluginBabelHelpers ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/maybe ./core/promiseUtils ./core/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),function(p,f,A,L,h,t,l,D,q,v,H,I,g){function u(ma,sa){return w.apply(this,arguments)}function w(){w=f._asyncToGenerator(function*(ma,sa){var wa=H.isDataProtocol(ma);const b=H.isBlobProtocol(ma);b||wa||(ma=H.normalize(ma));const r={url:ma,
requestOptions:{...q.unwrap(sa)}};let k=H.getInterceptor(ma);if(k){ma=yield R(k,r);if(null!=ma)return{data:ma,getHeader:Ga,requestOptions:r.requestOptions,url:r.url};k.after||k.error||(k=null)}ma=r.url;sa=r.requestOptions;if("image"===sa.responseType){if(l("host-webworker")||l("host-node"))throw B("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),r);}else if(wa)throw B("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+
sa.responseType),r);if("head"===sa.method){if(sa.body)throw B("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),r);if(wa||b)throw B("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),r);}yield P();if(ca)return ca.execute(ma,sa);const E=v.createAbortController();v.onAbort(sa,()=>E.abort());wa=yield d({controller:E,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:k,params:r,redoRequest:!1,
useIdentity:ka.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});k&&k.after&&k.after(wa);return wa});return w.apply(this,arguments)}function c(ma){(ma=H.getOrigin(ma))&&!u._corsServers.includes(ma)&&u._corsServers.push(ma)}function y(ma){ma=H.getOrigin(ma);return!ma||ma.endsWith(".arcgis.com")||u._corsServers.includes(ma)||H.isTrustedServer(ma)}function B(ma,sa,wa,b){let r="Error";const k={url:wa.url,requestOptions:wa.requestOptions,getHeader:Ga,ssl:!1};if(sa instanceof h)return sa.details?(sa.details=
D.clone(sa.details),sa.details.url=wa.url,sa.details.requestOptions=wa.requestOptions):sa.details=k,sa;if(sa){wa=b&&(Y=>b.headers.get(Y));const E=b&&b.status,V=sa.message;V&&(r=V);wa&&(k.getHeader=wa);k.httpStatus=(null!=sa.httpCode?sa.httpCode:sa.code)||E||0;k.subCode=sa.subcode;k.messageCode=sa.messageCode;k.messages="string"===typeof sa.details?[sa.details]:sa.details;k.raw=La in sa?sa[La]:sa}return v.isAbortError(sa)?v.createAbortError():new h(ma,r,k)}function P(){return J.apply(this,arguments)}
function J(){J=f._asyncToGenerator(function*(){l("host-webworker")?ca||(ca=yield new Promise(function(ma,sa){p(["./core/workers/request"],ma,sa)})):u._abortableFetch||(u._abortableFetch=t.fetch.bind(t))});return J.apply(this,arguments)}function S(){return U.apply(this,arguments)}function U(){U=f._asyncToGenerator(function*(){L.id||(yield new Promise(function(ma,sa){p(["./identity/IdentityManager"],function(wa){ma(Object.freeze({__proto__:null,"default":wa}))},sa)}))});return U.apply(this,arguments)}
function O(ma){return aa.apply(this,arguments)}function aa(){aa=f._asyncToGenerator(function*(ma){const sa=ma.params.url,wa=ma.params.requestOptions,b=ma.controller.signal,r=wa.body;let k=null,E=null,V=null;oa&&"HTMLFormElement"in t&&(r instanceof FormData?k=r:r instanceof HTMLFormElement&&(E=r,k=new FormData(E)));"string"===typeof r&&(V=r);ma.fetchOptions={cache:wa.cacheBust&&!u._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:wa.headers||{},method:"head"===wa.method?
"HEAD":"GET",mode:"cors",redirect:"follow",signal:b};if(k||V)ma.fetchOptions.body=k||V;"anonymous"===wa.authMode&&(ma.useIdentity=!1);ma.hasToken=!!(/token=/i.test(sa)||wa.query&&wa.query.token||k&&k.get&&k.get("token")||E&&E.elements.token);!ma.hasToken&&A.apiKey&&I.supportsApiKey(sa)&&(wa.query||(wa.query={}),wa.query.token=A.apiKey,ma.hasToken=!0);if(ma.useIdentity&&!ma.hasToken&&!ma.credentialToken&&!ba(sa)&&!v.isAborted(b)){let Y;"immediate"===wa.authMode?(yield S(),Y=yield L.id.getCredential(sa,
{signal:b}),ma.credential=Y):"no-prompt"===wa.authMode?(yield S(),Y=yield L.id.getCredential(sa,{prompt:!1,signal:b}).catch(()=>{}),ma.credential=Y):L.id&&(Y=L.id.findCredential(sa));Y&&(ma.credentialToken=Y.token,ma.useSSL=!!Y.ssl)}});return aa.apply(this,arguments)}function ba(ma){return Ca.some(sa=>sa.test(ma))}function n(ma){return C.apply(this,arguments)}function C(){C=f._asyncToGenerator(function*(ma){let sa=ma.params.url;const wa=ma.params.requestOptions,b=ma.fetchOptions,r=H.isBlobProtocol(sa)||
H.isDataProtocol(sa),k=wa.responseType||"json",E=r?0:null!=wa.timeout?wa.timeout:ka.timeout;var V=!1;if(!r){ma.useSSL&&(sa=H.toHTTPS(sa));wa.cacheBust&&"default"===b.cache&&(sa=H.addQueryParameter(sa,"request.preventCache",Date.now()));var Y={...wa.query};ma.credentialToken&&(Y.token=ma.credentialToken);V=H.objectToQuery(Y);l("esri-url-encodes-apostrophe")&&(V=V.replace(/'/g,"%27"));const ja=sa.length+1+V.length;V="delete"===wa.method||"post"===wa.method||"put"===wa.method||!!wa.body||ja>ka.maxUrlLength;
const na=wa.useProxy||!!H.getProxyRule(sa);if(na){const ra=H.getProxyUrl(sa);var K=ra.path;!V&&K.length+1+ja>ka.maxUrlLength&&(V=!0);ra.query&&(Y={...ra.query,...Y})}if("HEAD"===b.method&&(V||na)){if(V){if(ja>ka.maxUrlLength)throw B("request:invalid-parameters",Error("URL exceeds maximum length"),ma.params);throw B("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),ma.params);}if(na)throw B("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),
ma.params);}V?(b.method="delete"===wa.method?"DELETE":"put"===wa.method?"PUT":"POST",wa.body?sa=H.addQueryParameters(sa,Y):(b.body=H.objectToQuery(Y),b.headers["Content-Type"]="application/x-www-form-urlencoded")):sa=H.addQueryParameters(sa,Y);na&&(ma.useProxy=!0,sa=`${K}?${sa}`);Y.token&&oa&&b.body instanceof FormData&&(K=b.body,K.set?K.set("token",Y.token):K.append("token",Y.token));wa.hasOwnProperty("withCredentials")?ma.withCredentials=wa.withCredentials:H.hasSameOrigin(sa,H.appUrl)||(H.isTrustedServer(sa)?
ma.withCredentials=!0:L.id&&(Y=L.id.findServerInfo(sa))&&Y.webTierAuth&&(ma.withCredentials=!0));ma.withCredentials&&(b.credentials="include")}Y=0;let N=!1;0<E&&(Y=setTimeout(()=>{N=!0;ma.controller.abort()},E));let Z,ea;try{if("native-request-init"===wa.responseType)ea=b,ea.url=sa;else if("image"!==wa.responseType||"default"!==b.cache||"GET"!==b.method||V||G(wa.headers)||!r&&!ma.useProxy&&ka.proxyUrl&&!y(sa))if(Z=yield u._abortableFetch(sa,b),ma.useProxy||c(sa),"native"===wa.responseType)ea=Z;else{if("HEAD"!==
b.method)if(Z.ok){switch(k){case "array-buffer":ea=yield Z.arrayBuffer();break;case "blob":case "image":ea=yield Z.blob();break;default:ea=yield Z.text()}Y&&(clearTimeout(Y),Y=0);if("json"===k||"xml"===k||"document"===k)if(ea)switch(k){case "json":ea=JSON.parse(ea);break;case "xml":ea=m(ea,"application/xml");break;case "document":ea=m(ea,"text/html")}else ea=null;if(ea){if("array-buffer"===k||"blob"===k){const ja=Z.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(ja)&&750>=ea["blob"===
k?"size":"byteLength"])try{const na=yield(new Response(ea)).json();na.error&&(ea=na)}catch{}}"image"===k&&ea instanceof Blob&&(ea=yield X(URL.createObjectURL(ea),ma,!0))}}else ea=yield Z.text()}else ea=yield X(sa,ma)}catch(ja){if("AbortError"===ja.name){if(N)throw Error("Timeout exceeded");throw v.createAbortError("Request canceled");}if(!Z&&ja instanceof TypeError&&ka.proxyUrl&&!wa.body&&"delete"!==wa.method&&"head"!==wa.method&&"post"!==wa.method&&"put"!==wa.method&&!ma.useProxy&&!y(sa))ma.redoRequest=
!0,H.addProxyRule({proxyUrl:ka.proxyUrl,urlPrefix:H.getOrigin(sa)});else throw ja;}finally{Y&&clearTimeout(Y)}return[Z,ea]});return C.apply(this,arguments)}function R(ma,sa){return W.apply(this,arguments)}function W(){W=f._asyncToGenerator(function*(ma,sa){if(null!=ma.responseData)return ma.responseData;ma.headers&&(sa.requestOptions.headers={...sa.requestOptions.headers,...ma.headers});ma.query&&(sa.requestOptions.query={...sa.requestOptions.query,...ma.query});if(ma.before){let wa,b;try{b=yield ma.before(sa)}catch(r){wa=
B("request:interceptor",r,sa)}if(b instanceof Error||b instanceof h)wa=B("request:interceptor",b,sa);if(wa)throw ma.error&&ma.error(wa),wa;return b}});return W.apply(this,arguments)}function G(ma){if(ma)for(const sa of Object.getOwnPropertyNames(ma))if(ma[sa])return!0;return!1}function m(ma,sa){let wa;try{wa=(new DOMParser).parseFromString(ma,sa)}catch{}if(!wa||wa.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return wa}function d(ma){return z.apply(this,arguments)}
function z(){z=f._asyncToGenerator(function*(ma){var sa,wa;yield O(ma);let b;try{do[b,r]=yield n(ma);while(!(yield F(ma,b,r)))}catch(E){var r=B("request:server",E,ma.params,b);r.details.ssl=ma.useSSL;ma.interceptor&&ma.interceptor.error&&ma.interceptor.error(r);throw r;}const k=ma.params.url;!/\/sharing\/rest\/(accounts|portals)\/self/i.test(k)||ma.hasToken||ma.credentialToken||null==(sa=r)||null==(wa=sa.user)||!wa.username||H.isTrustedServer(k)||(sa=H.getOrigin(k,!0))&&ka.trustedServers.push(sa);
(sa=ma.credential)&&L.id&&(wa=(wa=L.id.findServerInfo(sa.server))&&wa.owningSystemUrl)&&(wa=wa.replace(/\/?$/,"/sharing"),(sa=L.id.findCredential(wa,sa.userId))&&-1===L.id._getIdenticalSvcIdx(wa,sa)&&sa.resources.unshift(wa));return{data:r,getHeader:b?E=>b.headers.get(E):Ga,requestOptions:ma.params.requestOptions,ssl:ma.useSSL,url:ma.params.url}});return z.apply(this,arguments)}function F(ma,sa,wa){return M.apply(this,arguments)}function M(){M=f._asyncToGenerator(function*(ma,sa,wa){if(ma.redoRequest)return ma.redoRequest=
!1;const b=ma.params.requestOptions;if(!sa||"native"===b.responseType||"native-request-init"===b.responseType)return!0;let r;if(!sa.ok)throw r=Error(`Unable to load ${sa.url} status: ${sa.status}`),r[La]=wa,r;null!=wa&&wa.error&&(r=wa.error);let k,E,V;r&&(k=Number(r.code),E=r.hasOwnProperty("subcode")?Number(r.subcode):null,V=(V=r.messageCode)&&V.toUpperCase());sa=b.authMode;if(403===k&&(4===E||r.message&&-1<r.message.toLowerCase().indexOf("ssl")&&-1===r.message.toLowerCase().indexOf("permission"))){if(!ma.useSSL)return ma.useSSL=
!0,!1}else if(!ma.hasToken&&ma.useIdentity&&("no-prompt"!==sa||498===k)&&-1!==va.indexOf(k)&&!ba(ma.params.url)&&(403!==k||-1===Da.indexOf(V)&&(null==E||2===E&&ma.credentialToken))){yield S();try{const Y=yield L.id.getCredential(ma.params.url,{error:B("request:server",r,ma.params),prompt:"no-prompt"!==sa,signal:ma.controller.signal,token:ma.credentialToken});ma.credential=Y;ma.credentialToken=Y.token;ma.useSSL=ma.useSSL||Y.ssl;return!1}catch(Y){if("no-prompt"===sa)return ma.credential=null,ma.credentialToken=
null,!1;r=Y}}if(r)throw r;return!0});return M.apply(this,arguments)}function X(ma,sa,wa=!1){const b=sa.controller.signal,r=new Image;r.crossOrigin=sa.withCredentials?"use-credentials":"anonymous";r.alt="";r.src=ma;return g.loadImageAsync(r,ma,wa,b)}let ca;const ka=A.request,oa="FormData"in t,va=[499,498,403,401],Da=["COM_0056","COM_0057","SB_0008"],Ca=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Ga=()=>null,La=Symbol();u._abortableFetch=null;u._corsServers=["https://server.arcgisonline.com",
"https://services.arcgisonline.com"];return u})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(p,f){const A=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];p.isApiKey=function(L){return L&&4<L.length&&L.startsWith("AAPK")};p.supportsApiKey=function(L){const h=f.getOrigin(L,!0);return h&&h.endsWith(".arcgis.com")&&!A.includes(h)&&!L.endsWith("/sharing/rest/generateToken")};Object.defineProperty(p,"__esModule",
{value:!0})})},"esri/support/requestUtils":function(){define(["exports","../core/has","../core/maybe","../core/promiseUtils"],function(p,f,A,L){function h(){try{return new DOMException("Aborted","AbortError")}catch{const t=Error();t.name="AbortError";return t}}p.loadImageAsync=function(t,l,D=!1,q){return new Promise((v,H)=>{if(L.isAborted(q))H(h());else{var I=()=>{w();H(Error(`Unable to load ${l}`))},g=()=>{const c=t;w();v(c)},u=()=>{if(t){var c=t;w();c.src="";H(h())}},w=()=>{f("esri-image-decode")||
(t.removeEventListener("error",I),t.removeEventListener("load",g));t=g=I=null;A.isSome(q)&&q.removeEventListener("abort",u);u=null;D&&URL.revokeObjectURL(l)};A.isSome(q)&&q.addEventListener("abort",u);f("esri-image-decode")?t.decode().then(g,I):(t.addEventListener("error",I),t.addEventListener("load",g))}})};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(p,f,A){function L(I){I||(I=A.getLocale());let g=I in q;
if(!g){const y=I.split("-");1<y.length&&y[0]in q&&(I=y[0],g=!0);g||(I="en")}const [u,w,c="#,##0.###"]=q[I];return{decimal:u,group:w,pattern:c}}function h(I,g,u){u=u||{};!0===u.places&&(u.places=0);Infinity===u.places&&(u.places=6);g=g.split(".");var w="string"===typeof u.places&&u.places.indexOf(","),c=u.places;w?c=u.places.substring(w+1):0<=c||(c=(g[1]||[]).length);0>u.round||(I=Number(I.toFixed(Number(c))));I=String(Math.abs(I)).split(".");const y=I[1]||"";g[1]||u.places?(w&&(u.places=u.places.substring(0,
w)),w=void 0!==u.places?u.places:g[1]&&g[1].lastIndexOf("0")+1,w>y.length&&(I[1]=y.padEnd(Number(w),"0")),c<y.length&&(I[1]=y.substr(0,Number(c)))):I[1]&&I.pop();c=g[0].replace(",","");w=c.indexOf("0");-1!==w&&(w=c.length-w,w>I[0].length&&(I[0]=I[0].padStart(w,"0")),-1===c.indexOf("#")&&(I[0]=I[0].substr(I[0].length-w)));c=g[0].lastIndexOf(",");let B,P;-1!==c&&(B=g[0].length-c-1,g=g[0].substr(0,c),c=g.lastIndexOf(","),-1!==c&&(P=g.length-c-1));g=[];for(c=I[0];c;)w=c.length-B,g.push(0<w?c.substr(w):
c),c=0<w?c.slice(0,w):"",P&&(B=P,P=void 0);I[0]=g.reverse().join(u.group||",");return I.join(u.decimal||".")}function t(I){I=I||{};var g=L(I.locale);const u=I.pattern||g.pattern,w=g.group,c=g.decimal;let y=1;if(-1!==u.indexOf("%"))y/=100;else if(-1!==u.indexOf("\u2030"))y/=1E3;else if(-1!==u.indexOf("\u00a4"))throw Error("currency notation not supported");g=u.split(";");1===g.length&&g.push("-"+g[0]);return{regexp:H(g,function(B){B="(?:"+f.escapeRegExpString(B,".")+")";return B.replace(v,function(P){const J=
{signed:!1,separator:I.strict?w:[w,""],fractional:I.fractional,decimal:c,exponent:!1};P=P.split(".");let S=I.places;1===P.length&&1!==y&&(P[1]="###");1===P.length||0===S?J.fractional=!1:(void 0===S&&(S=I.pattern?P[1].lastIndexOf("0")+1:Infinity),S&&null==I.fractional&&(J.fractional=!0),!I.places&&S<P[1].length&&(S+=","+P[1].length),J.places=S);P=P[0].split(",");1<P.length&&(J.groupSize=P.pop().length,1<P.length&&(J.groupSize2=P.pop().length));return"("+l(J)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),
group:w,decimal:c,factor:y}}function l(I){I=I||{};"places"in I||(I.places=Infinity);"string"!==typeof I.decimal&&(I.decimal=".");"fractional"in I&&!/^0/.test(String(I.places))||(I.fractional=[!0,!1]);"exponent"in I||(I.exponent=[!0,!1]);"eSigned"in I||(I.eSigned=[!0,!1]);var g=D(I);const u=H(I.fractional,function(c){let y="";c&&0!==I.places&&(y="\\"+I.decimal,y=Infinity===I.places?"(?:"+y+"\\d+)?":y+("\\d{"+I.places+"}"));return y},!0),w=H(I.exponent,function(c){return c?"([eE]"+D({signed:I.eSigned})+
")":""});g+=u;u&&(g="(?:(?:"+g+")|(?:"+u+"))");return g+w}function D(I){I=I||{};"signed"in I||(I.signed=[!0,!1]);"separator"in I?"groupSize"in I||(I.groupSize=3):I.separator="";const g=H(I.signed,function(w){return w?"[-+]":""},!0),u=H(I.separator,function(w){if(!w)return"(?:\\d+)";w=f.escapeRegExpString(w);" "===w?w="\\s":"\u00a0"===w&&(w="\\s\\xa0");const c=I.groupSize,y=I.groupSize2;return y?(w="(?:0|[1-9]\\d{0,"+(y-1)+"}(?:["+w+"]\\d{"+y+"})*["+w+"]\\d{"+c+"})",0<c-y?"(?:"+w+"|(?:0|[1-9]\\d{0,"+
(c-1)+"}))":w):"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+w+"]\\d{"+c+"})*)"},!0);return g+u}const q={ar:[".",","],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",",
"\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},v=/[#0,]*[#0](?:\.0*#*)?/,H=function(I,g,u){if(!(I instanceof Array))return g(I);const w=[];for(let c=0;c<I.length;c++)w.push(g(I[c]));I=w.join("|");return"("+(u?"?:":"")+I+")"};p._parseInfo=t;p.format=function(I,
g){g={...g};var u=L(g.locale);g.customs=u;var w=g.pattern||u.pattern;if(isNaN(I)||Infinity===Math.abs(I))return null;{g=g||{};u=g.customs.group;const y=g.customs.decimal;w=w.split(";");var c=w[0];w=w[0>I?1:0]||"-"+c;if(-1!==w.indexOf("%"))I*=100;else if(-1!==w.indexOf("\u2030"))I*=1E3;else{if(-1!==w.indexOf("\u00a4"))throw Error("currency notation not supported");if(-1!==w.indexOf("E"))throw Error("exponential notation not supported");}const B=v;c=c.match(B);if(!c)throw Error("unable to find a number expression in pattern: "+
w);!1===g.fractional&&(g.places=0);I=w.replace(B,h(I,c[0],{decimal:y,group:u,places:g.places,round:g.round}))}return I};p.getCustoms=L;p.parse=function(I,g){g=t(g);I=(new RegExp("^"+g.regexp+"$")).exec(I);if(!I)return NaN;let u=I[1];if(!I[1]){if(!I[2])return NaN;u=I[2];g.factor*=-1}u=u.replace(new RegExp("["+g.group+"\\s\\xa0]","g"),"").replace(g.decimal,".");return Number(u)*g.factor};p.regexp=function(I){return t(I).regexp};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/intl/locale":function(){define(["exports",
"../core/global"],function(p,f){function A(){var c,y;return null!=(c=null!=I?I:null==(y=f.navigator)?void 0:y.language)?c:"en"}function L(){void 0===H&&(H=A());return H}function h(c=L()){c=/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(c);return null==c?void 0:c[1].toLowerCase()}function t(){var c;const y=null!=(c=v)?c:A();H!==y&&(H=y,[...w].forEach(B=>{B.call(null,y)}),[...u].forEach(B=>{B.call(null,y)}))}var l,D,q;let v=void 0,H=void 0;const I=null!=(l=null==(D=f.esriConfig)?void 0:D.locale)?l:null==(q=
f.dojoConfig)?void 0:q.locale,g={he:!0,ar:!0},u=[],w=[];null==f.addEventListener?void 0:f.addEventListener("languagechange",t);p.beforeLocaleChange=function(c){w.push(c);return{remove(){u.splice(w.indexOf(c),1)}}};p.getDefaultLocale=A;p.getLanguage=h;p.getLocale=L;p.onLocaleChange=function(c){u.push(c);return{remove(){u.splice(u.indexOf(c),1)}}};p.prefersRTL=function(c=L()){c=h(c);return void 0!==c&&(g[c]||!1)};p.setLocale=function(c){v=c?c:void 0;t()};Object.defineProperty(p,"__esModule",{value:!0})})},
"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./projectionEllipsoid ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils".split(" "),function(p,f,A,L,h,t,l,D,q,v,H,I,
g,u,w,c,y,B,P,J,S,U,O){function aa(){return!!Fa&&u.isLoaded()}function ba(fa){t.isNone(Ia)&&(Ia=Promise.all([u.load(),(new Promise(function(ia,ha){p(["../chunks/geometryEngineBase"],ia,ha)})).then(function(ia){return ia.geometryEngineBase}),new Promise(function(ia,ha){p(["./geometryAdapters/hydrated"],ia,ha)})]));return Ia.then(([,ia,{hydratedAdapter:ha}])=>{l.throwIfAborted(fa);Ha=ha;Fa=ia.default;Fa._enableProjection(u.pe)})}function n(fa,ia,ha,la,xa=null){if(t.isNone(ha)||t.isNone(la))return ia;
if(R(ha,la,xa))return ia.map(Aa=>G(Aa,ha,la));if(t.isNone(xa)){const Aa=U.cacheKey(ha,la);void 0!==Ka[Aa]?xa=Ka[Aa]:(xa=C(ha,la,null),t.isNone(xa)&&(xa=new U),Ka[Aa]=xa)}if(t.isNone(Fa))throw new pa;return Fa._project(fa,ia,ha,la,xa)}function C(fa,ia,ha=null){if(t.isNone(Fa))throw new pa;if(t.isNone(fa)||t.isNone(ia))return null;fa=Fa._getTransformation(Ha,fa,ia,ha,null==ha?void 0:ha.spatialReference);return null!==fa?U.fromGE(fa):null}function R(fa,ia,ha){return ha?!1:O.equals(fa,ia)?!0:O.isValid(fa)&&
O.isValid(ia)&&!!ya(fa,ia,a)}function W(){W=A._asyncToGenerator(function*(fa,ia,ha,la){if(!aa())if(Array.isArray(fa))for(const {source:xa,dest:Aa,geographicTransformation:Ma}of fa){if(!R(xa,Aa,Ma))return ba(la)}else if(!R(fa,ia,ha))return ba(la)});return W.apply(this,arguments)}function G(fa,ia,ha){if(!fa)return fa;if("x"in fa){var la=new w;return m(fa,ia,la,ha)?la:null}return"xmin"in fa?(la=new I,M(fa,ia,la,ha)?la:null):"rings"in fa?(la=new c,F(fa,ia,la,ha)?la:null):"paths"in fa?(la=new y,z(fa,ia,
la,ha)?la:null):"points"in fa?(la=new g,d(fa,ia,la,ha)?la:null):null}function m(fa,ia,ha,la,xa=0){Ra[0]=fa.x;Ra[1]=fa.y;const Aa=fa.z;Ra[2]=void 0!==Aa?Aa:xa;if(!oa(Ra,ia,0,Ra,la,0,1))return!1;ha.x=Ra[0];ha.y=Ra[1];ha.spatialReference=la;void 0===Aa?(ha.z=void 0,ha.hasZ=!1):(ha.z=Ra[2],ha.hasZ=!0);void 0===fa.m?(ha.m=void 0,ha.hasM=!1):(ha.m=fa.m,ha.hasM=!0);return!0}function d(fa,ia,ha,la,xa=0){const {points:Aa,hasZ:Ma,hasM:Pa}=fa;fa=[];const $a=Aa.length,ab=[];for(var Va of Aa)ab.push(Va[0],Va[1],
Ma?Va[2]:xa);if(!oa(ab,ia,0,ab,la,0,$a))return!1;for(ia=0;ia<$a;++ia){xa=3*ia;Va=ab[xa];const hb=ab[xa+1];Ma&&Pa?fa.push([Va,hb,ab[xa+2],Aa[ia][3]]):Ma?fa.push([Va,hb,ab[xa+2]]):Pa?fa.push([Va,hb,Aa[ia][2]]):fa.push([Va,hb])}ha.points=fa;ha.spatialReference=la;ha.hasZ=Ma;ha.hasM=Pa;return!0}function z(fa,ia,ha,la,xa=0){const {paths:Aa,hasZ:Ma,hasM:Pa}=fa;fa=[];if(!va(Aa,Ma,Pa,ia,fa,la,xa))return!1;ha.paths=fa;ha.spatialReference=la;ha.hasZ=Ma;ha.hasM=Pa;return!0}function F(fa,ia,ha,la,xa=0){const {rings:Aa,
hasZ:Ma,hasM:Pa}=fa;fa=[];if(!va(Aa,Ma,Pa,ia,fa,la,xa))return!1;ha.rings=fa;ha.spatialReference=la;ha.hasZ=Ma;ha.hasM=Pa;return!0}function M(fa,ia,ha,la,xa=0){const {xmin:Aa,ymin:Ma,xmax:Pa,ymax:$a,hasZ:ab,hasM:Va}=fa;if(!X(Aa,Ma,ab?fa.zmin:xa,ia,Ra,la))return!1;ha.xmin=Ra[0];ha.ymin=Ra[1];ab&&(ha.zmin=Ra[2]);if(!X(Pa,$a,ab?fa.zmax:xa,ia,Ra,la))return!1;ha.xmax=Ra[0];ha.ymax=Ra[1];ab&&(ha.zmax=Ra[2]);Va&&(ha.mmin=fa.mmin,ha.mmax=fa.mmax);ha.spatialReference=la;return!0}function X(fa,ia,ha,la,xa,Aa){Ta[0]=
fa;Ta[1]=ia;Ta[2]=ha;return oa(Ta,la,0,xa,Aa,0,1)}function ca(fa,ia,ha,la){if(t.isNone(ia)||t.isNone(la)||2>fa.length)return!1;2===fa.length&&(Ta[0]=fa[0],Ta[1]=fa[1],Ta[2]=0,fa=Ta);return oa(fa,ia,0,ha,la,0,1)}function ka(fa,ia,ha){if(t.isNone(ia))return!1;ia=Ca(ia,gb);ia=cb[ia][6];if(t.isNone(ia))return!1;ia(fa,0,Ta,0);ha!==Ta&&(ha[0]=Ta[0],ha[1]=Ta[1],2<ha.length&&(ha[2]=Ta[2]));return!0}function oa(fa,ia,ha,la,xa,Aa,Ma=1){ia=ya(ia,xa,a);if(t.isNone(ia))return!1;if(ia===Ga){if(fa===la&&ha===Aa)return!0;
Ma=ha+3*Ma;for(let Pa=ha,$a=Aa;Pa<Ma;Pa++,$a++)la[$a]=fa[Pa];return!0}Ma=ha+3*Ma;for(let Pa=ha,$a=Aa;Pa<Ma;Pa+=3,$a+=3)ia(fa,Pa,la,$a);return!0}function va(fa,ia,ha,la,xa,Aa,Ma=0){const Pa=[];for(const $a of fa)for(const ab of $a)Pa.push(ab[0],ab[1],ia?ab[2]:Ma);if(!oa(Pa,la,0,Pa,Aa,0,Pa.length/3))return!1;la=0;xa.length=0;for(const $a of fa){fa=[];for(const ab of $a)ia&&ha?fa.push([Pa[la++],Pa[la++],Pa[la++],ab[3]]):ia?fa.push([Pa[la++],Pa[la++],Pa[la++]]):(ha?fa.push([Pa[la++],Pa[la++],ab[2]]):
fa.push([Pa[la++],Pa[la++]]),la++);xa.push(fa)}return!0}function Da(fa,ia,ha){const la=Math.sin(ia);ia=Math.cos(ia);const xa=Math.sin(fa);fa=Math.cos(fa);ha[0]=-la;ha[4]=-xa*ia;ha[8]=fa*ia;ha[12]=0;ha[1]=ia;ha[5]=-xa*la;ha[9]=fa*la;ha[13]=0;ha[2]=0;ha[6]=fa;ha[10]=xa;ha[14]=0;ha[3]=0;ha[7]=0;ha[11]=0;ha[15]=1;return ha}function Ca(fa,ia){if(ia.spatialReference===fa)return ia.spatialReferenceId;ia.spatialReference=fa;"metersPerUnit"in ia&&(ia.metersPerUnit=D.getMetersPerUnitForSR(fa,1));return fa.wkt===
B.SphericalECEFSpatialReference.wkt?ia.spatialReferenceId=1:O.isWGS84(fa)?ia.spatialReferenceId=2:O.isWebMercator(fa)?ia.spatialReferenceId=3:fa.wkt===B.WGS84ECEFSpatialReference.wkt?ia.spatialReferenceId=4:4490===fa.wkid?ia.spatialReferenceId=5:fa.wkt===B.SphericalPCPFMars.wkt?ia.spatialReferenceId=7:fa.wkt===B.SphericalPCPFMoon.wkt?ia.spatialReferenceId=9:O.isMars(fa)?ia.spatialReferenceId=8:O.isMoon(fa)?ia.spatialReferenceId=10:ia.spatialReferenceId=0}function Ga(fa,ia,ha,la){fa!==ha&&(ha[la++]=
fa[ia++],ha[la++]=fa[ia++],ha[la]=fa[ia])}function La(fa,ia,ha,la){ha[la++]=Ua*(fa[ia++]/J.earth.radius);ha[la++]=Ua*(Math.PI/2-2*Math.atan(Math.exp(-1*fa[ia++]/J.earth.radius)));ha[la]=fa[ia]}function ma(fa,ia,ha,la){La(fa,ia,ha,la);V(ha,la,ha,la)}function sa(fa,ia,ha,la){La(fa,ia,ha,la);na(ha,la,ha,la)}function wa(fa,ia,ha,la,xa){var Aa=.4999999*Math.PI;Aa=h.clamp(Za*fa[ia+1],-Aa,Aa);Aa=Math.sin(Aa);ha[la++]=Za*fa[ia]*xa.radius;ha[la++]=xa.halfSemiMajorAxis*Math.log((1+Aa)/(1-Aa));ha[la]=fa[ia+
2]}function b(fa,ia,ha,la){wa(fa,ia,ha,la,J.earth)}function r(fa,ia,ha,la,xa){xa+=fa[ia+2];const Aa=Za*fa[ia+1];fa=Za*fa[ia];ia=Math.cos(Aa);ha[la++]=Math.cos(fa)*ia*xa;ha[la++]=Math.sin(fa)*ia*xa;ha[la]=Math.sin(Aa)*xa}function k(fa,ia,ha,la){r(fa,ia,ha,la,J.moon.radius)}function E(fa,ia,ha,la){r(fa,ia,ha,la,J.mars.radius)}function V(fa,ia,ha,la){r(fa,ia,ha,la,J.earth.radius)}function Y(fa,ia,ha,la,xa){var Aa=fa[ia];const Ma=fa[ia+1];ia=fa[ia+2];fa=Math.sqrt(Aa*Aa+Ma*Ma+ia*ia);ia=h.asinClamped(ia/
(0===fa?1:fa));Aa=Math.atan2(Ma,Aa);ha[la++]=Ua*Aa;ha[la++]=Ua*ia;ha[la]=fa-xa}function K(fa,ia,ha,la){Y(fa,ia,ha,la,J.moon.radius)}function N(fa,ia,ha,la){Y(fa,ia,ha,la,J.mars.radius)}function Z(fa,ia,ha,la){Y(fa,ia,ha,la,J.earth.radius)}function ea(fa,ia,ha,la){Z(fa,ia,ha,la);b(ha,la,ha,la)}function ja(fa,ia,ha,la){Z(fa,ia,ha,la);na(ha,la,ha,la)}function na(fa,ia,ha,la){{var xa=J.earth;const Ma=Za*fa[ia];var Aa=Za*fa[ia+1];fa=fa[ia+2];ia=Math.sin(Aa);Aa=Math.cos(Aa);const Pa=xa.radius/Math.sqrt(1-
xa.eccentricitySquared*ia*ia);ha[la++]=(Pa+fa)*Aa*Math.cos(Ma);ha[la++]=(Pa+fa)*Aa*Math.sin(Ma);ha[la++]=(Pa*(1-xa.eccentricitySquared)+fa)*ia}}function ra(fa,ia,ha,la){var xa=S.earthEllipsoidConstants,Aa=fa[ia],Ma=fa[ia+1];fa=fa[ia+2];let Pa;ia=Math.abs(fa);var $a=Aa*Aa+Ma*Ma;var ab=Math.sqrt($a);var Va=$a+fa*fa;var hb=Math.sqrt(Va);Aa=Math.atan2(Ma,Aa);var lb=fa*fa/Va;Va=$a/Va;Ma=xa.a2/hb;$a=xa.a3-xa.a4/hb;.3<Va?(lb=ia/hb*(1+Va*(xa.a1+Ma+lb*$a)/hb),hb=Math.asin(lb),Ma=lb*lb,Va=Math.sqrt(1-Ma)):
(Va=ab/hb*(1-lb*(xa.a5-Ma-Va*$a)/hb),hb=Math.acos(Va),Ma=1-Va*Va,lb=Math.sqrt(Ma));Pa=1-J.earth.eccentricitySquared*Ma;Ma=J.earth.radius/Math.sqrt(Pa);xa=xa.a6*Ma;Ma=ab-Ma*Va;$a=ia-xa*lb;ia=Va*Ma+lb*$a;ab=Va*$a-lb*Ma;xa=ab/(xa/Pa+ia);hb+=xa;0>fa&&(hb=-hb);ha[la++]=Ua*Aa;ha[la++]=Ua*hb;ha[la]=ia+ab*xa/2}function ua(fa,ia,ha,la){ra(fa,ia,ha,la);V(ha,la,ha,la)}function za(fa,ia,ha,la){ra(fa,ia,ha,la);b(ha,la,ha,la)}function ya(fa,ia,ha=Oa()){return t.isNone(fa)||t.isNone(ia)?null:Ba(fa,ia,ha).projector}
function Ba(fa,ia,ha){if(t.isNone(fa)||t.isNone(ia)||ha.source.spatialReference===fa&&ha.dest.spatialReference===ia)return ha;const la=Ca(fa,ha.source),xa=Ca(ia,ha.dest);0===la&&0===xa?O.equals(fa,ia)?ha.projector=Ga:ha.projector=null:ha.projector=cb[la][xa];return ha}function Oa(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Ga}}let Fa=null,Ha=null,Ia=null,Ka={},pa=function(fa){function ia(){return fa.call(this,
"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}A._inheritsLoose(ia,fa);return ia}(L);const cb={[2]:{[5]:null,[8]:null,[10]:null,[11]:Ga,[6]:Ga,[1]:V,[7]:null,[9]:null,[0]:null,[3]:b,[2]:Ga,[4]:na},[5]:{[5]:Ga,[8]:null,[10]:null,[11]:Ga,[6]:Ga,[1]:V,[7]:null,[9]:null,[0]:null,[3]:null,[2]:null,[4]:na},[8]:{[5]:null,[8]:Ga,[10]:null,[11]:Ga,[6]:null,[1]:null,[7]:E,[9]:null,[0]:null,[3]:null,[2]:null,[4]:null},[10]:{[5]:null,[8]:null,[10]:Ga,[11]:Ga,[6]:null,
[1]:null,[7]:null,[9]:k,[0]:null,[3]:null,[2]:null,[4]:null},[3]:{[5]:null,[8]:null,[10]:null,[11]:La,[6]:La,[1]:ma,[7]:null,[9]:null,[0]:null,[3]:Ga,[2]:La,[4]:sa},[4]:{[5]:ra,[8]:null,[10]:null,[11]:ra,[6]:ra,[1]:ua,[7]:null,[9]:null,[0]:null,[3]:za,[2]:ra,[4]:Ga},[1]:{[5]:Z,[8]:null,[10]:null,[11]:Z,[6]:Z,[1]:Ga,[7]:null,[9]:null,[0]:null,[3]:ea,[2]:Z,[4]:ja},[7]:{[5]:null,[8]:N,[10]:null,[11]:N,[6]:null,[1]:null,[7]:Ga,[9]:null,[0]:null,[3]:null,[2]:null,[4]:null},[9]:{[5]:null,[8]:null,[10]:K,
[11]:K,[6]:null,[1]:null,[7]:null,[9]:Ga,[0]:null,[3]:null,[2]:null,[4]:null},[0]:{[5]:null,[8]:null,[10]:null,[11]:null,[6]:null,[1]:null,[7]:null,[9]:null,[0]:Ga,[3]:null,[2]:null,[4]:null},[11]:{[5]:Ga,[8]:Ga,[10]:Ga,[11]:Ga,[6]:Ga,[1]:V,[7]:E,[9]:k,[0]:null,[3]:b,[2]:Ga,[4]:na},[6]:{[5]:null,[8]:null,[10]:null,[11]:Ga,[6]:Ga,[1]:V,[7]:null,[9]:null,[0]:null,[3]:null,[2]:Ga,[4]:na}},gb={spatialReference:null,spatialReferenceId:0},fb={spatialReference:null,spatialReferenceId:0},a=Oa(),ib=Oa(),Za=
h.deg2rad(1),Ua=h.rad2deg(1),Ta=H.create(),jb=H.create(),tb=H.create(),Ra=H.create(),Bb=H.create();f.canProjectToWGS84ComparableLonLat=function(fa){if(t.isNone(fa))return!1;fa=Ca(fa,gb);return!!cb[fa][6]};f.canProjectWithoutEngine=R;f.computeLatLonToENURotation=Da;f.computeLinearTransformation=function(fa,ia,ha,la){if(t.isNone(fa)||t.isNone(la))return!1;var xa=Ca(fa,gb),Aa=Ca(la,fb);if(xa===Aa&&1!==Aa&&7!==Aa&&9!==Aa&&(0!==xa||O.equals(fa,la)))return q.identity(ha),q.translate(ha,ha,ia),!0;if(1===
Aa||7===Aa||9===Aa){la=fa=0;xa=cb[xa][11];Aa=cb[11][Aa];if(t.isNone(xa)||t.isNone(Aa))return!1;xa(ia,0,jb,0);Aa(jb,0,tb,0);fa=Za*jb[0];la=Za*jb[1];Da(la,fa,ha);ha[12]=tb[0];ha[13]=tb[1];ha[14]=tb[2];return!0}if(3===Aa&&(2===xa||1===xa)){Aa=cb[xa][11];if(t.isNone(Aa))return!1;Aa(ia,0,jb,0);ia=Za*jb[1];b(jb,0,tb,0);q.identity(ha);q.translate(ha,ha,tb);ia=1/Math.cos(ia);q.scale(ha,ha,[ia,ia,1]);return!0}return!1};f.getProjectorName=function(fa,ia){switch(ya(fa,ia,a)){case Ga:return"copy3";case V:return"wgs84ToSphericalECEF";
case b:return"wgs84ToWebMercator";case na:return"wgs84ToWGS84ECEF";case La:return"webMercatorToWGS84";case ma:return"webMercatorToSphericalECEF";case sa:return"webMercatorToWGS84ECEF";case ra:return"wgs84ECEFToWGS84";case ua:return"wgs84ECEFToSphericalECEF";case za:return"wgs84ECEFToWebMercator";case Z:return"sphericalECEFToWGS84";case ea:return"sphericalECEFToWebMercator";case N:return"sphericalMarsPCPFToMars2000";case K:return"sphericalMoonPCPFToMoon2000";case ja:return"sphericalECEFToWGS84ECEF";
case E:return"mars2000ToSphericalPCPF";case k:return"moon2000ToSphericalPCPF";default:return null}};f.getTransformation=C;f.getTransformations=function(fa,ia,ha=null){if(t.isNone(Fa))throw new pa;fa=Fa._getTransformationBySuitability(Ha,fa,ia,ha,null==ha?void 0:ha.spatialReference);if(null!==fa){ia=[];for(const la of fa)ia.push(U.fromGE(la));return ia}return[]};f.initializeProjection=function(fa,ia,ha,la){return W.apply(this,arguments)};f.isLoaded=aa;f.isSupported=function(){return!0};f.load=ba;f.localLinearScaleFactors=
function(fa,ia,ha,la){if(t.isNone(ia)||t.isNone(la))return!1;const xa=Ca(ia,gb);var Aa=Ca(la,fb);if(xa===Aa&&0!==xa||O.equals(ia,la))return ha[0]=1,ha[1]=1,ha[2]=1,!0;if(1===xa){ia=v.length(fa);fa=ia/Math.sqrt(fa[0]*fa[0]+fa[1]*fa[1]);ia/=J.earth.radius;if(3===Aa)return ha[0]=fa*ia,ha[1]=fa*ia,ha[2]=1,!0;if(2===Aa||5===Aa)return Aa=180/(J.earth.radius*Math.PI),ha[0]=Aa*fa*ia,ha[1]=Aa*ia,ha[2]=1,!0}return!1};f.lonLatToSphericalPCPF=function(fa,ia,ha,la,xa=0){la+=xa;xa=Math.cos(ha);fa[0]=Math.cos(ia)*
xa*la;fa[1]=Math.sin(ia)*xa*la;fa[2]=Math.sin(ha)*la};f.lonLatToWebMercatorComparable=wa;f.project=function(fa,ia,ha=null){return Array.isArray(fa)?0===fa.length?[]:n(Ha,fa,fa[0].spatialReference,ia,ha):n(Ha,[fa],fa.spatialReference,ia,ha)[0]};f.projectBoundingRect=function(fa,ia,ha,la){if(null==fa)return!1;if(O.equals(ia,la))return P.set(ha,fa),!0;Ta[0]=fa[0];Ta[1]=fa[1];Ta[2]=0;if(!oa(Ta,ia,0,Ta,la,0,1))return!1;ha[0]=Ta[0];ha[1]=Ta[1];Ta[0]=fa[2];Ta[1]=fa[3];Ta[2]=0;if(!oa(Ta,ia,0,Ta,la,0,1))return!1;
ha[2]=Ta[0];ha[3]=Ta[1];return!0};f.projectBoundingSphere=function(fa,ia,ha,la){if(t.isNone(ia)||t.isNone(la))return!1;ia=Ba(ia,la,ib);if(ia.projector===Ga)return ha[0]=fa[0],ha[1]=fa[1],ha[2]=fa[2],ha[3]=fa[3],!0;if(t.isNone(ia.projector))return!1;const {source:xa,dest:Aa}=ia;if(3===Aa.spatialReferenceId){ia=cb[xa.spatialReferenceId][2];if(t.isNone(ia))return!1;ia(fa,0,jb,0);ia=Math.abs(Za*jb[1])+Math.asin(fa[3]/(J.earth.radius+fa[2]));b(jb,0,ha,0);ha[3]=ia>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(ia)*
fa[3];return!0}ia.projector(fa,0,ha,0);ha[3]=fa[3]*xa.metersPerUnit/Aa.metersPerUnit;return!0};f.projectBuffer=oa;f.projectDirection=function(fa,ia,ha,la,xa){v.copy(Ra,fa);v.add(Bb,fa,ia);ca(Ra,ha,Ra,xa);ca(Bb,ha,Bb,xa);v.subtract(la,Bb,Ra);v.normalize(la,la)};f.projectExtent=function(fa,ia,ha=ia.spatialReference,la=0){return t.isNone(ha)?!1:M(fa,fa.spatialReference,ia,ha,la)};f.projectMany=n;f.projectMultipoint=function(fa,ia,ha=ia.spatialReference,la=0){return t.isNone(ha)?!1:d(fa,fa.spatialReference,
ia,ha,la)};f.projectPoint=function(fa,ia,ha=ia.spatialReference,la=0){return t.isNone(ha)?!1:m(fa,fa.spatialReference,ia,ha,la)};f.projectPointToVector=function(fa,ia,ha,la=0){Ra[0]=fa.x;Ra[1]=fa.y;const xa=fa.z;Ra[2]=void 0!==xa?xa:la;return oa(Ra,fa.spatialReference,0,ia,ha,0,1)};f.projectPointToWGS84ComparableLonLat=function(fa,ia){Ra[0]=fa.x;Ra[1]=fa.y;const ha=fa.z;Ra[2]=void 0!==ha?ha:0;return ka(Ra,fa.spatialReference,ia)};f.projectPolygon=function(fa,ia,ha=ia.spatialReference,la=0){return t.isNone(ha)?
!1:F(fa,fa.spatialReference,ia,ha,la)};f.projectPolyline=function(fa,ia,ha=ia.spatialReference,la=0){return t.isNone(ha)?!1:z(fa,fa.spatialReference,ia,ha,la)};f.projectVectorToDehydratedPoint=function(fa,ia,ha){return oa(fa,ia,0,Ra,ha.spatialReference,0,1)?(ha.x=Ra[0],ha.y=Ra[1],ha.z=Ra[2],ha):null};f.projectVectorToPoint=function(fa,ia,ha){if(t.isNone(ia)||t.isNone(ha))return null;const la=new w({spatialReference:ha});return oa(fa,ia,0,Ra,ha,0,1)?(la.x=Ra[0],la.y=Ra[1],la.z=Ra[2],la):null};f.projectVectorToVector=
ca;f.projectVectorToWGS84ComparableLonLat=function(fa,ia,ha){return ka(fa,ia,ha)};f.projectXYZToVector=X;f.sphericalPCPFtoLonLatElevation=Y;f.unload=function(){Ia=Ha=Fa=null;Ka={}};Object.defineProperty(f,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(p,f,A,L,h,
t,l,D){function q(m){if(m=R[m])return m;throw Error("unknown measure");}function v(m){return C[m].baseUnit}function H(m,d=null){d=d||q(m);return C[d].baseUnit===m}function I(m,d,z){if(d===z)return m;const F=q(d);if(F!==q(z))throw Error("incompatible units");m=H(d,F)?m:m*C[F].units[d].inBaseUnits;return H(z,F)?m:m/C[F].units[z].inBaseUnits}function g(m,d){return 3E3>I(m,d,"meters")?"meters":"kilometers"}function u(m,d){return 1E5>I(m,d,"meters")?"meters":"kilometers"}function w(m,d){return 1E3>I(m,
d,"feet")?"feet":"miles"}function c(m,d){return 1E5>I(m,d,"feet")?"feet":"miles"}function y(m){return n.fromJSON(m.toLowerCase())||null}function B(m,d=t.earth.metersPerDegree){return P(m,!0)||d}function P(m,d=!1){let z,F,M=null;null!=m&&("object"===typeof m?(z=m.wkid,F=m.wkt):"number"===typeof m?z=m:"string"===typeof m&&(F=m));if(z){if(l.isWKIDFromMars(z))return t.mars.metersPerDegree;if(l.isWKIDFromMoon(z))return t.moon.metersPerDegree;M=O.values[O[z]];!M&&d&&ba.has(z)&&(M=S)}else F&&(-1!==F.search(/^PROJCS/i)?
(m=U.exec(F))&&m[1]&&(M=parseFloat(m[1].split(",")[1])):-1!==F.search(/^GEOCCS/i)&&(m=aa.exec(F))&&m[1]&&(M=parseFloat(m[1].split(",")[1])));return M}function J(m){let d,z,F=null;null!=m&&("object"===typeof m?(d=m.wkid,z=m.wkt):"number"===typeof m?d=m:"string"===typeof m&&(z=m));d?F=O.units[O[d]]:z&&-1!==z.search(/^PROJCS/i)&&(m=U.exec(z))&&m[1]&&(F=(m=/[\\"\\']{1}([^\\"\\']+)/.exec(m[1]))&&m[1]);return F?y(F):null}const S=t.earth.radius*Math.PI/200,U=/UNIT\[([^\]]+)\]\]$/i,O=D,aa=/UNIT\[([^\]]+)\]/i,
ba=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),n=A.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",
"50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});f={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};D={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*
.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(m=>m*m)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const C={length:{baseUnit:"meters",units:f},area:{baseUnit:"square-meters",units:D},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},
"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},R=function(){const m={};for(const d in C)for(const z in C[d].units)m[z]=
d;return m}(),W={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},G={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",
esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};f=A.strict()(W);D=A.strict()(G);A=A.strict()({...W,...G});p.areaUnitsJSONMap=f;p.baseUnitForMeasure=v;p.baseUnitForUnit=function(m){return v(q(m))};p.convertUnit=I;p.getDefaultUnitSystem=function(m){if(!m)return null;switch(J(m)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};p.getMetersPerUnit=P;p.getMetersPerUnitForSR=B;p.getMetersPerVerticalUnitForSR=function(m){if(m&&"object"===typeof m&&!l.isEarth(m))return 1;m=B(m);return 1E5<m?1:m};p.getUnitString=J;p.getVerticalUnitStringForSR=function(m){const d=B(m),z=m instanceof h?L.getReferenceEllipsoid(m).metersPerDegree:1E5;return d>=z?"meters":J(m)};p.inchesPerMeter=39.37;p.isBaseUnit=H;p.isMeasurementSystem=function(m){return"imperial"===
m||"metric"===m};p.lengthToDegrees=function(m,d,z){return I(m,d,"meters")/(z*Math.PI/180)};p.lengthUnitsJSONMap=D;p.measureForUnit=q;p.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");p.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");p.preferredImperialAreaUnit=function(m,d){return 1E6>I(m,d,"square-feet")?"square-feet":
"square-miles"};p.preferredImperialLengthUnit=w;p.preferredImperialVerticalLengthUnit=c;p.preferredLengthUnit=function(m,d,z){switch(z){case "metric":return g(m,d);case "imperial":return w(m,d);default:return z}};p.preferredMetricAreaUnit=function(m,d){return 3E6>I(m,d,"square-meters")?"square-meters":"square-kilometers"};p.preferredMetricLengthUnit=g;p.preferredMetricVerticalLengthUnit=u;p.preferredVerticalLengthUnit=function(m,d,z){switch(z){case "metric":return u(m,d);case "imperial":return c(m,
d);default:return z}};p.unitFromRESTJSON=y;p.unitToRESTJSON=function(m){return n.toJSON(m)||null};p.unitsJSONMap=A;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],function(p,f,A,L){function h(v){return new f({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${v.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const t=h(A.earth),l=h(A.mars),D=h(A.moon),q=new f({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${A.earth.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});p.SphericalECEFSpatialReference=t;p.SphericalPCPFMars=l;p.SphericalPCPFMoon=D;p.WGS84ECEFSpatialReference=q;p.createSphericalPCPF=h;p.getReferenceEllipsoid=function(v){return v&&(L.isMars(v)||v===l)?A.mars:v&&(L.isMoon(v)||v===D)?A.moon:A.earth};p.getReferenceEllipsoidFromWKID=function(v){return L.isWKIDFromMars(v)?A.mars:L.isWKIDFromMoon(v)?A.moon:A.earth};p.getSphericalPCPF=function(v){return v&&(L.isMars(v)||v===l)?l:v&&(L.isMoon(v)||v===D)?D:t};p.getSphericalPCPFForEllipsoid=function(v){return v&&
v===A.mars?l:v&&v===A.moon?D:t};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(p,f,A){function L(b,r){b[0]=r[0];b[1]=r[1];b[2]=r[2];b[3]=r[3];b[4]=r[4];b[5]=r[5];b[6]=r[6];b[7]=r[7];b[8]=r[8];b[9]=r[9];b[10]=r[10];b[11]=r[11];b[12]=r[12];b[13]=r[13];b[14]=r[14];b[15]=r[15];return b}function h(b,r,k,E,V,Y,K,N,Z,ea,ja,na,ra,ua,za,ya,Ba){b[0]=r;b[1]=k;b[2]=E;b[3]=V;b[4]=Y;b[5]=K;b[6]=N;b[7]=Z;b[8]=ea;b[9]=ja;b[10]=
na;b[11]=ra;b[12]=ua;b[13]=za;b[14]=ya;b[15]=Ba;return b}function t(b){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function l(b,r){if(b===r){const k=r[1],E=r[2],V=r[3],Y=r[6],K=r[7],N=r[11];b[1]=r[4];b[2]=r[8];b[3]=r[12];b[4]=k;b[6]=r[9];b[7]=r[13];b[8]=E;b[9]=Y;b[11]=r[14];b[12]=V;b[13]=K;b[14]=N}else b[0]=r[0],b[1]=r[4],b[2]=r[8],b[3]=r[12],b[4]=r[1],b[5]=r[5],b[6]=r[9],b[7]=r[13],b[8]=r[2],b[9]=r[6],b[10]=r[10],
b[11]=r[14],b[12]=r[3],b[13]=r[7],b[14]=r[11],b[15]=r[15];return b}function D(b,r){const k=r[0],E=r[1],V=r[2],Y=r[3],K=r[4],N=r[5],Z=r[6],ea=r[7],ja=r[8],na=r[9],ra=r[10],ua=r[11],za=r[12],ya=r[13],Ba=r[14];r=r[15];const Oa=k*N-E*K,Fa=k*Z-V*K,Ha=k*ea-Y*K,Ia=E*Z-V*N,Ka=E*ea-Y*N,pa=V*ea-Y*Z,cb=ja*ya-na*za,gb=ja*Ba-ra*za,fb=ja*r-ua*za,a=na*Ba-ra*ya,ib=na*r-ua*ya,Za=ra*r-ua*Ba;let Ua=Oa*Za-Fa*ib+Ha*a+Ia*fb-Ka*gb+pa*cb;if(!Ua)return null;Ua=1/Ua;b[0]=(N*Za-Z*ib+ea*a)*Ua;b[1]=(V*ib-E*Za-Y*a)*Ua;b[2]=(ya*
pa-Ba*Ka+r*Ia)*Ua;b[3]=(ra*Ka-na*pa-ua*Ia)*Ua;b[4]=(Z*fb-K*Za-ea*gb)*Ua;b[5]=(k*Za-V*fb+Y*gb)*Ua;b[6]=(Ba*Ha-za*pa-r*Fa)*Ua;b[7]=(ja*pa-ra*Ha+ua*Fa)*Ua;b[8]=(K*ib-N*fb+ea*cb)*Ua;b[9]=(E*fb-k*ib-Y*cb)*Ua;b[10]=(za*Ka-ya*Ha+r*Oa)*Ua;b[11]=(na*Ha-ja*Ka-ua*Oa)*Ua;b[12]=(N*gb-K*a-Z*cb)*Ua;b[13]=(k*a-E*gb+V*cb)*Ua;b[14]=(ya*Fa-za*Ia-Ba*Oa)*Ua;b[15]=(ja*Ia-na*Fa+ra*Oa)*Ua;return b}function q(b,r){const k=r[0],E=r[1],V=r[2],Y=r[3],K=r[4],N=r[5],Z=r[6],ea=r[7],ja=r[8],na=r[9],ra=r[10],ua=r[11],za=r[12],ya=
r[13],Ba=r[14];r=r[15];b[0]=N*(ra*r-ua*Ba)-na*(Z*r-ea*Ba)+ya*(Z*ua-ea*ra);b[1]=-(E*(ra*r-ua*Ba)-na*(V*r-Y*Ba)+ya*(V*ua-Y*ra));b[2]=E*(Z*r-ea*Ba)-N*(V*r-Y*Ba)+ya*(V*ea-Y*Z);b[3]=-(E*(Z*ua-ea*ra)-N*(V*ua-Y*ra)+na*(V*ea-Y*Z));b[4]=-(K*(ra*r-ua*Ba)-ja*(Z*r-ea*Ba)+za*(Z*ua-ea*ra));b[5]=k*(ra*r-ua*Ba)-ja*(V*r-Y*Ba)+za*(V*ua-Y*ra);b[6]=-(k*(Z*r-ea*Ba)-K*(V*r-Y*Ba)+za*(V*ea-Y*Z));b[7]=k*(Z*ua-ea*ra)-K*(V*ua-Y*ra)+ja*(V*ea-Y*Z);b[8]=K*(na*r-ua*ya)-ja*(N*r-ea*ya)+za*(N*ua-ea*na);b[9]=-(k*(na*r-ua*ya)-ja*(E*
r-Y*ya)+za*(E*ua-Y*na));b[10]=k*(N*r-ea*ya)-K*(E*r-Y*ya)+za*(E*ea-Y*N);b[11]=-(k*(N*ua-ea*na)-K*(E*ua-Y*na)+ja*(E*ea-Y*N));b[12]=-(K*(na*Ba-ra*ya)-ja*(N*Ba-Z*ya)+za*(N*ra-Z*na));b[13]=k*(na*Ba-ra*ya)-ja*(E*Ba-V*ya)+za*(E*ra-V*na);b[14]=-(k*(N*Ba-Z*ya)-K*(E*Ba-V*ya)+za*(E*Z-V*N));b[15]=k*(N*ra-Z*na)-K*(E*ra-V*na)+ja*(E*Z-V*N);return b}function v(b){const r=b[0],k=b[1],E=b[2],V=b[3],Y=b[4],K=b[5],N=b[6],Z=b[7],ea=b[8],ja=b[9],na=b[10],ra=b[11],ua=b[12],za=b[13],ya=b[14];b=b[15];return(r*K-k*Y)*(na*
b-ra*ya)-(r*N-E*Y)*(ja*b-ra*za)+(r*Z-V*Y)*(ja*ya-na*za)+(k*N-E*K)*(ea*b-ra*ua)-(k*Z-V*K)*(ea*ya-na*ua)+(E*Z-V*N)*(ea*za-ja*ua)}function H(b,r,k){const E=r[0],V=r[1],Y=r[2],K=r[3],N=r[4],Z=r[5],ea=r[6],ja=r[7],na=r[8],ra=r[9],ua=r[10],za=r[11],ya=r[12],Ba=r[13],Oa=r[14];r=r[15];let Fa=k[0],Ha=k[1],Ia=k[2],Ka=k[3];b[0]=Fa*E+Ha*N+Ia*na+Ka*ya;b[1]=Fa*V+Ha*Z+Ia*ra+Ka*Ba;b[2]=Fa*Y+Ha*ea+Ia*ua+Ka*Oa;b[3]=Fa*K+Ha*ja+Ia*za+Ka*r;Fa=k[4];Ha=k[5];Ia=k[6];Ka=k[7];b[4]=Fa*E+Ha*N+Ia*na+Ka*ya;b[5]=Fa*V+Ha*Z+Ia*ra+
Ka*Ba;b[6]=Fa*Y+Ha*ea+Ia*ua+Ka*Oa;b[7]=Fa*K+Ha*ja+Ia*za+Ka*r;Fa=k[8];Ha=k[9];Ia=k[10];Ka=k[11];b[8]=Fa*E+Ha*N+Ia*na+Ka*ya;b[9]=Fa*V+Ha*Z+Ia*ra+Ka*Ba;b[10]=Fa*Y+Ha*ea+Ia*ua+Ka*Oa;b[11]=Fa*K+Ha*ja+Ia*za+Ka*r;Fa=k[12];Ha=k[13];Ia=k[14];Ka=k[15];b[12]=Fa*E+Ha*N+Ia*na+Ka*ya;b[13]=Fa*V+Ha*Z+Ia*ra+Ka*Ba;b[14]=Fa*Y+Ha*ea+Ia*ua+Ka*Oa;b[15]=Fa*K+Ha*ja+Ia*za+Ka*r;return b}function I(b,r,k){const E=k[0],V=k[1];k=k[2];let Y=void 0,K=void 0,N=void 0,Z=void 0,ea=void 0,ja=void 0,na=void 0,ra=void 0,ua=void 0,za=
void 0,ya=void 0,Ba=void 0;r===b?(b[12]=r[0]*E+r[4]*V+r[8]*k+r[12],b[13]=r[1]*E+r[5]*V+r[9]*k+r[13],b[14]=r[2]*E+r[6]*V+r[10]*k+r[14],b[15]=r[3]*E+r[7]*V+r[11]*k+r[15]):(Y=r[0],K=r[1],N=r[2],Z=r[3],ea=r[4],ja=r[5],na=r[6],ra=r[7],ua=r[8],za=r[9],ya=r[10],Ba=r[11],b[0]=Y,b[1]=K,b[2]=N,b[3]=Z,b[4]=ea,b[5]=ja,b[6]=na,b[7]=ra,b[8]=ua,b[9]=za,b[10]=ya,b[11]=Ba,b[12]=Y*E+ea*V+ua*k+r[12],b[13]=K*E+ja*V+za*k+r[13],b[14]=N*E+na*V+ya*k+r[14],b[15]=Z*E+ra*V+Ba*k+r[15]);return b}function g(b,r,k){const E=k[0],
V=k[1];k=k[2];b[0]=r[0]*E;b[1]=r[1]*E;b[2]=r[2]*E;b[3]=r[3]*E;b[4]=r[4]*V;b[5]=r[5]*V;b[6]=r[6]*V;b[7]=r[7]*V;b[8]=r[8]*k;b[9]=r[9]*k;b[10]=r[10]*k;b[11]=r[11]*k;b[12]=r[12];b[13]=r[13];b[14]=r[14];b[15]=r[15];return b}function u(b,r,k,E){let V=E[0],Y=E[1];E=E[2];let K=Math.sqrt(V*V+Y*Y+E*E);var N=void 0,Z=void 0;let ea=void 0,ja=void 0,na=void 0,ra=void 0,ua=void 0,za=void 0,ya=void 0,Ba=void 0,Oa=void 0,Fa=void 0,Ha=void 0,Ia=void 0,Ka=void 0,pa=void 0,cb=void 0,gb=void 0,fb=void 0,a=void 0,ib=
void 0,Za=void 0;Z=N=void 0;if(K<A.EPSILON)return null;K=1/K;V*=K;Y*=K;E*=K;N=Math.sin(k);Z=Math.cos(k);ea=1-Z;ja=r[0];na=r[1];ra=r[2];ua=r[3];za=r[4];ya=r[5];Ba=r[6];Oa=r[7];Fa=r[8];Ha=r[9];Ia=r[10];Ka=r[11];pa=V*V*ea+Z;cb=Y*V*ea+E*N;gb=E*V*ea-Y*N;fb=V*Y*ea-E*N;a=Y*Y*ea+Z;ib=E*Y*ea+V*N;Za=V*E*ea+Y*N;N=Y*E*ea-V*N;Z=E*E*ea+Z;b[0]=ja*pa+za*cb+Fa*gb;b[1]=na*pa+ya*cb+Ha*gb;b[2]=ra*pa+Ba*cb+Ia*gb;b[3]=ua*pa+Oa*cb+Ka*gb;b[4]=ja*fb+za*a+Fa*ib;b[5]=na*fb+ya*a+Ha*ib;b[6]=ra*fb+Ba*a+Ia*ib;b[7]=ua*fb+Oa*a+Ka*
ib;b[8]=ja*Za+za*N+Fa*Z;b[9]=na*Za+ya*N+Ha*Z;b[10]=ra*Za+Ba*N+Ia*Z;b[11]=ua*Za+Oa*N+Ka*Z;r!==b&&(b[12]=r[12],b[13]=r[13],b[14]=r[14],b[15]=r[15]);return b}function w(b,r,k){const E=Math.sin(k);k=Math.cos(k);const V=r[4],Y=r[5],K=r[6],N=r[7],Z=r[8],ea=r[9],ja=r[10],na=r[11];r!==b&&(b[0]=r[0],b[1]=r[1],b[2]=r[2],b[3]=r[3],b[12]=r[12],b[13]=r[13],b[14]=r[14],b[15]=r[15]);b[4]=V*k+Z*E;b[5]=Y*k+ea*E;b[6]=K*k+ja*E;b[7]=N*k+na*E;b[8]=Z*k-V*E;b[9]=ea*k-Y*E;b[10]=ja*k-K*E;b[11]=na*k-N*E;return b}function c(b,
r,k){const E=Math.sin(k);k=Math.cos(k);const V=r[0],Y=r[1],K=r[2],N=r[3],Z=r[8],ea=r[9],ja=r[10],na=r[11];r!==b&&(b[4]=r[4],b[5]=r[5],b[6]=r[6],b[7]=r[7],b[12]=r[12],b[13]=r[13],b[14]=r[14],b[15]=r[15]);b[0]=V*k-Z*E;b[1]=Y*k-ea*E;b[2]=K*k-ja*E;b[3]=N*k-na*E;b[8]=V*E+Z*k;b[9]=Y*E+ea*k;b[10]=K*E+ja*k;b[11]=N*E+na*k;return b}function y(b,r,k){const E=Math.sin(k);k=Math.cos(k);const V=r[0],Y=r[1],K=r[2],N=r[3],Z=r[4],ea=r[5],ja=r[6],na=r[7];r!==b&&(b[8]=r[8],b[9]=r[9],b[10]=r[10],b[11]=r[11],b[12]=r[12],
b[13]=r[13],b[14]=r[14],b[15]=r[15]);b[0]=V*k+Z*E;b[1]=Y*k+ea*E;b[2]=K*k+ja*E;b[3]=N*k+na*E;b[4]=Z*k-V*E;b[5]=ea*k-Y*E;b[6]=ja*k-K*E;b[7]=na*k-N*E;return b}function B(b,r){b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=r[0];b[13]=r[1];b[14]=r[2];b[15]=1;return b}function P(b,r){b[0]=r[0];b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=r[1];b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=r[2];b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function J(b,r,k){let E=k[0],V=k[1];k=k[2];
let Y=Math.sqrt(E*E+V*V+k*k),K=void 0,N=void 0,Z=void 0;if(Y<A.EPSILON)return null;Y=1/Y;E*=Y;V*=Y;k*=Y;K=Math.sin(r);N=Math.cos(r);Z=1-N;b[0]=E*E*Z+N;b[1]=V*E*Z+k*K;b[2]=k*E*Z-V*K;b[3]=0;b[4]=E*V*Z-k*K;b[5]=V*V*Z+N;b[6]=k*V*Z+E*K;b[7]=0;b[8]=E*k*Z+V*K;b[9]=V*k*Z-E*K;b[10]=k*k*Z+N;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function S(b,r){const k=Math.sin(r);r=Math.cos(r);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=r;b[6]=k;b[7]=0;b[8]=0;b[9]=-k;b[10]=r;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}
function U(b,r){const k=Math.sin(r);r=Math.cos(r);b[0]=r;b[1]=0;b[2]=-k;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=k;b[9]=0;b[10]=r;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function O(b,r){const k=Math.sin(r);r=Math.cos(r);b[0]=r;b[1]=k;b[2]=0;b[3]=0;b[4]=-k;b[5]=r;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function aa(b,r,k){var E=r[0],V=r[1],Y=r[2],K=r[3],N=E+E,Z=V+V;const ea=Y+Y;r=E*N;const ja=E*Z;E*=ea;const na=V*Z;V*=ea;Y*=ea;N*=K;Z*=K;K*=ea;b[0]=
1-(na+Y);b[1]=ja+K;b[2]=E-Z;b[3]=0;b[4]=ja-K;b[5]=1-(r+Y);b[6]=V+N;b[7]=0;b[8]=E+Z;b[9]=V-N;b[10]=1-(r+na);b[11]=0;b[12]=k[0];b[13]=k[1];b[14]=k[2];b[15]=1;return b}function ba(b,r){const k=wa,E=-r[0],V=-r[1],Y=-r[2],K=r[3],N=r[4],Z=r[5],ea=r[6],ja=r[7],na=E*E+V*V+Y*Y+K*K;0<na?(k[0]=2*(N*K+ja*E+Z*Y-ea*V)/na,k[1]=2*(Z*K+ja*V+ea*E-N*Y)/na,k[2]=2*(ea*K+ja*Y+N*V-Z*E)/na):(k[0]=2*(N*K+ja*E+Z*Y-ea*V),k[1]=2*(Z*K+ja*V+ea*E-N*Y),k[2]=2*(ea*K+ja*Y+N*V-Z*E));aa(b,r,k);return b}function n(b,r){b[0]=r[12];b[1]=
r[13];b[2]=r[14];return b}function C(b,r){const k=r[0],E=r[1],V=r[2],Y=r[4],K=r[5],N=r[6],Z=r[8],ea=r[9];r=r[10];b[0]=Math.sqrt(k*k+E*E+V*V);b[1]=Math.sqrt(Y*Y+K*K+N*N);b[2]=Math.sqrt(Z*Z+ea*ea+r*r);return b}function R(b,r){const k=r[0]+r[5]+r[10];let E=0;0<k?(E=2*Math.sqrt(k+1),b[3]=.25*E,b[0]=(r[6]-r[9])/E,b[1]=(r[8]-r[2])/E,b[2]=(r[1]-r[4])/E):r[0]>r[5]&&r[0]>r[10]?(E=2*Math.sqrt(1+r[0]-r[5]-r[10]),b[3]=(r[6]-r[9])/E,b[0]=.25*E,b[1]=(r[1]+r[4])/E,b[2]=(r[8]+r[2])/E):r[5]>r[10]?(E=2*Math.sqrt(1+
r[5]-r[0]-r[10]),b[3]=(r[8]-r[2])/E,b[0]=(r[1]+r[4])/E,b[1]=.25*E,b[2]=(r[6]+r[9])/E):(E=2*Math.sqrt(1+r[10]-r[0]-r[5]),b[3]=(r[1]-r[4])/E,b[0]=(r[8]+r[2])/E,b[1]=(r[6]+r[9])/E,b[2]=.25*E);return b}function W(b,r,k,E){var V=r[0],Y=r[1],K=r[2],N=r[3],Z=V+V,ea=Y+Y,ja=K+K;r=V*Z;const na=V*ea;V*=ja;const ra=Y*ea;Y*=ja;K*=ja;Z*=N;ea*=N;N*=ja;ja=E[0];const ua=E[1];E=E[2];b[0]=(1-(ra+K))*ja;b[1]=(na+N)*ja;b[2]=(V-ea)*ja;b[3]=0;b[4]=(na-N)*ua;b[5]=(1-(r+K))*ua;b[6]=(Y+Z)*ua;b[7]=0;b[8]=(V+ea)*E;b[9]=(Y-Z)*
E;b[10]=(1-(r+ra))*E;b[11]=0;b[12]=k[0];b[13]=k[1];b[14]=k[2];b[15]=1;return b}function G(b,r,k,E,V){var Y=r[0],K=r[1],N=r[2],Z=r[3],ea=Y+Y,ja=K+K,na=N+N;r=Y*ea;var ra=Y*ja,ua=Y*na;Y=K*ja;K*=na;var za=N*na;N=Z*ea;ja*=Z;const ya=Z*na;var Ba=E[0],Oa=E[1];na=E[2];E=V[0];Z=V[1];V=V[2];ea=(1-(Y+za))*Ba;const Fa=(ra+ya)*Ba;Ba*=ua-ja;ra=(ra-ya)*Oa;za=(1-(r+za))*Oa;Oa*=K+N;ua=(ua+ja)*na;K=(K-N)*na;r=(1-(r+Y))*na;b[0]=ea;b[1]=Fa;b[2]=Ba;b[3]=0;b[4]=ra;b[5]=za;b[6]=Oa;b[7]=0;b[8]=ua;b[9]=K;b[10]=r;b[11]=0;
b[12]=k[0]+E-(ea*E+ra*Z+ua*V);b[13]=k[1]+Z-(Fa*E+za*Z+K*V);b[14]=k[2]+V-(Ba*E+Oa*Z+r*V);b[15]=1;return b}function m(b,r){var k=r[0],E=r[1],V=r[2];r=r[3];var Y=k+k,K=E+E;const N=V+V;k*=Y;const Z=E*Y;E*=K;const ea=V*Y,ja=V*K;V*=N;Y*=r;K*=r;r*=N;b[0]=1-E-V;b[1]=Z+r;b[2]=ea-K;b[3]=0;b[4]=Z-r;b[5]=1-k-V;b[6]=ja+Y;b[7]=0;b[8]=ea+K;b[9]=ja-Y;b[10]=1-k-E;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b}function d(b,r,k,E,V,Y,K){const N=1/(k-r),Z=1/(V-E),ea=1/(Y-K);b[0]=2*Y*N;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=
2*Y*Z;b[6]=0;b[7]=0;b[8]=(k+r)*N;b[9]=(V+E)*Z;b[10]=(K+Y)*ea;b[11]=-1;b[12]=0;b[13]=0;b[14]=K*Y*2*ea;b[15]=0;return b}function z(b,r,k,E,V){r=1/Math.tan(r/2);let Y=void 0;b[0]=r/k;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=r;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[11]=-1;b[12]=0;b[13]=0;b[15]=0;null!=V&&Infinity!==V?(Y=1/(E-V),b[10]=(V+E)*Y,b[14]=2*V*E*Y):(b[10]=-1,b[14]=-2*E);return b}function F(b,r,k,E){const V=Math.tan(r.upDegrees*Math.PI/180),Y=Math.tan(r.downDegrees*Math.PI/180),K=Math.tan(r.leftDegrees*Math.PI/
180);r=Math.tan(r.rightDegrees*Math.PI/180);const N=2/(K+r),Z=2/(V+Y);b[0]=N;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=Z;b[6]=0;b[7]=0;b[8]=-((K-r)*N*.5);b[9]=(V-Y)*Z*.5;b[10]=E/(k-E);b[11]=-1;b[12]=0;b[13]=0;b[14]=E*k/(k-E);b[15]=0;return b}function M(b,r,k,E,V,Y,K){const N=1/(r-k),Z=1/(E-V),ea=1/(Y-K);b[0]=-2*N;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=-2*Z;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=2*ea;b[11]=0;b[12]=(r+k)*N;b[13]=(V+E)*Z;b[14]=(K+Y)*ea;b[15]=1;return b}function X(b,r,k,E){let V=void 0,Y=void 0;var K=void 0,
N=void 0;let Z=void 0,ea=void 0;var ja=void 0,na=void 0;let ra=void 0,ua=void 0;const za=r[0],ya=r[1];r=r[2];K=E[0];N=E[1];E=E[2];ja=k[0];na=k[1];k=k[2];if(Math.abs(za-ja)<A.EPSILON&&Math.abs(ya-na)<A.EPSILON&&Math.abs(r-k)<A.EPSILON)return t(b);ja=za-ja;na=ya-na;ra=r-k;ua=1/Math.sqrt(ja*ja+na*na+ra*ra);ja*=ua;na*=ua;ra*=ua;V=N*ra-E*na;Y=E*ja-K*ra;K=K*na-N*ja;(ua=Math.sqrt(V*V+Y*Y+K*K))?(ua=1/ua,V*=ua,Y*=ua,K*=ua):K=Y=V=0;N=na*K-ra*Y;Z=ra*V-ja*K;ea=ja*Y-na*V;(ua=Math.sqrt(N*N+Z*Z+ea*ea))?(ua=1/ua,
N*=ua,Z*=ua,ea*=ua):ea=Z=N=0;b[0]=V;b[1]=N;b[2]=ja;b[3]=0;b[4]=Y;b[5]=Z;b[6]=na;b[7]=0;b[8]=K;b[9]=ea;b[10]=ra;b[11]=0;b[12]=-(V*za+Y*ya+K*r);b[13]=-(N*za+Z*ya+ea*r);b[14]=-(ja*za+na*ya+ra*r);b[15]=1;return b}function ca(b,r,k,E){const V=r[0],Y=r[1];r=r[2];var K=E[0];const N=E[1];var Z=E[2];E=V-k[0];let ea=Y-k[1];k=r-k[2];let ja=E*E+ea*ea+k*k;0<ja&&(ja=1/Math.sqrt(ja),E*=ja,ea*=ja,k*=ja);let na=N*k-Z*ea;Z=Z*E-K*k;K=K*ea-N*E;ja=na*na+Z*Z+K*K;0<ja&&(ja=1/Math.sqrt(ja),na*=ja,Z*=ja,K*=ja);b[0]=na;b[1]=
Z;b[2]=K;b[3]=0;b[4]=ea*K-k*Z;b[5]=k*na-E*K;b[6]=E*Z-ea*na;b[7]=0;b[8]=E;b[9]=ea;b[10]=k;b[11]=0;b[12]=V;b[13]=Y;b[14]=r;b[15]=1;return b}function ka(b){return"mat4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+", "+b[9]+", "+b[10]+", "+b[11]+", "+b[12]+", "+b[13]+", "+b[14]+", "+b[15]+")"}function oa(b){return Math.sqrt(b[0]**2+b[1]**2+b[2]**2+b[3]**2+b[4]**2+b[5]**2+b[6]**2+b[7]**2+b[8]**2+b[9]**2+b[10]**2+b[11]**2+b[12]**2+b[13]**2+b[14]**2+b[15]**2)}function va(b,
r,k){b[0]=r[0]+k[0];b[1]=r[1]+k[1];b[2]=r[2]+k[2];b[3]=r[3]+k[3];b[4]=r[4]+k[4];b[5]=r[5]+k[5];b[6]=r[6]+k[6];b[7]=r[7]+k[7];b[8]=r[8]+k[8];b[9]=r[9]+k[9];b[10]=r[10]+k[10];b[11]=r[11]+k[11];b[12]=r[12]+k[12];b[13]=r[13]+k[13];b[14]=r[14]+k[14];b[15]=r[15]+k[15];return b}function Da(b,r,k){b[0]=r[0]-k[0];b[1]=r[1]-k[1];b[2]=r[2]-k[2];b[3]=r[3]-k[3];b[4]=r[4]-k[4];b[5]=r[5]-k[5];b[6]=r[6]-k[6];b[7]=r[7]-k[7];b[8]=r[8]-k[8];b[9]=r[9]-k[9];b[10]=r[10]-k[10];b[11]=r[11]-k[11];b[12]=r[12]-k[12];b[13]=
r[13]-k[13];b[14]=r[14]-k[14];b[15]=r[15]-k[15];return b}function Ca(b,r,k){b[0]=r[0]*k;b[1]=r[1]*k;b[2]=r[2]*k;b[3]=r[3]*k;b[4]=r[4]*k;b[5]=r[5]*k;b[6]=r[6]*k;b[7]=r[7]*k;b[8]=r[8]*k;b[9]=r[9]*k;b[10]=r[10]*k;b[11]=r[11]*k;b[12]=r[12]*k;b[13]=r[13]*k;b[14]=r[14]*k;b[15]=r[15]*k;return b}function Ga(b,r,k,E){b[0]=r[0]+k[0]*E;b[1]=r[1]+k[1]*E;b[2]=r[2]+k[2]*E;b[3]=r[3]+k[3]*E;b[4]=r[4]+k[4]*E;b[5]=r[5]+k[5]*E;b[6]=r[6]+k[6]*E;b[7]=r[7]+k[7]*E;b[8]=r[8]+k[8]*E;b[9]=r[9]+k[9]*E;b[10]=r[10]+k[10]*E;b[11]=
r[11]+k[11]*E;b[12]=r[12]+k[12]*E;b[13]=r[13]+k[13]*E;b[14]=r[14]+k[14]*E;b[15]=r[15]+k[15]*E;return b}function La(b,r){return b[0]===r[0]&&b[1]===r[1]&&b[2]===r[2]&&b[3]===r[3]&&b[4]===r[4]&&b[5]===r[5]&&b[6]===r[6]&&b[7]===r[7]&&b[8]===r[8]&&b[9]===r[9]&&b[10]===r[10]&&b[11]===r[11]&&b[12]===r[12]&&b[13]===r[13]&&b[14]===r[14]&&b[15]===r[15]}function ma(b,r){const k=b[0],E=b[1],V=b[2],Y=b[3],K=b[4],N=b[5],Z=b[6],ea=b[7],ja=b[8],na=b[9],ra=b[10],ua=b[11],za=b[12],ya=b[13],Ba=b[14];b=b[15];const Oa=
r[0],Fa=r[1],Ha=r[2],Ia=r[3],Ka=r[4],pa=r[5],cb=r[6],gb=r[7],fb=r[8],a=r[9],ib=r[10],Za=r[11],Ua=r[12],Ta=r[13],jb=r[14];r=r[15];return Math.abs(k-Oa)<=A.EPSILON*Math.max(1,Math.abs(k),Math.abs(Oa))&&Math.abs(E-Fa)<=A.EPSILON*Math.max(1,Math.abs(E),Math.abs(Fa))&&Math.abs(V-Ha)<=A.EPSILON*Math.max(1,Math.abs(V),Math.abs(Ha))&&Math.abs(Y-Ia)<=A.EPSILON*Math.max(1,Math.abs(Y),Math.abs(Ia))&&Math.abs(K-Ka)<=A.EPSILON*Math.max(1,Math.abs(K),Math.abs(Ka))&&Math.abs(N-pa)<=A.EPSILON*Math.max(1,Math.abs(N),
Math.abs(pa))&&Math.abs(Z-cb)<=A.EPSILON*Math.max(1,Math.abs(Z),Math.abs(cb))&&Math.abs(ea-gb)<=A.EPSILON*Math.max(1,Math.abs(ea),Math.abs(gb))&&Math.abs(ja-fb)<=A.EPSILON*Math.max(1,Math.abs(ja),Math.abs(fb))&&Math.abs(na-a)<=A.EPSILON*Math.max(1,Math.abs(na),Math.abs(a))&&Math.abs(ra-ib)<=A.EPSILON*Math.max(1,Math.abs(ra),Math.abs(ib))&&Math.abs(ua-Za)<=A.EPSILON*Math.max(1,Math.abs(ua),Math.abs(Za))&&Math.abs(za-Ua)<=A.EPSILON*Math.max(1,Math.abs(za),Math.abs(Ua))&&Math.abs(ya-Ta)<=A.EPSILON*Math.max(1,
Math.abs(ya),Math.abs(Ta))&&Math.abs(Ba-jb)<=A.EPSILON*Math.max(1,Math.abs(Ba),Math.abs(jb))&&Math.abs(b-r)<=A.EPSILON*Math.max(1,Math.abs(b),Math.abs(r))}function sa(b){const r=A.EPSILON,k=b[0],E=b[1],V=b[2],Y=b[4],K=b[5],N=b[6],Z=b[8],ea=b[9];b=b[10];return Math.abs(1-(k*k+Y*Y+Z*Z))<=r&&Math.abs(1-(E*E+K*K+ea*ea))<=r&&Math.abs(1-(V*V+N*N+b*b))<=r}const wa=f.create();f=Object.freeze({__proto__:null,copy:L,set:h,identity:t,transpose:l,invert:D,adjoint:q,determinant:v,multiply:H,translate:I,scale:g,
rotate:u,rotateX:w,rotateY:c,rotateZ:y,fromTranslation:B,fromScaling:P,fromRotation:J,fromXRotation:S,fromYRotation:U,fromZRotation:O,fromRotationTranslation:aa,fromQuat2:ba,getTranslation:n,getScaling:C,getRotation:R,fromRotationTranslationScale:W,fromRotationTranslationScaleOrigin:G,fromQuat:m,frustum:d,perspective:z,perspectiveFromFieldOfView:F,ortho:M,lookAt:X,targetTo:ca,str:ka,frob:oa,add:va,subtract:Da,multiplyScalar:Ca,multiplyScalarAndAdd:Ga,exactEquals:La,equals:ma,isOrthoNormal:sa,mul:H,
sub:Da});p.add=va;p.adjoint=q;p.copy=L;p.determinant=v;p.equals=ma;p.exactEquals=La;p.frob=oa;p.fromQuat=m;p.fromQuat2=ba;p.fromRotation=J;p.fromRotationTranslation=aa;p.fromRotationTranslationScale=W;p.fromRotationTranslationScaleOrigin=G;p.fromScaling=P;p.fromTranslation=B;p.fromXRotation=S;p.fromYRotation=U;p.fromZRotation=O;p.frustum=d;p.getRotation=R;p.getScaling=C;p.getTranslation=n;p.identity=t;p.invert=D;p.isOrthoNormal=sa;p.lookAt=X;p.mat4=f;p.mul=H;p.multiply=H;p.multiplyScalar=Ca;p.multiplyScalarAndAdd=
Ga;p.ortho=M;p.perspective=z;p.perspectiveFromFieldOfView=F;p.rotate=u;p.rotateX=w;p.rotateY=c;p.rotateZ=y;p.scale=g;p.set=h;p.str=ka;p.sub=Da;p.subtract=Da;p.targetTo=ca;p.translate=I;p.transpose=l})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(p,f,A,L,h){function t(){return!!f._pe}function l(){return!!h("esri-wasm")}function D(){return u?u:u=(new Promise(function(c,y){p(["./pe-wasm"],c,y)})).then(function(c){return c.peWasm}).then(({default:c})=>
c({locateFile:y=>L.getAssetUrl(`esri/geometry/support/${y}`)})).then(c=>{q(c)})}function q(c){function y(J,S,U){J[S]=U(J[S])}f._pe=c;f.PeDefs.init();f.PeGTlistExtended.init();f.PeNotationMgrs.init();f.PeNotationUtm.init();f.PePCSInfo.init();f.PeGCSExtent=function(J){function S(){return J.apply(this,arguments)||this}A._inheritsLoose(S,J);S.prototype.destroy=function(){f._pe.destroy(this)};return S}(f._pe.PeGCSExtent);c=[f._pe.PeDatum,f._pe.PeGeogcs,f._pe.PeGeogtran,f._pe.PeObject,f._pe.PeParameter,
f._pe.PePrimem,f._pe.PeProjcs,f._pe.PeSpheroid,f._pe.PeUnit];for(var B of c)y(B.prototype,"getName",J=>function(){return J.call(this,Array(f.PeDefs.PE_NAME_MAX))});for(const J of[f._pe.PeGeogtran,f._pe.PeProjcs])y(J.prototype,"getParameters",S=>function(){const U=Array(f.PeDefs.PE_PARM_MAX);let O=S.call(this);for(let aa=0;aa<U.length;aa++){const ba=f._pe.getValue(O,"*");U[aa]=ba?f._pe.wrapPointer(ba,f._pe.PeParameter):null;O+=Int32Array.BYTES_PER_ELEMENT}return U});y(f._pe.PeHorizon.prototype,"getCoord",
J=>function(){const S=this.getSize();if(!S)return null;const U=[],O=J.call(this);g(U,S,O);return U});y(f._pe.PeGTlistExtendedEntry.prototype,"getEntries",J=>{const S=f._pe._pe_getPeGTlistExtendedGTsSize();return function(){let U=null;var O=J.call(this);if(!f._pe.compare(O,f._pe.NULL)){U=[O];const aa=this.getSteps();if(1<aa){O=f._pe.getPointer(O);for(let ba=1;ba<aa;ba++)U.push(f._pe.wrapPointer(O+S*ba,f._pe.PeGTlistExtendedGTs))}}return U}});const P=f._pe._pe_getPeHorizonSize();B=J=>function(){let S=
this._cache;S||(this._cache=S=new Map);if(S.has(J))return S.get(J);let U=null;var O=J.call(this);if(!f._pe.compare(O,f._pe.NULL)){U=[O];const aa=O.getNump();if(1<aa){O=f._pe.getPointer(O);for(let ba=1;ba<aa;ba++)U.push(f._pe.wrapPointer(O+P*ba,f._pe.PeHorizon))}}S.set(J,U);return U};y(f._pe.PeProjcs.prototype,"horizonGcsGenerate",B);y(f._pe.PeProjcs.prototype,"horizonPcsGenerate",B);f._pe.PeObject.prototype.toString=function(J=f.PeDefs.PE_STR_OPTS_NONE){f._pe.ensureCache.prepare();const S=f._pe.getPointer(this),
U=f._pe.ensureInt8(Array(f.PeDefs.PE_BUFFER_MAX));return f._pe.UTF8ToString(f._pe._pe_object_to_string_ext(S,J,U))}}function v(c){if(c){var y=f._pe.getClass(c);y&&(y=f._pe.getCache(y))&&(c=f._pe.getPointer(c))&&delete y[c]}}function H(c,y){const B=[];y=Array(y);for(let P=0;P<c;P++)B.push(f._pe.ensureInt8(y));return B}function I(c){let y;Array.isArray(c[0])?(y=[],c.forEach(B=>{y.push(B[0],B[1])})):y=c;return y}function g(c,y,B,P=!1){if(P)for(P=0;P<2*y;P++)c[P]=f._pe.getValue(B+P*Float64Array.BYTES_PER_ELEMENT,
"double");else{P=0===c.length;for(let J=0;J<y;J++)P&&(c[J]=Array(2)),c[J][0]=f._pe.getValue(B,"double"),c[J][1]=f._pe.getValue(B+Float64Array.BYTES_PER_ELEMENT,"double"),B+=2*Float64Array.BYTES_PER_ELEMENT}}let u;f._pe=null;f.PeCSTransformations=void 0;(function(c){function y(J,S,U){f._pe.ensureCache.prepare();var O=I(U);const aa=U===O;O=f._pe.ensureFloat64(O);(J=f._pe._pe_geog_to_proj(f._pe.getPointer(J),S,O))&&g(U,S,O,aa);return J}function B(J,S,U){return P(J,S,U,0)}function P(J,S,U,O){f._pe.ensureCache.prepare();
var aa=I(U);const ba=U===aa;aa=f._pe.ensureFloat64(aa);(J=f._pe._pe_proj_to_geog_center(f._pe.getPointer(J),S,aa,O))&&g(U,S,aa,ba);return J}c.geogToProj=y;c.projGeog=function(J,S,U,O){switch(O){case f.PeDefs.PE_TRANSFORM_P_TO_G:return B(J,S,U);case f.PeDefs.PE_TRANSFORM_G_TO_P:return y(J,S,U)}return 0};c.projToGeog=B;c.projToGeogCenter=P})(f.PeCSTransformations||(f.PeCSTransformations={}));f.PeDefs=void 0;(function(c){c.init=function(){c.PE_BUFFER_MAX=f._pe.PeDefs.prototype.PE_BUFFER_MAX;c.PE_NAME_MAX=
f._pe.PeDefs.prototype.PE_NAME_MAX;c.PE_MGRS_MAX=f._pe.PeDefs.prototype.PE_MGRS_MAX;c.PE_USNG_MAX=f._pe.PeDefs.prototype.PE_USNG_MAX;c.PE_DD_MAX=f._pe.PeDefs.prototype.PE_DD_MAX;c.PE_DDM_MAX=f._pe.PeDefs.prototype.PE_DDM_MAX;c.PE_DMS_MAX=f._pe.PeDefs.prototype.PE_DMS_MAX;c.PE_UTM_MAX=f._pe.PeDefs.prototype.PE_UTM_MAX;c.PE_PARM_MAX=f._pe.PeDefs.prototype.PE_PARM_MAX;c.PE_TYPE_NONE=f._pe.PeDefs.prototype.PE_TYPE_NONE;c.PE_TYPE_GEOGCS=f._pe.PeDefs.prototype.PE_TYPE_GEOGCS;c.PE_TYPE_PROJCS=f._pe.PeDefs.prototype.PE_TYPE_PROJCS;
c.PE_TYPE_GEOGTRAN=f._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;c.PE_TYPE_COORDSYS=f._pe.PeDefs.prototype.PE_TYPE_COORDSYS;c.PE_TYPE_UNIT=f._pe.PeDefs.prototype.PE_TYPE_UNIT;c.PE_TYPE_LINUNIT=f._pe.PeDefs.prototype.PE_TYPE_LINUNIT;c.PE_STR_OPTS_NONE=f._pe.PeDefs.prototype.PE_STR_OPTS_NONE;c.PE_STR_AUTH_NONE=f._pe.PeDefs.prototype.PE_STR_AUTH_NONE;c.PE_STR_AUTH_TOP=f._pe.PeDefs.prototype.PE_STR_AUTH_TOP;c.PE_STR_NAME_CANON=f._pe.PeDefs.prototype.PE_STR_NAME_CANON;c.PE_PARM_X0=f._pe.PeDefs.prototype.PE_PARM_X0;
c.PE_PARM_ND=f._pe.PeDefs.prototype.PE_PARM_ND;c.PE_TRANSFORM_1_TO_2=f._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;c.PE_TRANSFORM_2_TO_1=f._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;c.PE_TRANSFORM_P_TO_G=f._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;c.PE_TRANSFORM_G_TO_P=f._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;c.PE_HORIZON_RECT=f._pe.PeDefs.prototype.PE_HORIZON_RECT;c.PE_HORIZON_POLY=f._pe.PeDefs.prototype.PE_HORIZON_POLY;c.PE_HORIZON_LINE=f._pe.PeDefs.prototype.PE_HORIZON_LINE;c.PE_HORIZON_DELTA=f._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(f.PeDefs||
(f.PeDefs={}));f.PeFactory=void 0;(function(c){function y(S,U){let O=null,aa=B[S];aa||(aa={},B[S]=aa);aa.hasOwnProperty(String(U))?O=aa[U]:(S=f._pe.PeFactory.prototype.factoryByType(S,U),f._pe.compare(S,f._pe.NULL)||(O=S,aa[U]=O));return O=J(O)}const B={},P={},J=S=>{if(S){const U=S.getType();switch(U){case f.PeDefs.PE_TYPE_GEOGCS:S=f._pe.castObject(S,f._pe.PeGeogcs);break;case f.PeDefs.PE_TYPE_PROJCS:S=f._pe.castObject(S,f._pe.PeProjcs);break;case f.PeDefs.PE_TYPE_GEOGTRAN:S=f._pe.castObject(S,f._pe.PeGeogtran);
break;default:U&f.PeDefs.PE_TYPE_UNIT&&(S=f._pe.castObject(S,f._pe.PeUnit))}}return S};c.initialize=function(){f._pe.PeFactory.prototype.initialize(null)};c.coordsys=function(S){return y(f.PeDefs.PE_TYPE_COORDSYS,S)};c.factoryByType=y;c.fromString=function(S,U){let O=null,aa=P[S];aa||(aa={},P[S]=aa);aa.hasOwnProperty(U)?O=aa[U]:(S=f._pe.PeFactory.prototype.fromString(S,U),f._pe.compare(S,f._pe.NULL)||(O=S,aa[U]=O));return O=J(O)};c.geogcs=function(S){return y(f.PeDefs.PE_TYPE_GEOGCS,S)};c.geogtran=
function(S){return y(f.PeDefs.PE_TYPE_GEOGTRAN,S)};c.getCode=function(S){return f._pe.PeFactory.prototype.getCode(S)};c.projcs=function(S){return y(f.PeDefs.PE_TYPE_PROJCS,S)};c.unit=function(S){return y(f.PeDefs.PE_TYPE_UNIT,S)}})(f.PeFactory||(f.PeFactory={}));f.PeGCSExtent=null;f.PeGTlistExtended=void 0;(function(c){let y;c.init=function(){c.PE_GTLIST_OPTS_COMMON=f._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;y=f._pe._pe_getPeGTlistExtendedEntrySize()};c.getGTlist=function(B,P,J,S,U,O){let aa=
null;const ba=new f._pe.PeInteger(O);try{const n=f._pe.PeGTlistExtended.prototype.getGTlist(B,P,J,S,U,ba);if(O=ba.val)if(aa=[n],1<O){const C=f._pe.getPointer(n);for(B=1;B<O;B++)aa.push(f._pe.wrapPointer(C+y*B,f._pe.PeGTlistExtendedEntry))}}finally{f._pe.destroy(ba)}return aa}})(f.PeGTlistExtended||(f.PeGTlistExtended={}));f.PeGTlistExtendedEntry=void 0;(function(c){c.destroy=function(y){if(y&&y.length){for(const B of y)v(B),B.getEntries().forEach(P=>{v(P);P=P.getGeogtran();v(P);P.getParameters().forEach(v);
[P.getGeogcs1(),P.getGeogcs2()].forEach(J=>{v(J);const S=J.getDatum();v(S);v(S.getSpheroid());v(J.getPrimem());v(J.getUnit())})});f._pe.PeGTlistExtendedEntry.prototype.Delete(y[0])}}})(f.PeGTlistExtendedEntry||(f.PeGTlistExtendedEntry={}));f.PeGTTransformations=void 0;(function(c){c.geogToGeog=function(y,B,P,J,S){f._pe.ensureCache.prepare();var U=I(P);const O=P===U;U=f._pe.ensureFloat64(U);let aa=0;J&&(aa=f._pe.ensureFloat64(J));(y=f._pe._pe_geog_to_geog(f._pe.getPointer(y),B,U,aa,S))&&g(P,B,U,O);
return y}})(f.PeGTTransformations||(f.PeGTTransformations={}));f.PeNotationDms=void 0;(function(c){const y=(P,J,S,U,O,aa)=>{f._pe.ensureCache.prepare();switch(P){case "dd":var ba=f._pe._pe_geog_to_dd;var n=f.PeDefs.PE_DD_MAX;break;case "ddm":ba=f._pe._pe_geog_to_ddm;n=f.PeDefs.PE_DDM_MAX;break;case "dms":ba=f._pe._pe_geog_to_dms,n=f.PeDefs.PE_DMS_MAX}P=0;J&&(P=f._pe.getPointer(J));J=I(U);J=f._pe.ensureFloat64(J);n=H(S,n);U=f._pe.ensureInt32(n);if(O=ba(P,S,J,O,U))for(ba=0;ba<S;ba++)aa[ba]=f._pe.UTF8ToString(n[ba]);
return O},B=(P,J,S,U,O)=>{f._pe.ensureCache.prepare();switch(P){case "dd":var aa=f._pe._pe_dd_to_geog;break;case "ddm":aa=f._pe._pe_ddm_to_geog;break;case "dms":aa=f._pe._pe_dms_to_geog}P=0;J&&(P=f._pe.getPointer(J));J=U.map(ba=>f._pe.ensureString(ba));U=f._pe.ensureInt32(J);J=f._pe.ensureFloat64(Array(2*S));(aa=aa(P,S,U,J))&&g(O,S,J);return aa};c.geog_to_dms=function(P,J,S,U,O){return y("dms",P,J,S,U,O)};c.dms_to_geog=function(P,J,S,U){return B("dms",P,J,S,U)};c.geog_to_ddm=function(P,J,S,U,O){return y("ddm",
P,J,S,U,O)};c.ddm_to_geog=function(P,J,S,U){return B("ddm",P,J,S,U)};c.geog_to_dd=function(P,J,S,U,O){return y("dd",P,J,S,U,O)};c.dd_to_geog=function(P,J,S,U){return B("dd",P,J,S,U)}})(f.PeNotationDms||(f.PeNotationDms={}));f.PeNotationMgrs=void 0;(function(c){c.init=function(){c.PE_MGRS_STYLE_NEW=f._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;c.PE_MGRS_STYLE_OLD=f._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;c.PE_MGRS_STYLE_AUTO=f._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;c.PE_MGRS_180_ZONE_1_PLUS=
f._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;c.PE_MGRS_ADD_SPACES=f._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};c.geog_to_mgrs_extended=function(y,B,P,J,S,U,O){f._pe.ensureCache.prepare();let aa=0;y&&(aa=f._pe.getPointer(y));y=I(P);P=f._pe.ensureFloat64(y);y=H(B,f.PeDefs.PE_MGRS_MAX);const ba=f._pe.ensureInt32(y);if(J=f._pe._pe_geog_to_mgrs_extended(aa,B,P,J,S,U,ba))for(S=0;S<B;S++)O[S]=f._pe.UTF8ToString(y[S]);return J};c.mgrs_to_geog_extended=function(y,B,P,J,S){f._pe.ensureCache.prepare();
let U=0;y&&(U=f._pe.getPointer(y));y=P.map(O=>f._pe.ensureString(O));P=f._pe.ensureInt32(y);y=f._pe.ensureFloat64(Array(2*B));(J=f._pe._pe_mgrs_to_geog_extended(U,B,P,J,y))&&g(S,B,y);return J}})(f.PeNotationMgrs||(f.PeNotationMgrs={}));f.PeNotationUsng=void 0;(function(c){c.geog_to_usng=function(y,B,P,J,S,U,O){f._pe.ensureCache.prepare();let aa=0;y&&(aa=f._pe.getPointer(y));y=I(P);P=f._pe.ensureFloat64(y);y=H(B,f.PeDefs.PE_MGRS_MAX);const ba=f._pe.ensureInt32(y);if(J=f._pe._pe_geog_to_usng(aa,B,P,
J,S,U,ba))for(S=0;S<B;S++)O[S]=f._pe.UTF8ToString(y[S]);return J};c.usng_to_geog=function(y,B,P,J){f._pe.ensureCache.prepare();var S=0;y&&(S=f._pe.getPointer(y));y=P.map(U=>f._pe.ensureString(U));P=f._pe.ensureInt32(y);y=f._pe.ensureFloat64(Array(2*B));(S=f._pe._pe_usng_to_geog(S,B,P,y))&&g(J,B,y);return S}})(f.PeNotationUsng||(f.PeNotationUsng={}));f.PeNotationUtm=void 0;(function(c){c.init=function(){c.PE_UTM_OPTS_NONE=f._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;c.PE_UTM_OPTS_ADD_SPACES=f._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;
c.PE_UTM_OPTS_NS=f._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};c.geog_to_utm=function(y,B,P,J,S){f._pe.ensureCache.prepare();var U=0;y&&(U=f._pe.getPointer(y));y=I(P);P=f._pe.ensureFloat64(y);y=H(B,f.PeDefs.PE_UTM_MAX);const O=f._pe.ensureInt32(y);if(J=f._pe._pe_geog_to_utm(U,B,P,J,O))for(U=0;U<B;U++)S[U]=f._pe.UTF8ToString(y[U]);return J};c.utm_to_geog=function(y,B,P,J,S){f._pe.ensureCache.prepare();let U=0;y&&(U=f._pe.getPointer(y));y=P.map(O=>f._pe.ensureString(O));P=f._pe.ensureInt32(y);y=f._pe.ensureFloat64(Array(2*
B));(J=f._pe._pe_utm_to_geog(U,B,P,J,y))&&g(S,B,y);return J}})(f.PeNotationUtm||(f.PeNotationUtm={}));f.PePCSInfo=void 0;(function(c){const y=new Map;c.init=function(){c.PE_PCSINFO_OPTION_NONE=f._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;c.PE_PCSINFO_OPTION_DOMAIN=f._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;c.PE_POLE_OUTSIDE_BOUNDARY=f._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;c.PE_POLE_POINT=f._pe.PePCSInfo.prototype.PE_POLE_POINT};c.generate=function(B,P=c.PE_PCSINFO_OPTION_DOMAIN){let J,
S;y.has(B)&&(S=y.get(B),S[P]&&(J=S[P]));J||(J=f._pe.PePCSInfo.prototype.generate(B,P),S||(S=[],y.set(B,S)),S[P]=J);return J}})(f.PePCSInfo||(f.PePCSInfo={}));f.PeVersion=void 0;(function(c){c.version_string=function(){return f._pe.PeVersion.prototype.version_string()}})(f.PeVersion||(f.PeVersion={}));var w=Object.freeze({__proto__:null,get _pe(){return f._pe},isLoaded:t,isSupported:l,load:D,get PeCSTransformations(){return f.PeCSTransformations},get PeDefs(){return f.PeDefs},get PeFactory(){return f.PeFactory},
get PeGCSExtent(){return f.PeGCSExtent},get PeGTlistExtended(){return f.PeGTlistExtended},get PeGTlistExtendedEntry(){return f.PeGTlistExtendedEntry},get PeGTTransformations(){return f.PeGTTransformations},get PeNotationDms(){return f.PeNotationDms},get PeNotationMgrs(){return f.PeNotationMgrs},get PeNotationUsng(){return f.PeNotationUsng},get PeNotationUtm(){return f.PeNotationUtm},get PePCSInfo(){return f.PePCSInfo},get PeVersion(){return f.PeVersion},_init:q});f._init=q;f.isLoaded=t;f.isSupported=
l;f.load=D;f.pe=w})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),function(p,f,A,L,h,t){function l(q){if(!f.assetsPath)throw D.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new L("assets:path-not-set","config.assetsPath is not set");return t.join(f.assetsPath,q)}const D=h.getLogger("esri.assets");p.fetchAsset=function(q,v){return A(l(q),v)};p.getAssetUrl=
l;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/maybe","../Extent"],function(p,f,A,L){function h(u=g){return[u[0],u[1],u[2],u[3]]}function t(u){return u[0]>=u[2]?0:u[2]-u[0]}function l(u){return u[1]>=u[3]?0:u[3]-u[1]}function D(u,w,c){return w>=u[0]&&c>=u[1]&&w<=u[2]&&c<=u[3]}function q(u,w){u[0]=w[0];u[1]=w[1];u[2]=w[2];u[3]=w[3];return u}function v(u){return 4===u.length}function H(u,w,c){return u<
w?w:u>c?c:u}const I=[Infinity,Infinity,-Infinity,-Infinity],g=[0,0,0,0];p.NEGATIVE_INFINITY=I;p.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];p.UNIT=[0,0,1,1];p.ZERO=g;p.allFinite=function(u){for(let w=0;4>w;w++)if(!isFinite(u[w]))return!1;return!0};p.area=function(u){return t(u)*l(u)};p.center=function(u,w=[0,0]){w[0]=(u[0]+u[2])/2;w[1]=(u[1]+u[3])/2;return w};p.clone=function(u){return[u[0],u[1],u[2],u[3]]};p.contains=function(u,w){return w[0]>=u[0]&&w[2]<=u[2]&&w[1]>=u[1]&&w[3]<=u[3]};
p.containsPoint=function(u,w){return D(u,w[0],w[1])};p.containsPointObject=function(u,w){return D(u,w.x,w.y)};p.containsPointWithMargin=function(u,w,c){return w[0]>=u[0]-c&&w[1]>=u[1]-c&&w[0]<=u[2]+c&&w[1]<=u[3]+c};p.containsXY=D;p.create=h;p.diameter=function(u){const w=t(u);u=l(u);return Math.sqrt(w*w+u*u)};p.distance=function(u,w){const c=(u[1]+u[3])/2,y=Math.max(Math.abs(w[0]-(u[0]+u[2])/2)-t(u)/2,0);u=Math.max(Math.abs(w[1]-c)-l(u)/2,0);return Math.sqrt(y*y+u*u)};p.empty=function(u){return u?
q(u,I):h(I)};p.equals=function(u,w,c){if(A.isNone(u)||A.isNone(w))return u===w;if(!v(u)||!v(w))return!1;if(c)for(let y=0;y<u.length;y++){if(!c(u[y],w[y]))return!1}else for(c=0;c<u.length;c++)if(u[c]!==w[c])return!1;return!0};p.expand=function(u,w,c=u){if("length"in w)if(v(w))c[0]=Math.min(u[0],w[0]),c[1]=Math.min(u[1],w[1]),c[2]=Math.max(u[2],w[2]),c[3]=Math.max(u[3],w[3]);else{if(2===w.length||3===w.length)c[0]=Math.min(u[0],w[0]),c[1]=Math.min(u[1],w[1]),c[2]=Math.max(u[2],w[0]),c[3]=Math.max(u[3],
w[1])}else switch(w.type){case "extent":c[0]=Math.min(u[0],w.xmin);c[1]=Math.min(u[1],w.ymin);c[2]=Math.max(u[2],w.xmax);c[3]=Math.max(u[3],w.ymax);break;case "point":c[0]=Math.min(u[0],w.x),c[1]=Math.min(u[1],w.y),c[2]=Math.max(u[2],w.x),c[3]=Math.max(u[3],w.y)}return c};p.expandPointInPlace=function(u,w){w[0]<u[0]&&(u[0]=w[0]);w[0]>u[2]&&(u[2]=w[0]);w[1]<u[1]&&(u[1]=w[1]);w[1]>u[3]&&(u[3]=w[1])};p.expandWithNestedArray=function(u,w,c=u){const y=w.length;let B=u[0],P=u[1],J=u[2];u=u[3];for(let S=
0;S<y;S++){const U=w[S];B=Math.min(B,U[0]);P=Math.min(P,U[1]);J=Math.max(J,U[0]);u=Math.max(u,U[1])}c[0]=B;c[1]=P;c[2]=J;c[3]=u;return c};p.fromExtent=function(u,w=h()){w[0]=u.xmin;w[1]=u.ymin;w[2]=u.xmax;w[3]=u.ymax;return w};p.fromValues=function(u,w,c,y,B=h()){B[0]=u;B[1]=w;B[2]=c;B[3]=y;return B};p.height=l;p.intersection=function(u,w,c=u){const y=w[0],B=w[1],P=w[2];w=w[3];c[0]=H(u[0],y,P);c[1]=H(u[1],B,w);c[2]=H(u[2],y,P);c[3]=H(u[3],B,w);return c};p.intersects=function(u,w){return Math.max(w[0],
u[0])<=Math.min(w[2],u[2])&&Math.max(w[1],u[1])<=Math.min(w[3],u[3])};p.is=v;p.isPoint=function(u){return(0===t(u)||!isFinite(u[0]))&&(0===l(u)||!isFinite(u[1]))};p.offset=function(u,w,c,y=u){y[0]=u[0]+w;y[1]=u[1]+c;y[2]=u[2]+w;y[3]=u[3]+c;return y};p.pad=function(u,w,c=u){c[0]=u[0]-w;c[1]=u[1]-w;c[2]=u[2]+w;c[3]=u[3]+w;return c};p.set=q;p.setMax=function(u,w,c=u){c[2]=w[0];c[3]=w[1];c!==u&&(c[0]=u[0],c[1]=u[1]);return u};p.setMin=function(u,w,c=u){c[0]=w[0];c[1]=w[1];c!==u&&(c[2]=u[2],c[3]=u[3]);
return c};p.size=function(u,w){w[0]=u[2]-u[0];w[1]=u[3]-u[1]};p.toExtent=function(u,w){return new L({xmin:u[0],ymin:u[1],xmax:u[2],ymax:u[3],spatialReference:w})};p.width=t;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(p,f){const A=Math.PI/180;var L=f.earth.radius;const h=f.earth.eccentricitySquared;L={a1:L*h,a2:L*h*L*h,a3:L*h*h/2,a4:L*h*L*h*2.5,a5:L*h+L*h*h/2,a6:1-h};f={4267:{a:6378206.4,f:1/294.9786982},
4269:{a:6378137,f:1/298.257222101},4326:{a:f.earth.radius,f:f.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:f.moon.radius,f:f.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:f.mars.radius,f:f.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},
104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,
f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},
104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:f.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};p.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;p.earthEllipsoidConstants=L;p.spheroids=f;p.toRadians=A;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],
function(p){return function(){function f(L){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(L&&L.steps)for(const h of L.steps)h instanceof p?this.steps.push(h):this.steps.push(new p({wkid:h.wkid,wkt:h.wkt,isInverse:h.isInverse}))}f.cacheKey=function(L,h){return[void 0!==L.wkid&&null!==L.wkid?L.wkid.toString():"-1",void 0!==L.wkt&&null!==L.wkt?L.wkt.toString():"",void 0!==h.wkid&&null!==h.wkid?h.wkid.toString():"-1",void 0!==h.wkt&&null!==h.wkt?h.wkt.toString():""].join()};
f.fromGE=function(L){const h=new f;let t="";for(const l of L.steps)L=p.fromGE(l),h.steps.push(L),t+=L.uid.toString()+",";h._cached_projection={};h._gtlistentry=null;h._chain=t;return h};var A=f.prototype;A.getInverse=function(){const L=new f;L.steps=[];for(let h=this.steps.length-1;0<=h;h--)L.steps.push(this.steps[h].getInverse());return L};A.getGTListEntry=function(){let L="";for(const h of this.steps)L+=h.uid.toString()+",";L!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=
L);return this._gtlistentry};A.assignCachedGe=function(L,h,t){this._cached_projection[f.cacheKey(L,h)]=t};A.getCachedGeTransformation=function(L,h){let t="";for(const l of this.steps)t+=l.uid.toString()+",";t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t);L=this._cached_projection[f.cacheKey(L,h)];return void 0===L?null:L};return f}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(p){let f=
0;return function(){function A(L=null){this.uid=f++;L?(this._wkt=void 0!==L.wkt?L.wkt:null,this._wkid=void 0!==L.wkid?L.wkid:-1,this._isInverse=void 0!==L.isInverse?!0===L.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}A.fromGE=function(L){const h=new A;h._wkt=L.wkt;h._wkid=L.wkid;h._isInverse=L.isInverse;return h};A.prototype.getInverse=function(){const L=new A;L._wkt=this.wkt;L._wkid=this._wkid;L._isInverse=!this.isInverse;return L};p._createClass(A,[{key:"wkt",get:function(){return this._wkt},
set:function(L){this._wkt=L;this.uid=f++}},{key:"wkid",get:function(){return this._wkid},set:function(L){this._wkid=L;this.uid=f++}},{key:"isInverse",get:function(){return this._isInverse},set:function(L){this._isInverse=L;this.uid=f++}}]);return A}()})},"esri/geometry/geometryAdapters/json":function(){define(["exports"],function(p){let f=function(l,D,q){this.x=l;this.y=D;this.spatialReference=q;this.m=this.z=void 0},A=function(l,D,q,v){this.rings=l;this.spatialReference=D;this.hasM=this.hasZ=void 0;
q&&(this.hasZ=q);v&&(this.hasM=v)},L=function(l,D,q,v){this.paths=l;this.spatialReference=D;this.hasM=this.hasZ=void 0;q&&(this.hasZ=q);v&&(this.hasM=v)},h=function(l,D,q,v){this.points=l;this.spatialReference=D;this.hasM=this.hasZ=void 0;q&&(this.hasZ=q);v&&(this.hasM=v)},t=function(l,D,q,v,H){this.xmin=l;this.ymin=D;this.xmax=q;this.ymax=v;this.spatialReference=H;this.mmax=this.mmin=this.zmax=this.zmin=void 0};p.jsonAdapter={convertToGEGeometry:function(l,D){return null==D?null:l.convertJSONToGeometry(D)},
exportPoint:function(l,D,q){q=new f(l.getPointX(D),l.getPointY(D),q);const v=l.hasZ(D),H=l.hasM(D);v&&(q.z=l.getPointZ(D));H&&(q.m=l.getPointM(D));return q},exportPolygon:function(l,D,q){return new A(l.exportPaths(D),q,l.hasZ(D),l.hasM(D))},exportPolyline:function(l,D,q){return new L(l.exportPaths(D),q,l.hasZ(D),l.hasM(D))},exportMultipoint:function(l,D,q){return new h(l.exportPoints(D),q,l.hasZ(D),l.hasM(D))},exportExtent:function(l,D,q){var v=l.hasZ(D);const H=l.hasM(D);q=new t(l.getXMin(D),l.getYMin(D),
l.getXMax(D),l.getYMax(D),q);v&&(v=l.getZExtent(D),q.zmin=v.vmin,q.zmax=v.vmax);H&&(l=l.getMExtent(D),q.mmin=l.vmin,q.mmax=l.vmax);return q}};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(p){return function(){function f(A=null,L={},h,t){this.geohashY=this.geohashX=this.displayId=0;this.geometry=A;L&&(this.attributes=L);h&&(this.centroid=h);null!=t&&(this.objectId=t)}f.prototype.weakClone=
function(){const A=new f(this.geometry,this.attributes,this.centroid,this.objectId);A.displayId=this.displayId;A.geohashX=this.geohashX;A.geohashY=this.geohashY;return A};p._createClass(f,[{key:"hasGeometry",get:function(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}}]);return f}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(p){return function(){function f(L=[],h=[],t=!1){this.lengths=null!=L?L:
[];this.coords=null!=h?h:[];this.hasIndeterminateRingOrder=t}var A=f.prototype;A.forEachVertex=function(L){let h=0;this.lengths.length||L(this.coords[0],this.coords[1]);for(let t=0;t<this.lengths.length;t++){const l=this.lengths[t];for(let D=0;D<l;D++)L(this.coords[2*(D+h)],this.coords[2*(D+h)+1]);h+=l}};A.clone=function(){return new f(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};p._createClass(f,[{key:"isPoint",get:function(){return 0===this.lengths.length}}]);return f}()})},
"esri/layers/graphics/data/FeatureStore":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../core/Evented ../../../core/Logger ../../../core/maybe ../../../geometry/support/aaBoundingBox ../../../geometry/support/aaBoundingRect ../featureConversionUtils ./BoundsStore ./optimizedFeatureQueryEngineAdapter".split(" "),function(p,f,A,L,h,t,l,D,q,v){return function(){function H(g){this.geometryInfo=g;this._boundsStore=new q.BoundsStore;this._featuresById=new Map;this._markedIds=
new Set;this.events=new A;this.featureAdapter=v.optimizedFeatureQueryEngineAdapter}var I=H.prototype;I.add=function(g){this._add(g);this._emitChanged()};I.addMany=function(g){for(const u of g)this._add(u);this._emitChanged()};I.clear=function(){this._featuresById.clear();this._boundsStore.clear();this._emitChanged()};I.removeById=function(g){g=this._featuresById.get(g);if(!g)return null;this._remove(g);this._emitChanged();return g};I.removeManyById=function(g){this._boundsStore.invalidateIndex();
for(const u of g)(g=this._featuresById.get(u))&&this._remove(g);this._emitChanged()};I.forEachBounds=function(g,u,w){for(const c of g)(g=this._boundsStore.get(c.objectId))&&u(t.fromRect(w,g))};I.getFeature=function(g){return this._featuresById.get(g)};I.has=function(g){return this._featuresById.has(g)};I.forEach=function(g){this._featuresById.forEach(u=>g(u))};I.forEachInBounds=function(g,u){this._boundsStore.forEachInBounds(g,w=>{u(this._featuresById.get(w))})};I.startMarkingUsedFeatures=function(){this._boundsStore.invalidateIndex();
this._markedIds.clear()};I.sweep=function(){let g=!1;this._featuresById.forEach((u,w)=>{this._markedIds.has(w)||(g=!0,this._remove(u))});this._markedIds.clear();g&&this._emitChanged()};I._emitChanged=function(){this.events.emit("changed",void 0)};I._add=function(g){if(g){var u=g.objectId;if(null==u)L.getLogger("esri.layers.graphics.data.FeatureStore").error(new f("featurestore:invalid-feature","feature id is missing",{feature:g}));else{var w=this._featuresById.get(u);this._markedIds.add(u);if(w){g.displayId=
w.displayId;var c=this._boundsStore.get(u);this._boundsStore.delete(u)}else if(h.isSome(this.onFeatureAdd))this.onFeatureAdd(g);g.geometry&&g.geometry.coords&&g.geometry.coords.length?(c=D.getBoundsOptimizedGeometry(c||l.create(),g.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),this._boundsStore.set(u,c)):this._boundsStore.set(u,null);this._featuresById.set(u,g)}}};I._remove=function(g){if(h.isSome(this.onFeatureRemove))this.onFeatureRemove(g);this._markedIds.delete(g.objectId);this._boundsStore.delete(g.objectId);
this._featuresById.delete(g.objectId);return g};p._createClass(H,[{key:"geometryType",get:function(){return this.geometryInfo.geometryType}},{key:"hasM",get:function(){return this.geometryInfo.hasM}},{key:"hasZ",get:function(){return this.geometryInfo.hasZ}},{key:"numFeatures",get:function(){return this._featuresById.size}},{key:"fullBounds",get:function(){if(!this.numFeatures)return null;const g=l.create(l.NEGATIVE_INFINITY);this._featuresById.forEach(u=>{if(u=this._boundsStore.get(u.objectId))g[0]=
Math.min(u[0],g[0]),g[1]=Math.min(u[1],g[1]),g[2]=Math.max(u[2],g[2]),g[3]=Math.max(u[3],g[3])});return g}},{key:"storeStatistics",get:function(){let g=0;this._featuresById.forEach(u=>{u.geometry&&u.geometry.coords&&(g+=u.geometry.coords.length)});return{featureCount:this._featuresById.size,vertexCount:g/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}}]);return H}()})},"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],
function(p,f,A,L,h){let t=function(){function l(){this._emitter=new l.EventEmitter(this)}var D=l.prototype;D.emit=function(q,v){return this._emitter.emit(q,v)};D.on=function(q,v){return this._emitter.on(q,v)};D.once=function(q,v){return this._emitter.once(q,v)};D.hasEventListener=function(q){return this._emitter.hasEventListener(q)};return l}();(function(l){let D=function(){function v(I=null){this.target=I;this._listenersMap=null}var H=v.prototype;H.clear=function(){this._listenersMap&&this._listenersMap.clear()};
H.emit=function(I,g){I=this._listenersMap&&this._listenersMap.get(I);if(!I)return!1;const u=this.target||this;[...I].forEach(w=>{w.call(u,g)});return 0<I.length};H.on=function(I,g){if(Array.isArray(I)){var u=I.map(w=>this.on(w,g));return L.handlesGroup(u)}if(-1<I.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);u=this._listenersMap.get(I)||[];u.push(g);this._listenersMap.set(I,u);return{remove:()=>
{const w=this._listenersMap&&this._listenersMap.get(I)||[],c=w.indexOf(g);0<=c&&w.splice(c,1)}}};H.once=function(I,g){const u=this.on(I,w=>{u.remove();g.call(null,w)});return u};H.hasEventListener=function(I){I=this._listenersMap&&this._listenersMap.get(I);return null!=I&&0<I.length};return v}();l.EventEmitter=D;l.EventedMixin=v=>{v=function(H){function I(){var u=H.apply(this,arguments)||this;u._emitter=new D;return u}p._inheritsLoose(I,H);var g=I.prototype;g.destroy=function(){this._emitter.clear()};
g.emit=function(u,w){return this._emitter.emit(u,w)};g.on=function(u,w){return this._emitter.on(u,w)};g.once=function(u,w){return this._emitter.once(u,w)};g.hasEventListener=function(u){return this._emitter.hasEventListener(u)};return I}(v);return v=f.__decorate([h.subclass("esri.core.Evented")],v)};let q=function(v){function H(){var g=v.apply(this,arguments)||this;g._emitter=new t.EventEmitter(p._assertThisInitialized(g));return g}p._inheritsLoose(H,v);var I=H.prototype;I.emit=function(g,u){return this._emitter.emit(g,
u)};I.on=function(g,u){return this._emitter.on(g,u)};I.once=function(g,u){return this._emitter.once(g,u)};I.hasEventListener=function(g){return this._emitter.hasEventListener(g)};return H}(A);q=f.__decorate([h.subclass("esri.core.Evented")],q);l.EventedAccessor=q})(t||(t={}));return t})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(p,f,A,L){function h(c=u){return[c[0],c[1],c[2],c[3],c[4],c[5]]}function t(c,y,B,P,J,S,
U=h()){U[0]=c;U[1]=y;U[2]=B;U[3]=P;U[4]=J;U[5]=S;return U}function l(c){return c[0]>=c[3]?0:c[3]-c[0]}function D(c){return c[1]>=c[4]?0:c[4]-c[1]}function q(c){return c[2]>=c[5]?0:c[5]-c[2]}function v(c,y){return Math.max(y[0],c[0])<=Math.min(y[3],c[3])&&Math.max(y[1],c[1])<=Math.min(y[4],c[4])&&Math.max(y[2],c[2])<=Math.min(y[5],c[5])}function H(c,y){c[0]=y[0];c[1]=y[1];c[2]=y[2];c[3]=y[3];c[4]=y[4];c[5]=y[5];return c}function I(c){return 6===c.length}const g=[Infinity,Infinity,Infinity,-Infinity,
-Infinity,-Infinity],u=[0,0,0,0,0,0],w=h();p.NEGATIVE_INFINITY=g;p.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];p.ZERO=u;p.allFinite=function(c){for(let y=0;6>y;y++)if(!isFinite(c[y]))return!1;return!0};p.center=function(c,y=[0,0,0]){y[0]=c[0]+l(c)/2;y[1]=c[1]+D(c)/2;y[2]=c[2]+q(c)/2;return y};p.contains=function(c,y){return y[0]>=c[0]&&y[1]>=c[1]&&y[2]>=c[2]&&y[3]<=c[3]&&y[4]<=c[4]&&y[5]<=c[5]};p.containsPoint=function(c,y){return y[0]>=c[0]&&y[1]>=c[1]&&y[2]>=c[2]&&
y[0]<=c[3]&&y[1]<=c[4]&&y[2]<=c[5]};p.containsPointWithMargin=function(c,y,B){return y[0]>=c[0]-B&&y[1]>=c[1]-B&&y[2]>=c[2]-B&&y[0]<=c[3]+B&&y[1]<=c[4]+B&&y[2]<=c[5]+B};p.create=h;p.depth=D;p.diameter=function(c){const y=l(c),B=q(c);c=D(c);return Math.sqrt(y*y+B*B+c*c)};p.empty=function(c){return c?H(c,g):h(g)};p.equals=function(c,y,B){if(f.isNone(c)||f.isNone(y))return c===y;if(!I(c)||!I(y))return!1;if(B)for(let P=0;P<c.length;P++){if(!B(c[P],y[P]))return!1}else for(B=0;B<c.length;B++)if(c[B]!==
y[B])return!1;return!0};p.expandWithAABB=function(c,y){c[0]=Math.min(c[0],y[0]);c[1]=Math.min(c[1],y[1]);c[2]=Math.min(c[2],y[2]);c[3]=Math.max(c[3],y[3]);c[4]=Math.max(c[4],y[4]);c[5]=Math.max(c[5],y[5])};p.expandWithBuffer=function(c,y,B=0,P=y.length/3){let J=c[0],S=c[1],U=c[2],O=c[3],aa=c[4],ba=c[5];for(let n=0;n<P;n++)J=Math.min(J,y[B+3*n]),S=Math.min(S,y[B+3*n+1]),U=Math.min(U,y[B+3*n+2]),O=Math.max(O,y[B+3*n]),aa=Math.max(aa,y[B+3*n+1]),ba=Math.max(ba,y[B+3*n+2]);c[0]=J;c[1]=S;c[2]=U;c[3]=O;
c[4]=aa;c[5]=ba};p.expandWithNestedArray=function(c,y,B){const P=y.length;let J=c[0],S=c[1],U=c[2],O=c[3],aa=c[4],ba=c[5];if(B)for(B=0;B<P;B++){var n=y[B];J=Math.min(J,n[0]);S=Math.min(S,n[1]);U=Math.min(U,n[2]);O=Math.max(O,n[0]);aa=Math.max(aa,n[1]);ba=Math.max(ba,n[2])}else for(B=0;B<P;B++)n=y[B],J=Math.min(J,n[0]),S=Math.min(S,n[1]),O=Math.max(O,n[0]),aa=Math.max(aa,n[1]);c[0]=J;c[1]=S;c[2]=U;c[3]=O;c[4]=aa;c[5]=ba};p.expandWithOffset=function(c,y,B,P){c[0]=Math.min(c[0],c[0]+y);c[3]=Math.max(c[3],
c[3]+y);c[1]=Math.min(c[1],c[1]+B);c[4]=Math.max(c[4],c[4]+B);c[2]=Math.min(c[2],c[2]+P);c[5]=Math.max(c[5],c[5]+P)};p.expandWithRect=function(c,y){c[0]=Math.min(c[0],y[0]);c[1]=Math.min(c[1],y[1]);c[3]=Math.max(c[3],y[2]);c[4]=Math.max(c[4],y[3])};p.expandWithVec3=function(c,y){c[0]=Math.min(c[0],y[0]);c[1]=Math.min(c[1],y[1]);c[2]=Math.min(c[2],y[2]);c[3]=Math.max(c[3],y[0]);c[4]=Math.max(c[4],y[1]);c[5]=Math.max(c[5],y[2])};p.fromExtent=function(c,y=h()){y[0]=c.xmin;y[1]=c.ymin;y[2]=c.zmin;y[3]=
c.xmax;y[4]=c.ymax;y[5]=c.zmax;return y};p.fromMinMax=function(c,y,B=h()){B[0]=c[0];B[1]=c[1];B[2]=c[2];B[3]=y[0];B[4]=y[1];B[5]=y[2];return B};p.fromRect=function(c,y){c[0]=y[0];c[1]=y[1];c[2]=Number.NEGATIVE_INFINITY;c[3]=y[2];c[4]=y[3];c[5]=Number.POSITIVE_INFINITY;return c};p.fromValues=t;p.getMax=function(c,y){y[0]=c[3];y[1]=c[4];y[2]=c[5];return y};p.getMin=function(c,y){y[0]=c[0];y[1]=c[1];y[2]=c[2];return y};p.height=q;p.intersects=v;p.intersectsClippingArea=function(c,y){return f.isNone(y)?
!0:v(c,y)};p.is=I;p.isPoint=function(c){return 0===l(c)&&0===D(c)&&0===q(c)};p.maximumDimension=function(c){return Math.max(l(c),q(c),D(c))};p.offset=function(c,y,B,P,J=c){J[0]=c[0]+y;J[1]=c[1]+B;J[2]=c[2]+P;J[3]=c[3]+y;J[4]=c[4]+B;J[5]=c[5]+P;return J};p.scale=function(c,y,B=c){const P=c[0]+l(c)/2,J=c[1]+D(c)/2,S=c[2]+q(c)/2;B[0]=P+(c[0]-P)*y;B[1]=J+(c[1]-J)*y;B[2]=S+(c[2]-S)*y;B[3]=P+(c[3]-P)*y;B[4]=J+(c[4]-J)*y;B[5]=S+(c[5]-S)*y;return B};p.set=H;p.setMax=function(c,y,B=c){B[3]=y[0];B[4]=y[1];
B[5]=y[2];B!==c&&(B[0]=c[0],B[1]=c[1],B[2]=c[2]);return c};p.setMin=function(c,y,B=c){B[0]=y[0];B[1]=y[1];B[2]=y[2];B!==c&&(B[3]=c[3],B[4]=c[4],B[5]=c[5]);return B};p.size=function(c,y=[0,0,0]){y[0]=l(c);y[1]=D(c);y[2]=q(c);return y};p.toExtent=function(c,y){return isFinite(c[2])||isFinite(c[5])?new A({xmin:c[0],xmax:c[3],ymin:c[1],ymax:c[4],zmin:c[2],zmax:c[5],spatialReference:y}):new A({xmin:c[0],xmax:c[3],ymin:c[1],ymax:c[4],spatialReference:y})};p.toRect=function(c,y){y||(y=L.create());y[0]=c[0];
y[1]=c[1];y[2]=c[3];y[3]=c[4];return y};p.width=l;p.wrap=function(c,y,B,P,J,S){return t(c,y,B,P,J,S,w)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(p,f,A,L,h,t,l){function D(k,E){return k?E?4:3:E?3:2}function q(k,E,V,Y){if(k){if(V)return E&&Y?wa:ma;if(E&&Y)return sa}else if(E&&
Y)return ma;return La}function v({scale:k,translate:E},V){return Math.round((V-E[0])/k[0])}function H({scale:k,translate:E},V){return Math.round((E[1]-V)/k[1])}function I({scale:k,translate:E},V){return V*k[0]+E[0]}function g({scale:k,translate:E},V){return E[1]-V*k[1]}function u(k){k=k.coords;return{x:k[0],y:k[1]}}function w(k,E){k.coords[0]=E.x;k.coords[1]=E.y;return k}function c(k){k=k.coords;return{x:k[0],y:k[1],z:k[2]}}function y(k,E){k.coords[0]=E.x;k.coords[1]=E.y;k.coords[2]=E.z;return k}
function B(k){k=k.coords;return{x:k[0],y:k[1],m:k[2]}}function P(k,E){k.coords[0]=E.x;k.coords[1]=E.y;k.coords[2]=E.m;return k}function J(k){k=k.coords;return{x:k[0],y:k[1],z:k[2],m:k[3]}}function S(k,E){k.coords[0]=E.x;k.coords[1]=E.y;k.coords[2]=E.z;k.coords[3]=E.m;return k}function U(k,E){return k&&E?S:k?y:E?P:w}function O(k,E,V,Y,K){V=U(V,Y);for(const N of E){const {geometry:Z,attributes:ea}=N;let ja;Z&&(ja=V(new l,Z));k.push(new h(ja,ea,null,ea[K]))}return k}function aa(k,E,V,Y){for(const K of E){const {geometry:N,
attributes:Z}=K;let ea;N&&(ea=ba(N,V,Y));k.push({attributes:Z,geometry:ea})}return k}function ba(k,E,V){if(!k)return null;const Y=D(E,V),K=[];for(let N=0;N<k.coords.length;N+=Y){const Z=[];for(let ea=0;ea<Y;ea++)Z.push(k.coords[N+ea]);K.push(Z)}return E?V?{points:K,hasZ:E,hasM:V}:{points:K,hasZ:E}:V?{points:K,hasM:V}:{points:K}}function n(k,E,V,Y,K){V=D(V,Y);for(const N of E){E=N.geometry;Y=N.attributes;let Z;E&&(Z=C(new l,E,V));k.push(new h(Z,Y,null,Y[K]))}return k}function C(k,E,V=D(E.hasZ,E.hasM)){k.lengths[0]=
E.points.length;const Y=k.coords;let K=0;for(const N of E.points)for(E=0;E<V;E++)Y[K++]=N[E];return k}function R(k,E,V){if(!k)return null;const Y=D(E,V),{coords:K,lengths:N}=k;k=[];let Z=0;for(const ea of N){const ja=[];for(let na=0;na<ea;na++){const ra=[];for(let ua=0;ua<Y;ua++)ra.push(K[Z++]);ja.push(ra)}k.push(ja)}return E?V?{paths:k,hasZ:E,hasM:V}:{paths:k,hasZ:E}:V?{paths:k,hasM:V}:{paths:k}}function W(k,E,V,Y,K){V=D(V,Y);for(const N of E){E=N.geometry;Y=N.attributes;let Z;E&&(Z=G(new l,E,V));
k.push(new h(Z,Y,null,Y[K]))}return k}function G(k,E,V=D(E.hasZ,E.hasM)){const {lengths:Y,coords:K}=k;let N=0;for(const Z of E.paths){for(const ea of Z)for(E=0;E<V;E++)K[N++]=ea[E];Y.push(Z.length)}return k}function m(k,E,V){if(!k)return null;const Y=D(E,V),{coords:K,lengths:N}=k;k=[];let Z=0;for(const ea of N){const ja=[];for(let na=0;na<ea;na++){const ra=[];for(let ua=0;ua<Y;ua++)ra.push(K[Z++]);ja.push(ra)}k.push(ja)}return E?V?{rings:k,hasZ:E,hasM:V}:{rings:k,hasZ:E}:V?{rings:k,hasM:V}:{rings:k}}
function d(k,E,V,Y,K){for(const N of E){E=N.geometry;const Z=N.centroid,ea=N.attributes;let ja;E&&(ja=z(new l,E,V,Y));Z?k.push(new h(ja,ea,w(new l,Z),ea[K])):k.push(new h(ja,ea,null,ea[K]))}return k}function z(k,E,V=E.hasZ,Y=E.hasM){F(k,E.rings,V,Y);return k}function F(k,E,V,Y){V=D(V,Y);const {lengths:K,coords:N}=k;Y=0;K.length=N.length=0;for(const Z of E){for(const ea of Z)for(E=0;E<V;E++)N[Y++]=ea[E];K.push(Z.length)}return k}function M(k,E,V,Y,K,N){k.length=0;if(!V){for(const Z of E)k.push(new h(null,
Z.attributes,null,Z.attributes[N]));return k}switch(V){case "esriGeometryPoint":return O(k,E,Y,K,N);case "esriGeometryMultipoint":return n(k,E,Y,K,N);case "esriGeometryPolyline":return W(k,E,Y,K,N);case "esriGeometryPolygon":return d(k,E,Y,K,N);default:Ca.error("convertToFeatureSet:unknown-geometry",new f(`Unable to parse unknown geometry type '${V}'`)),k.length=0}return k}function X(k,E,V,Y){k=k&&("coords"in k?k:k.geometry);if(!k)return null;switch(E){case "esriGeometryPoint":return E=u,V&&Y?E=J:
V?E=c:Y&&(E=B),E(k);case "esriGeometryMultipoint":return ba(k,V,Y);case "esriGeometryPolyline":return R(k,V,Y);case "esriGeometryPolygon":return m(k,V,Y);default:Ca.error("convertToGeometry:unknown-geometry",new f(`Unable to parse unknown geometry type '${E}'`))}}function ca(k,E,V,Y,K){k.length=0;switch(V){case "esriGeometryPoint":var N=u;Y&&K?N=J:Y?N=c:K&&(N=B);for(var Z of E){const {geometry:ea,attributes:ja}=Z;Y=ea?N(ea):null;k.push({attributes:ja,geometry:Y})}break;case "esriGeometryMultipoint":return aa(k,
E,Y,K);case "esriGeometryPolyline":for(const ea of E){const {geometry:ja,attributes:na}=ea;let ra;ja&&(ra=R(ja,Y,K));k.push({attributes:na,geometry:ra})}break;case "esriGeometryPolygon":for(N of E){const {geometry:ea,attributes:ja,centroid:na}=N;let ra;ea&&(ra=m(ea,Y,K));na?(Z=u(na),k.push({attributes:ja,centroid:Z,geometry:ra})):k.push({attributes:ja,geometry:ra})}break;default:Ca.error("convertToFeatureSet:unknown-geometry",new f(`Unable to parse unknown geometry type '${V}'`))}return k}function ka(k,
E,V,Y,K,N,Z=V,ea=Y){k.lengths.length&&(k.lengths.length=0);k.coords.length&&(k.coords.length=0);if(!E||!E.coords.length)return null;K=Ga[K];const {coords:ja,lengths:na}=E;E=D(V,Y);const ra=D(V&&Z,Y&&ea);V=q(V,Y,Z,ea);if(!na.length)return V(k.coords,ja,0,0,v(N,ja[0]),H(N,ja[1])),k.lengths.length&&(k.lengths.length=0),k.coords.length=E,k;let ua,za=0,ya,Ba=0;for(const Oa of na){if(Oa<K)continue;let Fa=0;ya=Ba;ea=Y=v(N,ja[za]);ua=Z=H(N,ja[za+1]);V(k.coords,ja,ya,za,ea,ua);Fa++;za+=E;ya+=ra;for(let Ha=
1;Ha<Oa;Ha++,za+=E)if(ea=v(N,ja[za]),ua=H(N,ja[za+1]),ea!==Y||ua!==Z)V(k.coords,ja,ya,za,ea-Y,ua-Z),ya+=ra,Fa++,Y=ea,Z=ua;Fa>=K&&(k.lengths.push(Fa),Ba=ya)}k.coords.length=Ba;return k.coords.length?k:null}function oa(k,E,V,Y,K,N,Z){let ea=Y,ja=0;for(let ra=N+V;ra<Z;ra+=V){{var na=E[ra];const ua=E[ra+1],za=E[Z],ya=E[Z+1];let Ba=E[N],Oa=E[N+1],Fa=za-Ba,Ha=ya-Oa;if(0!==Fa||0!==Ha){const Ia=((na-Ba)*Fa+(ua-Oa)*Ha)/(Fa*Fa+Ha*Ha);1<Ia?(Ba=za,Oa=ya):0<Ia&&(Ba+=Fa*Ia,Oa+=Ha*Ia)}Fa=na-Ba;Ha=ua-Oa;na=Fa*Fa+
Ha*Ha}na>ea&&(ja=ra,ea=na)}ea>Y&&(ja-N>V&&oa(k,E,V,Y,K,N,ja),K(k,E,k.length,ja,E[ja],E[ja+1]),Z-ja>V&&oa(k,E,V,Y,K,ja,Z))}function va(k,E,V,Y,K){const {coords:N,lengths:Z}=E,ea=V?Y?wa:ma:Y?ma:La;V=D(V,Y);if(!N.length)return k!==E&&(k.lengths.length=0,k.coords.length=0),k;if(!Z.length)return ea(k.coords,N,0,0,I(K,N[0]),g(K,N[1])),k!==E&&(k.lengths.length=0,k.coords.length=V),k;const [ja,na]=K.scale;Y=0;for(let ra=0;ra<Z.length;ra++){const ua=Z[ra];k.lengths[ra]=ua;let za=I(K,N[Y]),ya=g(K,N[Y+1]);ea(k.coords,
N,Y,Y,za,ya);Y+=V;for(let Ba=1;Ba<ua;Ba++,Y+=V)za+=N[Y]*ja,ya-=N[Y+1]*na,ea(k.coords,N,Y,Y,za,ya)}k!==E&&(k.lengths.length=Z.length,k.coords.length=N.length);return k}function Da(k,E,V,Y){let K=0,N=k[Y*E],Z=k[Y*(E+1)];for(let ea=1;ea<V;ea++){const ja=N+k[Y*(E+ea)],na=Z+k[Y*(E+ea)+1],ra=(ja-N)*(na+Z);N=ja;Z=na;K+=ra}return.5*K}const Ca=A.getLogger("esri.tasks.support.optimizedFeatureSet"),Ga={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},La=(k,E,V,Y,K,N)=>
{k[V]=K;k[V+1]=N},ma=(k,E,V,Y,K,N)=>{k[V]=K;k[V+1]=N;k[V+2]=E[Y+2]},sa=(k,E,V,Y,K,N)=>{k[V]=K;k[V+1]=N;k[V+2]=E[Y+3]},wa=(k,E,V,Y,K,N)=>{k[V]=K;k[V+1]=N;k[V+2]=E[Y+2];k[V+3]=E[Y+3]},b=[],r=[];p.convertFromFeature=function(k,E,V,Y,K){b[0]=k;[k]=M(r,b,E,V,Y,K);b.length=r.length=0;return k};p.convertFromFeatureSet=function(k,E){const V=new t,{hasM:Y,hasZ:K,features:N,objectIdFieldName:Z,spatialReference:ea,geometryType:ja,exceededTransferLimit:na,transform:ra,fields:ua}=k;ua&&(V.fields=ua);V.geometryType=
ja;V.objectIdFieldName=Z||E;V.spatialReference=ea;if(!V.objectIdFieldName)return Ca.error(new f("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),V;N&&M(V.features,N,ja,K,Y,V.objectIdFieldName);na&&(V.exceededTransferLimit=na);Y&&(V.hasM=Y);K&&(V.hasZ=K);ra&&(V.transform=ra);return V};p.convertFromFeatures=M;p.convertFromGeometry=function(k,E,V){if(!k)return null;const Y=new l;"hasZ"in k&&null==E&&(E=k.hasZ);"hasM"in k&&null==V&&(V=k.hasM);if(L.isPoint(k))return U(null!=
E?E:null!=k.z,null!=V?V:null!=k.m)(Y,k);if(L.isPolygon(k))return z(Y,k,E,V);if(L.isPolyline(k))return G(Y,k,D(E,V));if(L.isMultipoint(k))return C(Y,k,D(E,V));Ca.error("convertFromGeometry:unknown-geometry",new f(`Unable to parse unknown geometry type '${k}'`))};p.convertFromGraphics=function(k,E,V,Y,K,N){const Z=k.length;switch(V){case "esriGeometryPoint":O(k,E,Y,K,N);break;case "esriGeometryMultipoint":n(k,E,Y,K,N);break;case "esriGeometryPolyline":W(k,E,Y,K,N);break;case "esriGeometryPolygon":d(k,
E,Y,K,N);break;default:Ca.error("convertToFeatureSet:unknown-geometry",new f(`Unable to parse unknown geometry type '${V}'`))}for(Y=0;Y<E.length;Y++)k[Y+Z].geometryType=V,k[Y+Z].insertAfter=E[Y].insertAfter,k[Y+Z].groupId=E[Y].groupId;return k};p.convertFromMultipoint=C;p.convertFromMultipointFeatures=n;p.convertFromNestedArray=F;p.convertFromPoint=function(k,E,V=U(null!=E.z,null!=E.m)){return V(k,E)};p.convertFromPointFeatures=O;p.convertFromPolygon=z;p.convertFromPolyline=G;p.convertFromPolylineFeatures=
W;p.convertToFeature=function(k,E,V,Y){r[0]=k;ca(b,r,E,V,Y);k=b[0];b.length=r.length=0;return k};p.convertToFeatureSet=function(k){const {objectIdFieldName:E,spatialReference:V,transform:Y,fields:K,hasM:N,hasZ:Z,features:ea,geometryType:ja,exceededTransferLimit:na,uniqueIdField:ra,queryGeometry:ua,queryGeometryType:za}=k;k=ca([],ea,ja,Z,N);const ya=X(ua,za,!1,!1);k={features:k,fields:K,geometryType:ja,objectIdFieldName:E,spatialReference:V,uniqueIdField:ra,queryGeometry:ya};Y&&(k.transform=Y);na&&
(k.exceededTransferLimit=na);N&&(k.hasM=N);Z&&(k.hasZ=Z);return k};p.convertToFeatures=ca;p.convertToGeometry=X;p.convertToMultipoint=ba;p.convertToMultipointFeatures=aa;p.convertToPoint=function(k,E,V){return k?E?V?J(k):c(k):V?B(k):u(k):null};p.convertToPolygon=m;p.convertToPolyline=R;p.deltaDecodeGeometry=function(k,E){const V=k.clone(),Y=k.coords;k=k.lengths;let K=0;for(let ea=0;ea<k.length;ea++){const ja=k[ea];var N=Y[E*K],Z=Y[E*K+1];for(let na=1;na<ja;na++)N+=Y[E*(K+na)],Z+=Y[E*(K+na)+1],V.coords[E*
(K+na)]=N,V.coords[E*(K+na)+1]=Z;K+=ja}return V};p.deltaEncodeGeometry=function(k,E){const V=k.clone(),Y=k.coords;k=k.lengths;let K=0;for(let Z=0;Z<k.length;Z++){const ea=k[Z];let ja=Y[E*K];var N=Y[E*K+1];for(let na=1;na<ea;na++){const ra=Y[E*(K+na)],ua=Y[E*(K+na)+1];N=ua-N;V.coords[E*(K+na)]=ra-ja;V.coords[E*(K+na)+1]=N;ja=ra;N=ua}K+=ea}return V};p.generalizeOptimizedGeometry=function(k,E,V,Y,K,N,Z=V,ea=Y){k.lengths.length&&(k.lengths.length=0);k.coords.length&&(k.coords.length=0);if(!E||!E.coords.length)return null;
K=Ga[K];const {coords:ja,lengths:na}=E;E=D(V,Y);const ra=D(V&&Z,Y&&ea);V=q(V,Y,Z,ea);if(!na.length)return V(k.coords,ja,0,0,ja[0],ja[1]),k.lengths.length&&(k.lengths.length=0),k.coords.length=E,k;Y=0;N*=N;for(const ua of na){if(ua<K){Y+=ua*E;continue}Z=k.coords.length/ra;ea=Y;const za=Y+(ua-1)*E;V(k.coords,ja,k.coords.length,ea,ja[ea],ja[ea+1]);oa(k.coords,ja,E,N,V,ea,za);V(k.coords,ja,k.coords.length,za,ja[za],ja[za+1]);ea=k.coords.length/ra-Z;ea>=K?k.lengths.push(ea):k.coords.length=Z*ra;Y+=ua*
E}return k.coords.length?k:null};p.getBoundsOptimizedGeometry=function(k,E,V,Y){if(!E||!E.coords||!E.coords.length)return null;V=D(V,Y);let K=Y=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,Z=Number.NEGATIVE_INFINITY;if(E&&E.coords){E=E.coords;for(let ea=0;ea<E.length;ea+=V){const ja=E[ea],na=E[ea+1];Y=Math.min(Y,ja);N=Math.max(N,ja);K=Math.min(K,na);Z=Math.max(Z,na)}}k[0]=Y;k[1]=K;k[2]=N;k[3]=Z;return k};p.getQuantizedArea=function(k,E){const {coords:V,lengths:Y}=k;let K=k=0;for(let N=0;N<
Y.length;N++)K+=Da(V,k,Y[N],E),k+=N;return Math.abs(K)};p.getQuantizedBoundsOptimizedGeometry=function(k,E,V,Y){V=D(V,Y);const {lengths:K,coords:N}=E;Y=E=Number.POSITIVE_INFINITY;let Z=Number.NEGATIVE_INFINITY,ea=Number.NEGATIVE_INFINITY,ja=0;for(const na of K){let ra=N[ja],ua=N[ja+1];E=Math.min(ra,E);Y=Math.min(ua,Y);Z=Math.max(ra,Z);ea=Math.max(ua,ea);ja+=V;for(let za=1;za<na;za++,ja+=V){const ya=N[ja],Ba=N[ja+1];ra+=ya;ua+=Ba;0>ya&&(E=Math.min(E,ra));0<ya&&(Z=Math.max(Z,ra));0>Ba?Y=Math.min(Y,
ua):0<Ba&&(ea=Math.max(ea,ua))}}k[0]=E;k[1]=Y;k[2]=Z;k[3]=ea;return k};p.getSignedQuantizedRingArea=Da;p.quantizeOptimizedFeatureSet=function(k,E){const {geometryType:V,features:Y,hasM:K,hasZ:N}=E;if(!k)return E;for(let Z=0;Z<Y.length;Z++){const ea=Y[Z],ja=ea.weakClone();ja.geometry=new l;ka(ja.geometry,ea.geometry,K,N,V,k);ea.centroid&&(ja.centroid=new l,ka(ja.centroid,ea.centroid,K,N,"esriGeometryPoint",k));Y[Z]=ja}E.transform=k;return E};p.quantizeOptimizedGeometry=ka;p.quantizeX=v;p.quantizeY=
H;p.removeCollinearVectices=function(k,E,V,Y,K){if(!E||!E.coords||!E.coords.length)return null;V=Ga[V];const {coords:N,lengths:Z}=E;E=q(Y,K,Y,K);Y=D(Y,K);let ea=K=0,ja=0,na=0;for(const za of Z){ea=na;E(k.coords,N,ea,K,N[K],N[K+1]);K+=Y;var ra=N[K];let ya=N[K+1],Ba=ra,Oa=ya;var ua=ya/ra;ea+=Y;E(k.coords,N,ea,K,Ba,Oa);K+=Y;for(let Fa=2;Fa<za;Fa++){ra=N[K];ya=N[K+1];const Ha=ya/ra,Ia=ua===Ha||!isFinite(ua)&&!isFinite(Ha);ua=Ia&&isFinite(Ha)?0<=ua&&0<=Ha||0>=ua&&0>=Ha:0<=Oa&&0<=ya||0>=Oa&&0>=ya;Ia&&ua?
(Ba+=ra,Oa+=ya):(Ba=ra,Oa=ya,ea+=Y);E(k.coords,N,ea,K,Ba,Oa);K+=Y;ua=Ha}ea+=Y;ra=(ea-na)/Y;ra>=V&&(k.lengths[ja]=ra,na=ea,ja++)}k.coords.length>na&&(k.coords.length=na);k.lengths.length>ja&&(k.lengths.length=ja);return k.coords.length&&k.lengths.length?k:null};p.removeZMValues=function(k,E,V,Y,K,N){const Z=D(V,Y);V=q(V,Y,K,N);Y=E.coords;k.coords.length=0;k.lengths.length=0;k.lengths.push(...E.lengths);for(E=0;E<Y.length;E+=Z)V(k.coords,Y,k.coords.length,E,Y[E],Y[E+1]);return k};p.unquantizeOptimizedFeatureSet=
function(k){const {transform:E,features:V,hasM:Y,hasZ:K}=k;if(!E)return k;for(const N of V)N.geometry&&va(N.geometry,N.geometry,Y,K,E),N.centroid&&va(N.centroid,N.centroid,Y,K,E);k.transform=null;return k};p.unquantizeOptimizedGeometry=va;p.unquantizeX=I;p.unquantizeY=g;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function p(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=
this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}p.prototype.weakClone=function(){const f=new p;f.objectIdFieldName=this.objectIdFieldName;f.globalIdFieldName=this.globalIdFieldName;f.geohashFieldName=this.geohashFieldName;f.geometryProperties=this.geometryProperties;f.geometryType=this.geometryType;f.spatialReference=this.spatialReference;
f.hasZ=this.hasZ;f.hasM=this.hasM;f.features=this.features;f.fields=this.fields;f.transform=this.transform;f.exceededTransferLimit=this.exceededTransferLimit;f.uniqueIdField=this.uniqueIdField;f.queryGeometry=this.queryGeometry;f.queryGeometryType=this.queryGeometryType;return f};return p}()})},"esri/layers/graphics/data/BoundsStore":function(){define(["exports","../../../core/has","../../../core/libs/rbush/PooledRBush"],function(p,f,A){function L(l,D,q){h.minX=D[0];h.minY=D[1];h.maxX=D[2];h.maxY=
D[3];l.search(h,q)}const h={minX:0,minY:0,maxX:0,maxY:0};let t=function(){function l(){this._indexInvalid=!1;this._boundsToLoad=[];this._boundsById=new Map;this._idByBounds=new Map;this._index=new A.PooledRBush(9,f("csp-restrictions")?q=>({minX:q[0],minY:q[1],maxX:q[2],maxY:q[3]}):["[0]","[1]","[2]","[3]"]);this._loadIndex=()=>{if(this._indexInvalid){const q=Array(this._idByBounds.size);let v=0;this._idByBounds.forEach((H,I)=>{q[v++]=I});this._indexInvalid=!1;this._index.clear();this._index.load(q)}else this._boundsToLoad.length&&
(this._index.load(this._boundsToLoad.filter(q=>this._idByBounds.has(q))),this._boundsToLoad.length=0)}}var D=l.prototype;D.clear=function(){this._indexInvalid=!1;this._boundsToLoad.length=0;this._boundsById.clear();this._idByBounds.clear();this._index.clear()};D.delete=function(q){const v=this._boundsById.get(q);this._boundsById.delete(q);v&&(this._idByBounds.delete(v),this._indexInvalid||this._index.remove(v))};D.forEachInBounds=function(q,v){this._loadIndex();L(this._index,q,H=>v(this._idByBounds.get(H)))};
D.get=function(q){return this._boundsById.get(q)};D.has=function(q){return this._boundsById.has(q)};D.invalidateIndex=function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)};D.set=function(q,v){if(!this._indexInvalid){const H=this._boundsById.get(q);H&&(this._index.remove(H),this._idByBounds.delete(H))}this._boundsById.set(q,v);v&&(this._idByBounds.set(v,q),this._indexInvalid||(this._boundsToLoad.push(v),5E4<this._boundsToLoad.length&&this._loadIndex()))};return l}();p.BoundsStore=
t;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/libs/rbush/PooledRBush":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../arrayUtils ../../maybe ../../PooledArray ../../../chunks/quickselect".split(" "),function(p,f,A,L,h,t){function l(ba,n){D(ba,0,ba.children.length,n,ba)}function D(ba,n,C,R,W){W||(W=new O([]));W.minX=Infinity;W.minY=Infinity;W.maxX=-Infinity;W.maxY=-Infinity;for(let G=n,m;G<C;G++)m=ba.children[G],q(W,ba.leaf?R(m):m);return W}function q(ba,
n){ba.minX=Math.min(ba.minX,n.minX);ba.minY=Math.min(ba.minY,n.minY);ba.maxX=Math.max(ba.maxX,n.maxX);ba.maxY=Math.max(ba.maxY,n.maxY)}function v(ba,n){return ba.minX-n.minX}function H(ba,n){return ba.minY-n.minY}function I(ba){return(ba.maxX-ba.minX)*(ba.maxY-ba.minY)}function g(ba){return ba.maxX-ba.minX+(ba.maxY-ba.minY)}function u(ba,n){return ba.minX<=n.minX&&ba.minY<=n.minY&&n.maxX<=ba.maxX&&n.maxY<=ba.maxY}function w(ba,n){return n.minX<=ba.maxX&&n.minY<=ba.maxY&&n.maxX>=ba.minX&&n.maxY>=ba.minY}
function c(ba,n,C,R,W){for(n=[n,C];n.length;){C=L.assumeNonNull(n.pop());const G=L.assumeNonNull(n.pop());if(C-G<=R)continue;const m=G+Math.ceil((C-G)/R/2)*R;t.quickselect(ba,m,G,C,W);n.push(G,m,m,C)}}let y=function(){function ba(C=9,R){this.compareMinX=v;this.compareMinY=H;this.toBBox=function(W){return W};this._maxEntries=Math.max(4,C||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));R&&("function"===typeof R?this.toBBox=R:this._initFormat(R));this.clear()}var n=ba.prototype;n.destroy=
function(){this.clear();B.prune();P.prune();J.prune();S.prune()};n.all=function(C){this._all(this.data,C)};n.search=function(C,R){let W=this.data;const G=this.toBBox;if(w(C,W))for(B.clear();W;){for(let m=0,d=W.children.length;m<d;m++){const z=W.children[m],F=W.leaf?G(z):z;w(C,F)&&(W.leaf?R(z):u(C,F)?this._all(z,R):B.push(z))}W=B.pop()}};n.collides=function(C){let R=this.data;const W=this.toBBox;if(!w(C,R))return!1;for(B.clear();R;){for(let G=0,m=R.children.length;G<m;G++){const d=R.children[G],z=
R.leaf?W(d):d;if(w(C,z)){if(R.leaf||u(C,z))return!0;B.push(d)}}R=B.pop()}return!1};n.load=function(C){if(!C.length)return this;if(C.length<this._minEntries){for(let R=0,W=C.length;R<W;R++)this.insert(C[R]);return this}C=this._build(C.slice(0,C.length),0,C.length-1,0);if(this.data.children.length)if(this.data.height===C.height)this._splitRoot(this.data,C);else{if(this.data.height<C.height){const R=this.data;this.data=C;C=R}this._insert(C,this.data.height-C.height-1,!0)}else this.data=C;return this};
n.insert=function(C){C&&this._insert(C,this.data.height-1);return this};n.clear=function(){this.data=new O([]);return this};n.remove=function(C){if(!C)return this;let R=this.data,W=null,G=0,m=!1,d;const z=this.toBBox(C);J.clear();for(S.clear();R||0<J.length;){if(!R){var F;R=L.assumeNonNull(J.pop());W=J.data[J.length-1];G=null!=(F=S.pop())?F:0;m=!0}if(R.leaf&&(d=A.indexOf(R.children,C,R.children.length,R.indexHint),-1!==d)){R.children.splice(d,1);J.push(R);this._condense(J);break}m||R.leaf||!u(R,z)?
W?(G++,R=W.children[G],m=!1):R=null:(J.push(R),S.push(G),G=0,W=R,R=R.children[0])}return this};n.toJSON=function(){return this.data};n.fromJSON=function(C){this.data=C;return this};n._all=function(C,R){for(P.clear();C;){var W;if(!0===C.leaf)for(const G of C.children)R(G);else P.pushArray(C.children);C=null!=(W=P.pop())?W:null}};n._build=function(C,R,W,G){var m=W-R+1,d=this._maxEntries;if(m<=d)return C=new O(C.slice(R,W+1)),l(C,this.toBBox),C;G||(G=Math.ceil(Math.log(m)/Math.log(d)),d=Math.ceil(m/
d**(G-1)));const z=new aa([]);z.height=G;m=Math.ceil(m/d);d=m*Math.ceil(Math.sqrt(d));for(c(C,R,W,d,this.compareMinX);R<=W;R+=d){const F=Math.min(R+d-1,W);c(C,R,F,m,this.compareMinY);for(let M=R;M<=F;M+=m)z.children.push(this._build(C,M,Math.min(M+m-1,F),G-1))}l(z,this.toBBox);return z};n._chooseSubtree=function(C,R,W,G){for(;;){G.push(R);if(!0===R.leaf||G.length-1===W)break;let m=Infinity,d=Infinity,z=void 0;for(let F=0,M=R.children.length;F<M;F++){const X=R.children[F],ca=I(X),ka=(Math.max(X.maxX,
C.maxX)-Math.min(X.minX,C.minX))*(Math.max(X.maxY,C.maxY)-Math.min(X.minY,C.minY))-ca;ka<d?(d=ka,m=ca<m?ca:m,z=X):ka===d&&ca<m&&(m=ca,z=X)}R=z||R.children[0]}return R};n._insert=function(C,R,W){var G=this.toBBox;W=W?C:G(C);J.clear();G=this._chooseSubtree(W,this.data,R,J);G.children.push(C);for(q(G,W);0<=R;)if(J.data[R].children.length>this._maxEntries)this._split(J,R),R--;else break;this._adjustParentBBoxes(W,J,R)};n._split=function(C,R){const W=C.data[R];var G=W.children.length;const m=this._minEntries;
this._chooseSplitAxis(W,m,G);(G=this._chooseSplitIndex(W,m,G))?(G=W.children.splice(G,W.children.length-G),G=W.leaf?new O(G):new aa(G),G.height=W.height,l(W,this.toBBox),l(G,this.toBBox),R?C.data[R-1].children.push(G):this._splitRoot(W,G)):console.log("  Error: assertion failed at PooledRBush._split: no valid split index")};n._splitRoot=function(C,R){this.data=new aa([C,R]);this.data.height=C.height+1;l(this.data,this.toBBox)};n._chooseSplitIndex=function(C,R,W){let G,m,d=void 0;G=m=Infinity;for(let F=
R;F<=W-R;F++){var z=D(C,0,F,this.toBBox);const M=D(C,F,W,this.toBBox),X=Math.max(0,Math.min(z.maxX,M.maxX)-Math.max(z.minX,M.minX))*Math.max(0,Math.min(z.maxY,M.maxY)-Math.max(z.minY,M.minY));z=I(z)+I(M);X<G?(G=X,d=F,m=z<m?z:m):X===G&&z<m&&(m=z,d=F)}return d};n._chooseSplitAxis=function(C,R,W){const G=C.leaf?this.compareMinX:v,m=C.leaf?this.compareMinY:H,d=this._allDistMargin(C,R,W,G);R=this._allDistMargin(C,R,W,m);d<R&&C.children.sort(G)};n._allDistMargin=function(C,R,W,G){C.children.sort(G);G=this.toBBox;
var m=D(C,0,R,G);const d=D(C,W-R,W,G);let z=g(m)+g(d);for(let F=R;F<W-R;F++){const M=C.children[F];q(m,C.leaf?G(M):M);z+=g(m)}for(W=W-R-1;W>=R;W--)m=C.children[W],q(d,C.leaf?G(m):m),z+=g(d);return z};n._adjustParentBBoxes=function(C,R,W){for(;0<=W;W--)q(R.data[W],C)};n._condense=function(C){for(let R=C.length-1;0<=R;R--){const W=C.data[R];if(0===W.children.length)if(0<R){const G=C.data[R-1],m=G.children;m.splice(A.indexOf(m,W,m.length,G.indexHint),1)}else this.clear();else l(W,this.toBBox)}};n._initFormat=
function(C){const R=["return a"," - b",";"];this.compareMinX=new Function("a","b",R.join(C[0]));this.compareMinY=new Function("a","b",R.join(C[1]));this.toBBox=new Function("a","return {minX: a"+C[0]+", minY: a"+C[1]+", maxX: a"+C[2]+", maxY: a"+C[3]+"};")};return ba}();const B=new h,P=new h,J=new h,S=new h({deallocator:void 0});h=function(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};let U=function(ba){function n(){var C=ba.apply(this,arguments)||this;C.height=1;C.indexHint=new A.PositionHint;
return C}f._inheritsLoose(n,ba);return n}(h),O=function(ba){function n(C){var R=ba.call(this)||this;R.children=C;R.leaf=!0;return R}f._inheritsLoose(n,ba);return n}(U),aa=function(ba){function n(C){var R=ba.call(this)||this;R.children=C;R.leaf=!1;return R}f._inheritsLoose(n,ba);return n}(U);p.BBox=h;p.PooledRBush=y;p.default=y;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/chunks/quickselect":function(){define(["exports"],function(p){var f={exports:{}};(function(A){(function(L){L=L();void 0!==
L&&(A.exports=L)})(function(){function L(l,D,q,v,H){for(;v>q;){if(600<v-q){var I=v-q+1,g=D-q+1,u=Math.log(I),w=.5*Math.exp(2*u/3);u=.5*Math.sqrt(u*w*(I-w)/I)*(0>g-I/2?-1:1);L(l,D,Math.max(q,Math.floor(D-g*w/I+u)),Math.min(v,Math.floor(D+(I-g)*w/I+u)),H)}I=l[D];g=q;w=v;h(l,q,D);for(0<H(l[v],I)&&h(l,q,v);g<w;){h(l,g,w);g++;for(w--;0>H(l[g],I);)g++;for(;0<H(l[w],I);)w--}0===H(l[q],I)?h(l,q,w):(w++,h(l,w,v));w<=D&&(q=w+1);D<=w&&(v=w-1)}}function h(l,D,q){var v=l[D];l[D]=l[q];l[q]=v}function t(l,D){return l<
D?-1:l>D?1:0}return function(l,D,q,v,H){L(l,D,q||0,v||l.length-1,H||t)}})})(f);p.quickselect=f.exports})},"esri/layers/graphics/data/optimizedFeatureQueryEngineAdapter":function(){define(["exports","../centroid","../OptimizedFeature","../OptimizedGeometry"],function(p,f,A,L){const h={getObjectId(t){return t.objectId},getAttributes(t){return t.attributes},getAttribute(t,l){return t.attributes[l]},cloneWithGeometry(t,l){return new A(l,t.attributes,null,t.objectId)},getGeometry(t){return t.geometry},
getCentroid(t,l){t.centroid||(t.centroid=f.getCentroidOptimizedGeometry(new L,t.geometry,l.hasZ,l.hasM));return t.centroid}};p.default=h;p.optimizedFeatureQueryEngineAdapter=h;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/centroid":function(){define(["exports"],function(p){function f(L,h,t,l,D,q,v=1){q=D?q?4:3:q?3:2;let H=t,I=t+q,g=0,u=0,w=t=0,c=0;for(let y=0,B=l-1;y<B;y++,H+=q,I+=q){l=h[H];const P=h[H+1],J=h[H+2],S=h[I],U=h[I+1],O=h[I+2];let aa=l*U-S*P;w+=aa;g+=(l+S)*
aa;u+=(P+U)*aa;D&&(aa=l*O-S*J,t+=(J+O)*aa,c+=aa);l<L[0]&&(L[0]=l);l>L[1]&&(L[1]=l);P<L[2]&&(L[2]=P);P>L[3]&&(L[3]=P);D&&(J<L[4]&&(L[4]=J),J>L[5]&&(L[5]=J))}0<w*v&&(w*=-1);0<c*v&&(c*=-1);if(!w)return null;L=[g,u,.5*w];D&&(L[3]=t,L[4]=.5*c);return L}function A(L,h,t,l,D){D=l?D?4:3:D?3:2;let q=h,v=h+D,H=0,I=0,g=0,u=0;for(let B=0,P=t-1;B<P;B++,q+=D,v+=D){var w=L[q];const J=L[q+1],S=L[q+2],U=L[v],O=L[v+1],aa=L[v+2];if(l){{var c=U-w;var y=O-J;const ba=aa-S;c=Math.sqrt(c*c+y*y+ba*ba)}}else c=U-w,y=O-J,c=
Math.sqrt(c*c+y*y);c&&(H+=c,l?(w=[w+.5*(U-w),J+.5*(O-J),S+.5*(aa-S)],I+=c*w[0],g+=c*w[1],u+=c*w[2]):(w=[w+.5*(U-w),J+.5*(O-J)],I+=c*w[0],g+=c*w[1]))}return 0<H?l?[I/H,g/H,u/H]:[I/H,g/H]:0<t?l?[L[h],L[h+1],L[h+2]]:[L[h],L[h+1]]:null}p.getCentroidOptimizedGeometry=function(L,h,t,l,D){if(!h||!h.lengths.length)return null;const q="upperLeft"===(null==D?void 0:D.originPosition)?-1:1;L.lengths.length&&(L.lengths.length=0);L.coords.length&&(L.coords.length=0);D=L.coords;const v=[],H=t?[Number.POSITIVE_INFINITY,
Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:I,coords:g}=h,u=t?l?4:3:l?3:2;let w=0;for(var c of I){const y=f(H,g,w,c,t,l,q);y&&v.push(y);w+=c*u}v.sort((y,B)=>{let P=q*y[2]-q*B[2];0===P&&t&&(P=y[4]-B[4]);return P});v.length&&(c=6*v[0][2],D[0]=v[0][0]/c,D[1]=v[0][1]/c,t&&(c=6*v[0][4],D[2]=0!==c?v[0][3]/c:0),D[0]<
H[0]||D[0]>H[1]||D[1]<H[2]||D[1]>H[3]||t&&(D[2]<H[4]||D[2]>H[5]))&&(D.length=0);if(!D.length)if(h=h.lengths[0]?A(g,0,I[0],t,l):null)D[0]=h[0],D[1]=h[1],t&&2<h.length&&(D[2]=h[2]);else return null;return L};p.lineCentroid=A;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/projectionSupport":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../geometry/projection ../../../geometry/geometryAdapters/json ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils".split(" "),
function(p,f,A,L,h,t){function l(w,c){if(!c)return null;if("x"in c){var y={x:0,y:0};[y.x,y.y]=w(c.x,c.y,H);null!=c.z&&(y.z=c.z);null!=c.m&&(y.m=c.m);return y}if("xmin"in c)return y={xmin:0,ymin:0,xmax:0,ymax:0},[y.xmin,y.ymin]=w(c.xmin,c.ymin,H),[y.xmax,y.ymax]=w(c.xmax,c.ymax,H),c.hasZ&&(y.zmin=c.zmin,y.zmax=c.zmax,y.hasZ=!0),c.hasM&&(y.mmin=c.mmin,y.mmax=c.mmax,y.hasM=!0),y;if("rings"in c)return{rings:D(c.rings,w),hasM:c.hasM,hasZ:c.hasZ};if("paths"in c)return{paths:D(c.paths,w),hasM:c.hasM,hasZ:c.hasZ};
if("points"in c)return{points:q(c.points,w),hasM:c.hasM,hasZ:c.hasZ}}function D(w,c){const y=[];for(const B of w)y.push(q(B,c));return y}function q(w,c){const y=[];for(const B of w)w=c(B[0],B[1],[0,0]),y.push(w),2<B.length&&w.push(B[2]),3<B.length&&w.push(B[3]);return y}function v(){v=f._asyncToGenerator(function*(w,c){c&&(w=Array.isArray(w)?w.map(y=>{var B;return null==(B=y.geometry)?void 0:B.spatialReference}):[w],yield A.initializeProjection(w.map(y=>({source:y,dest:c}))))});return v.apply(this,
arguments)}const H=[0,0],I=l.bind(null,t.lngLatToXY),g=l.bind(null,t.xyToLngLat),u=new (function(){function w(){this._jobs=[];this._timer=null;this._process=this._process.bind(this)}var c=w.prototype;c.push=function(){var y=f._asyncToGenerator(function*(B,P,J){if(!(B&&B.length&&P&&J)||h.equals(P,J))return B;const S={geometries:B,inSpatialReference:P,outSpatialReference:J,resolve:null};this._jobs.push(S);return new Promise(U=>{S.resolve=U;null===this._timer&&(this._timer=setTimeout(this._process,10))})});
return function(B,P,J){return y.apply(this,arguments)}}();c._process=function(){this._timer=null;const y=this._jobs.shift();if(y){var {geometries:B,inSpatialReference:P,outSpatialReference:J,resolve:S}=y;t.canProject(P,J)?h.isWebMercator(J)?S(B.map(I)):S(B.map(g)):S(A.projectMany(L.jsonAdapter,B,P,J,null));0<this._jobs.length&&(this._timer=setTimeout(this._process,10))}};return w}());p.checkProjectionSupport=function(w,c){return v.apply(this,arguments)};p.project=function(w,c,y){if(!w)return w;y||
(y=c,c=w.spatialReference);return h.isValid(c)&&h.isValid(y)&&!h.equals(c,y)?t.canProject(c,y)?h.isWebMercator(y)?I(w):g(w):A.projectMany(L.jsonAdapter,[w],c,y,null)[0]:w};p.projectMany=function(w,c,y){return u.push(w,c,y)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngine":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../core/lang ../../../core/maybe ../../../core/MemCache ../../../core/unitUtils ../../../geometry/support/aaBoundingBox ../../../geometry/support/aaBoundingRect ../../../geometry/support/boundsUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ./attributeSupport ./projectionSupport ./QueryEngineCapabilities ./QueryEngineResult ./spatialQuerySupport ./timeSupport ./utils ../../support/FieldsIndex ../../support/PromiseQueue ../../../smartMapping/support/utils".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H,I,g,u,w,c,y,B,P,J,S,U,O){function aa(m){return m.every(d=>"exceedslimit"!==d.statisticType)}const ba=new Set,n=new t.MemCacheStorage(2E6);let C=0,R=function(){function m(z){this.capabilities={query:c.queryCapabilities};this.geometryType=z.geometryType;this.hasM=z.hasM;this.hasZ=z.hasZ;this.objectIdField=z.objectIdField;this.spatialReference=z.spatialReference;this.definitionExpression=z.definitionExpression;this.featureStore=z.featureStore;this.aggregateAdapter=z.aggregateAdapter;
this._changeHandle=this.featureStore.events.on("changed",()=>this.clearCache());this.timeInfo=z.timeInfo;z.cacheSpatialQueries&&(this._geometryQueryCache=new t.MemCache(C++ +"$$",n));this.fieldsIndex=new S(z.fields);z.scheduler&&z.priority&&(this._frameQueue=new U,this._frameTask=z.scheduler.registerTask(z.priority,this))}var d=m.prototype;d.destroy=function(){this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._frameQueue.cancelAll(),this._frameQueue=null);this.clearCache();this._geometryQueryCache&&
this._geometryQueryCache.destroy();this._changeHandle&&(this._changeHandle.remove(),this._changeHandle=null);this.fieldsIndex.destroy()};d.clearCache=function(){this._geometryQueryCache&&this._geometryQueryCache.clear();this._timeExtent=this._allItems=null};d.executeQuery=function(){var z=f._asyncToGenerator(function*(F={},M){let X=L.clone(F),ca;try{X=yield this._schedule(()=>J.normalizeQuery(X,this.definitionExpression,this.spatialReference),M),X=yield this._reschedule(()=>this._checkQuerySupport(X),
M),ca=yield this._reschedule(()=>this._executeGeometryQuery(X,M),M),ca=yield this._reschedule(()=>ca.executeAggregateIdsQuery(X),M),ca=yield this._reschedule(()=>ca.executeObjectIdsQuery(X),M),ca=yield this._reschedule(()=>ca.executeTimeQuery(X),M),ca=yield this._reschedule(()=>ca.executeAttributesQuery(X),M)}catch(ka){if(ka!==J.QUERY_ENGINE_EMPTY_RESULT)throw ka;ca=new y([],null,this)}return ca.createQueryResponse(X)});return function(){return z.apply(this,arguments)}}();d.executeQueryForCount=function(){var z=
f._asyncToGenerator(function*(F={},M){let X=L.clone(F),ca;X.returnGeometry=!1;X.returnCentroid=!1;X.outSR=null;try{X=yield this._schedule(()=>J.normalizeQuery(X,this.definitionExpression,this.spatialReference),M),X=yield this._reschedule(()=>this._checkQuerySupport(X),M),ca=yield this._reschedule(()=>this._executeGeometryQuery(X,M),M),ca=yield this._reschedule(()=>ca.executeAggregateIdsQuery(X),M),ca=yield this._reschedule(()=>ca.executeObjectIdsQuery(X),M),ca=yield this._reschedule(()=>ca.executeTimeQuery(X),
M),ca=yield this._reschedule(()=>ca.executeAttributesQuery(X),M)}catch(ka){if(ka!==J.QUERY_ENGINE_EMPTY_RESULT)throw ka;return 0}return ca.createQueryResponseForCount(X)});return function(){return z.apply(this,arguments)}}();d.executeQueryForExtent=function(){var z=f._asyncToGenerator(function*(F={},M){let X=L.clone(F),ca;F=X.outSR;try{X=yield this._schedule(()=>J.normalizeQuery(X,this.definitionExpression,this.spatialReference),M);X=yield this._reschedule(()=>this._checkQuerySupport(X),M);X.returnGeometry=
!0;X.returnCentroid=!1;X.outSR=null;ca=yield this._reschedule(()=>this._executeGeometryQuery(X,M),M);ca=yield this._reschedule(()=>ca.executeAggregateIdsQuery(X),M);ca=yield this._reschedule(()=>ca.executeObjectIdsQuery(X),M);ca=yield this._reschedule(()=>ca.executeTimeQuery(X),M);ca=yield this._reschedule(()=>ca.executeAttributesQuery(X),M);const ka=ca.size;if(!ka)return{count:ka,extent:null};D.set(G,D.NEGATIVE_INFINITY);this.featureStore.forEachBounds(ca.items,Da=>D.expandWithAABB(G,Da),W);const oa=
{xmin:G[0],ymin:G[1],xmax:G[3],ymax:G[4],spatialReference:J.cleanFromGeometryEngine(this.spatialReference)};this.hasZ&&isFinite(G[2])&&isFinite(G[5])&&(oa.zmin=G[2],oa.zmax=G[5]);const va=w.project(oa,ca.spatialReference,F);va.spatialReference=J.cleanFromGeometryEngine(F||this.spatialReference);if(0===va.xmax-va.xmin){const Da=l.getMetersPerUnitForSR(va.spatialReference);va.xmin-=Da;va.xmax+=Da}if(0===va.ymax-va.ymin){const Da=l.getMetersPerUnitForSR(va.spatialReference);va.ymin-=Da;va.ymax+=Da}if(this.hasZ&&
null!=va.zmin&&null!=va.zmax&&0===va.zmax-va.zmin){const Da=l.getMetersPerUnitForSR(va.spatialReference);va.zmin-=Da;va.zmax+=Da}return{count:ka,extent:va}}catch(ka){if(ka===J.QUERY_ENGINE_EMPTY_RESULT)return{count:0,extent:null};throw ka;}});return function(){return z.apply(this,arguments)}}();d.executeQueryForIds=function(){var z=f._asyncToGenerator(function*(F={},M){return this.executeQueryForIdSet(F,M).then(X=>Array.from(X))});return function(){return z.apply(this,arguments)}}();d.executeQueryForIdSet=
function(){var z=f._asyncToGenerator(function*(F={},M){let X=L.clone(F),ca;X.returnGeometry=!1;X.returnCentroid=!1;X.outSR=null;try{X=yield this._schedule(()=>J.normalizeQuery(X,this.definitionExpression,this.spatialReference),M);X=yield this._reschedule(()=>this._checkQuerySupport(X),M);ca=yield this._reschedule(()=>this._executeGeometryQuery(X,M),M);ca=yield this._reschedule(()=>ca.executeAggregateIdsQuery(X),M);ca=yield this._reschedule(()=>ca.executeObjectIdsQuery(X),M);ca=yield this._reschedule(()=>
ca.executeTimeQuery(X),M);ca=yield this._reschedule(()=>ca.executeAttributesQuery(X),M);const ka=ca.items,oa=new Set;yield this._reschedule(()=>{for(const va of ka)oa.add(ca.featureAdapter.getObjectId(va))},M);return oa}catch(ka){if(ka===J.QUERY_ENGINE_EMPTY_RESULT)return new Set;throw ka;}});return function(){return z.apply(this,arguments)}}();d.executeQueryForSnapping=function(){var z=f._asyncToGenerator(function*(F,M){const {point:X,distance:ca,types:ka}=F;if(0===ka)return{candidates:[]};const oa=
yield this._reschedule(()=>this._checkQuerySupport(F.query),M),va=!g.equals(X.spatialReference,this.spatialReference);va&&(yield w.checkProjectionSupport(X.spatialReference,this.spatialReference));var Da="number"===typeof ca?ca:ca.x,Ca="number"===typeof ca?ca:ca.y;Da={xmin:X.x-Da,xmax:X.x+Da,ymin:X.y-Ca,ymax:X.y+Ca,spatialReference:X.spatialReference};Da=va?w.project(Da,this.spatialReference):Da;if(!Da)return{candidates:[]};Ca=(yield I.normalizeCentralMeridian(H.fromJSON(X),null,{signal:M}))[0];const Ga=
(yield I.normalizeCentralMeridian(H.fromJSON(Da),null,{signal:M}))[0];if(h.isNone(Ca)||h.isNone(Ga))return{candidates:[]};let La=new y(this._searchFeatures(this._getQueryBBoxes(Ga.toJSON())),null,this);La=yield this._reschedule(()=>La.executeObjectIdsQuery(oa),M);La=yield this._reschedule(()=>La.executeTimeQuery(oa),M);La=yield this._reschedule(()=>La.executeAttributesQuery(oa),M);M=Ca.toJSON();M=va?w.project(M,this.spatialReference):M;return La.createSnappingResponse({...F,point:M,distance:va?Math.max(Da.xmax-
Da.xmin,Da.ymax-Da.ymin)/2:ca},X.spatialReference)});return function(F,M){return z.apply(this,arguments)}}();d.executeQueryForLatestObservations=function(){var z=f._asyncToGenerator(function*(F={},M){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new A("feature-store:unsupported-query","Missing timeInfo or timeInfo.trackIdField",{query:F,timeInfo:this.timeInfo});let X=L.clone(F),ca;try{X=yield this._schedule(()=>J.normalizeQuery(X,this.definitionExpression,this.spatialReference),M),X=yield this._reschedule(()=>
this._checkQuerySupport(X),M),ca=yield this._reschedule(()=>this._executeGeometryQuery(X,M),M),ca=yield this._reschedule(()=>ca.executeAggregateIdsQuery(X),M),ca=yield this._reschedule(()=>ca.executeObjectIdsQuery(X),M),ca=yield this._reschedule(()=>ca.executeTimeQuery(X),M),ca=yield this._reschedule(()=>ca.executeAttributesQuery(X),M),ca=yield this._reschedule(()=>ca.filterLatest(),M)}catch(ka){if(ka!==J.QUERY_ENGINE_EMPTY_RESULT)throw ka;ca=new y([],null,this)}return ca.createQueryResponse(X)});
return function(){return z.apply(this,arguments)}}();d.executeQueryForSummaryStatistics=function(){var z=f._asyncToGenerator(function*(F={},M,X){F=L.clone(F);let ca;try{F=yield this._schedule(()=>J.normalizeQuery(F,this.definitionExpression,this.spatialReference),X),F=yield this._reschedule(()=>this._checkSummaryStatisticsSupport(F,M),X),ca=yield this._reschedule(()=>this._executeGeometryQuery(F,X),X),ca=yield this._reschedule(()=>ca.executeAggregateIdsQuery(F),X),ca=yield this._reschedule(()=>ca.executeObjectIdsQuery(F),
X),ca=yield this._reschedule(()=>ca.executeTimeQuery(F),X),ca=yield this._reschedule(()=>ca.executeAttributesQuery(F),X)}catch(ka){if(ka!==J.QUERY_ENGINE_EMPTY_RESULT)throw ka;ca=new y([],null,this)}return ca.createSummaryStatisticsResponse(F,M)});return function(){return z.apply(this,arguments)}}();d._schedule=function(){var z=f._asyncToGenerator(function*(F,M){return this._frameQueue?this._frameQueue.push(F,M):F()});return function(F,M){return z.apply(this,arguments)}}();d._reschedule=function(){var z=
f._asyncToGenerator(function*(F,M){return this._frameQueue?this._frameQueue.unshift(F,M):F()});return function(F,M){return z.apply(this,arguments)}}();d.runTask=function(z){for(this._budget=z;!z.done&&this._frameQueue&&this._frameQueue.process();)z.madeProgress();this._budget=null};d._getAll=function(){if(!this._allItems){const z=[];this.featureStore.forEach(F=>z.push(F));this._allItems=new y(z,null,this)}return this._allItems};d._executeGeometryQuery=function(){var z=f._asyncToGenerator(function*(F,
M){var X=this;const {geometry:ca,outSR:ka,spatialRel:oa,returnGeometry:va,returnCentroid:Da}=F,Ca=va||Da,Ga=g.isValid(ka)&&!g.equals(this.spatialReference,ka),La=this._geometryQueryCache?Ga&&Ca?JSON.stringify({geometry:ca,spatialRelationship:oa,outSpatialReference:ka}):JSON.stringify({geometry:ca,spatialRelationship:oa}):null;if(La){var ma=this._geometryQueryCache.get(La);if(!h.isUndefined(ma))return ma}ma=function(){var r=f._asyncToGenerator(function*(k){if(Ga&&Ca)return k=yield k.project(ka),La&&
X._geometryQueryCache.put(La,k,k.size||1),k;La&&X._geometryQueryCache.put(La,k,k.size||1);return k});return function(k){return r.apply(this,arguments)}}();if(!ca)return ma(this._getAll());const sa=this.featureAdapter;if("esriSpatialRelDisjoint"===oa){F=this._searchFeatures(this._getQueryBBoxes(ca));if(!F.length)return ma(this._getAll());let r,k;const E=new Set;for(var wa of F)E.add(sa.getObjectId(wa));yield this._reschedule(()=>{let V=0;r=Array(E.size);this.featureStore.forEach(Y=>r[V++]=Y);k=E},
M);F=yield this._reschedule(f._asyncToGenerator(function*(){const V=yield B.getSpatialQueryOperator(oa,ca,X.geometryType,X.hasZ,X.hasM);return new y(yield X._runSpatialFilter(r,Y=>!k.has(sa.getObjectId(Y))||V(sa.getGeometry(Y)),M),ca,X)}),M);return ma(F)}wa=this._searchFeatures(this._getQueryBBoxes(ca));if(!wa.length)return ma=new y([],ca,this),La&&this._geometryQueryCache.put(La,ma,ma.size||1),ma;if(this._canExecuteSoloPass(ca,F))return ma(new y(wa,ca,this));const b=yield B.getSpatialQueryOperator(oa,
ca,this.geometryType,this.hasZ,this.hasM);F=yield this._runSpatialFilter(wa,r=>b(sa.getGeometry(r)),M);return ma(new y(F,ca,this))});return function(F,M){return z.apply(this,arguments)}}();d._runSpatialFilter=function(){var z=f._asyncToGenerator(function*(F,M,X){var ca=this;if(!M)return F;if(!this._budget)return F.filter(Da=>M(Da));let ka=0;const oa=[],va=function(){var Da=f._asyncToGenerator(function*(){for(;ka<F.length;){const Ca=F[ka];M(Ca)&&oa.push(Ca);ca._budget.done&&(yield ca._reschedule(()=>
va(),X));++ka}});return function(){return Da.apply(this,arguments)}}();return this._reschedule(()=>va(),X).then(()=>oa)});return function(F,M,X){return z.apply(this,arguments)}}();d._canExecuteSoloPass=function(z,F){const {geometryType:M}=this;({spatialRel:F}=F);return B.canQueryWithRBush(z)&&("esriSpatialRelEnvelopeIntersects"===F||"esriGeometryPoint"===M&&("esriSpatialRelIntersects"===F||"esriSpatialRelContains"===F||"esriSpatialRelWithin"===F))};d._getQueryBBoxes=function(z){if(B.canQueryWithRBush(z)){if(H.isExtent(z))return[q.fromValues(z.xmin,
z.ymin,z.xmax,z.ymax)];if(H.isPolygon(z))return z.rings.map(F=>q.fromValues(Math.min(F[0][0],F[2][0]),Math.min(F[0][1],F[2][1]),Math.max(F[0][0],F[2][0]),Math.max(F[0][1],F[2][1])))}return[v.getBoundsXY(q.create(),z)]};d._searchFeatures=function(z){for(const X of z)this.featureStore.forEachInBounds(X,ca=>{ba.add(ca)});const F=Array(ba.size);let M=0;ba.forEach(X=>F[M++]=X);ba.clear();return F};d._checkSummaryStatisticsSupport=function(){var z=f._asyncToGenerator(function*(F,M){if(0>F.distance||null!=
F.geometryPrecision||F.multipatchOption||F.pixelSize||F.relationParam||F.text||F.outStatistics||F.groupByFieldsForStatistics||F.having||F.orderByFields)throw new A("feature-store:unsupported-query","Unsupported query options",{query:F});return Promise.all([this._checkAttributesQuerySupport(F),this._checkSummaryStatisticsParamsSupport(M),B.checkSpatialQuerySupport(F,this.geometryType,this.spatialReference),w.checkProjectionSupport(this.spatialReference,F.outSR)]).then(()=>F)});return function(F,M){return z.apply(this,
arguments)}}();d._checkSummaryStatisticsParamsSupport=function(){var z=f._asyncToGenerator(function*(F){const M=yield O.getFieldsList({field:F.field,normalizationField:F.normalizationField,valueExpression:F.valueExpression});if(!M.length)throw new A("feature-store:unsupported-query","params should have atleast a field or valueExpression",{params:F});u.validateFields(this.fieldsIndex,M,"params contains missing fields")});return function(F){return z.apply(this,arguments)}}();d._checkQuerySupport=function(){var z=
f._asyncToGenerator(function*(F){if(0>F.distance||null!=F.geometryPrecision||F.multipatchOption||F.pixelSize||F.relationParam||F.text)throw new A("feature-store:unsupported-query","Unsupported query options",{query:F});return Promise.all([this._checkAttributesQuerySupport(F),this._checkStatisticsQuerySupport(F),B.checkSpatialQuerySupport(F,this.geometryType,this.spatialReference),w.checkProjectionSupport(this.spatialReference,F.outSR)]).then(()=>F)});return function(F){return z.apply(this,arguments)}}();
d._checkAttributesQuerySupport=function(z){const {outFields:F,orderByFields:M,returnDistinctValues:X,outStatistics:ca}=z,ka=ca?ca.map(oa=>oa.outStatisticFieldName&&oa.outStatisticFieldName.toLowerCase()):[];if(M&&0<M.length){const oa=M.map(va=>{const Da=va.toLowerCase();return-1<Da.indexOf(" asc")?Da.split(" asc")[0]:-1<Da.indexOf(" desc")?Da.split(" desc")[0]:va}).filter(va=>-1===ka.indexOf(va));u.validateFields(this.fieldsIndex,oa,"orderByFields contains missing fields")}if(F&&0<F.length)u.validateFields(this.fieldsIndex,
F,"outFields contains missing fields");else if(X)throw new A("feature-store:unsupported-query","outFields should be specified for returnDistinctValues",{query:z});u.validateWhere(this.fieldsIndex,z.where)};d._checkStatisticsQuerySupport=function(){var z=f._asyncToGenerator(function*(F){const {outStatistics:M,groupByFieldsForStatistics:X,having:ca}=F;var ka=X&&X.length,oa=M&&M.length;if(ca){if(!ka||!oa)throw new A("feature-store:unsupported-query","outStatistics and groupByFieldsForStatistics should be specified with having",
{query:F});u.validateHaving(this.fieldsIndex,ca,M)}if(oa&&aa(M)){oa=M.map(va=>va.onStatisticField);u.validateFields(this.fieldsIndex,oa,"onStatisticFields contains missing fields");ka&&u.validateFields(this.fieldsIndex,X,"groupByFieldsForStatistics contains missing fields");for(const va of M){const {onStatisticField:Da,statisticType:Ca}=va;if(("percentile_disc"===Ca||"percentile_cont"===Ca)&&"statisticParameters"in va){if({statisticParameters:ka}=va,!ka)throw new A("feature-store:unsupported-query",
"statisticParamters should be set for percentile type",{definition:va,query:F});}else if("count"!==Ca&&Da&&u.hasInvalidFieldType(Da,this.fieldsIndex))throw new A("feature-store:unsupported-query","outStatistics contains non-numeric fields",{definition:va,query:F});}}});return function(F){return z.apply(this,arguments)}}();f._createClass(m,[{key:"featureAdapter",get:function(){return this.featureStore.featureAdapter}},{key:"fullExtent",get:function(){const z=this.featureStore.fullBounds;return z?{xmin:z[0],
ymin:z[1],xmax:z[2],ymax:z[3],spatialReference:J.cleanFromGeometryEngine(this.spatialReference)}:null}},{key:"timeExtent",get:function(){return this.timeInfo?this._timeExtent?this._timeExtent:this._timeExtent=P.getTimeExtent(this.timeInfo,this.featureStore):null}},{key:"running",get:function(){return 0<this._frameQueue.length}}]);return m}();const W=D.create(),G=D.create();p.Feature=function(m,d=null,z,F,M){this.attributes=m;this.geometry=z;this.centroid=F;this.filterFlags=M;this.groupId=-1;this.displayId=
d};p.default=R;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./PooledArray"],function(p,f,A){let L=function(){function t(D,q,v){this._namespace=D;this._storage=q;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";v&&(this._storage.registerRemoveFunc(this._namespace,v),this._removeFunc=!0)}var l=t.prototype;l.destroy=function(){this._storage.clear(this._namespace);
this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};l.resetHitRate=function(){this._hit=this._miss=0};l.put=function(D,q,v,H=0){this._storage.put(this._namespace+D,q,v,H)};l.get=function(D){D=this._storage.get(this._namespace+D);void 0===D?++this._miss:++this._hit;return D};l.pop=function(D){D=this._storage.pop(this._namespace+D);void 0===D?++this._miss:++this._hit;return D};l.updateSize=function(D,q,v){this._storage.updateSize(this._namespace+
D,q,v)};l.clear=function(){this._storage.clear(this._namespace)};l.clearAll=function(){this._storage.clearAll()};l.getStats=function(){return this._storage.getStats()};l.resetStats=function(){this._storage.resetStats()};f._createClass(t,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return t}(),
h=function(){function t(D=10485760){this._maxSize=D;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new A;this._users=new A}var l=t.prototype;l.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};l.register=function(D){this._users.push(D)};l.deregister=function(D){this._users.removeUnordered(D)};l.registerRemoveFunc=function(D,q){this._removeFuncs.push([D,q])};l.deregisterRemoveFunc=function(D){this._removeFuncs.filterInPlace(q=>q[0]!==
D)};l.put=function(D,q,v,H){const I=this._db.get(D);I&&(this._size-=I.size,this._db.delete(D),I.entry!==q&&this._notifyRemoved(D,I.entry));v>this._maxSize?this._notifyRemoved(D,q):void 0===q?console.warn("Refusing to cache undefined entry "):!v||0>v?console.warn("Refusing to cache entry with invalid size "+v):(H=1+Math.max(H,-3)- -3,this._db.set(D,{entry:q,size:v,lifetime:H,lives:H}),this._size+=v,this._checkSizeLimit())};l.updateSize=function(D,q,v){const H=this._db.get(D);H&&H.entry===q&&(this._size-=
H.size,v>this._maxSize?(this._db.delete(D),this._notifyRemoved(D,q)):(H.size=v,this._size+=v,this._checkSizeLimit()))};l.pop=function(D){const q=this._db.get(D);if(q)return this._size-=q.size,this._db.delete(D),++this._hit,q.entry;++this._miss};l.get=function(D){const q=this._db.get(D);if(void 0===q)++this._miss;else return this._db.delete(D),q.lives=q.lifetime,this._db.set(D,q),++this._hit,q.entry};l.getStats=function(){const D={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+
"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},q={},v=[];this._db.forEach((g,u)=>{const w=g.lifetime;v[w]=(v[w]||0)+g.size;this._users.forAll(c=>{c=c.namespace;u.startsWith(c)&&(q[c]=(q[c]||0)+g.size)})});const H={};this._users.forAll(g=>{const u=g.namespace;!isNaN(g.hitRate)&&0<g.hitRate?(q[u]=q[u]||0,H[u]=Math.round(100*g.hitRate)+"%"):H[u]="0%"});var I=Object.keys(q);I.forEach(g=>q[g]=q[g]/this._size*100);I.sort((g,u)=>q[u]-q[g]);I.forEach(g=>D[g]=Math.round(q[g])+
"% / "+H[g]);for(I=v.length-1;0<=I;--I){const g=v[I];g&&(D["Priority "+(I+-3-1)]=Math.round(g/this.size*100)+"%")}return D};l.resetStats=function(){this._hit=this._miss=0;this._users.forAll(D=>D.resetHitRate())};l.clear=function(D){this._db.forEach((q,v)=>{v.startsWith(D)&&(this._size-=q.size,this._db.delete(v),this._notifyRemoved(v,q.entry))})};l.clearAll=function(){this._db.forEach((D,q)=>this._notifyRemoved(q,D.entry));this._size=0;this._db.clear()};l._getHitRate=function(){return this._hit/(this._hit+
this._miss)};l._notifyRemoved=function(D,q){this._removeFuncs.forAll(v=>{if(D.startsWith(v[0]))v[1](q)})};l._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [D,q]of this._db)if(this._db.delete(D),1>=q.lives?(this._size-=q.size,this._notifyRemoved(D,q.entry)):(--q.lives,this._db.set(D,q)),this._size<=.9*this.maxSize)break};f._createClass(t,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(D){this._maxSize=Math.max(D,
0);this._checkSizeLimit()}}]);return t}();p.MIN_PRIORITY=-3;p.MemCache=L;p.MemCacheStorage=h;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../tasks/geometry/cut ../../tasks/geometry/simplify".split(" "),function(p,f,A,L,h,t,l,D,q,v,H,
I,g){function u(U){const O=[];let aa=0,ba=0;for(let n=0;n<U.length;n++){const C=U[n];let R=null;for(let W=0;W<C.length;W++)R=C[W],O.push(R),0===W?ba=aa=R[0]:(aa=Math.min(aa,R[0]),ba=Math.max(ba,R[0]));R&&O.push([(aa+ba)/2,0])}return O}function w(U,O){if(!(U instanceof D||U instanceof l))throw S.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new L("straightLineDensify: the input geometry is neither polyline nor polygon");var aa=q.getGeometryParts(U);const ba=[];for(const C of aa){aa=
[];ba.push(aa);aa.push([C[0][0],C[0][1]]);for(let R=0;R<C.length-1;R++){const W=C[R][0],G=C[R][1],m=C[R+1][0],d=C[R+1][1];var n=Math.sqrt((m-W)*(m-W)+(d-G)*(d-G));const z=(d-G)/n,F=(m-W)/n,M=n/O;if(1<M){for(let X=1;X<=M-1;X++){const ca=X*O;aa.push([F*ca+W,z*ca+G])}n=(n+Math.floor(M-1)*O)/2;aa.push([F*n+W,z*n+G])}aa.push([m,d])}}return"polygon"===U.type?new l({rings:ba,spatialReference:U.spatialReference}):new D({paths:ba,spatialReference:U.spatialReference})}function c(U,O,aa){O&&(U=w(U,1E6),U=H.webMercatorToGeographic(U,
!0));aa&&(U=q.updatePolyGeometry(U,aa));return U}function y(U,O,aa){if(Array.isArray(U)){var ba=U[0];ba>O?(aa=q.offsetMagnitude(ba,O),U[0]=ba+-2*aa*O):ba<aa&&(O=q.offsetMagnitude(ba,aa),U[0]=ba+-2*O*aa)}else ba=U.x,ba>O?(aa=q.offsetMagnitude(ba,O),U=U.clone().offset(-2*aa*O,0)):ba<aa&&(O=q.offsetMagnitude(ba,aa),U=U.clone().offset(-2*O*aa,0));return U}function B(U,O){let aa=-1;for(let ba=0;ba<O.cutIndexes.length;ba++){const n=O.cutIndexes[ba],C=O.geometries[ba],R=q.getGeometryParts(C);for(let W=0;W<
R.length;W++){const G=R[W];G.some(m=>{if(180>m[0])return!0;m=0;for(var d=0;d<G.length;d++){var z=G[d][0];m=z>m?z:m}m=Number(m.toFixed(9));m=-360*q.offsetMagnitude(m,180);for(d=0;d<G.length;d++)z=C.getPoint(W,d),C.setPoint(W,d,z.clone().offset(m,0));return!0})}if(n===aa)if("polygon"===U[0].type)for(const W of q.getGeometryParts(C))U[n]=U[n].addRing(W);else{if("polyline"===U[0].type)for(const W of q.getGeometryParts(C))U[n]=U[n].addPath(W)}else aa=n,U[n]=C}return U}function P(U,O,aa){return J.apply(this,
arguments)}function J(){J=f._asyncToGenerator(function*(U,O,aa){if(!Array.isArray(U))return P([U],O);var ba=O?O.url:A.geometryServiceUrl;let n,C,R;let W=0;var G=[];O=[];for(var m of U)if(t.isNone(m))O.push(m);else{if(!d){var d=m.spatialReference;var z=v.getInfo(d);var F=(n=d.isWebMercator)?102100:4326;C=q.cutParams[F].maxX;R=q.cutParams[F].minX;var M=q.cutParams[F].plus180Line;F=q.cutParams[F].minus180Line}if(z)if("mesh"===m.type)O.push(m);else if("point"===m.type)O.push(y(m.clone(),C,R));else if("multipoint"===
m.type){var X=m.clone();X.points=X.points.map(ca=>y(ca,C,R));O.push(X)}else if("extent"===m.type)X=m.clone()._normalize(!1,!1,z),O.push(X.rings?new l(X):X);else if(m.extent){X=m.extent;const ca=2*q.offsetMagnitude(X.xmin,R)*C;let ka=0===ca?m.clone():q.updatePolyGeometry(m.clone(),ca);X.offset(ca,0);X.intersects(M)&&X.xmax!==C?(W=X.xmax>W?X.xmax:W,ka=c(ka,n),G.push(ka),O.push("cut")):X.intersects(F)&&X.xmin!==R?(W=2*X.xmax*C>W?2*X.xmax*C:W,ka=c(ka,n,360),G.push(ka),O.push("cut")):O.push(ka)}else O.push(m.clone());
else O.push(m)}d=q.offsetMagnitude(W,C);z=-90;M=d;for(m=new D;0<d;)F=-180+360*d,m.addPath([[F,z],[F,-1*z]]),z*=-1,d--;if(0<G.length&&0<M){d=yield I.cut(ba,G,m,aa);d=B(G,d);z=[];G=[];for(M=0;M<O.length;M++)m=O[M],"cut"!==m?G.push(m):(m=d.shift(),F=U[M],t.isSome(F)&&"polygon"===F.type&&F.rings&&1<F.rings.length&&m.rings.length>=F.rings.length?(z.push(m),G.push("simplify")):G.push(n?H.geographicToWebMercator(m):m));if(!z.length)return G;O=yield g.simplify(ba,z,aa);U=[];for(aa=0;aa<G.length;aa++)ba=G[aa],
"simplify"!==ba?U.push(ba):U.push(n?H.geographicToWebMercator(O.shift()):O.shift());return U}U=[];for(aa=0;aa<O.length;aa++)ba=O[aa],"cut"!==ba?U.push(ba):(ba=G.shift(),U.push(!0===n?H.geographicToWebMercator(ba):ba));return Promise.resolve(U)});return J.apply(this,arguments)}const S=h.getLogger("esri.geometry.support.normalizeUtils");p.getDenormalizedExtent=function(U){if(!U)return null;const O=U.extent;if(!O)return null;var aa=U.spatialReference&&v.getInfo(U.spatialReference);if(!aa)return O;const [ba,
n]=aa.valid;({width:aa}=O);let {xmin:C,xmax:R}=O;[C,R]=[R,C];if("extent"===U.type||0===aa||aa<=n||aa>2*n||C<ba||R>n)return O;let W;switch(U.type){case "polygon":if(1<U.rings.length)W=u(U.rings);else return O;break;case "polyline":if(1<U.paths.length)W=u(U.paths);else return O;break;case "multipoint":W=U.points}U=O.clone();for(let G=0;G<W.length;G++){let m=W[G][0];0>m?(m+=n,R=Math.max(m,R)):(m-=n,C=Math.min(m,C))}U.xmin=C;U.xmax=R;return U.width<aa?(U.xmin-=n,U.xmax-=n,U):O};p.normalizeCentralMeridian=
P;p.normalizeMapX=function(U,O){if(O=v.getInfo(O)){const [aa,ba]=O.valid;O=ba-aa;if(U<aa)for(;U<aa;)U+=O;if(U>ba)for(;U>ba;)U-=O}return U};p.straightLineDensify=w;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(p,f,A,L){function h(l){return L.isPolygon(l)?l.rings:l.paths}const t={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new f({paths:[[[2.0037508342788905E7,
-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:A.WebMercator}),minus180Line:new f({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:A.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new f({paths:[[[180,-180],[180,180]]],spatialReference:A.WGS84}),minus180Line:new f({paths:[[[-180,-180],[-180,180]]],spatialReference:A.WGS84})}};p.cutParams=t;p.getGeometryParts=h;p.getSpatialReferenceMinMaxX=
function(l){l=(null==l?0:l.isWebMercator)?102100:4326;return[t[l].minX,t[l].maxX]};p.offsetMagnitude=function(l,D){return Math.ceil((l-D)/(2*D))};p.updatePolyGeometry=function(l,D){const q=h(l);for(const v of q)for(const H of v)H[0]+=D;return l};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/tasks/geometry/cut":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),function(p,f,A,L,
h,t){function l(){l=f._asyncToGenerator(function*(D,q,v,H){D="string"===typeof D?h.urlToObject(D):D;const I=q[0].spatialReference;q={...H,query:{...D.query,f:"json",sr:JSON.stringify(I),target:JSON.stringify({geometryType:t.getJsonType(q[0]),geometries:q}),cutter:JSON.stringify(v)}};q=yield L(D.path+"/cut",q);const {cutIndexes:g,geometries:u=[]}=q.data;return{cutIndexes:g,geometries:u.map(w=>{w=t.fromJSON(w);w.spatialReference=I;return w})}});return l.apply(this,arguments)}p.cut=function(D,q,v,H){return l.apply(this,
arguments)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/tasks/geometry/simplify":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../request","../../core/urlUtils","../../geometry/support/jsonUtils"],function(p,f,A,L,h){function t(){t=f._asyncToGenerator(function*(q,v,H){const I="string"===typeof q?L.urlToObject(q):q;q=v[0].spatialReference;const g=h.getJsonType(v[0]);v={...H,query:{...I.query,f:"json",sr:q.wkid?q.wkid:JSON.stringify(q),geometries:JSON.stringify(l(v))}};
v=yield A(I.path+"/simplify",v);return D(v.data,g,q)});return t.apply(this,arguments)}function l(q){return{geometryType:h.getJsonType(q[0]),geometries:q.map(v=>v.toJSON())}}function D(q,v,H){const I=h.getGeometryType(v);return q.map(g=>{g=I.fromJSON(g);g.spatialReference=H;return g})}p.simplify=function(q,v,H){return t.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/attributeSupport":function(){define(["exports","../../../core/Error","../../../core/sql/WhereClauseCache"],
function(p,f,A){function L(q,v){return q?l.get(q,v):null}function h(q,v,H,I=!0){const g=[];for(const u of v)if("*"!==u&&!q.has(u))if(I){v=t(u);try{const w=L(v,q);if(!w)throw new f("feature-store:unsupported-query","invalid SQL expression",{where:v});if(!w.isStandardized)throw new f("feature-store:unsupported-query","expression is not standard",{clause:w});h(q,w.fieldNames,"expression contains missing fields")}catch(w){if((v=w&&w.details)&&(v.clause||v.where))throw w;v&&v.missingFields?g.push(...v.missingFields):
g.push(u)}}else g.push(u);if(g.length)throw new f("feature-store:unsupported-query",H,{missingFields:g});}function t(q){return q.split(" as ")[0]}const l=new A.WhereClauseCache(50,500),D=new Set("esriFieldTypeOID esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeDate".split(" "));p.getAliasFromFieldName=function(q){return q.split(" as ")[1]};p.getExpressionFromFieldName=t;p.getWhereClause=L;p.hasInvalidFieldType=function(q,v){return(q=
v.get(q))?!D.has(q.type):!1};p.validateFields=h;p.validateHaving=function(q,v,H){if(!v)return!0;const I=l.get(v,q);if(!I)throw new f("feature-store:unsupported-query","invalid SQL expression",{having:v});if(!I.isAggregate)throw new f("feature-store:unsupported-query","having does not contain a valid aggregate function",{having:v});h(q,I.fieldNames,"having contains missing fields");if(!I.getExpressions().every(g=>{const {aggregateType:u,field:w}=g,c=q.has(w)&&q.get(w).name;return H.some(y=>{const {onStatisticField:B,
statisticType:P}=y;return(q.has(B)&&q.get(B).name)===c&&P.toLowerCase().trim()===u})}))throw new f("feature-store:unsupported-query","expressions in having should also exist in outStatistics",{having:v});return!0};p.validateWhere=function(q,v){if(!v)return!0;const H=l.get(v,q);if(!H)throw new f("feature-store:unsupported-query","invalid SQL expression",{where:v});if(!H.isStandardized)throw new f("feature-store:unsupported-query","where clause is not standard",{where:v});h(q,H.fieldNames,"where clause contains missing fields");
return!0};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/sql/WhereClauseCache":function(){define(["exports","../ItemCache","./WhereClause"],function(p,f,A){let L=function(){function h(t,l){this._cache=new f(t);this._invalidCache=new f(l)}h.prototype.get=function(t,l){const D=`${l.uid}:${t}`,q=this._cache.get(D);if(q)return q;if(void 0!==this._invalidCache.get(D))return null;try{const v=A.WhereClause.create(t,l);this._cache.put(D,v);return v}catch{return this._invalidCache.put(D,null),
null}};return h}();p.WhereClauseCache=L;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/ItemCache":function(){define(["./MemCache"],function(p){return function(){function f(L,h){this._storage=new p.MemCacheStorage;this._storage.maxSize=L;h&&this._storage.registerRemoveFunc("",h)}var A=f.prototype;A.put=function(L,h){this._storage.put(L,h,1,1)};A.pop=function(L){return this._storage.pop(L)};A.get=function(L){return this._storage.get(L)};A.clear=function(){this._storage.clearAll()};A.destroy=
function(){this._storage.destroy()};return f}()})},"esri/core/sql/WhereClause":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../has ./AggregateFunctions ./StandardizedFunctions ./WhereGrammar".split(" "),function(p,f,A,L,h,t){function l(G,m){G+="";return G.length>=m?G:Array(m-G.length+1).join("0")+G}function D(G,m,d="0",z="0",F="0",M="0",X="",ca="0",ka="0"){return"+"===X||"-"===X?(G=`${l(parseInt(G,10),4)}-${l(parseInt(m,10),2)}-${l(parseInt(d,10),2)}`,m="",10>parseFloat(M)&&(m=
"0"),z=`${l(parseInt(z,10),2)}:${l(parseInt(F,10),2)}:${m+parseFloat(M).toString()}`,X=`${X}${l(parseInt(ca,10),2)}:${l(parseInt(ka,10),2)}`,new Date(G+"T"+z+X)):new Date(parseInt(G,10),parseInt(m,10)-1,parseInt(d,10),parseInt(z,10),parseInt(F,10),parseFloat(M))}function q(G){let m=O.exec(G);if(null!==m){const [,d,z,F,M,X,ca]=m;return D(d,z,F,M,X,ca)}m=aa.exec(G);if(null!==m){const [,d,z,F,M,X,ca,ka,oa,va]=m;return D(d,z,F,M,X,ca,ka,oa,va)}m=ba.exec(G);if(null!==m){const [,d,z,F,M,X,ca,ka,oa]=m;return D(d,
z,F,M,X,"0",ca,ka,oa)}m=n.exec(G);if(null!==m){const [,d,z,F,M,X]=m;return D(d,z,F,M,X)}m=U.exec(G);if(null!==m){const [,d,z,F]=m;return D(d,z,F)}throw Error("SQL Invalid Timestamp");}function v(G){G=U.exec(G);if(null===G)throw Error("SQL Invalid Date");const [,m,d,z]=G;return new Date(parseInt(m,10),parseInt(d,10)-1,parseInt(z,10))}function H(G){return Array.isArray(G)?G:[G]}function I(G){return null!==G?!0!==G:null}function g(G,m){return null!=G&&null!=m?!0===G&&!0===m:!1===G||!1===m?!1:null}function u(G,
m){return null!=G&&null!=m?!0===G||!0===m:!0===G||!0===m?!0:null}function w(G,m){if(null==G)return null;let d=!1;for(const z of m)if(null==z)d=null;else if(G===z){d=!0;break}return d}function c(G,m,d){if(null==G)return null;let z="",F=0;for(let M=0;M<m.length;M++){const X=m.charAt(M);switch(F){case 0:X===d?F=1:z=0<="-[]/{}()*+?.\\^$|".indexOf(X)?z+("\\"+X):"%"===X?z+".*":"_"===X?z+".":z+X;break;case 1:z=0<="-[]/{}()*+?.\\^$|".indexOf(X)?z+("\\"+X):z+X,F=0}}return(new RegExp("^"+z+"$")).test(G)}function y(G){return G instanceof
Date?G.valueOf():G}function B(G,m,d){if(null==m||null==d)return null;m=y(m);d=y(d);switch(G){case "\x3c\x3e":return m!==d;case "\x3d":return m===d;case "\x3e":return m>d;case "\x3c":return m<d;case "\x3e\x3d":return m>=d;case "\x3c\x3d":return m<=d}}function P(G){const m=[],d={};for(const z of G)G=z.toLowerCase(),void 0===d[G]&&(m.push(z),d[G]=1);return m}function J(G,m,d){if(m instanceof h.SqlInterval)if(d instanceof Date)switch(G){case "+":return new Date(m.valueInMilliseconds()+d.getTime());case "-":return m.valueInMilliseconds()-
d.getTime();case "*":return m.valueInMilliseconds()*d.getTime();case "/":return m.valueInMilliseconds()/d.getTime()}else if(d instanceof h.SqlInterval)switch(G){case "+":return h.SqlInterval.createFromMilliseconds(m.valueInMilliseconds()+d.valueInMilliseconds());case "-":return h.SqlInterval.createFromMilliseconds(m.valueInMilliseconds()-d.valueInMilliseconds());case "*":return m.valueInMilliseconds()*d.valueInMilliseconds();case "/":return m.valueInMilliseconds()/d.valueInMilliseconds()}else m=m.valueInMilliseconds();
else if(d instanceof h.SqlInterval)if(m instanceof Date)switch(G){case "+":return new Date(d.valueInMilliseconds()+m.getTime());case "-":return new Date(m.getTime()-d.valueInMilliseconds());case "*":return m.getTime()*d.valueInMilliseconds();case "/":return m.getTime()/d.valueInMilliseconds()}else d=d.valueInMilliseconds();else if(m instanceof Date&&"number"===typeof d)switch(d*=864E5,m=m.getTime(),G){case "+":return new Date(m+d);case "-":return new Date(m-d);case "*":return new Date(m*d);case "/":return new Date(m/
d)}else if(d instanceof Date&&"number"===typeof m)switch(m*=864E5,d=d.getTime(),G){case "+":return new Date(m+d);case "-":return new Date(m-d);case "*":return new Date(m*d);case "/":return new Date(m/d)}switch(G){case "+":return m+d;case "-":return m-d;case "*":return m*d;case "/":return m/d}}function S(G,m,d,z){G=z.getAttribute(G,m);return null!=G&&1===d[m]?new Date(G):G}const U=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,O=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,aa=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,
ba=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,n=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;let C=function(){function G(){}G.makeBool=function(m){return!0===m};G.featureValue=function(m,d,z,F){return S(m,d,z,F)};G.equalsNull=function(m){return null===m};G.applyLike=function(m,d,z){return c(m,d,z)};G.ensureArray=function(m){return H(m)};G.applyIn=function(m,d){return w(m,d)};G.currentDate=function(){const m=new Date;m.setHours(0,0,0,0);return m};G.makeSqlInterval=
function(m,d,z){return h.SqlInterval.createFromValueAndQualifer(m,d,z)};G.convertInterval=function(m){return m instanceof h.SqlInterval?m.valueInMilliseconds():m};G.currentTimestamp=function(){return new Date};G.compare=function(m,d,z){return B(m,d,z)};G.calculate=function(m,d,z){return J(m,d,z)};G.makeComparable=function(m){return y(m)};G.evaluateFunction=function(m,d){return h.evaluateFunction(m,d)};G.lookup=function(m,d){m=d[m];return void 0===m?null:m};G.between=function(m,d){return null==m||
null==d[0]||null==d[1]?null:m>=d[0]&&m<=d[1]};G.notbetween=function(m,d){return null==m||null==d[0]||null==d[1]?null:m<d[0]||m>d[1]};G.ternaryNot=function(m){return I(m)};G.ternaryAnd=function(m,d){return g(m,d)};G.ternaryOr=function(m,d){return u(m,d)};return G}(),R=function(){function G(d,z){this.fieldsIndex=z;this.datefields={};this.parameters={};this.parseTree=t.WhereGrammar.parse(d);const {isStandardized:F,isAggregate:M,referencedFieldNames:X}=this.extractExpressionInfo(z);this.referencedFieldNames=
X;this.isStandardized=F;this.isAggregate=M}G.create=function(d,z){return new G(d,z)};var m=G.prototype;m.testSet=function(d,z=W){const F={};for(const M of this.fieldNames)F[M]=d.map(X=>z.getAttribute(X,M));return!!this.evaluateNode(this.parseTree,{attributes:F},W)};m.calculateValue=function(d,z=W){d=this.evaluateNode(this.parseTree,d,z);return d instanceof h.SqlInterval?d.valueInMilliseconds()/864E5:d};m.calculateValueCompiled=function(d,z=W){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(d,
this.parameters,z,this.datefields);if(A("csp-restrictions"))return this.calculateValue(d,z);this.compileMe();return this.parseTree._compiledVersion(d,this.parameters,z,this.datefields)};m.testFeature=function(d,z=W){return!!this.evaluateNode(this.parseTree,d,z)};m.testFeatureCompiled=function(d,z=W){if(null!=this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(d,this.parameters,z,this.datefields);if(A("csp-restrictions"))return this.testFeature(d,z);this.compileMe();return!!this.parseTree._compiledVersion(d,
this.parameters,z,this.datefields)};m.getFunctions=function(){const d=[];this.visitAll(this.parseTree,z=>{"function"===z.type&&d.push(z.name.toLowerCase())});return P(d)};m.getExpressions=function(){const d=new Map;this.visitAll(this.parseTree,z=>{if("function"===z.type){const F=z.name.toLowerCase();z=z.args.value[0];if("column_ref"===z.type){z=z.column;const M=`${F}-${z}`;d.has(M)||d.set(M,{aggregateType:F,field:z})}}});return[...d.values()]};m.getVariables=function(){const d=[];this.visitAll(this.parseTree,
z=>{"param"===z.type&&d.push(z.value.toLowerCase())});return P(d)};m.compileMe=function(){const d="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=(new Function("feature","lookups","attributeAdapter","datefields",d)).bind(C)};m.extractExpressionInfo=function(d){const z=[];let F=!0,M=!0;this.visitAll(this.parseTree,X=>{switch(X.type){case "column_ref":{const ca=d.get(X.column),ka=ca&&ca.name;!ca||"date"!==ca.type&&"esriFieldTypeDate"!==
ca.type||(this.datefields[ca.name]=1);void 0!==ka?(z.push(ka),X.column=ka):z.push(X.column);break}case "function":{const {name:ca,args:ka}=X;X=ka.value.length;F&&(F=h.isStandardized(ca,X));M&&(M=L.isAggregate(ca,X))}}});return{referencedFieldNames:P(z),isStandardized:F,isAggregate:M}};m.visitAll=function(d,z){if(null!=d)switch(z(d),d.type){case "when_clause":this.visitAll(d.operand,z);this.visitAll(d.value,z);break;case "case_expression":for(const F of d.clauses)this.visitAll(F,z);"simple"===d.format&&
this.visitAll(d.operand,z);null!==d.else&&this.visitAll(d.else,z);break;case "expr_list":for(const F of d.value)this.visitAll(F,z);break;case "unary_expr":this.visitAll(d.expr,z);break;case "binary_expr":this.visitAll(d.left,z);this.visitAll(d.right,z);break;case "function":this.visitAll(d.args,z)}};m.evaluateNodeToJavaScript=function(d){switch(d.type){case "interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(d.value)+", "+JSON.stringify(d.qualifier)+","+JSON.stringify(d.op)+")";
case "case_expression":var z="";if("simple"===d.format){var F="this.makeComparable("+this.evaluateNodeToJavaScript(d.operand)+")";z="( ";for(let M=0;M<d.clauses.length;M++)z+=" ("+F+" \x3d\x3d\x3d this.makeComparable("+this.evaluateNodeToJavaScript(d.clauses[M].operand)+")) ? ("+this.evaluateNodeToJavaScript(d.clauses[M].value)+") : "}else for(z="( ",F=0;F<d.clauses.length;F++)z+=" this.makeBool("+this.evaluateNodeToJavaScript(d.clauses[F].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(d.clauses[F].value)+
") : ";z=null!==d.else?z+this.evaluateNodeToJavaScript(d.else):z+"null";return z+=" )";case "param":return"this.lookup("+JSON.stringify(d.value.toLowerCase())+",lookups)";case "expr_list":z="[";for(F of d.value)"["!==z&&(z+=","),z+=this.evaluateNodeToJavaScript(F);return z+="]";case "unary_expr":return"this.ternaryNot("+this.evaluateNodeToJavaScript(d.expr)+")";case "binary_expr":switch(d.operator){case "AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(d.left)+","+this.evaluateNodeToJavaScript(d.right)+
" )";case "OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(d.left)+","+this.evaluateNodeToJavaScript(d.right)+" )";case "IS":if("null"!==d.right.type)throw Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(d.left)+")";case "ISNOT":if("null"!==d.right.type)throw Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(d.left)+")))";case "IN":return"this.applyIn("+this.evaluateNodeToJavaScript(d.left)+",this.ensureArray("+
this.evaluateNodeToJavaScript(d.right)+"))";case "NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(d.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(d.right)+")))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(d.left)+","+this.evaluateNodeToJavaScript(d.right)+")";case "NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(d.left)+","+this.evaluateNodeToJavaScript(d.right)+")";case "LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(d.left)+
","+this.evaluateNodeToJavaScript(d.right)+","+JSON.stringify(d.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(d.left)+","+this.evaluateNodeToJavaScript(d.right)+","+JSON.stringify(d.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+JSON.stringify(d.operator)+","+this.evaluateNodeToJavaScript(d.left)+","+this.evaluateNodeToJavaScript(d.right)+")";case "*":case "-":case "+":case "/":return"this.calculate("+
JSON.stringify(d.operator)+","+this.evaluateNodeToJavaScript(d.left)+","+this.evaluateNodeToJavaScript(d.right)+")"}throw Error("Not Supported Operator "+d.operator);case "null":case "bool":case "string":case "number":return JSON.stringify(d.value);case "date":return"(new Date("+v(d.value).getTime().toString()+"))";case "timestamp":return"(new Date("+q(d.value).getTime().toString()+"))";case "current_time":return"date"===d.mode?"this.currentDate()":"this.currentTimestamp()";case "column_ref":return"this.featureValue(feature,"+
JSON.stringify(d.column)+",datefields,attributeAdapter)";case "function":return"this.evaluateFunction("+JSON.stringify(d.name)+","+this.evaluateNodeToJavaScript(d.args)+")"}throw Error("Unsupported sql syntax "+d.type);};m.evaluateNode=function(d,z,F){switch(d.type){case "interval":return z=this.evaluateNode(d.value,z,F),h.SqlInterval.createFromValueAndQualifer(z,d.qualifier,d.op);case "case_expression":if("simple"===d.format){var M=y(this.evaluateNode(d.operand,z,F));for(var X=0;X<d.clauses.length;X++)if(M===
y(this.evaluateNode(d.clauses[X].operand,z,F)))return this.evaluateNode(d.clauses[X].value,z,F)}else for(M=0;M<d.clauses.length;M++)if(!0===this.evaluateNode(d.clauses[M].operand,z,F))return this.evaluateNode(d.clauses[M].value,z,F);return null!==d.else?this.evaluateNode(d.else,z,F):null;case "param":return this.parameters[d.value.toLowerCase()];case "expr_list":M=[];for(X of d.value)M.push(this.evaluateNode(X,z,F));return M;case "unary_expr":return I(this.evaluateNode(d.expr,z,F));case "binary_expr":switch(d.operator){case "AND":return g(this.evaluateNode(d.left,
z,F),this.evaluateNode(d.right,z,F));case "OR":return u(this.evaluateNode(d.left,z,F),this.evaluateNode(d.right,z,F));case "IS":if("null"!==d.right.type)throw Error("Unsupported RHS for IS");return null===this.evaluateNode(d.left,z,F);case "ISNOT":if("null"!==d.right.type)throw Error("Unsupported RHS for IS");return null!==this.evaluateNode(d.left,z,F);case "IN":return M=H(this.evaluateNode(d.right,z,F)),w(this.evaluateNode(d.left,z,F),M);case "NOT IN":return M=H(this.evaluateNode(d.right,z,F)),I(w(this.evaluateNode(d.left,
z,F),M));case "BETWEEN":return M=this.evaluateNode(d.left,z,F),d=this.evaluateNode(d.right,z,F),null==M||null==d[0]||null==d[1]?null:M>=y(d[0])&&M<=y(d[1]);case "NOTBETWEEN":return M=this.evaluateNode(d.left,z,F),d=this.evaluateNode(d.right,z,F),null==M||null==d[0]||null==d[1]?null:M<y(d[0])||M>y(d[1]);case "LIKE":return c(this.evaluateNode(d.left,z,F),this.evaluateNode(d.right,z,F),d.escape);case "NOT LIKE":return I(c(this.evaluateNode(d.left,z,F),this.evaluateNode(d.right,z,F),d.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return B(d.operator,
this.evaluateNode(d.left,z,F),this.evaluateNode(d.right,z,F));case "-":case "+":case "*":case "/":return J(d.operator,this.evaluateNode(d.left,z,F),this.evaluateNode(d.right,z,F))}case "null":case "bool":case "string":case "number":return d.value;case "date":return v(d.value);case "timestamp":return q(d.value);case "current_time":return z=new Date,"date"===d.mode&&z.setHours(0,0,0,0),z;case "column_ref":return S(z,d.column,this.datefields,F);case "function":return z=this.evaluateNode(d.args,z,F),
this.isAggregate?L.aggregateFunction(d.name,z):h.evaluateFunction(d.name,z)}throw Error("Unsupported sql syntax "+d.type);};f._createClass(G,[{key:"fieldNames",get:function(){return this.referencedFieldNames}}]);return G}();const W={getAttribute(G,m){return(G&&"object"===typeof G.attributes?G.attributes:G)[m]}};p.WhereClause=R;p.defaultAttributeAdapter=W;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/sql/AggregateFunctions":function(){define(["exports"],function(p){function f(h){let t=
0;for(let l=0;l<h.length;l++)t+=h[l];return t/h.length}function A(h){const t=f(h),l=h.length;let D=0;for(const q of h)D+=(q-t)**2;return 1<l?D/(l-1):0}const L={min:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.min.apply(Math,h[0])},max:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.max.apply(Math,h[0])},avg:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:f(h[0])},sum:{minParams:1,maxParams:1,evaluate:h=>{if(null==h[0])h=null;else{{h=h[0];let t=0;for(let l=0;l<h.length;l++)t+=
h[l];h=t}}return h}},stddev:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.sqrt(A(h[0]))},count:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:h[0].length},var:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:A(h[0])}};p.aggregateFunction=function(h,t){const l=L[h.toLowerCase()];if(null==l)throw Error("Function Not Recognised");if(t.length<l.minParams||t.length>l.maxParams)throw Error(`Invalid Parameter count for call to ${h.toUpperCase()}`);return l.evaluate(t)};p.isAggregate=
function(h,t){h=L[h.toLowerCase()];return null!=h&&t>=h.minParams&&t<=h.maxParams};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/sql/StandardizedFunctions":function(){define(["exports","../string"],function(p,f){let A=function(){function h(){this.op="+";this.minute=this.year=this.month=this.hour=this.second=this.day=0}h.fixDefaults=function(t){if(null!==t.precision||null!==t.secondary)throw Error("Primary and Secondary SqlInterval qualifiers not supported");};h.createFromMilliseconds=
function(t){const l=new h;l.second=t/1E3;return l};h.createFromValueAndQualifer=function(t,l,D){let q=null;const v=new h;v.op="-"===D?"-":"+";if("interval-period"===l.type){h.fixDefaults(l);if("year"===l.period||"month"===l.period)throw Error("Year-Month Intervals not supported");if(/^[0-9]{1,}$/.test(t))v[l.period]=parseFloat(t);else throw Error("Illegal Interval");}else{h.fixDefaults(l.start);h.fixDefaults(l.end);if("year"===l.start.period||"month"===l.start.period)throw Error("Year-Month Intervals not supported");
if("year"===l.end.period||"month"===l.end.period)throw Error("Year-Month Intervals not supported");switch(l.start.period){case "day":switch(l.end.period){case "hour":q=/^[0-9]{1,} [0-9]{1,}$/;if(q.test(t))v[l.start.period]=parseFloat(t.split(" ")[0]),v[l.end.period]=parseFloat(t.split(" ")[1]);else throw Error("Illegal Interval");break;case "minute":q=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$/;if(q.test(t))v[l.start.period]=parseFloat(t.split(" ")[0]),t=t.split(" ")[1].split(":"),v.hour=parseFloat(t[0]),
v.minute=parseFloat(t[1]);else throw Error("Illegal Interval");break;case "second":q=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(q.test(t))v[l.start.period]=parseFloat(t.split(" ")[0]),t=t.split(" ")[1].split(":"),v.hour=parseFloat(t[0]),v.minute=parseFloat(t[1]),v.second=parseFloat(t[2]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;case "hour":switch(l.end.period){case "minute":q=/^[0-9]{1,}:[0-9]{1,}$/;if(q.test(t))v.hour=parseFloat(t.split(":")[0]),
v.minute=parseFloat(t.split(":")[1]);else throw Error("Illegal Interval");break;case "second":q=/^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(q.test(t))t=t.split(":"),v.hour=parseFloat(t[0]),v.minute=parseFloat(t[1]),v.second=parseFloat(t[2]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;case "minute":switch(l.end.period){case "second":q=/^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(q.test(t))t=t.split(":"),v.minute=parseFloat(t[0]),v.second=parseFloat(t[1]);
else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;default:throw"Invalid Interval.";}}return v};h.prototype.valueInMilliseconds=function(){return("-"===this.op?-1:1)*(1E3*this.second+6E4*this.minute+36E5*this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)};return h}();const L={extract:{minParams:2,maxParams:2,evaluate:([h,t])=>{if(null==t)return null;if(t instanceof Date)switch(h.toUpperCase()){case "SECOND":return t.getSeconds();case "MINUTE":return t.getMinutes();
case "HOUR":return t.getHours();case "DAY":return t.getDate();case "MONTH":return t.getMonth()+1;case "YEAR":return t.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");}},substring:{minParams:2,maxParams:3,evaluate:h=>{if(2===h.length){const [t,l]=h;return null==t||null==l?null:t.toString().substring(l-1)}if(3===h.length){const [t,l,D]=h;return null==t||null==l||null==D?null:0>=D?"":t.toString().substring(l-1,l+D-1)}}},position:{minParams:2,maxParams:2,evaluate:([h,t])=>null==h||
null==t?null:t.indexOf(h)+1},trim:{minParams:2,maxParams:3,evaluate:h=>{var t=3===h.length,l=t?h[1]:" ";t=t?h[2]:h[1];if(null==l||null==t)return null;l=`(${f.escapeRegExpString(l)})`;switch(h[0]){case "BOTH":return t.replace(new RegExp(`^${l}*|${l}*$`,"g"),"");case "LEADING":return t.replace(new RegExp(`^${l}*`,"g"),"");case "TRAILING":return t.replace(new RegExp(`${l}*$`,"g"),"")}throw Error("Invalid Parameter for call to TRIM");}},abs:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.abs(h[0])},
ceiling:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.ceil(h[0])},floor:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.floor(h[0])},log:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.log(h[0])},log10:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.log(h[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.sin(h[0])},cos:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.cos(h[0])},tan:{minParams:1,maxParams:1,evaluate:h=>
null==h[0]?null:Math.tan(h[0])},asin:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.asin(h[0])},acos:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.acos(h[0])},atan:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:Math.atan(h[0])},sign:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:0<h[0]?1:0>h[1]?-1:0},power:{minParams:2,maxParams:2,evaluate:h=>null==h[0]||null==h[1]?null:h[0]**h[1]},mod:{minParams:2,maxParams:2,evaluate:h=>null==h[0]||null==h[1]?null:h[0]%h[1]},round:{minParams:1,
maxParams:2,evaluate:h=>{const t=h[0];h=2===h.length?10**h[1]:1;return null==t?null:Math.round(t*h)/h}},truncate:{minParams:1,maxParams:2,evaluate:h=>null==h[0]?null:1===h.length?parseInt(h[0].toFixed(0),10):parseFloat(h[0].toFixed(h[1]))},char_length:{minParams:1,maxParams:1,evaluate:h=>"string"===typeof h[0]||h[0]instanceof String?h[0].length:0},concat:{minParams:1,maxParams:Infinity,evaluate:h=>{let t="";for(let l=0;l<h.length;l++){if(null==h[l])return null;t+=h[l].toString()}return t}},lower:{minParams:1,
maxParams:1,evaluate:h=>null==h[0]?null:h[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:h=>null==h[0]?null:h[0].toString().toUpperCase()}};p.SqlInterval=A;p.evaluateFunction=function(h,t){const l=L[h.toLowerCase()];if(null==l)throw Error("Function Not Recognised");if(t.length<l.minParams||t.length>l.maxParams)throw Error(`Invalid Parameter count for call to ${h.toUpperCase()}`);return l.evaluate(t)};p.isStandardized=function(h,t){h=L[h.toLowerCase()];return null!=h&&t>=h.minParams&&
t<=h.maxParams};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/sql/WhereGrammar":function(){define(["exports","../../chunks/_commonjsHelpers"],function(p,f){var A={exports:{}};(function(h){(function(t,l){h.exports&&(h.exports=l())})(f.commonjsGlobal,function(){function t(l,D,q,v){this.message=l;this.expected=D;this.found=q;this.location=v;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}(function(l,D){function q(){this.constructor=
l}q.prototype=D.prototype;l.prototype=new q})(t,Error);t.buildMessage=function(l,D){function q(g){return g.charCodeAt(0).toString(16).toUpperCase()}function v(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+q(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+q(u)})}function H(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,
"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+q(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+q(u)})}var I={literal:function(g){return'"'+v(g.text)+'"'},"class":function(g){var u="",w;for(w=0;w<g.parts.length;w++)u+=g.parts[w]instanceof Array?H(g.parts[w][0])+"-"+H(g.parts[w][1]):H(g.parts[w]);return"["+(g.inverted?"^":"")+u+"]"},any:function(g){return"any character"},end:function(g){return"end of input"},
other:function(g){return g.description}};return"Expected "+function(g){var u=Array(g.length),w;for(w=0;w<g.length;w++){var c=w;var y=g[w];y=I[y.type](y);u[c]=y}u.sort();if(0<u.length){for(g=w=1;w<u.length;w++)u[w-1]!==u[w]&&(u[g]=u[w],g++);u.length=g}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}(l)+" but "+(D?'"'+v(D)+'"':"end of input")+" found."};return{SyntaxError:t,parse:function(l,D){function q(x,T){return{type:"literal",
text:x,ignoreCase:T}}function v(x,T,Q){return{type:"class",parts:x,inverted:T,ignoreCase:Q}}function H(x){var T=$b[x],Q;if(!T){for(Q=x-1;!$b[Q];)Q--;T=$b[Q];for(T={line:T.line,column:T.column};Q<x;)10===l.charCodeAt(Q)?(T.line++,T.column=1):T.column++,Q++;$b[x]=T}return T}function I(x,T){var Q=H(x),da=H(T);return{start:{offset:x,line:Q.line,column:Q.column},end:{offset:T,line:da.line,column:da.column}}}function g(x){e<sb||(e>sb&&(sb=e,pc=[]),pc.push(x))}function u(){var x=e;var T=pa();if(T!==a)if(T=
c(),T!==a){var Q=pa();Q!==a?x=T:(e=x,x=a)}else e=x,x=a;else e=x,x=a;return x}function w(){var x=e;var T=c();if(T!==a){var Q=[];var da=e;var ta=pa();if(ta!==a){var Ea=Ha();if(Ea!==a){var Ja=pa();if(Ja!==a){var Qa=c();Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)}else e=da,da=a}else e=da,da=a}else e=da,da=a;for(;da!==a;)Q.push(da),da=e,ta=pa(),ta!==a?(Ea=Ha(),Ea!==a?(Ja=pa(),Ja!==a?(Qa=c(),Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)):(e=da,da=a)):(e=da,da=a)):(e=da,da=a);if(Q!==a){x={type:"expr_list"};T=[T];for(da=
0;da<Q.length;da++)T.push(Q[da][3]);x.value=T}else e=x,x=a}else e=x,x=a;return x}function c(){var x=e;var T=y();if(T!==a){var Q=[];var da=e;var ta=pa();if(ta!==a){var Ea=V();if(Ea!==a){var Ja=pa();if(Ja!==a){var Qa=y();Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)}else e=da,da=a}else e=da,da=a}else e=da,da=a;for(;da!==a;)Q.push(da),da=e,ta=pa(),ta!==a?(Ea=V(),Ea!==a?(Ja=pa(),Ja!==a?(Qa=y(),Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)):(e=da,da=a)):(e=da,da=a)):(e=da,da=a);Q!==a?x=T=fb(T,Q):(e=x,x=a)}else e=x,
x=a;return x}function y(){var x=e;var T=B();if(T!==a){var Q=[];var da=e;var ta=pa();if(ta!==a){var Ea=E();if(Ea!==a){var Ja=pa();if(Ja!==a){var Qa=B();Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)}else e=da,da=a}else e=da,da=a}else e=da,da=a;for(;da!==a;)Q.push(da),da=e,ta=pa(),ta!==a?(Ea=E(),Ea!==a?(Ja=pa(),Ja!==a?(Qa=B(),Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)):(e=da,da=a)):(e=da,da=a)):(e=da,da=a);Q!==a?x=T=fb(T,Q):(e=x,x=a)}else e=x,x=a;return x}function B(){var x=e;var T=k();if(T===a){T=e;if(33===l.charCodeAt(e)){var Q=
Ua;e++}else Q=a,0===qa&&g(Ta);if(Q!==a){var da=e;qa++;if(61===l.charCodeAt(e)){var ta=jb;e++}else ta=a,0===qa&&g(tb);qa--;ta===a?da=void 0:(e=da,da=a);da!==a?T=Q=[Q,da]:(e=T,T=a)}else e=T,T=a}T!==a?(Q=pa(),Q!==a?(da=B(),da!==a?x=T={type:"unary_expr",operator:"NOT",expr:da}:(e=x,x=a)):(e=x,x=a)):(e=x,x=a);if(x===a)if(x=e,T=U(),T!==a)if(Q=pa(),Q!==a){Q=[];da=e;ta=pa();if(ta!==a){var Ea=P();if(Ea!==a){var Ja=pa();if(Ja!==a){var Qa=U();Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)}else e=da,da=a}else e=da,da=
a}else e=da,da=a;if(da!==a)for(;da!==a;)Q.push(da),da=e,ta=pa(),ta!==a?(Ea=P(),Ea!==a?(Ja=pa(),Ja!==a?(Qa=U(),Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)):(e=da,da=a)):(e=da,da=a)):(e=da,da=a);else Q=a;Q!==a&&(Q={type:"arithmetic",tail:Q});Q===a&&(Q=e,da=S(),da!==a?(ta=pa(),ta!==a?(ta=Ia(),ta!==a?(ta=pa(),ta!==a?(ta=w(),ta!==a?(Ea=pa(),Ea!==a?(Ea=Ka(),Ea!==a?Q=da={op:da,right:ta}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a),Q===a&&(Q=e,da=S(),da!==a?(ta=pa(),ta!==a?(ta=Ia(),
ta!==a?(ta=pa(),ta!==a?(ta=Ka(),ta!==a?Q=da={op:da,right:{type:"expr_list",value:[]}}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a),Q===a&&(Q=e,da=S(),da!==a?(ta=pa(),ta!==a?(ta=m(),ta!==a?Q=da={op:da,right:ta}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a))),Q===a&&(Q=e,ta=k(),ta!==a?(da=pa(),da!==a?(da=Y(),da!==a?(Ea=pa(),Ea!==a?(Ea=U(),Ea!==a?(Ja=pa(),Ja!==a?(Ja=E(),Ja!==a?(ta=pa(),ta!==a?(ta=U(),ta!==a?Q=ta={op:"NOT"+da,right:{type:"expr_list",value:[Ea,ta]}}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=
a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a),Q===a&&(Q=e,ta=Y(),ta!==a?(da=pa(),da!==a?(da=U(),da!==a?(Ea=pa(),Ea!==a?(Ea=E(),Ea!==a?(Ja=pa(),Ja!==a?(Ja=U(),Ja!==a?Q=ta={op:ta,right:{type:"expr_list",value:[da,Ja]}}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)),Q===a&&(Q=e,da=b(),da!==a?(ta=pa(),ta!==a?(ta=k(),ta!==a?(ta=pa(),ta!==a?(ta=U(),ta!==a?Q=da={op:da+"NOT",right:ta}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a),Q===a&&(Q=e,da=b(),da!==a?
(ta=pa(),ta!==a?(ta=U(),ta!==a?Q=da={op:da,right:ta}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)),Q===a&&(Q=e,da=J(),da!==a?(ta=pa(),ta!==a?(ta=ca(),ta!==a?(Ea=pa(),Ea!==a?(Ea=e,l.substr(e,6).toLowerCase()===ud?(Ja=l.substr(e,6),e+=6):(Ja=a,0===qa&&g(vd)),Ja!==a?(Ja=e,qa++,Qa=W(),qa--,Qa===a?Ja=void 0:(e=Ja,Ja=a),Ja!==a?Ea="ESCAPE":(e=Ea,Ea=a)):(e=Ea,Ea=a),Ea!==a?(Ea=pa(),Ea!==a?(Ea=ka(),Ea!==a?Q=da={op:da,right:ta,escape:Ea.value}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a),Q===
a&&(Q=e,da=J(),da!==a?(ta=pa(),ta!==a?(ta=ca(),ta!==a?Q=da={op:da,right:ta,escape:""}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a))))));Q===a&&(Q=null);Q!==a?(x=T,T=Q,""==T||void 0==T||null==T?T=x:(Q=null,T=Q="arithmetic"==T.type?fb(x,T.tail):gb(T.op,x,T.right,T.escape)),x=T):(e=x,x=a)}else e=x,x=a;else e=x,x=a;return x}function P(){if(l.substr(e,2)===Ra){var x=Ra;e+=2}else x=a,0===qa&&g(Bb);x===a&&(62===l.charCodeAt(e)?(x=fa,e++):(x=a,0===qa&&g(ia)),x===a&&(l.substr(e,2)===ha?(x=ha,e+=2):(x=a,0===qa&&g(la)),
x===a&&(l.substr(e,2)===xa?(x=xa,e+=2):(x=a,0===qa&&g(Aa)),x===a&&(60===l.charCodeAt(e)?(x=Ma,e++):(x=a,0===qa&&g(Pa)),x===a&&(61===l.charCodeAt(e)?(x=jb,e++):(x=a,0===qa&&g(tb)),x===a&&(l.substr(e,2)===$a?(x=$a,e+=2):(x=a,0===qa&&g(ab))))))));return x}function J(){var x=x=e;var T=k();if(T!==a){var Q=pa();if(Q!==a){var da=r();da!==a?x=T=[T,Q,da]:(e=x,x=a)}else e=x,x=a}else e=x,x=a;x!==a&&(x=x[0]+" "+x[2]);x===a&&(x=r());return x}function S(){var x=x=e;var T=k();if(T!==a){var Q=pa();if(Q!==a){var da=
wa();da!==a?x=T=[T,Q,da]:(e=x,x=a)}else e=x,x=a}else e=x,x=a;x!==a&&(x=x[0]+" "+x[2]);x===a&&(x=wa());return x}function U(){var x=e;var T=aa();if(T!==a){var Q=[];var da=e;var ta=pa();if(ta!==a){var Ea=O();if(Ea!==a){var Ja=pa();if(Ja!==a){var Qa=aa();Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)}else e=da,da=a}else e=da,da=a}else e=da,da=a;for(;da!==a;)Q.push(da),da=e,ta=pa(),ta!==a?(Ea=O(),Ea!==a?(Ja=pa(),Ja!==a?(Qa=aa(),Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)):(e=da,da=a)):(e=da,da=a)):(e=da,da=a);Q!==
a?x=T=fb(T,Q):(e=x,x=a)}else e=x,x=a;return x}function O(){if(43===l.charCodeAt(e)){var x=Va;e++}else x=a,0===qa&&g(hb);x===a&&(45===l.charCodeAt(e)?(x=lb,e++):(x=a,0===qa&&g(qc)));return x}function aa(){var x=e;var T=n();if(T!==a){var Q=[];var da=e;var ta=pa();if(ta!==a){var Ea=ba();if(Ea!==a){var Ja=pa();if(Ja!==a){var Qa=n();Qa!==a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)}else e=da,da=a}else e=da,da=a}else e=da,da=a;for(;da!==a;)Q.push(da),da=e,ta=pa(),ta!==a?(Ea=ba(),Ea!==a?(Ja=pa(),Ja!==a?(Qa=n(),Qa!==
a?da=ta=[ta,Ea,Ja,Qa]:(e=da,da=a)):(e=da,da=a)):(e=da,da=a)):(e=da,da=a);Q!==a?x=T=fb(T,Q):(e=x,x=a)}else e=x,x=a;return x}function ba(){if(42===l.charCodeAt(e)){var x=wd;e++}else x=a,0===qa&&g(xd);x===a&&(47===l.charCodeAt(e)?(x=yd,e++):(x=a,0===qa&&g(zd)));return x}function n(){var x=ka();if(x===a){var T=e;var Q=e;var da=Ca();if(da!==a){var ta=Ga();if(ta!==a){var Ea=La();Ea!==a?Q=da=parseFloat(da+ta+Ea):(e=Q,Q=a)}else e=Q,Q=a}else e=Q,Q=a;Q===a&&(Q=e,da=Ca(),da!==a?(ta=Ga(),ta!==a?Q=da=parseFloat(da+
ta):(e=Q,Q=a)):(e=Q,Q=a),Q===a&&(Q=e,da=Ca(),da!==a?(ta=La(),ta!==a?Q=da=parseFloat(da+ta):(e=Q,Q=a)):(e=Q,Q=a),Q===a&&(Q=e,da=Ca(),da!==a&&(da=parseFloat(da)),Q=da)));var Ja=Q;if(Ja!==a){var Qa=e;qa++;var Ad=R();qa--;Ad===a?Qa=void 0:(e=Qa,Qa=a);Qa!==a?T=Ja={type:"number",value:Ja}:(e=T,T=a)}else e=T,T=a;x=T;if(x===a){var Mb=e;var Cb=e;if(l.substr(e,4).toLowerCase()===Bd){var ac=l.substr(e,4);e+=4}else ac=a,0===qa&&g(Cd);if(ac!==a){var Nb=e;qa++;var Dd=W();qa--;Dd===a?Nb=void 0:(e=Nb,Nb=a);Nb!==
a?Cb=ac=[ac,Nb]:(e=Cb,Cb=a)}else e=Cb,Cb=a;var yb=Cb;yb!==a&&(yb={type:"bool",value:!0});Mb=yb;if(Mb===a){Mb=e;var Db=e;if(l.substr(e,5).toLowerCase()===Ed){var bc=l.substr(e,5);e+=5}else bc=a,0===qa&&g(Fd);if(bc!==a){var Ob=e;qa++;var Gd=W();qa--;Gd===a?Ob=void 0:(e=Ob,Ob=a);Ob!==a?Db=bc=[bc,Ob]:(e=Db,Db=a)}else e=Db,Db=a;yb=Db;yb!==a&&(yb={type:"bool",value:!1});Mb=yb}x=Mb;if(x===a){var Eb=e;if(l.substr(e,4).toLowerCase()===Hd){var cc=l.substr(e,4);e+=4}else cc=a,0===qa&&g(Id);if(cc!==a){var Pb=
e;qa++;var Jd=W();qa--;Jd===a?Pb=void 0:(e=Pb,Pb=a);Pb!==a?Eb=cc=[cc,Pb]:(e=Eb,Eb=a)}else e=Eb,Eb=a;var rc=Eb;rc!==a&&(rc={type:"null",value:null});x=rc;if(x===a){var wb=e;var Fb=e;if(l.substr(e,4).toLowerCase()===Kd){var sc=l.substr(e,4);e+=4}else sc=a,0===qa&&g(Ld);if(sc!==a){var dc=e;qa++;var Md=W();qa--;Md===a?dc=void 0:(e=dc,dc=a);dc!==a?Fb=sc="DATE":(e=Fb,Fb=a)}else e=Fb,Fb=a;var Rc=Fb;if(Rc!==a){var Nd=pa();if(Nd!==a){var Sc=ca();Sc!==a?wb=Rc={type:"date",value:Sc.value}:(e=wb,wb=a)}else e=
wb,wb=a}else e=wb,wb=a;x=wb;if(x===a){var xb=e;var Gb=e;if(l.substr(e,9).toLowerCase()===Od){var tc=l.substr(e,9);e+=9}else tc=a,0===qa&&g(Pd);if(tc!==a){var ec=e;qa++;var Qd=W();qa--;Qd===a?ec=void 0:(e=ec,ec=a);ec!==a?Gb=tc="TIMESTAMP":(e=Gb,Gb=a)}else e=Gb,Gb=a;var Tc=Gb;if(Tc!==a){var Rd=pa();if(Rd!==a){var Uc=ca();Uc!==a?xb=Tc={type:"timestamp",value:Uc.value}:(e=xb,xb=a)}else e=xb,xb=a}else e=xb,xb=a;x=xb;if(x===a){var Xa=e;var Qb=Z();if(Qb!==a){var uc=pa();if(uc!==a){if(45===l.charCodeAt(e)){var ub=
lb;e++}else ub=a,0===qa&&g(qc);ub===a&&(43===l.charCodeAt(e)?(ub=Va,e++):(ub=a,0===qa&&g(hb)));if(ub!==a){var vc=pa();if(vc!==a){var Rb=ca();if(Rb!==a){var Sd=pa();if(Sd!==a){var Vc=z();Vc!==a?Xa=Qb={type:"interval",value:Rb,qualifier:Vc,op:ub}:(e=Xa,Xa=a)}else e=Xa,Xa=a}else e=Xa,Xa=a}else e=Xa,Xa=a}else e=Xa,Xa=a}else e=Xa,Xa=a}else e=Xa,Xa=a;Xa===a&&(Xa=e,Qb=Z(),Qb!==a?(uc=pa(),uc!==a?(ub=ca(),ub!==a?(vc=pa(),vc!==a?(Rb=z(),Rb!==a?Xa=Qb={type:"interval",value:ub,qualifier:Rb,op:""}:(e=Xa,Xa=a)):
(e=Xa,Xa=a)):(e=Xa,Xa=a)):(e=Xa,Xa=a)):(e=Xa,Xa=a));x=Xa}}}}}}var Wa=x;if(Wa===a){var db=e;var Hb=e;if(l.substr(e,7).toLowerCase()===Td){var wc=l.substr(e,7);e+=7}else wc=a,0===qa&&g(Ud);if(wc!==a){var fc=e;qa++;var Vd=W();qa--;Vd===a?fc=void 0:(e=fc,fc=a);fc!==a?Hb=wc="EXTRACT":(e=Hb,Hb=a)}else e=Hb,Hb=a;var Wc=Hb;if(Wc!==a){var Wd=pa();if(Wd!==a){var Xd=Ia();if(Xd!==a){var Yd=pa();if(Yd!==a){var pb=ea();pb===a&&(pb=ja(),pb===a&&(pb=na(),pb===a&&(pb=ra(),pb===a&&(pb=ua(),pb===a&&(pb=za())))));var Xc=
pb;if(Xc!==a){var Zd=pa();if(Zd!==a){var $d=K();if($d!==a){var ae=pa();if(ae!==a){var Yc=c();if(Yc!==a){var be=pa();if(be!==a){var ce=Ka();ce!==a?db=Wc={type:"function",name:"extract",args:{type:"expr_list",value:[{type:"string",value:Xc},Yc]}}:(e=db,db=a)}else e=db,db=a}else e=db,db=a}else e=db,db=a}else e=db,db=a}else e=db,db=a}else e=db,db=a}else e=db,db=a}else e=db,db=a}else e=db,db=a}else e=db,db=a;Wa=db;if(Wa===a){var bb=e;var Ib=e;if(l.substr(e,9).toLowerCase()===de){var xc=l.substr(e,9);e+=
9}else xc=a,0===qa&&g(ee);if(xc!==a){var gc=e;qa++;var fe=W();qa--;fe===a?gc=void 0:(e=gc,gc=a);gc!==a?Ib=xc="SUBSTRING":(e=Ib,Ib=a)}else e=Ib,Ib=a;var Zc=Ib;if(Zc!==a){var ge=pa();if(ge!==a){var he=Ia();if(he!==a){var ie=pa();if(ie!==a){var yc=c();if(yc!==a){var je=pa();if(je!==a){var ke=K();if(ke!==a){var le=pa();if(le!==a){var zc=c();if(zc!==a){var me=pa();if(me!==a){var mb=e;var Jb=e;if(l.substr(e,3).toLowerCase()===ne){var Ac=l.substr(e,3);e+=3}else Ac=a,0===qa&&g(oe);if(Ac!==a){var hc=e;qa++;
var pe=W();qa--;pe===a?hc=void 0:(e=hc,hc=a);hc!==a?Jb=Ac="FOR":(e=Jb,Jb=a)}else e=Jb,Jb=a;var Sb=Jb;if(Sb!==a){var $c=pa();if($c!==a){var ad=c();if(ad!==a){var bd=pa();bd!==a?mb=Sb=[Sb,$c,ad,bd]:(e=mb,mb=a)}else e=mb,mb=a}else e=mb,mb=a}else e=mb,mb=a;mb===a&&(mb=null);mb!==a?(Sb=Ka(),Sb!==a?bb=Zc={type:"function",name:"substring",args:{type:"expr_list",value:mb?[yc,zc,mb[2]]:[yc,zc]}}:(e=bb,bb=a)):(e=bb,bb=a)}else e=bb,bb=a}else e=bb,bb=a}else e=bb,bb=a}else e=bb,bb=a}else e=bb,bb=a}else e=bb,bb=
a}else e=bb,bb=a}else e=bb,bb=a}else e=bb,bb=a}else e=bb,bb=a;Wa=bb;if(Wa===a){var Na=e;var Tb=N();if(Tb!==a){var Bc=pa();if(Bc!==a){var Cc=Ia();if(Cc!==a){var Dc=pa();if(Dc!==a){var qb=d();qb===a&&(qb=null);if(qb!==a){var Ec=pa();if(Ec!==a){var Ub=c();if(Ub!==a){var Fc=pa();if(Fc!==a){var Gc=K();if(Gc!==a){var qe=pa();if(qe!==a){var cd=c();if(cd!==a){var re=pa();if(re!==a){var se=Ka();se!==a?Na=Tb={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==qb?"BOTH":qb},
Ub,cd]}}:(e=Na,Na=a)}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a}else e=Na,Na=a;Na===a&&(Na=e,Tb=N(),Tb!==a?(Bc=pa(),Bc!==a?(Cc=Ia(),Cc!==a?(Dc=pa(),Dc!==a?(qb=d(),qb===a&&(qb=null),qb!==a?(Ec=pa(),Ec!==a?(Ub=c(),Ub!==a?(Fc=pa(),Fc!==a?(Gc=Ka(),Gc!==a?Na=Tb={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==qb?"BOTH":qb},Ub]}}:(e=Na,Na=a)):(e=
Na,Na=a)):(e=Na,Na=a)):(e=Na,Na=a)):(e=Na,Na=a)):(e=Na,Na=a)):(e=Na,Na=a)):(e=Na,Na=a)):(e=Na,Na=a));Wa=Na;if(Wa===a){var eb=e;var Kb=e;if(l.substr(e,8).toLowerCase()===te){var Hc=l.substr(e,8);e+=8}else Hc=a,0===qa&&g(ue);if(Hc!==a){var ic=e;qa++;var ve=W();qa--;ve===a?ic=void 0:(e=ic,ic=a);ic!==a?Kb=Hc="POSITION":(e=Kb,Kb=a)}else e=Kb,Kb=a;var dd=Kb;if(dd!==a){var we=pa();if(we!==a){var xe=Ia();if(xe!==a){var ye=pa();if(ye!==a){var ed=c();if(ed!==a){var ze=pa();if(ze!==a){var Ae=wa();if(Ae!==a){var Be=
pa();if(Be!==a){var fd=c();if(fd!==a){var Ce=pa();if(Ce!==a){var De=Ka();De!==a?eb=dd={type:"function",name:"position",args:{type:"expr_list",value:[ed,fd]}}:(e=eb,eb=a)}else e=eb,eb=a}else e=eb,eb=a}else e=eb,eb=a}else e=eb,eb=a}else e=eb,eb=a}else e=eb,eb=a}else e=eb,eb=a}else e=eb,eb=a}else e=eb,eb=a}else e=eb,eb=a;Wa=eb;if(Wa===a){var kb=e;var Vb;var rb=e;rb=Vb=C();if(rb===a)if(rb=e,96===l.charCodeAt(e)?(Vb=gd,e++):(Vb=a,0===qa&&g(hd)),Vb!==a){var jc=[];if(id.test(l.charAt(e))){var vb=l.charAt(e);
e++}else vb=a,0===qa&&g(jd);if(vb!==a)for(;vb!==a;)jc.push(vb),id.test(l.charAt(e))?(vb=l.charAt(e),e++):(vb=a,0===qa&&g(jd));else jc=a;jc!==a?(96===l.charCodeAt(e)?(vb=gd,e++):(vb=a,0===qa&&g(hd)),vb!==a?rb=Vb=jc.join(""):(e=rb,rb=a)):(e=rb,rb=a)}else e=rb,rb=a;var Ic=rb;if(Ic!==a){var Ee=pa();if(Ee!==a){var Fe=Ia();if(Fe!==a){var Ge=pa();if(Ge!==a){var Wb=w();Wb===a&&(Wb=null);if(Wb!==a){var He=pa();if(He!==a){var Ie=Ka();Ie!==a?kb=Ic={type:"function",name:Ic,args:Wb?Wb:{type:"expr_list",value:[]}}:
(e=kb,kb=a)}else e=kb,kb=a}else e=kb,kb=a}else e=kb,kb=a}else e=kb,kb=a}else e=kb,kb=a}else e=kb,kb=a;Wa=kb;if(Wa===a){var nb;var Sa=e;var Xb=ya();if(Xb!==a){var Jc=pa();if(Jc!==a){var Yb=c();if(Yb!==a){var Kc=pa();if(Kc!==a){var zb=[];for(nb=va();nb!==a;)zb.push(nb),nb=va();if(zb!==a)if(nb=pa(),nb!==a){var kc=Ba();kc!==a?Sa=Xb={type:"case_expression",format:"simple",operand:Yb,clauses:zb,else:null}:(e=Sa,Sa=a)}else e=Sa,Sa=a;else e=Sa,Sa=a}else e=Sa,Sa=a}else e=Sa,Sa=a}else e=Sa,Sa=a}else e=Sa,Sa=
a;if(Sa===a)if(Sa=e,Xb=ya(),Xb!==a)if(Jc=pa(),Jc!==a)if(Yb=c(),Yb!==a)if(Kc=pa(),Kc!==a){zb=[];for(nb=va();nb!==a;)zb.push(nb),nb=va();if(zb!==a)if(nb=pa(),nb!==a)if(kc=Da(),kc!==a){var Je=pa();if(Je!==a){var Ke=Ba();Ke!==a?Sa=Xb={type:"case_expression",format:"simple",operand:Yb,clauses:zb,else:kc.value}:(e=Sa,Sa=a)}else e=Sa,Sa=a}else e=Sa,Sa=a;else e=Sa,Sa=a;else e=Sa,Sa=a}else e=Sa,Sa=a;else e=Sa,Sa=a;else e=Sa,Sa=a;else e=Sa,Sa=a;var Lc=Sa;if(Lc===a){var ob;var Ya=e;var Zb=ya();if(Zb!==a){var Mc=
pa();if(Mc!==a){var Ab=[];for(ob=oa();ob!==a;)Ab.push(ob),ob=oa();if(Ab!==a)if(ob=pa(),ob!==a){var lc=Ba();lc!==a?Ya=Zb={type:"case_expression",format:"searched",clauses:Ab,else:null}:(e=Ya,Ya=a)}else e=Ya,Ya=a;else e=Ya,Ya=a}else e=Ya,Ya=a}else e=Ya,Ya=a;if(Ya===a)if(Ya=e,Zb=ya(),Zb!==a)if(Mc=pa(),Mc!==a){Ab=[];for(ob=oa();ob!==a;)Ab.push(ob),ob=oa();if(Ab!==a)if(ob=pa(),ob!==a)if(lc=Da(),lc!==a){var Le=pa();if(Le!==a){var Me=Ba();Me!==a?Ya=Zb={type:"case_expression",format:"searched",clauses:Ab,
else:lc.value}:(e=Ya,Ya=a)}else e=Ya,Ya=a}else e=Ya,Ya=a;else e=Ya,Ya=a;else e=Ya,Ya=a}else e=Ya,Ya=a;else e=Ya,Ya=a;Lc=Ya}Wa=Lc;if(Wa===a){var mc;var Lb=e;var kd=R();if(kd!==a){var Nc=[];for(mc=G();mc!==a;)Nc.push(mc),mc=G();Nc!==a?Lb=kd+=Nc.join(""):(e=Lb,Lb=a)}else e=Lb,Lb=a;var nc=Lb;if(nc!==a){var Oc=nc;nc=/^CURRENT_DATE$/i.test(Oc)?{type:"current_time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(Oc)?{type:"current_time",mode:"timestamp"}:{type:"column_ref",table:"",column:Oc}}Wa=nc;if(Wa===a&&
(Wa=m(),Wa===a)){Wa=e;var ld=Ia();if(ld!==a){var Ne=pa();if(Ne!==a){var Pc=c();if(Pc!==a){var Oe=pa();if(Oe!==a){var Pe=Ka();Pe!==a?(Pc.paren=!0,Wa=ld=Pc):(e=Wa,Wa=a)}else e=Wa,Wa=a}else e=Wa,Wa=a}else e=Wa,Wa=a}else e=Wa,Wa=a}}}}}}}}return Wa}function C(){var x;var T=e;var Q=R();if(Q!==a){var da=[];for(x=W();x!==a;)da.push(x),x=W();da!==a?T=Q+=da.join(""):(e=T,T=a)}else e=T,T=a;return T}function R(){if(Qe.test(l.charAt(e))){var x=l.charAt(e);e++}else x=a,0===qa&&g(Re);return x}function W(){if(Se.test(l.charAt(e))){var x=
l.charAt(e);e++}else x=a,0===qa&&g(Te);return x}function G(){if(Ue.test(l.charAt(e))){var x=l.charAt(e);e++}else x=a,0===qa&&g(Ve);return x}function m(){var x=e;if(64===l.charCodeAt(e)){var T=We;e++}else T=a,0===qa&&g(Xe);if(T!==a){var Q=C();Q!==a?x=T=[T,Q]:(e=x,x=a)}else e=x,x=a;x!==a&&(x={type:"param",value:x[1]});return x}function d(){var x=e;if(l.substr(e,7).toLowerCase()===Ye){var T=l.substr(e,7);e+=7}else T=a,0===qa&&g(Ze);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="LEADING":
(e=x,x=a)}else e=x,x=a;x===a&&(x=e,l.substr(e,8).toLowerCase()===$e?(T=l.substr(e,8),e+=8):(T=a,0===qa&&g(af)),T!==a?(T=e,qa++,Q=W(),qa--,Q===a?T=void 0:(e=T,T=a),T!==a?x="TRAILING":(e=x,x=a)):(e=x,x=a),x===a&&(x=e,l.substr(e,4).toLowerCase()===bf?(T=l.substr(e,4),e+=4):(T=a,0===qa&&g(cf)),T!==a?(T=e,qa++,Q=W(),qa--,Q===a?T=void 0:(e=T,T=a),T!==a?x="BOTH":(e=x,x=a)):(e=x,x=a)));return x}function z(){var x=e;var T=e;var Q=F();if(Q!==a){var da=pa();if(da!==a)if(da=Ia(),da!==a)if(da=pa(),da!==a)if(da=
X(),da!==a){var ta=pa();ta!==a?(ta=Ka(),ta!==a?T=Q={type:"interval-period",period:Q.value,precision:da,secondary:null}:(e=T,T=a)):(e=T,T=a)}else e=T,T=a;else e=T,T=a;else e=T,T=a;else e=T,T=a}else e=T,T=a;T===a&&(T=e,Q=F(),Q!==a&&(Q=md(Q)),T=Q);if(T!==a)if(Q=pa(),Q!==a)if(Q=e,l.substr(e,2).toLowerCase()===df?(da=l.substr(e,2),e+=2):(da=a,0===qa&&g(ef)),da!==a?(da=e,qa++,ta=W(),qa--,ta===a?da=void 0:(e=da,da=a),da!==a?Q="TO":(e=Q,Q=a)):(e=Q,Q=a),Q!==a)if(Q=pa(),Q!==a){Q=e;da=F();da!==a&&(da={type:"interval-period",
period:da.value,precision:null,secondary:null});Q=da;if(Q===a){Q=e;da=za();if(da!==a)if(da=pa(),da!==a)if(da=Ia(),da!==a)if(da=pa(),da!==a)if(da=X(),da!==a)if(ta=pa(),ta!==a)if(ta=Ha(),ta!==a)if(ta=pa(),ta!==a)if(ta=M(),ta!==a){var Ea=pa();Ea!==a?(Ea=Ka(),Ea!==a?Q=da=nd(da,ta):(e=Q,Q=a)):(e=Q,Q=a)}else e=Q,Q=a;else e=Q,Q=a;else e=Q,Q=a;else e=Q,Q=a;else e=Q,Q=a;else e=Q,Q=a;else e=Q,Q=a;else e=Q,Q=a;else e=Q,Q=a;Q===a&&(Q=e,da=za(),da!==a?(da=pa(),da!==a?(da=Ia(),da!==a?(da=pa(),da!==a?(da=X(),da!==
a?(ta=pa(),ta!==a?(ta=Ka(),ta!==a?Q=da={type:"interval-period",period:"second",precision:da,secondary:null}:(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a)):(e=Q,Q=a),Q===a&&(Q=e,da=za(),da!==a&&(da={type:"interval-period",period:"second",precision:null,secondary:null}),Q=da))}Q!==a?x=T={type:"interval-qualifier",start:T,end:Q}:(e=x,x=a)}else e=x,x=a;else e=x,x=a;else e=x,x=a;else e=x,x=a;x===a&&(x=e,Q=F(),Q!==a?(T=pa(),T!==a?(T=Ia(),T!==a?(T=pa(),T!==a?(T=M(),T!==a?(da=pa(),da!==
a?(da=Ka(),da!==a?x=Q={type:"interval-period",period:Q.value,precision:T,secondary:null}:(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a),x===a&&(x=e,Q=F(),Q!==a&&(Q=md(Q)),x=Q,x===a&&(x=e,Q=za(),Q!==a?(T=pa(),T!==a?(T=Ia(),T!==a?(T=pa(),T!==a?(T=X(),T!==a?(da=pa(),da!==a?(da=Ha(),da!==a?(Q=pa(),Q!==a?(Q=M(),Q!==a?(da=pa(),da!==a?(da=Ka(),da!==a?x=Q=nd(T,Q):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,
x=a),x===a&&(x=e,Q=za(),Q!==a?(T=pa(),T!==a?(T=Ia(),T!==a?(T=pa(),T!==a?(T=M(),T!==a?(da=pa(),da!==a?(da=Ka(),da!==a?x=Q={type:"interval-period",period:"second",precision:T,secondary:null}:(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a),x===a&&(x=e,Q=za(),Q!==a&&(Q={type:"interval-period",period:"second",precision:null,secondary:null}),x=Q)))));return x}function F(){var x=e;x=na();x!==a&&(x={type:"string",value:"day"});x===a&&(x=e,x=ra(),x!==a&&(x={type:"string",value:"hour"}),
x===a&&(x=e,x=ua(),x!==a&&(x={type:"string",value:"minute"}),x===a&&(x=e,x=ja(),x!==a&&(x={type:"string",value:"month"}),x===a&&(x=e,x=ea(),x!==a&&(x={type:"string",value:"year"})))));return x}function M(){var x=ma();x!==a&&(x=parseFloat(x));return x}function X(){var x=ma();x!==a&&(x=parseFloat(x));return x}function ca(){var x=ka();x===a&&(x=m());return x}function ka(){var x=e;if(39===l.charCodeAt(e)){var T=od;e++}else T=a,0===qa&&g(pd);T===a&&(l.substr(e,2)===qd?(T=qd,e+=2):(T=a,0===qa&&g(ff)));
if(T!==a){T=[];var Q=e;l.substr(e,2)===oc?(Q=oc,e+=2):(Q=a,0===qa&&g(rd));Q!==a&&(Q="'");Q===a&&(sd.test(l.charAt(e))?(Q=l.charAt(e),e++):(Q=a,0===qa&&g(td)));for(;Q!==a;)T.push(Q),Q=e,l.substr(e,2)===oc?(Q=oc,e+=2):(Q=a,0===qa&&g(rd)),Q!==a&&(Q="'"),Q===a&&(sd.test(l.charAt(e))?(Q=l.charAt(e),e++):(Q=a,0===qa&&g(td)));T!==a?(39===l.charCodeAt(e)?(Q=od,e++):(Q=a,0===qa&&g(pd)),Q!==a?x=T={type:"string",value:T.join("")}:(e=x,x=a)):(e=x,x=a)}else e=x,x=a;return x}function oa(){var x=e;var T=Oa();if(T!==
a)if(T=pa(),T!==a)if(T=c(),T!==a){var Q=pa();Q!==a?(Q=Fa(),Q!==a?(Q=pa(),Q!==a?(Q=c(),Q!==a?x=T={type:"when_clause",operand:T,value:Q}:(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)}else e=x,x=a;else e=x,x=a;else e=x,x=a;return x}function va(){var x=e;var T=Oa();if(T!==a)if(T=pa(),T!==a)if(T=c(),T!==a){var Q=pa();Q!==a?(Q=Fa(),Q!==a?(Q=pa(),Q!==a?(Q=c(),Q!==a?x=T={type:"when_clause",operand:T,value:Q}:(e=x,x=a)):(e=x,x=a)):(e=x,x=a)):(e=x,x=a)}else e=x,x=a;else e=x,x=a;else e=x,x=a;return x}function Da(){var x=
e;var T=e;if(l.substr(e,4).toLowerCase()===gf){var Q=l.substr(e,4);e+=4}else Q=a,0===qa&&g(hf);if(Q!==a){Q=e;qa++;var da=W();qa--;da===a?Q=void 0:(e=Q,Q=a);Q!==a?T="ELSE":(e=T,T=a)}else e=T,T=a;T!==a?(T=pa(),T!==a?(T=c(),T!==a?x={type:"else_clause",value:T}:(e=x,x=a)):(e=x,x=a)):(e=x,x=a);return x}function Ca(){var x=ma();if(x===a){x=e;if(45===l.charCodeAt(e)){var T=lb;e++}else T=a,0===qa&&g(qc);T===a&&(43===l.charCodeAt(e)?(T=Va,e++):(T=a,0===qa&&g(hb)));if(T!==a){var Q=ma();Q!==a?x=T=T[0]+Q:(e=
x,x=a)}else e=x,x=a}return x}function Ga(){var x=e;if(46===l.charCodeAt(e)){var T=jf;e++}else T=a,0===qa&&g(kf);T!==a?(T=ma(),T===a&&(T=null),T!==a?x="."+(null!=T?T:""):(e=x,x=a)):(e=x,x=a);return x}function La(){var x;var T=x=e;if(lf.test(l.charAt(e))){var Q=l.charAt(e);e++}else Q=a,0===qa&&g(mf);Q!==a?(nf.test(l.charAt(e))?(Q=l.charAt(e),e++):(Q=a,0===qa&&g(of)),Q===a&&(Q=null),Q!==a?T="e"+(null===Q?"":Q):(e=T,T=a)):(e=T,T=a);T!==a?(Q=ma(),Q!==a?x=T+Q:(e=x,x=a)):(e=x,x=a);return x}function ma(){var x=
[];var T=sa();if(T!==a)for(;T!==a;)x.push(T),T=sa();else x=a;x!==a&&(x=x.join(""));return x}function sa(){if(pf.test(l.charAt(e))){var x=l.charAt(e);e++}else x=a,0===qa&&g(qf);return x}function wa(){var x=e;if(l.substr(e,2).toLowerCase()===rf){var T=l.substr(e,2);e+=2}else T=a,0===qa&&g(sf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="IN":(e=x,x=a)}else e=x,x=a;return x}function b(){var x=e;if(l.substr(e,2).toLowerCase()===tf){var T=l.substr(e,2);e+=2}else T=a,0===qa&&g(uf);
if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="IS":(e=x,x=a)}else e=x,x=a;return x}function r(){var x=e;if(l.substr(e,4).toLowerCase()===vf){var T=l.substr(e,4);e+=4}else T=a,0===qa&&g(wf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="LIKE":(e=x,x=a)}else e=x,x=a;return x}function k(){var x=e;if(l.substr(e,3).toLowerCase()===xf){var T=l.substr(e,3);e+=3}else T=a,0===qa&&g(yf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="NOT":(e=x,x=
a)}else e=x,x=a;return x}function E(){var x=e;if(l.substr(e,3).toLowerCase()===zf){var T=l.substr(e,3);e+=3}else T=a,0===qa&&g(Af);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="AND":(e=x,x=a)}else e=x,x=a;return x}function V(){var x=e;if(l.substr(e,2).toLowerCase()===Bf){var T=l.substr(e,2);e+=2}else T=a,0===qa&&g(Cf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="OR":(e=x,x=a)}else e=x,x=a;return x}function Y(){var x=e;if(l.substr(e,7).toLowerCase()===Df){var T=
l.substr(e,7);e+=7}else T=a,0===qa&&g(Ef);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="BETWEEN":(e=x,x=a)}else e=x,x=a;return x}function K(){var x=e;if(l.substr(e,4).toLowerCase()===Ff){var T=l.substr(e,4);e+=4}else T=a,0===qa&&g(Gf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="FROM":(e=x,x=a)}else e=x,x=a;return x}function N(){var x=e;if(l.substr(e,4).toLowerCase()===Hf){var T=l.substr(e,4);e+=4}else T=a,0===qa&&g(If);if(T!==a){T=e;qa++;var Q=W();qa--;
Q===a?T=void 0:(e=T,T=a);T!==a?x="TRIM":(e=x,x=a)}else e=x,x=a;return x}function Z(){var x=e;if(l.substr(e,8).toLowerCase()===Jf){var T=l.substr(e,8);e+=8}else T=a,0===qa&&g(Kf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="INTERVAL":(e=x,x=a)}else e=x,x=a;return x}function ea(){var x=e;if(l.substr(e,4).toLowerCase()===Lf){var T=l.substr(e,4);e+=4}else T=a,0===qa&&g(Mf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="YEAR":(e=x,x=a)}else e=x,x=a;return x}
function ja(){var x=e;if(l.substr(e,5).toLowerCase()===Nf){var T=l.substr(e,5);e+=5}else T=a,0===qa&&g(Of);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="MONTH":(e=x,x=a)}else e=x,x=a;return x}function na(){var x=e;if(l.substr(e,3).toLowerCase()===Pf){var T=l.substr(e,3);e+=3}else T=a,0===qa&&g(Qf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="DAY":(e=x,x=a)}else e=x,x=a;return x}function ra(){var x=e;if(l.substr(e,4).toLowerCase()===Rf){var T=l.substr(e,
4);e+=4}else T=a,0===qa&&g(Sf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="HOUR":(e=x,x=a)}else e=x,x=a;return x}function ua(){var x=e;if(l.substr(e,6).toLowerCase()===Tf){var T=l.substr(e,6);e+=6}else T=a,0===qa&&g(Uf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="MINUTE":(e=x,x=a)}else e=x,x=a;return x}function za(){var x=e;if(l.substr(e,6).toLowerCase()===Vf){var T=l.substr(e,6);e+=6}else T=a,0===qa&&g(Wf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=
void 0:(e=T,T=a);T!==a?x="SECOND":(e=x,x=a)}else e=x,x=a;return x}function ya(){var x=e;if(l.substr(e,4).toLowerCase()===Xf){var T=l.substr(e,4);e+=4}else T=a,0===qa&&g(Yf);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="CASE":(e=x,x=a)}else e=x,x=a;return x}function Ba(){var x=e;if(l.substr(e,3).toLowerCase()===Zf){var T=l.substr(e,3);e+=3}else T=a,0===qa&&g($f);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="END":(e=x,x=a)}else e=x,x=a;return x}function Oa(){var x=
e;if(l.substr(e,4).toLowerCase()===ag){var T=l.substr(e,4);e+=4}else T=a,0===qa&&g(bg);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="WHEN":(e=x,x=a)}else e=x,x=a;return x}function Fa(){var x=e;if(l.substr(e,4).toLowerCase()===cg){var T=l.substr(e,4);e+=4}else T=a,0===qa&&g(dg);if(T!==a){T=e;qa++;var Q=W();qa--;Q===a?T=void 0:(e=T,T=a);T!==a?x="THEN":(e=x,x=a)}else e=x,x=a;return x}function Ha(){if(44===l.charCodeAt(e)){var x=eg;e++}else x=a,0===qa&&g(fg);return x}function Ia(){if(40===
l.charCodeAt(e)){var x=gg;e++}else x=a,0===qa&&g(hg);return x}function Ka(){if(41===l.charCodeAt(e)){var x=ig;e++}else x=a,0===qa&&g(jg);return x}function pa(){var x;var T=[];for(x=cb();x!==a;)T.push(x),x=cb();return T}function cb(){if(kg.test(l.charAt(e))){var x=l.charAt(e);e++}else x=a,0===qa&&g(lg);return x}function gb(x,T,Q,da){x={type:"binary_expr",operator:x,left:T,right:Q};void 0!==da&&(x.escape=da);return x}function fb(x,T){for(var Q=0;Q<T.length;Q++)x=gb(T[Q][1],x,T[Q][3]);return x}D=void 0!==
D?D:{};var a={},ib={start:u},Za=u,Ua="!",Ta=q("!",!1),jb="\x3d",tb=q("\x3d",!1),Ra="\x3e\x3d",Bb=q("\x3e\x3d",!1),fa="\x3e",ia=q("\x3e",!1),ha="\x3c\x3d",la=q("\x3c\x3d",!1),xa="\x3c\x3e",Aa=q("\x3c\x3e",!1),Ma="\x3c",Pa=q("\x3c",!1),$a="!\x3d",ab=q("!\x3d",!1),Va="+",hb=q("+",!1),lb="-",qc=q("-",!1),wd="*",xd=q("*",!1),yd="/",zd=q("/",!1),Qe=/^[A-Za-z_\x80-\uFFFF]/,Re=v([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],!1,!1),Se=/^[A-Za-z0-9_]/,Te=v([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Ue=/^[A-Za-z0-9_.\x80-\uFFFF]/,
Ve=v([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),We="@",Xe=q("@",!1),md=function(x){return{type:"interval-period",period:x.value,precision:null,secondary:null}},nd=function(x,T){return{type:"interval-period",period:"second",precision:x,secondary:T}},od="'",pd=q("'",!1),qd="N'",ff=q("N'",!1),oc="''",rd=q("''",!1),sd=/^[^']/,td=v(["'"],!0,!1),jf=".",kf=q(".",!1),pf=/^[0-9]/,qf=v([["0","9"]],!1,!1),lf=/^[eE]/,mf=v(["e","E"],!1,!1),nf=/^[+\-]/,of=v(["+","-"],!1,!1),Hd="null",Id=
q("NULL",!0),Bd="true",Cd=q("TRUE",!0),Ed="false",Fd=q("FALSE",!0),rf="in",sf=q("IN",!0),tf="is",uf=q("IS",!0),vf="like",wf=q("LIKE",!0),ud="escape",vd=q("ESCAPE",!0),xf="not",yf=q("NOT",!0),zf="and",Af=q("AND",!0),Bf="or",Cf=q("OR",!0),Df="between",Ef=q("BETWEEN",!0),Ff="from",Gf=q("FROM",!0),ne="for",oe=q("FOR",!0),de="substring",ee=q("SUBSTRING",!0),Td="extract",Ud=q("EXTRACT",!0),Hf="trim",If=q("TRIM",!0),te="position",ue=q("POSITION",!0),Od="timestamp",Pd=q("TIMESTAMP",!0),Kd="date",Ld=q("DATE",
!0),Ye="leading",Ze=q("LEADING",!0),$e="trailing",af=q("TRAILING",!0),bf="both",cf=q("BOTH",!0),df="to",ef=q("TO",!0),Jf="interval",Kf=q("INTERVAL",!0),Lf="year",Mf=q("YEAR",!0),Nf="month",Of=q("MONTH",!0),Pf="day",Qf=q("DAY",!0),Rf="hour",Sf=q("HOUR",!0),Tf="minute",Uf=q("MINUTE",!0),Vf="second",Wf=q("SECOND",!0),Xf="case",Yf=q("CASE",!0),Zf="end",$f=q("END",!0),ag="when",bg=q("WHEN",!0),cg="then",dg=q("THEN",!0),gf="else",hf=q("ELSE",!0),eg=",",fg=q(",",!1),gg="(",hg=q("(",!1),ig=")",jg=q(")",!1),
kg=/^[ \t\n\r]/,lg=v([" ","\t","\n","\r"],!1,!1),gd="`",hd=q("`",!1),id=/^[^`]/,jd=v(["`"],!0,!1),e=0,$b=[{line:1,column:1}],sb=0,pc=[],qa=0;if("startRule"in D){if(!(D.startRule in ib))throw Error("Can't start parsing from rule \""+D.startRule+'".');Za=ib[D.startRule]}var Qc=Za();if(Qc!==a&&e===l.length)return Qc;Qc!==a&&e<l.length&&g({type:"end"});throw function(x,T,Q){return new t(t.buildMessage(x,T),x,T,Q)}(pc,sb<l.length?l.charAt(sb):null,sb<l.length?I(sb,sb+1):I(sb,sb));}}})})(A);let L=function(){function h(){}
h.parse=function(t){return A.exports.parse(t)};return h}();p.WhereGrammar=L;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(p){p.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};p.commonjsRequire=function(f){throw Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
};p.getDefaultExportFromCjs=function(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f["default"]:f}})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(p){p.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,
supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngineResult":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ../featureConversionUtils ./AttributesBuilder ./attributeSupport ./projectionSupport ./timeSupport ./utils ../../support/fieldUtils ../../../smartMapping/statistics/support/utils ../../../support/arcadeOnDemand".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H,I,g){function u(B){return B.substr(24,12)+B.substr(19,4)+B.substr(16,2)+B.substr(14,2)+B.substr(11,2)+B.substr(9,2)+B.substr(6,2)+B.substr(4,2)+B.substr(2,2)+B.substr(0,2)}function w(B,P,J,S){if(J&&"esriFieldTypeDate"===J.type){const U=(new Date(B)).getTime(),O=(new Date(P)).getTime();if(!isNaN(U)&&!isNaN(O))return S?O-U:U-O}return"number"===typeof B&&"number"===typeof P?S?P-B:B-P:"string"===typeof B&&"string"===typeof P?(B=B.toUpperCase(),P=P.toUpperCase(),!J||"esriFieldTypeGUID"!==
J.type&&"esriFieldTypeGlobalID"!==J.type?S=(S?B>P:B<P)?-1:(S?B<P:B>P)?1:0:(J=u(B),P=u(P),S=(S?J>P:J<P)?-1:(S?J<P:J>P)?1:0),S):S?1:-1}function c(B,P,J,S,U,O){U-=J;O-=S;B=Math.min(1,Math.max(0,((B-J)*U+(P-S)*O)/(U*U+O*O)));return{x:J+U*B,y:S+O*B}}function y(B,P){return B?P?4:3:P?3:2}return function(){function B(J,S,U){this.items=J;this.queryGeometry=S;this.definitionExpression=U.definitionExpression;this.geometryType=U.geometryType;this.hasM=U.hasM;this.hasZ=U.hasZ;this.objectIdField=U.objectIdField;
this.spatialReference=U.spatialReference;this.fieldsIndex=U.fieldsIndex;this.timeInfo=U.timeInfo;this.featureAdapter=U.featureAdapter;this.aggregateAdapter=U.aggregateAdapter}var P=B.prototype;P.createQueryResponseForCount=function(J){const S=new t(J,this.featureAdapter,this.fieldsIndex);if(!J.outStatistics)return S.countDistinctValues(this.items);const {groupByFieldsForStatistics:U,having:O}=J;if(null==U||!U.length)return 1;const aa=new Map,ba=new Map,n=new Set;J=J.outStatistics;for(const R of J){({statisticType:J}=
R);J="exceedslimit"!==J?R.onStatisticField:void 0;if(!ba.has(J)){var C=[];for(const W of U){const G=this._getAttributeValues(S,W,aa);C.push(G)}ba.set(J,this._calculateUniqueValues(C))}J=ba.get(J);for(const W in J){const {data:G,items:m}=J[W];C=G.join(",");O&&!S.validateItems(m,O)||n.add(C)}}return n.size};P.createQueryResponse=function(J){let S;S=J.outStatistics?J.outStatistics.some(U=>"exceedslimit"===U.statisticType)?this._createExceedsLimitQueryResponse(J):this._createStatisticsQueryResponse(J):
this._createFeatureQueryResponse(J);J.returnQueryGeometry&&(L.isValid(J.outSR)&&!L.equals(this.queryGeometry.spatialReference,J.outSR)?S.queryGeometry=v.cleanFromGeometryEngine({spatialReference:J.outSR,...D.project(this.queryGeometry,this.queryGeometry.spatialReference,J.outSR)}):S.queryGeometry=v.cleanFromGeometryEngine({spatialReference:J.outSR,...this.queryGeometry}));return S};P.createSnappingResponse=function(J,S){const U=this.featureAdapter,O=y(this.hasZ,this.hasM),{x:aa,y:ba}=J.point,n="number"===
typeof J.distance?J.distance:J.distance.x,C="number"===typeof J.distance?J.distance:J.distance.y,R={candidates:[]},W="esriGeometryPolygon"===this.geometryType;S=this.getPointCreator(J.point,this.spatialReference,S);for(const ca of this.items){var G=U.getGeometry(ca);if(!G)continue;const {coords:ka,lengths:oa}=G;if(J.types&1){G=0;for(var m=0;m<oa.length;m++){var d=oa[m];for(var z=0;z<d;z++,G+=O){var F=ka[G],M=ka[G+1];if(z!==d-1){const va=ka[G+O],Da=ka[G+O+1],{x:Ca,y:Ga}=c(aa,ba,F,M,va,Da);var X=(aa-
Ca)/n;const La=(ba-Ga)/C;X=X*X+La*La;1>=X&&R.candidates.push({type:"edge",objectId:U.getObjectId(ca),distance:Math.sqrt(X),target:S(Ca,Ga),start:S(F,M),end:S(va,Da)})}}}}if(J.types&2)for(G=W?ka.length-O:ka.length,m=0;m<G;m+=O)d=ka[m],z=ka[m+1],F=(aa-d)/n,M=(ba-z)/C,F=F*F+M*M,1>=F&&R.candidates.push({type:"vertex",objectId:U.getObjectId(ca),distance:Math.sqrt(F),target:S(d,z)})}R.candidates.sort((ca,ka)=>ca.distance-ka.distance);return R};P.getPointCreator=function(J,S,U){const O=f.isSome(U)&&!L.equals(S,
U)?aa=>D.project(aa,S,U):aa=>aa;return null!=J.z&&null!=J.m?(aa,ba)=>O({x:aa,y:ba,z:J.z,m:J.m}):null!=J.z?(aa,ba)=>O({x:aa,y:ba,z:J.z}):null!=J.m?(aa,ba)=>O({x:aa,y:ba,m:J.m}):(aa,ba)=>O({x:aa,y:ba})};P.executeAttributesQuery=function(J){var S=l.getWhereClause(J.where,this.fieldsIndex);if(!S)return Promise.resolve(this);if(S.isStandardized){let U=0;const O=[];for(const aa of this.items)S.testFeature(aa,this.featureAdapter)&&(O[U++]=aa);S=new B(O,this.queryGeometry,this);S.definitionExpression=J.where;
return Promise.resolve(S)}return Promise.reject(new TypeError("Where clause is not standardized"))};P.executeAggregateIdsQuery=function(J){if(!J.aggregateIds||!J.aggregateIds.length||f.isNone(this.aggregateAdapter))return Promise.resolve(this);const S=new Set;for(const O of J.aggregateIds)this.aggregateAdapter.getFeatureObjectIds(O).forEach(aa=>S.add(aa));const U=this.featureAdapter.getObjectId;return Promise.resolve(new B(this.items.filter(O=>S.has(U(O))),this.queryGeometry,this))};P.executeObjectIdsQuery=
function(J){if(!J.objectIds||!J.objectIds.length)return Promise.resolve(this);const S=new Set(J.objectIds),U=this.featureAdapter.getObjectId;return Promise.resolve(new B(this.items.filter(O=>S.has(U(O))),this.queryGeometry,this))};P.executeTimeQuery=function(J){J=q.getTimeOperator(this.timeInfo,J.timeExtent,this.featureAdapter);if(!f.isSome(J))return Promise.resolve(this);J=this.items.filter(J);return Promise.resolve(new B(J,this.queryGeometry,this))};P.filterLatest=function(){const {trackIdField:J,
startTimeField:S,endTimeField:U}=this.timeInfo;var O=U||S;const aa=new Map,ba=this.featureAdapter.getAttribute;for(const n of this.items){const C=ba(n,J),R=ba(n,O),W=aa.get(C);(!W||R>ba(W,O))&&aa.set(C,n)}O=Array.from(aa.values());return Promise.resolve(new B(O,this.queryGeometry,this))};P.project=function(){var J=p._asyncToGenerator(function*(S){if(!S||L.equals(this.spatialReference,S))return this;const U=this.featureAdapter,O=(yield D.projectMany(this.items.map(aa=>v.getGeometry(this.geometryType,
this.hasZ,this.hasM,U.getGeometry(aa))),this.spatialReference,S)).map((aa,ba)=>U.cloneWithGeometry(this.items[ba],h.convertFromGeometry(aa,this.hasZ,this.hasM)));return new B(O,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:S,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})});return function(S){return J.apply(this,arguments)}}();
P.createSummaryStatisticsResponse=function(){var J=p._asyncToGenerator(function*(S,U){const {field:O,normalizationField:aa,normalizationType:ba,normalizationTotal:n,minValue:C,maxValue:R}=U;var W=new t(S,this.featureAdapter,this.fieldsIndex);S=this.fieldsIndex.isDateField(O);U=U.valueExpression?yield this._getAttributeExpressionValues(W,U.valueExpression,U.viewInfoParams):this._getAttributeNormalizedValues(W,{field:O,normalizationField:aa,normalizationType:ba,normalizationTotal:n});W=I.isNullCountSupported({normalizationType:ba,
normalizationField:aa,minValue:C,maxValue:R});U=H.isStringField(this.fieldsIndex.get(O))?I.calculateStringStatistics({values:U,supportsNullCount:W}):I.calculateStatistics({values:U,minValue:C,maxValue:R,useSampleStdDev:!ba,supportsNullCount:W});return I.processStatsResult(U,S)});return function(S,U){return J.apply(this,arguments)}}();P._sortFeatures=function(J,S,U){if(1<J.length&&S&&S.length)for(const O of S.reverse()){S=O.split(" ");const aa=S[0],ba=this.fieldsIndex.get(aa),n=S[1]&&"desc"===S[1].toLowerCase();
J.sort((C,R)=>{C=U(C,aa,ba);R=U(R,aa,ba);return w(C,R,ba,n)})}};P._createFeatureQueryResponse=function(J){const S=this.items,{geometryType:U,hasM:O,hasZ:aa,objectIdField:ba,spatialReference:n}=this,{outFields:C,outSR:R,quantizationParameters:W,resultRecordCount:G,resultOffset:m,returnZ:d,returnM:z}=J,F=null!=G?S.length>(m||0)+G:!1,M=C&&(-1<C.indexOf("*")?[...this.fieldsIndex.fields]:C.map(X=>this.fieldsIndex.get(X)));return{exceededTransferLimit:F,features:this._createFeatures(J,S),fields:M,geometryType:U,
hasM:O&&z,hasZ:aa&&d,objectIdFieldName:ba,spatialReference:v.cleanFromGeometryEngine(R?R:n),transform:W&&A.toQuantizationTransform(W)||null}};P._createFeatures=function(J,S){const U=new t(J,this.featureAdapter,this.fieldsIndex),{hasM:O,hasZ:aa}=this,{orderByFields:ba,quantizationParameters:n,returnGeometry:C,returnCentroid:R,maxAllowableOffset:W,resultOffset:G,resultRecordCount:m,returnZ:d=!1,returnM:z=!1}=J,F=aa&&d,M=O&&z;J=[];var X=0;S=[...S];this._sortFeatures(S,ba,(oa,va,Da)=>U.getFieldValue(oa,
va,Da));if(C||R){var ca=A.toQuantizationTransform(n);if(C&&!R)for(var ka of S)J[X++]={attributes:U.getAttributes(ka),geometry:v.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(ka),W,ca,F,M)};else if(!C&&R)for(const oa of S)J[X++]={attributes:U.getAttributes(oa),centroid:v.transformCentroid(this,this.featureAdapter.getCentroid(oa,this),ca)};else for(const oa of S)J[X++]={attributes:U.getAttributes(oa),centroid:v.transformCentroid(this,this.featureAdapter.getCentroid(oa,
this),ca),geometry:v.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(oa),W,ca,F,M)}}else for(ca of S)(ka=U.getAttributes(ca))&&(J[X++]={attributes:ka});X=G||0;null!=m&&(J=J.slice(X,Math.min(J.length,X+m)));return J};P._createExceedsLimitQueryResponse=function(J){var S=!1;let U=Number.POSITIVE_INFINITY,O=Number.POSITIVE_INFINITY;S=Number.POSITIVE_INFINITY;for(const aa of J.outStatistics)if("exceedslimit"===aa.statisticType){U=null!=aa.maxPointCount?aa.maxPointCount:
Number.POSITIVE_INFINITY;O=null!=aa.maxRecordCount?aa.maxRecordCount:Number.POSITIVE_INFINITY;S=null!=aa.maxVertexCount?aa.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)S=this.items.length>U;else if(this.items.length>O)S=!0;else{J=this.hasZ?this.hasM?4:3:this.hasM?3:2;const aa=this.featureAdapter;S=this.items.reduce((ba,n)=>{n=aa.getGeometry(n);return ba+(n&&n.coords.length||0)},0)/J>S}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",alias:"exceedslimit",
sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(S)}}]}};P._createStatisticsQueryResponse=function(J){var S={attributes:{}};const U=[],O=new Map,aa=new Map,ba=new Map,n=new Map,C=new t(J,this.featureAdapter,this.fieldsIndex);var R=J.outStatistics;const {groupByFieldsForStatistics:W,having:G,orderByFields:m}=J;J=W&&W.length;const d=!!J,z=d&&W[0],F=d&&!this.fieldsIndex.get(z);for(const oa of R){const {outStatisticFieldName:va,statisticType:Da}=oa;R=
oa;var M="exceedslimit"!==Da?oa.onStatisticField:void 0;const Ca="percentile_disc"===Da||"percentile_cont"===Da,Ga=d&&1===J&&(M===z||F)&&"count"===Da;if(d){if(!ba.has(M)){var X=[];for(const La of W){var ca=this._getAttributeValues(C,La,O);X.push(ca)}ba.set(M,this._calculateUniqueValues(X,C.returnDistinctValues))}X=ba.get(M);for(const La in X){const {count:ma,data:sa,items:wa,itemPositions:b}=X[La];ca=sa.join(",");if(!G||C.validateItems(wa,G)){const r=n.get(ca)||{attributes:{}};var ka=null;if(Ga)ka=
ma;else{const k=this._getAttributeValues(C,M,O);ka=b.map(E=>k[E]);ka=Ca&&"statisticParameters"in R?this._getPercentileValue(R,ka):this._getStatisticValue(R,ka)}r.attributes[va]=ka;W.forEach((k,E)=>r.attributes[this.fieldsIndex.get(k)?k:`EXPR_${E+1}`]=sa[E]);n.set(ca,r)}}}else M=this._getAttributeValues(C,M,O),S.attributes[va]=Ca&&"statisticParameters"in R?this._getPercentileValue(R,M):this._getStatisticValue(R,M,aa);U.push({name:va,alias:va,type:"esriFieldTypeDouble"})}S=d?Array.from(n.values()):
[S];this._sortFeatures(S,m,(oa,va)=>oa.attributes[va]);return{fields:U,features:S}};P._getStatisticValue=function(J,S,U){const {onStatisticField:O,statisticType:aa}=J;J=null;J=null!=U&&U.has(O)?U.get(O):H.isStringField(this.fieldsIndex.get(O))?I.calculateStringStatistics({values:S}):I.calculateStatistics({values:S,minValue:null,maxValue:null,useSampleStdDev:!0});U&&U.set(O,J);return J["var"===aa?"variance":aa]};P._getPercentileValue=function(J,S){const {onStatisticField:U,statisticParameters:O,statisticType:aa}=
J,{value:ba,orderBy:n}=O,C="desc"===n,R=this.fieldsIndex.get(U);J=[...S].filter(W=>null!=W).sort((W,G)=>w(W,G,R,C));return this._calculatePercentile(J,ba,"percentile_disc"===aa)};P._getAttributeValues=function(J,S,U){if(U.has(S))return U.get(S);const O=this.fieldsIndex.get(S),aa=this.items.map(ba=>J.getFieldValue(ba,S,O));U.set(S,aa);return aa};P._getAttributeNormalizedValues=function(J,S){return this.items.map(U=>J.getNormalizedValue(U,{field:S.field,fieldInfo:this.fieldsIndex.get(S.field),normalizationField:S.normalizationField,
normalizationFieldInfo:this.fieldsIndex.get(S.normalizationField),normalizationType:S.normalizationType,normalizationTotal:S.normalizationTotal}))};P._getAttributeExpressionValues=function(){var J=p._asyncToGenerator(function*(S,U,O){const {arcadeUtils:aa}=yield g.loadArcade(),ba=aa.createFunction(U),n=O&&aa.getViewInfo(O);return this.items.map(C=>S.getExpressionValue(C,{compiledFunc:ba,viewInfo:n},aa))});return function(S,U,O){return J.apply(this,arguments)}}();P._calculateUniqueValues=function(J,
S){const U={},O=this.items,aa=O.length;for(let ba=0;ba<aa;ba++){const n=O[ba],C=[];for(const W of J)C.push(W[ba]);const R=C.join(",");S?null==U[R]&&(U[R]={count:1,data:C,items:[n],itemPositions:[ba]}):null==U[R]?U[R]={count:1,data:C,items:[n],itemPositions:[ba]}:(U[R].count++,U[R].items.push(n),U[R].itemPositions.push(ba))}return U};P._calculatePercentile=function(J,S,U){if(0===J.length)return null;if(0>=S)return J[0];if(1<=S)return J[J.length-1];var O=(J.length-1)*S,aa=Math.floor(O);S=aa+1;O%=1;
aa=J[aa];const ba=J[S];return S>=J.length||U||"string"===typeof aa||"string"===typeof ba?aa:aa*(1-O)+ba*O};p._createClass(B,[{key:"size",get:function(){return this.items.length}}]);return B}()})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(p,f){function A({scale:n,translate:C},R){return Math.round((R-C[0])/n[0])}function L({scale:n,translate:C},R){return Math.round((C[1]-R)/n[1])}function h(n,C,R){const W=[];let G,m,d,z;for(let F=0;F<R.length;F++){const M=
R[F];if(0<F){if(d=A(n,M[0]),z=L(n,M[1]),d!==G||z!==m)W.push(C(M,d-G,z-m)),G=d,m=z}else G=A(n,M[0]),m=L(n,M[1]),W.push(C(M,G,m))}return 0<W.length?W:null}function t(n,C,R,W){return h(n,R?W?ba:aa:W?aa:O,C)}function l(n,C,R,W){const G=[];R=R?W?ba:aa:W?aa:O;for(W=0;W<C.length;W++){const m=h(n,R,C[W]);m&&3<=m.length&&G.push(m)}return G.length?G:null}function D(n,C,R,W){const G=[];R=R?W?ba:aa:W?aa:O;for(W=0;W<C.length;W++){const m=h(n,R,C[W]);m&&2<=m.length&&G.push(m)}return G.length?G:null}function q({scale:n,
translate:C},R){return R*n[0]+C[0]}function v({scale:n,translate:C},R){return C[1]-R*n[1]}function H(n,C,R){const W=Array(R.length);if(!R.length)return W;const [G,m]=n.scale;let d=q(n,R[0][0]);n=v(n,R[0][1]);W[0]=C(R[0],d,n);for(let z=1;z<R.length;z++){const F=R[z];d+=F[0]*G;n-=F[1]*m;W[z]=C(F,d,n)}return W}function I(n,C,R){const W=Array(R.length);for(let G=0;G<R.length;G++)W[G]=H(n,C,R[G]);return W}function g(n,C,R,W){return H(n,R?W?ba:aa:W?aa:O,C)}function u(n,C,R,W){return I(n,R?W?ba:aa:W?aa:
O,C)}function w(n,C,R,W){return I(n,R?W?ba:aa:W?aa:O,C)}function c(n,C,R){let [W,G]=R[0],m=Math.min(W,C[0]),d=Math.min(G,C[1]),z=Math.max(W,C[2]);C=Math.max(G,C[3]);for(let F=1;F<R.length;F++){const [M,X]=R[F];W+=M;G+=X;0>M&&(m=Math.min(m,W));0<M&&(z=Math.max(z,W));0>X?d=Math.min(d,G):0<X&&(C=Math.max(C,G))}n[0]=m;n[1]=d;n[2]=z;n[3]=C;return n}function y(n,C){if(!C.length)return null;n[0]=n[1]=Number.POSITIVE_INFINITY;n[2]=n[3]=Number.NEGATIVE_INFINITY;for(let R=0;R<C.length;R++)c(n,n,C[R]);return n}
function B(n,C,R,W,G){C.xmin=A(n,R.xmin);C.ymin=L(n,R.ymin);C.xmax=A(n,R.xmax);C.ymax=L(n,R.ymax);C!==R&&(W&&(C.zmin=R.zmin,C.zmax=R.zmax),G&&(C.mmin=R.mmin,C.mmax=R.mmax));return C}function P(n,C,R,W,G){C.points=t(n,R.points,W,G);return C}function J(n,C,R,W,G){C.x=A(n,R.x);C.y=L(n,R.y);C!==R&&(W&&(C.z=R.z),G&&(C.m=R.m));return C}function S(n,C,R,W,G){n=l(n,R.rings,W,G);if(!n)return null;C.rings=n;return C}function U(n,C,R,W,G){n=D(n,R.paths,W,G);if(!n)return null;C.paths=n;return C}const O=(n,C,
R)=>[C,R],aa=(n,C,R)=>[C,R,n[2]],ba=(n,C,R)=>[C,R,n[2],n[3]];p.equals=function(n,C){if(n===C||null==n&&null==C)return!0;if(null==n||null==C)return!1;let R,W,G,m;n&&"upperLeft"===n.originPosition?(R=n.translate[0],W=n.translate[1],n=n.scale[0]):(R=n.extent.xmin,W=n.extent.ymax,n=n.tolerance);C&&"upperLeft"===C.originPosition?(G=C.translate[0],m=C.translate[1],C=C.scale[0]):(G=C.extent.xmin,m=C.extent.ymax,C=C.tolerance);return R===G&&W===m&&n===C};p.getQuantizedBoundsCoordsArray=c;p.getQuantizedBoundsCoordsArrayArray=
y;p.getQuantizedBoundsPaths=function(n){return y([0,0,0,0],n)};p.getQuantizedBoundsPoints=function(n){const C=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return c(C,C,n)};p.getQuantizedBoundsRings=function(n){return y([0,0,0,0],n)};p.quantizeBounds=function(n,C,R){C[0]=A(n,R[0]);C[3]=L(n,R[1]);C[2]=A(n,R[2]);C[1]=L(n,R[3]);return C};p.quantizeExtent=B;p.quantizeGeometry=function(n,C){return n&&C?f.isPoint(C)?J(n,{},C,!1,!1):f.isPolyline(C)?
U(n,{},C,!1,!1):f.isPolygon(C)?S(n,{},C,!1,!1):f.isMultipoint(C)?P(n,{},C,!1,!1):f.isExtent(C)?B(n,{},C,!1,!1):null:null};p.quantizeMultipoint=P;p.quantizePaths=D;p.quantizePoint=J;p.quantizePoints=t;p.quantizePolygon=S;p.quantizePolyline=U;p.quantizeRings=l;p.quantizeX=A;p.quantizeY=L;p.toQuantizationTransform=function(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,
1],translate:n.extent?[n.extent.xmin,n.extent.ymax]:[0,0]}:null};p.unquantizeBounds=function(n,C,R){return R?(C[0]=q(n,R[0]),C[1]=v(n,R[3]),C[2]=q(n,R[2]),C[3]=v(n,R[1]),C):[q(n,C[0]),v(n,C[3]),q(n,C[2]),v(n,C[1])]};p.unquantizeCoordsArray=H;p.unquantizeCoordsArrayArray=I;p.unquantizeExtent=function(n,C,R,W,G){C.xmin=q(n,R.xmin);C.ymin=v(n,R.ymin);C.xmax=q(n,R.xmax);C.ymax=v(n,R.ymax);C!==R&&(W&&(C.zmin=R.zmin,C.zmax=R.zmax),G&&(C.mmin=R.mmin,C.mmax=R.mmax));return C};p.unquantizeMultipoint=function(n,
C,R,W,G){C.points=g(n,R.points,W,G);return C};p.unquantizePaths=u;p.unquantizePoint=function(n,C,R,W,G){C.x=q(n,R.x);C.y=v(n,R.y);C!==R&&(W&&(C.z=R.z),G&&(C.m=R.m));return C};p.unquantizePoints=g;p.unquantizePolygon=function(n,C,R,W,G){C.rings=w(n,R.rings,W,G);return C};p.unquantizePolyline=function(n,C,R,W,G){C.paths=u(n,R.paths,W,G);return C};p.unquantizeRings=w;p.unquantizeX=q;p.unquantizeY=v;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/AttributesBuilder":function(){define(["../../../core/maybe",
"./attributeSupport","../../../smartMapping/statistics/support/utils"],function(p,f,A){return function(){function L(t,l,D){this._fieldDataCache=new Map;this._returnDistinctMap=new Map;this.returnDistinctValues=t.returnDistinctValues;this.fieldsIndex=D;this.featureAdapter=l;if((l=t.outFields)&&-1===l.indexOf("*")){this.outFields=l;t=0;for(const v of l){var q=f.getExpressionFromFieldName(v);q=(l=this.fieldsIndex.get(q))?null:f.getWhereClause(q,D);l=l?l.name:f.getAliasFromFieldName(v)||`FIELD_EXP_${t++}`;
this._fieldDataCache.set(v,{alias:l,clause:q})}}}var h=L.prototype;h.countDistinctValues=function(t){if(!this.returnDistinctValues)return t.length;t.forEach(l=>this.getAttributes(l));return this._returnDistinctMap.size};h.getAttributes=function(t){t=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(t)};h.getFieldValue=function(t,l,D){const q=D?D.name:l;let v=null;this._fieldDataCache.has(q)?v=this._fieldDataCache.get(q).clause:D||(v=f.getWhereClause(l,this.fieldsIndex),
this._fieldDataCache.set(q,{alias:q,clause:v}));return D?this.featureAdapter.getAttribute(t,q):v.calculateValue(t,this.featureAdapter)};h.getNormalizedValue=function(t,l){const D=l.normalizationType,q=l.normalizationTotal;let v=this.getFieldValue(t,l.field,l.fieldInfo);D&&Number.isFinite(v)&&(t=this.getFieldValue(t,l.normalizationField,l.normalizationFieldInfo),v=A.getNormalizedValue(v,D,t,q));return v};h.getExpressionValue=function(t,l,D){t={attributes:this.featureAdapter.getAttributes(t)};t=D.createExecContext(t,
l.viewInfo);return D.executeFunction(l.compiledFunc,t)};h.validateItem=function(t,l){this._fieldDataCache.has(l)||this._fieldDataCache.set(l,{alias:l,clause:f.getWhereClause(l,this.fieldsIndex)});return this._fieldDataCache.get(l).clause.testFeature(t,this.featureAdapter)};h.validateItems=function(t,l){this._fieldDataCache.has(l)||this._fieldDataCache.set(l,{alias:l,clause:f.getWhereClause(l,this.fieldsIndex)});return this._fieldDataCache.get(l).clause.testSet(t,this.featureAdapter)};h._processAttributesForOutFields=
function(t){const l=this.outFields;if(!l||!l.length)return this.featureAdapter.getAttributes(t);const D={};for(const q of l){const {alias:v,clause:H}=this._fieldDataCache.get(q);D[v]=H?H.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,v)}return D};h._processAttributesForDistinctValues=function(t){if(p.isNone(t)||!this.returnDistinctValues)return t;var l=this.outFields,D=[];if(l)for(const v of l){var {alias:q}=this._fieldDataCache.get(v);D.push(t[q])}else for(q in t)D.push(t[q]);
l=`${(l||["*"]).join(",")}=${D.join(",")}`;D=this._returnDistinctMap.get(l)||0;this._returnDistinctMap.set(l,++D);return 1<D?null:t};return L}()})},"esri/smartMapping/statistics/support/utils":function(){define(["exports","../../../core/Error","../../../core/maybe","../../../layers/support/fieldUtils"],function(p,f,A,L){function h(q,v){return new f(q,v)}function t(q,v){q=A.isSome(q)?q:"";A.isSome(v)&&v&&(q=q?"("+q+") AND ("+v+")":v);return q}function l(q){const v=q.layer;return q.fields.filter(H=>
!v.getField(H))}function D(q){const v=q.layer;return q.fields.filter(H=>{H=v.getFieldUsageInfo(H);return!H||!H.supportsStatistics})}p.calculateStatistics=function(q){const {values:v,useSampleStdDev:H,supportsNullCount:I}=q;var g=Number.POSITIVE_INFINITY;let u=Number.NEGATIVE_INFINITY,w=null,c=null;var y=null;let B=null,P=0;const J=null==q.minValue?-Infinity:q.minValue;q=null==q.maxValue?Infinity:q.maxValue;for(const S of v)Number.isFinite(S)?S>=J&&S<=q&&(w+=S,g=Math.min(g,S),u=Math.max(u,S),P++):
"string"===typeof S&&P++;if(P&&null!=w){c=w/P;y=0;for(const S of v)Number.isFinite(S)&&S>=J&&S<=q&&(y+=(S-c)**2);B=H?1<P?y/(P-1):0:0<P?y/P:0;y=Math.sqrt(B)}else u=g=null;g={avg:c,count:P,max:u,min:g,stddev:y,sum:w,variance:B};I&&(g.nullcount=v.length-P);return g};p.calculateStringStatistics=function(q){const {values:v,supportsNullCount:H}=q;q=v.filter(g=>null!=g).length;const I={count:q};H&&(I.nullcount=v.length-q);return I};p.createError=h;p.getNormalizedValue=function(q,v,H,I){let g=null;switch(v){case "log":0!==
q&&(g=Math.log(q)*Math.LOG10E);break;case "percent-of-total":Number.isFinite(I)&&0!==I&&(g=q/I*100);break;case "field":Number.isFinite(H)&&0!==H&&(g=q/H);break;case "natural-log":0<q&&(g=Math.log(q));break;case "square-root":0<q&&(g=q**.5)}return g};p.getRangeExpr=function(q,v,H){v=null!=v?q+" \x3e\x3d "+v:"";q=null!=H?q+" \x3c\x3d "+H:"";H="";return(H=v&&q?t(v,q):v||q)?"("+H+")":""};p.getSQLFilterForNormalization=function(q){const v=q.field,H=q.normalizationType;q=q.normalizationField;let I;if("log"===
H)I="(NOT "+v+" \x3d 0)";else if("field"===H)I="(NOT "+q+" \x3d 0)";else if("natural-log"===H||"square-root"===H)I=`(${v} > 0)`;return I};p.isNullCountSupported=function(q){const v=null!=q.minValue||null!=q.maxValue,H=!!q.sqlExpression&&q.supportsSQLExpression;return!(null!=q.normalizationField||null!=q.normalizationType)&&!v&&!H};p.mergeWhereClauses=t;p.processStatsResult=function(q,v){if(!v)return q;["avg","stddev","variance"].forEach(H=>{null!=q[H]&&(q[H]=Math.ceil(q[H]))});return q};p.verifyBasicFieldValidity=
function(q,v,H){const I=l({layer:q,fields:v});if(I.length)return h(H,"Unknown fields: "+I.join(", ")+". You can only use fields defined in the layer schema");q=D({layer:q,fields:v});if(q.length)return h(H,"Unsupported fields: "+q.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true")};p.verifyFieldType=function(q,v,H,I){let g=null;if(!v)g=h(H,"'field' is not defined in the layer schema");else if(v.name===q.objectIdField||-1===I.indexOf(v.type))g=
h(H,"'field' should be one of these types: "+I.join(","));return g};p.verifyNumericField=function(q,v,H){let I;v?v.name!==q.objectIdField&&L.isNumericField(v)||(I=h(H,"'field' should be one of these numeric types: "+L.numericTypes.join(","))):I=h(H,"'field' is not defined in the layer schema");return I};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/support/fieldUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ../../core/object ./domains ../../support/arcadeOnDemand".split(" "),
function(p,f,A,L,h,t,l,D){function q(K,N,Z){if(K)for(const ea of K)(K=(K=t.getDeepValue(ea,N))&&"function"!==typeof K&&Z.get(K))&&t.setDeepValue(ea,K.name,N)}function v(K,N){if(!K||!N)return[];sa.clear();H(sa,K,N);return Array.from(sa).sort()}function H(K,N,Z){var ea;if(Z)if(null!=N&&null!=(ea=N.fields)&&ea.length)if(Z.includes("*"))for(const {name:ja}of N.fields)K.add(ja);else for(const ja of Z)I(K,N,ja);else if(Z.includes("*"))K.clear(),K.add("*");else for(const ja of Z)K.add(ja)}function I(K,N,
Z){"string"===typeof Z&&(N?(N=N.get(Z))&&K.add(N.name):K.add(Z))}function g(K,N,Z){return u.apply(this,arguments)}function u(){u=A._asyncToGenerator(function*(K,N,Z){if(Z){var {arcadeUtils:ea}=yield D.loadArcade();Z=ea.extractFieldNames(Z);for(const ja of Z)I(K,N,ja)}});return u.apply(this,arguments)}function w(K,N,Z){return c.apply(this,arguments)}function c(){c=A._asyncToGenerator(function*(K,N,Z){if(Z&&"1\x3d1"!==Z){Z=(yield new Promise(function(ea,ja){p(["../../core/sql/WhereClause"],ea,ja)})).WhereClause.create(Z,
N);if(!Z.isStandardized)throw new L("fieldUtils:collectFilterFields","Where clause is not standardized");H(K,N,Z.fieldNames)}});return c.apply(this,arguments)}function y(K,N){for(const Z of K)if(Z&&Z.valueType&&Z.valueType===N)return Z.name;return null}function B(){B=A._asyncToGenerator(function*(K){if(!K)return[];const N=new Set;yield P(N,K);return Array.from(N).sort()});return B.apply(this,arguments)}function P(K,N){return J.apply(this,arguments)}function J(){J=A._asyncToGenerator(function*(K,N){if(N){var Z=
t.getDeepValue("elevationInfo.featureExpressionInfo",N);if(Z)return Z.collectRequiredFields(K,N.fieldsIndex)}});return J.apply(this,arguments)}function S(K,N,Z){return U.apply(this,arguments)}function U(){U=A._asyncToGenerator(function*(K,N,Z){Z.outStatistic.onStatisticValueExpression?g(K,N,Z.outStatistic.onStatisticValueExpression):K.add(Z.outStatistic.onStatisticField)});return U.apply(this,arguments)}function O(){O=A._asyncToGenerator(function*(K,N,Z){N&&Z&&"cluster"===Z.type&&Z.fields&&(yield Promise.all(Z.fields.map(ea=>
S(K,N.fieldsIndex,ea))))});return O.apply(this,arguments)}function aa(){aa=A._asyncToGenerator(function*(K,N,Z){N&&(N.timeInfo&&h.isSome(Z)&&Z.timeExtent&&H(K,N.fieldsIndex,[N.timeInfo.startField,N.timeInfo.endField]),N.floorInfo&&H(K,N.fieldsIndex,[N.floorInfo.floorField]),h.isSome(Z)&&h.isSome(Z.where)&&(yield w(K,N.fieldsIndex,Z.where)))});return aa.apply(this,arguments)}function ba(){ba=A._asyncToGenerator(function*(K){if(!K)return[];const N="timeInfo"in K&&K.timeInfo;return N?v(K.fieldsIndex,
[K.trackIdField,N.startField,N.endField]):[]});return ba.apply(this,arguments)}function n(){n=A._asyncToGenerator(function*(K){if(!K)return[];const N=new Set;yield C(N,K);return Array.from(N).sort()});return n.apply(this,arguments)}function C(K,N){return R.apply(this,arguments)}function R(){R=A._asyncToGenerator(function*(K,N){const {labelingInfo:Z,fieldsIndex:ea}=N;Z&&Z.length&&(yield Promise.all(Z.map(ja=>W(K,ea,ja))))});return R.apply(this,arguments)}function W(K,N,Z){return G.apply(this,arguments)}
function G(){G=A._asyncToGenerator(function*(K,N,Z){if(Z){var ea=Z.getLabelExpression();Z=Z.where;"arcade"===ea.type?yield g(K,N,ea.expression):(ea=ea.expression.match(/{[^}]*}/g))&&ea.forEach(ja=>{I(K,N,ja.slice(1,-1))});yield w(K,N,Z)}});return G.apply(this,arguments)}function m(K){return"number"===typeof K&&!isNaN(K)&&isFinite(K)}function d(K){return null===K||m(K)}function z(K){return null===K||wa(K)}function F(K){return null!=K&&"string"===typeof K}function M(K){return null===K||F(K)}function X(){return!0}
function ca(K,N){let Z;switch(K.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":Z=K.nullable?z:wa;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":Z=K.nullable?d:m;break;case "string":case "esriFieldTypeString":Z=K.nullable?M:F;break;default:Z=X}return 1===arguments.length?Z:Z(N)}function ka(K){return null!=K&&r.has(K.type)}function oa(K,
N){return K.nullable&&null===N?null:ka(K)&&!va(K.type,Number(N))?f.NumericRangeValidationError.OUT_OF_RANGE:ca(K,N)?K.domain?l.validateDomainValue(K.domain,N):null:f.TypeValidationError.INVALID_TYPE}function va(K,N){return(K="string"===typeof K?Da(K):K)?K.isInteger?wa(N)&&N>=K.min&&N<=K.max:N>=K.min&&N<=K.max:!1}function Da(K){switch(K){case "esriFieldTypeSmallInteger":case "small-integer":return k;case "esriFieldTypeInteger":case "integer":return E;case "esriFieldTypeSingle":case "single":return V;
case "esriFieldTypeDouble":case "double":return Y}}function Ca(K,N,Z){if(!N||!N.attributes||!K){if(h.isSome(Z))for(var ea of K)Z.add(ea);return!0}N=N.attributes;ea=!1;for(const ja of K)if(!(ja in N))if(ea=!0,h.isSome(Z))Z.add(ja);else break;return ea}function Ga(){Ga=A._asyncToGenerator(function*(K,N){const Z=new Set;for(const ea of N)yield g(Z,K.fieldsIndex,ea);return Array.from(Z).sort()});return Ga.apply(this,arguments)}const La="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),
ma=["field","normalizationField"],sa=new Set,wa=(()=>"isInteger"in Number?Number.isInteger:K=>"number"===typeof K&&isFinite(K)&&Math.floor(K)===K)(),b=["integer","small-integer","single","double"],r=new Set([...b,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);f.NumericRangeValidationError=void 0;(f.NumericRangeValidationError||(f.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";f.TypeValidationError=void 0;
(f.TypeValidationError||(f.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const k={min:-32768,max:32767,isInteger:!0},E={min:-2147483648,max:2147483647,isInteger:!0},V={min:-3.4E38,max:1.2E38,isInteger:!1},Y={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};f.collectArcadeFieldNames=g;f.collectElevationFields=P;f.collectFeatureReductionFields=function(K,N,Z){return O.apply(this,arguments)};f.collectField=I;f.collectFields=H;f.collectFilterFields=function(K,N,Z){return aa.apply(this,
arguments)};f.collectLabelingFields=C;f.doubleRange=Y;f.featureHasFields=function(K,N){return!Ca(K,N,null)};f.fixFields=v;f.fixRendererFields=function(K,N){if(null!=K&&null!=N)for(const Z of Array.isArray(K)?K:[K])if(q(La,Z,N),"visualVariables"in Z&&Z.visualVariables)for(const ea of Z.visualVariables)q(ma,ea,N)};f.fixTimeInfoFields=function(K,N){if(null!=K&&null!=N&&N.fields.length)if("startField"in K){var Z=N.get(K.startField);N=N.get(K.endField);K.startField=Z&&Z.name||null;K.endField=N&&N.name||
null}else Z=N.get(K.startTimeField),N=N.get(K.endTimeField),K.startTimeField=Z&&Z.name||null,K.endTimeField=N&&N.name||null};f.getDisplayFieldName=function({displayField:K,fields:N}){if(K)return K;if(!N||!N.length)return null;if(!(K=y(N,"name-or-title")||y(N,"unique-identifier")||y(N,"type-or-category")))a:{for(const Z of N)if(Z&&Z.name&&(N=Z.name.toLowerCase(),-1<N.indexOf("name")||-1<N.indexOf("title"))){K=Z.name;break a}K=null}return K};f.getElevationFields=function(K){return B.apply(this,arguments)};
f.getExpressionFields=function(K,N){return Ga.apply(this,arguments)};f.getFeatureEditFields=function(K){if(!K)return[];const N="editFieldsInfo"in K&&K.editFieldsInfo;return N?v(K.fieldsIndex,[N&&N.creatorField,N&&N.creationDateField,N&&N.editorField,N&&N.editDateField]):[]};f.getFeatureGeometryFields=function(K){if(!K)return[];const N=K.geometryFieldsInfo;return N?v(K.fieldsIndex,[N.shapeAreaField,N.shapeLengthField]):[]};f.getFieldDefaultValue=function(K){const N=K.defaultValue;if(void 0!==N&&ca(K,
N))return N;if(K.nullable)return null};f.getFieldRange=function(K){const N=l.getDomainRange(K.domain);if(N)return N;if(ka(K))return Da(K.type)};f.getLabelingFields=function(K){return n.apply(this,arguments)};f.getNumericTypeForValue=function(K){if(!m(K))return null;if(wa(K)){if(K>=k.min&&K<=k.max)return"esriFieldTypeSmallInteger";if(K>=E.min&&K<=E.max)return"esriFieldTypeInteger"}return K>=V.min&&K<=V.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};f.getTimeFields=function(K){return ba.apply(this,
arguments)};f.integerRange=E;f.isDateField=function(K){return null!=K&&("date"===K.type||"esriFieldTypeDate"===K.type)};f.isNumberInRange=va;f.isNumericField=ka;f.isStringField=function(K){return null!=K&&("string"===K.type||"esriFieldTypeString"===K.type)};f.isValidFieldValue=function(K,N){return null===oa(K,N)};f.isValueMatchingFieldType=ca;f.numericTypes=b;f.packFields=function(K,N,Z=1){if(!N||!K)return[];if(N.includes("*"))return["*"];N=v(K,N);return N.length/K.fields.length>=Z?["*"]:N};f.populateMissingFields=
Ca;f.rendererFields=La;f.sanitizeNullFieldValue=function(K){return null==K||"number"===typeof K&&isNaN(K)?null:K};f.singleRange=V;f.smallIntegerRange=k;f.unpackFieldNames=function(K,N){return h.isNone(N)||h.isNone(K)?[]:N.includes("*")?K.fields.map(Z=>Z.name):N};f.validateFieldValue=oa;f.validationErrorToString=function(K,N,Z){switch(K){case l.DomainValidationError.INVALID_CODED_VALUE:return`Value ${Z} is not in the coded domain - field: ${N.name}, domain: ${JSON.stringify(N.domain)}`;case l.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${Z} is out of the range of valid values - field: ${N.name}, domain: ${JSON.stringify(N.domain)}`;
case f.TypeValidationError.INVALID_TYPE:return`Value ${Z} is not a valid value for the field type - field: ${N.name}, type: ${N.type}, nullable: ${N.nullable}`;case f.NumericRangeValidationError.OUT_OF_RANGE:{const {min:ea,max:ja}=Da(N.type);return`Value ${Z} is out of range for the number type - field: ${N.name}, type: ${N.type}, value range is ${ea} to ${ja}`}}};f.visualVariableFields=ma;Object.defineProperty(f,"__esModule",{value:!0})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(p,f,A,L,h,t){function l(D,q){switch(D.type){case "range":{const v="range"in D?D.range[1]:D.maxValue;if(+q<("range"in D?D.range[0]:D.minValue)||+q>v)return p.DomainValidationError.VALUE_OUT_OF_RANGE;break}case "coded-value":case "codedValue":if(null==D.codedValues||D.codedValues.every(v=>null==v||v.code!==q))return p.DomainValidationError.INVALID_CODED_VALUE}return null}p.DomainValidationError=void 0;(function(D){D.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";D.INVALID_CODED_VALUE=
"domain-validation-error::invalid-coded-value"})(p.DomainValidationError||(p.DomainValidationError={}));f={key:"type",base:L,typeMap:{range:t,"coded-value":A,inherited:h}};p.CodedValueDomain=A;p.DomainBase=L;p.InheritedDomain=h;p.RangeDomain=t;p.fromJSON=function(D){if(!D||!D.type)return null;switch(D.type){case "range":return t.fromJSON(D);case "codedValue":return A.fromJSON(D);case "inherited":return h.fromJSON(D)}return null};p.getDomainRange=function(D){if(D&&"range"===D.type)return{min:"range"in
D?D.range[0]:D.minValue,max:"range"in D?D.range[1]:D.maxValue}};p.isValidDomainValue=function(D,q){return null===l(D,q)};p.types=f;p.validateDomainValue=l;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H){var I;h=I=function(g){function u(c){c=g.call(this,c)||this;c.codedValues=null;c.type="coded-value";return c}p._inheritsLoose(u,g);var w=u.prototype;w.getName=function(c){let y=null;if(this.codedValues){const B=String(c);this.codedValues.some(P=>{String(P.code)===B&&(y=P.name);return!!y})}return y};w.clone=function(){return new I({codedValues:A.clone(this.codedValues),name:this.name})};return u}(H);f.__decorate([L.property({type:[v["default"]],json:{write:!0}})],h.prototype,
"codedValues",void 0);f.__decorate([D.enumeration({codedValue:"coded-value"})],h.prototype,"type",void 0);return h=I=f.__decorate([q.subclass("esri.layers.support.CodedValueDomain")],h)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(p,f,A){p.enumeration=function(L,h={}){var t;L=L instanceof f.JSONMap?L:new f.JSONMap(L,h);L={type:(null!=(t=null==h?void 0:h.ignoreUnknown)?t:1)?L.apiValues:String,readOnly:null==h?void 0:h.readOnly,
json:{type:L.jsonValues,read:null!=h&&h.readOnly?!1:{reader:L.read},write:{writer:L.write}}};void 0!==(null==h?void 0:h.default)&&(L.json.default=h.default);void 0!==(null==h?void 0:h.name)&&(L.json.name=h.name);return A.property(L)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(p,f,A,L,h,t,l,D,q,v){var H;p.CodedValue=H=function(I){function g(u){u=I.call(this,u)||this;u.name=null;u.code=null;return u}f._inheritsLoose(g,I);g.prototype.clone=function(){return new H({name:this.name,code:this.code})};return g}(L.JSONSupport);A.__decorate([h.property({type:String,json:{write:!0}})],p.CodedValue.prototype,"name",void 0);A.__decorate([h.property({type:[String,Number],json:{write:!0}})],p.CodedValue.prototype,"code",void 0);p.CodedValue=H=A.__decorate([v.subclass("esri.layers.support.CodedValue")],
p.CodedValue);p.default=p.CodedValue;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(p,f,A,L,h,t,l,D,q,v){A=new A.JSONMap({inherited:"inherited",
codedValue:"coded-value",range:"range"});L=function(H){function I(g){g=H.call(this,g)||this;g.name=null;g.type=null;return g}p._inheritsLoose(I,H);return I}(L.JSONSupport);f.__decorate([h.property({type:String,json:{write:!0}})],L.prototype,"name",void 0);f.__decorate([q.enumeration(A)],L.prototype,"type",void 0);return L=f.__decorate([v.subclass("esri.layers.support.Domain")],L)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(p,f,A,L,h,t,l,D,q){var v;A=v=function(H){function I(g){g=H.call(this,g)||this;g.type="inherited";return g}p._inheritsLoose(I,H);I.prototype.clone=function(){return new v};return I}(q);f.__decorate([l.enumeration({inherited:"inherited"})],A.prototype,"type",void 0);return A=v=f.__decorate([D.subclass("esri.layers.support.InheritedDomain")],A)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(p,f,A,L,h,t,l,D,q){var v;L=v=function(H){function I(g){g=H.call(this,g)||this;g.maxValue=null;g.minValue=null;g.type="range";return g}p._inheritsLoose(I,H);I.prototype.clone=function(){return new v({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return I}(q);f.__decorate([A.property({type:Number,json:{type:[Number],read:{source:"range",reader(H,I){return I.range&&I.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(H,I,g){I[g]=[this.minValue||0,H]}}}})],L.prototype,"maxValue",void 0);f.__decorate([A.property({type:Number,json:{type:[Number],read:{source:"range",reader(H,I){return I.range&&I.range[0]}},write:{target:"range",writer(H,I,g){I[g]=[H,this.maxValue||0]}}}})],L.prototype,"minValue",void 0);f.__decorate([l.enumeration({range:"range"})],L.prototype,"type",void 0);return L=v=f.__decorate([D.subclass("esri.layers.support.RangeDomain")],L)})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/maybe ../geometry/SpatialReference".split(" "),
function(p,f,A,L,h,t){function l(){return D.apply(this,arguments)}function D(){D=A._asyncToGenerator(function*(){q||(q=A._asyncToGenerator(function*(){const H=yield new Promise(function(I,g){p(["./arcadeUtils"],I,g)});yield H.arcade.load();return{arcade:H.arcade,arcadeUtils:H,Dictionary:H.Dictionary,Feature:H.arcadeFeature}})());return q});return D.apply(this,arguments)}let q;L=(H,I,g)=>v.create(H,I,g,null,["$feature","$view"]);let v=function(){function H(g,u,w,c,y,B,P,J){this.script=g;this.evaluate=
y;this.fields=Array.isArray(P)?P:P.fields;this._syntaxTree=c;this._arcade=u;this._arcadeDictionary=w;this._arcadeFeature=B;this._spatialReference=J;this._referencesGeometry=u.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}H.create=function(){var g=A._asyncToGenerator(function*(u,w,c,y,B,P){const {arcade:J,Feature:S,Dictionary:U}=yield l(),O=t.fromJSON(w);w=J.parseScript(u,P);B=B.reduce((R,W)=>({...R,[W]:null}),{});let aa=null;
h.isSome(y)&&(aa=new U(y),aa.immutable=!0,B.$config=null);y=J.scriptUsesGeometryEngine(w)&&J.enableGeometrySupport();P=J.scriptUsesFeatureSet(w)&&J.enableFeatureSetSupport();const ba=J.scriptIsAsync(w)&&J.enableAsyncSupport();B={vars:B,spatialReference:O,useAsync:!!ba};const n=new U;n.immutable=!1;n.setField("scale",0);const C=J.compileScript(w,B);yield Promise.all([y,P,ba]);return new H(u,J,U,w,R=>{"$view"in R&&R.$view&&(n.setField("scale",R.$view.scale),R.$view=n);aa&&(R.$config=aa);return C({vars:R,
spatialReference:O})},new S,c,O)});return function(u,w,c,y,B,P){return g.apply(this,arguments)}}();var I=H.prototype;I.repurposeFeature=function(g){g.geometry&&!g.geometry.spatialReference&&(g.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(g.geometry,g.attributes,{fields:this.fields});return this._arcadeFeature};I.repurposeAdapter=function(g){this._arcadeFeature.repurposeFromAdapter(g,{fields:this.fields});return this._arcadeFeature};I.createDictionary=
function(){return new this._arcadeDictionary};I.referencesMember=function(g){return this._arcade.referencesMember(this._syntaxTree,g)};I.referencesFunction=function(g){return this._arcade.referencesFunction(this._syntaxTree,g)};I.referencesGeometry=function(){return this._referencesGeometry};I.referencesScale=function(){return this._referencesScale};I.extractFieldLiterals=function(g){return this._arcade.extractFieldLiterals(this._syntaxTree,g)};return H}();f.ArcadeExpression=v;f.createDictionaryExpression=
(H,I,g,u)=>v.create(H,I,g,u,["$feature","$view"]);f.createLabelExpression=(H,I,g)=>v.create(H,I,g,null,["$feature"]);f.createRendererExpression=L;f.createVVExpression=L;f.default=v;f.loadArcade=l;Object.defineProperty(f,"__esModule",{value:!0})})},"esri/layers/graphics/data/timeSupport":function(){define(["exports"],function(p){function f(h,t,l,D,q){if(null!=D&&null!=q)return v=>{const H=h.getAttribute(v,t);v=h.getAttribute(v,l);return(null==H||H<=q)&&(null==v||v>=D)};if(null!=D)return v=>{v=h.getAttribute(v,
l);return null==v||v>=D};if(null!=q)return v=>{v=h.getAttribute(v,t);return null==v||v<=q}}function A(h,t,l,D){if(null!=l&&null!=D&&l===D)return q=>h.getAttribute(q,t)===l;if(null!=l&&null!=D)return q=>{q=h.getAttribute(q,t);return q>=l&&q<=D};if(null!=l)return q=>h.getAttribute(q,t)>=l;if(null!=D)return q=>h.getAttribute(q,t)<=D}function L(){return()=>!1}p.getTimeExtent=function(h,t){if(!h)return null;const l=t.featureAdapter,{startTimeField:D,endTimeField:q}=h;let v=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY;
if(D&&q)t.forEach(I=>{const g=l.getAttribute(I,D);I=l.getAttribute(I,q);null==g||isNaN(g)||(v=Math.min(v,g));null==I||isNaN(I)||(H=Math.max(H,I))});else{const I=D||q;t.forEach(g=>{g=l.getAttribute(g,I);null==g||isNaN(g)||(v=Math.min(v,g),H=Math.max(H,g))})}return{start:v,end:H}};p.getTimeOperator=function(h,t,l){if(!t||!h)return null;const {startTimeField:D,endTimeField:q}=h;if(!D&&!q)return null;const {start:v,end:H}=t;return null===v&&null===H?null:void 0===v&&void 0===H?L():D&&q?f(l,D,q,v,H):A(l,
D||q,v,H)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/data/utils":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/jsonMap ../../../core/maybe ../../../core/unitUtils ../../../geometry/support/extentUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../centroid ../featureConversionUtils ../OptimizedGeometry ./projectionSupport".split(" "),function(p,
f,A,L,h,t,l,D,q,v,H,I,g,u){function w(m,d,z,F=m.hasZ,M=m.hasM){const X=m.hasZ&&F,ca=m.hasM&&M;return z?(m=I.quantizeOptimizedGeometry(R,d,m.hasZ,m.hasM,"esriGeometryPoint",z,F,M),I.convertToPoint(m,X,ca)):I.convertToPoint(d,X,ca)}function c(){c=A._asyncToGenerator(function*(m,d,z){const {outFields:F,orderByFields:M,groupByFieldsForStatistics:X,outStatistics:ca}=m;if(F)for(var ka=0;ka<F.length;ka++)F[ka]=F[ka].trim();if(M)for(ka=0;ka<M.length;ka++)M[ka]=M[ka].trim();if(X)for(ka=0;ka<X.length;ka++)X[ka]=
X[ka].trim();if(ca)for(ka=0;ka<ca.length;ka++)ca[ka].onStatisticField&&(ca[ka].onStatisticField=ca[ka].onStatisticField.trim());m.geometry&&!m.outSR&&(m.outSR=m.geometry.spatialReference);return B(m,d,z)});return c.apply(this,arguments)}function y(){y=A._asyncToGenerator(function*(m,d,z){return B(m,d,z)});return y.apply(this,arguments)}function B(m,d,z){return P.apply(this,arguments)}function P(){P=A._asyncToGenerator(function*(m,d,z){if(!m)return null;var {where:F}=m;m.where=F=F&&F.trim();if(!F||
/^1 *= *1$/.test(F)||d&&d===F)m.where=null;if(!m.geometry)return m;d=yield J(m);m.distance=0;m.units=null;"esriSpatialRelEnvelopeIntersects"===m.spatialRel&&({spatialReference:F}=m.geometry,d=l.getGeometryExtent(d),d.spatialReference=F);m.geometry=d;yield u.checkProjectionSupport(d.spatialReference,z);d=(yield q.normalizeCentralMeridian(D.fromJSON(d)))[0];if(h.isNone(d))throw ba;d=d.toJSON();d=yield u.project(d,d.spatialReference,z);if(!d)throw ba;d.spatialReference=z;m.geometry=d;return m});return P.apply(this,
arguments)}function J(m){return S.apply(this,arguments)}function S(){S=A._asyncToGenerator(function*(m){const {geometry:d,distance:z,units:F}=m;if(null==z||"vertexAttributes"in d)return d;var M=d.spatialReference;m=F?aa.fromJSON(F):t.getUnitString(M);M=M&&(v.isGeographic(M)||v.isWebMercator(M))?d:yield u.checkProjectionSupport(M,v.WGS84).then(()=>u.project(d,v.WGS84));return(yield U())(M.spatialReference,M,z,m)});return S.apply(this,arguments)}function U(){return O.apply(this,arguments)}function O(){O=
A._asyncToGenerator(function*(){return(yield new Promise(function(m,d){p(["../../../geometry/geometryEngineJSON"],m,d)})).geodesicBuffer});return O.apply(this,arguments)}const aa=new L.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),ba=Object.freeze({}),n=new g,C=new g,R=new g,W={esriGeometryPoint:I.convertToPoint,esriGeometryPolyline:I.convertToPolyline,
esriGeometryPolygon:I.convertToPolygon,esriGeometryMultipoint:I.convertToMultipoint},G=(m,d)=>"_geVersion"!==m?d:void 0;f.QUERY_ENGINE_EMPTY_RESULT=ba;f.cleanFromGeometryEngine=function(m){return m&&"_geVersion"in m?JSON.parse(JSON.stringify(m,G)):m};f.getCentroid=function(m,d,z){if("esriGeometryPolygon"!==m.geometryType||!d||!d.centroid&&!d.geometry)return null;d.centroid||(d.centroid=H.getCentroidOptimizedGeometry(new g,d.geometry,m.hasZ,m.hasM));return w(m,d.centroid,z)};f.getGeometry=function(m,
d,z,F,M,X,ca=d,ka=z){const oa=d&&ca,va=z&&ka;F=F?"coords"in F?F:F.geometry:null;if(!F)return null;if(M)return d=I.generalizeOptimizedGeometry(C,F,d,z,m,M,ca,ka),X&&(d=I.quantizeOptimizedGeometry(R,d,oa,va,m,X)),W[m](d,oa,va);if(X)return X=I.quantizeOptimizedGeometry(R,F,d,z,m,X,ca,ka),W[m](X,oa,va);I.removeZMValues(n,F,d,z,ca,ka);return W[m](n,oa,va)};f.normalizeFilter=function(m,d,z){return y.apply(this,arguments)};f.normalizeQuery=function(m,d,z){return c.apply(this,arguments)};f.normalizeQueryLike=
B;f.transformCentroid=w;Object.defineProperty(f,"__esModule",{value:!0})})},"esri/layers/graphics/data/spatialQuerySupport":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../geometry/support/contains ../../../geometry/support/intersects ../../../geometry/support/jsonUtils ../../../geometry/support/spatialReferenceUtils ../contains ../featureConversionUtils ../OptimizedGeometry ./projectionSupport ./utils".split(" "),function(p,f,A,L,h,t,l,D,
q,v,H,I,g){function u(){return new Promise(function(B,P){p(["../../../geometry/geometryEngineJSON"],B,P)})}function w(){w=A._asyncToGenerator(function*(B,P,J){const {spatialRel:S,geometry:U}=B;if(U){if(!0!==y.spatialRelationship[S])throw new L("feature-store:unsupported-query","Unsupported query spatial relationship",{query:B});if(D.isValid(U.spatialReference)&&D.isValid(J)){if(!0!==y.queryGeometry[l.getJsonType(U)])throw new L("feature-store:unsupported-query","Unsupported query geometry type",{query:B});
if(!0!==y.layerGeometry[P])throw new L("feature-store:unsupported-query","Unsupported layer geometry type",{query:B});if(B.outSR)return I.checkProjectionSupport(B.geometry&&B.geometry.spatialReference,B.outSR)}}});return w.apply(this,arguments)}const c={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",
esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},y={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},
layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};f.canQueryWithRBush=function(B){if(l.isExtent(B))return!0;if(l.isPolygon(B)){for(const P of B.rings)if(5!==P.length||P[0][0]!==P[1][0]||P[0][0]!==P[4][0]||P[2][0]!==P[3][0]||P[0][1]!==P[3][1]||P[0][1]!==P[4][1]||P[1][1]!==P[2][1])return!1;return!0}return!1};f.checkSpatialQuerySupport=function(B,P,J){return w.apply(this,arguments)};f.getSpatialQueryOperator=function(B,
P,J,S,U){if(l.isPolygon(P)&&"esriGeometryPoint"===J&&("esriSpatialRelIntersects"===B||"esriSpatialRelContains"===B)){const O=v.convertFromPolygon(new H,P,!1,!1);return Promise.resolve(aa=>q.polygonContainsPoint(O,!1,!1,aa))}if(l.isPolygon(P)&&"esriGeometryMultipoint"===J){const O=v.convertFromPolygon(new H,P,!1,!1);if("esriSpatialRelContains"===B)return Promise.resolve(aa=>q.polygonContainsMultipoint(O,!1,!1,aa,S,U))}if(l.isExtent(P)&&"esriGeometryPoint"===J&&("esriSpatialRelIntersects"===B||"esriSpatialRelContains"===
B))return Promise.resolve(O=>h.extentContainsPoint(P,g.getGeometry(J,S,U,O)));if(l.isExtent(P)&&"esriGeometryMultipoint"===J&&"esriSpatialRelContains"===B)return Promise.resolve(O=>h.extentContainsMultipoint(P,g.getGeometry(J,S,U,O)));if(l.isExtent(P)&&"esriSpatialRelIntersects"===B){const O=t.getExtentIntersector(J);return Promise.resolve(aa=>O(P,g.getGeometry(J,S,U,aa)))}return u().then(O=>{const aa=O[c[B]].bind(null,P.spatialReference,P);return ba=>aa(g.getGeometry(J,S,U,ba))})};Object.defineProperty(f,
"__esModule",{value:!0})})},"esri/geometry/support/intersects":function(){define(["exports","./intersectsBase"],function(p,f){p.extentIntersectsExtent=f.extentIntersectsExtent;p.extentIntersectsMultipoint=f.extentIntersectsMultipoint;p.extentIntersectsPoint=f.extentIntersectsPoint;p.extentIntersectsPolygon=f.extentIntersectsPolygon;p.extentIntersectsPolyline=f.extentIntersectsPolyline;p.getFeatureExtentIntersector=f.getFeatureExtentIntersector;p.isSelfIntersecting=f.isSelfIntersecting;p.segmentIntersects=
f.segmentIntersects;p.getExtentIntersector=function(A){return"mesh"===A?f.extentIntersectsExtent:f.getFeatureExtentIntersector(A)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/contains":function(){define(["exports"],function(p){function f(A,L,h,t,l){if(!A)return!1;L=L?h?4:3:h?3:2;const {coords:D,lengths:q}=A;h=!1;A=0;for(const H of q){var v=A;for(let I=A,g=A+H*L;I<g;I+=L){v=I+L;v===g&&(v=A);const u=D[I],w=D[I+1],c=D[v];v=D[v+1];(w<l&&v>=l||v<l&&w>=l)&&u+(l-w)/(v-w)*(c-
u)<t&&(h=!h)}A+=H*L}return h}p.polygonContainsCoords=f;p.polygonContainsMultipoint=function(A,L,h,t,l,D){l=l?D?4:3:D?3:2;const {coords:q,lengths:v}=t;if(!v)return!1;for(let H=0,I=0;H<v.length;H++,I+=l)if(!f(A,L,h,q[I],q[I+1]))return!1;return!0};p.polygonContainsPoint=function(A,L,h,t){return f(A,L,h,t.coords[0],t.coords[1])};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/support/FieldsIndex":function(){define(function(){return function(){function p(A){this.fields=A;this._fieldsMap=
new Map;this._dateFieldsSet=new Set;this.dateFields=[];if(A){var L=[];for(const h of A)if(A=h&&h.name){const t=A.toLowerCase().trim();this._fieldsMap.set(A,h);this._fieldsMap.set(t,h);L.push(t);if("date"===h.type||"esriFieldTypeDate"===h.type)this.dateFields.push(h),this._dateFieldsSet.add(h)}L.sort();this.uid=L.join(",")}}var f=p.prototype;f.destroy=function(){this._fieldsMap.clear()};f.has=function(A){return null!=this.get(A)};f.get=function(A){return null!=A?this._fieldsMap.get(A)||this._fieldsMap.get(A.toLowerCase().trim()):
void 0};f.isDateField=function(A){return this._dateFieldsSet.has(this.get(A))};f.normalizeFieldName=function(A){if(A=this.get(A))return A.name};return p}()})},"esri/layers/support/PromiseQueue":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../core/promiseUtils"],function(p,f){let A=function(L,h,t,l,D){this.resolve=L;this.reject=h;this.callback=t;this.signal=l;this.abortCallback=D};return function(){function L(){this._tasks=[]}var h=L.prototype;h.push=function(t,l,D){return new Promise((q,
v)=>this._tasks.push(new A(q,v,t,l,D)))};h.unshift=function(t,l,D){return new Promise((q,v)=>this._tasks.unshift(new A(q,v,t,l,D)))};h.process=function(){if(0===this._tasks.length)return!1;const t=this._tasks.shift();try{const l=f.isAborted(t.signal);if(l&&!t.abortCallback)t.reject(f.createAbortError());else{const D=l?t.abortCallback(f.createAbortError()):t.callback();f.isPromise(D)?D.then(t.resolve,t.reject):t.resolve(D)}}catch(l){t.reject(l)}return!0};h.cancelAll=function(){const t=f.createAbortError();
for(const l of this._tasks)if(l.abortCallback){const D=l.abortCallback(t);l.resolve(D)}else l.reject(t);this._tasks.length=0};p._createClass(L,[{key:"length",get:function(){return this._tasks.length}}]);return L}()})},"esri/smartMapping/support/utils":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../support/arcadeOnDemand","../../support/basemapUtils"],function(p,f,A,L){function h(){h=f._asyncToGenerator(function*(g){const u=g.field,w=g.normalizationField;g=g.valueExpression;
var c=[];g&&(I||({arcadeUtils:c}=yield A.loadArcade(),I=c),c=I.extractFieldNames(g));u&&c.push(u);w&&c.push(w);return c});return h.apply(this,arguments)}function t(g){return String(g).padStart(2,"0")}function l(g,u,w){if("date"===u||"number"===u){"number"===u&&(g=new Date(g));u=w?g.getFullYear():g.getUTCFullYear();const c=t((w?g.getMonth():g.getUTCMonth())+1),y=t(w?g.getDate():g.getUTCDate()),B=t(w?g.getHours():g.getUTCHours()),P=t(w?g.getMinutes():g.getUTCMinutes());g=t(w?g.getSeconds():g.getUTCSeconds());
g=`TIMESTAMP'${u}-${c}-${y} ${B}:${P}:${g}'`}return g}function D(g,u){if(u instanceof Date)return"date";if("number"===typeof u)return"number";if("string"===typeof u&&(g=g.getField(u),"\x3cnow\x3e"!==u.toLowerCase()&&g&&"date"===g.type))return"field"}const q={light:"streets gray topo terrain national-geographic oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector".split(" "),dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector"]},
v={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864E5},H=["integer","small-integer"];let I=null;p.castIntegerFieldToFloat=function(g){return`cast(${g} as float)`};p.defaultBasemapGroups=q;p.getBasemapGroup=function(g,u=q){for(const w in u)if(-1<u[w].indexOf(g))return w};p.getBasemapId=function(g,u,w=!0){let c=null;g&&("string"===typeof g?u.includes(g)&&(c=g):c=L.getWellKnownBasemapId(g));return w?c||"gray":c};p.getDateDiffSQL=function(g,u,w,c){var {hasQueryEngine:y}=
g;w=l(w,D(g,w),y);g=l(u,D(g,u),y);g=`(${w} - ${g})`;y&&(g=`(${g} * ${v.milliseconds})`);c=v[c];y="/";1>c&&(c=1/c,y="*");return{sqlExpression:1===c?g:`(${g} ${y} ${c})`,sqlWhere:null}};p.getDateType=D;p.getFieldsList=function(g){return h.apply(this,arguments)};p.getNormalizationType=function(g){let u=g.normalizationType;u||(g.normalizationField?u="field":null!=g.normalizationTotal&&(u="percent-of-total"));return u};p.isIntegerField=function(g,u){return(g=u&&g.getField(u))&&-1<H.indexOf(g.type)};p.unitValueInDays=
v;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../core/Collection ../core/Logger ../core/urlUtils ../core/accessorSupport/ensureType ./basemapDefinitions".split(" "),function(p,f,A,L,h,t,l){function D(O,aa){var ba;let n;if("string"===typeof O){if(!(O in l.esriBasemapDefinitions))return aa=Object.keys(l.esriBasemapDefinitions).map(C=>`"${C}"`).join(", "),S.warn(`Unable to find basemap definition for: ${O}. Try one of these: ${aa}`),
null;aa&&(n=aa[O]);n||(n=f.fromId(O),aa&&(aa[O]=n))}else n=t.ensureType(f,O);null!=(ba=n)&&ba.destroyed&&(S.warn("The provided basemap is already destroyed",{basemap:n}),n=null);return n}function q(O,aa){const ba=new A;O.forEach(n=>{const C=aa.find(R=>P(u(n),u(R)))||n;ba.some(R=>R===C)?ba.push(n):ba.push(C)});return ba}function v(O){if(H(O.url))return!0;if("vector-tile"===O.type)for(const aa in O.sourceNameToSource){const ba=O.sourceNameToSource[aa];if(H(null==ba?void 0:ba.sourceUrl))return!0}return!1}
function H(O){if(!O)return!1;O=new h.Url(h.makeAbsolute(O));return U.test(O.authority)}function I(O){return O?!O.loaded&&O.resourceInfo?w(O.resourceInfo.data):{baseLayers:g(O.baseLayers),referenceLayers:g(O.referenceLayers)}:null}function g(O){return(A.isCollection(O)?O.toArray():O).map(u)}function u(O){return{type:O.type,url:J("urlTemplate"in O&&O.urlTemplate||O.url||"styleUrl"in O&&O.styleUrl),minScale:"minScale"in O&&null!=O.minScale?O.minScale:0,maxScale:"maxScale"in O&&null!=O.maxScale?O.maxScale:
0,opacity:null!=O.opacity?O.opacity:1,visible:null!=O.visible?!!O.visible:!0}}function w(O){return O?{baseLayers:c(O.baseMapLayers.filter(aa=>!aa.isReference)),referenceLayers:c(O.baseMapLayers.filter(aa=>aa.isReference))}:null}function c(O){return O.map(aa=>{{let ba;switch(aa.layerType){case "VectorTileLayer":ba="vector-tile";break;case "ArcGISTiledMapServiceLayer":ba="tile";break;default:ba="unknown"}aa={type:ba,url:J(aa.templateUrl||aa.urlTemplate||aa.styleUrl||aa.url),minScale:null!=aa.minScale?
aa.minScale:0,maxScale:null!=aa.maxScale?aa.maxScale:0,opacity:null!=aa.opacity?aa.opacity:1,visible:null!=aa.visibility?!!aa.visibility:!0}}return aa})}function y(O,aa,ba){return null!=O!==(null!=aa)?"not-equal":O?B(O.baseLayers,aa.baseLayers)?B(O.referenceLayers,aa.referenceLayers)?"equal":ba.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function B(O,aa){if(O.length!==aa.length)return!1;for(let ba=0;ba<O.length;ba++)if(!P(O[ba],aa[ba]))return!1;return!0}function P(O,aa){return O.type===
aa.type&&O.url===aa.url&&O.minScale===aa.minScale&&O.maxScale===aa.maxScale&&O.visible===aa.visible&&O.opacity===aa.opacity}function J(O){return O?h.normalize(O).replace(/^\s*https?:/i,"").toLowerCase():""}const S=L.getLogger("esri.support.basemapUtils"),U=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;p.clonePreservingTiledLayers=function(O,aa=null){O=D(O);if(!O)return null;const ba=new f({id:O.id,title:O.title,baseLayers:O.baseLayers.slice(),referenceLayers:O.referenceLayers.slice()});aa&&(ba.baseLayers=
q(ba.baseLayers,aa.baseLayers),ba.referenceLayers=q(ba.referenceLayers,aa.referenceLayers));ba.load().catch(()=>{});ba.portalItem=O.portalItem;return ba};p.contentEquals=function(O,aa){if(O===aa)return!0;O=I(O);aa=I(aa);return"equal"===y(O,aa,{mustMatchReferences:!0})};p.createCache=function(){return{}};p.destroyCache=function(O){for(const aa in O){const ba=O[aa];!1===(null==ba?void 0:ba.destroyed)&&ba.destroy();delete O[aa]}};p.ensureType=D;p.getWellKnownBasemapId=function(O){let aa=null;O=I(O);
const ba=!O.baseLayers.length;for(const C in l.esriBasemapDefinitions){var n=w(l.esriBasemapDefinitions[C]);n=y(O,n,{mustMatchReferences:ba});if("equal"===n){aa=C;break}"base-layers-equal"===n&&(aa=C)}return aa};p.hasDeveloperBasemapLayer=function(O){return!(null==O||!O.baseLayers.concat(O.referenceLayers).some(v))};p.isDeveloperBasemapLayer=v;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/Basemap":function(){define("require ./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/has ./core/jsonMap ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./webdoc/support/writeUtils".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H,I,g,u,w,c,y,B,P,J,S,U,O,aa){var ba;let n=0;const C=v.getLogger("esri.Basemap");t=ba=function(R){function W(m){var d=R.call(this,m)||this;d.id=null;d.portalItem=null;d.spatialReference=null;d.thumbnailUrl=null;d.title="Basemap";d.id=Date.now().toString(16)+"-basemap-"+n++;d.baseLayers=new L;d.referenceLayers=new L;const z=F=>{F.parent&&F.parent!==f._assertThisInitialized(d)&&"remove"in F.parent&&F.parent.remove(F);F.parent=f._assertThisInitialized(d);"elevation"===F.type&&
C.error(`Layer '${F.title}, id:${F.id}' of type '${F.type}' is not supported as a basemap layer and will therefore be ignored.`)};d.baseLayers.on("after-add",F=>z(F.item));d.referenceLayers.on("after-add",F=>z(F.item));d.baseLayers.on("after-remove",F=>{F.item.parent=null});d.referenceLayers.on("after-remove",F=>{F.item.parent=null});return d}f._inheritsLoose(W,R);var G=W.prototype;G.initialize=function(){this.when().catch(m=>{C.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,
m)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)};G.destroy=function(){var m,d=this.baseLayers.removeAll();for(const z of d)z.destroy();d=this.referenceLayers.removeAll();for(const z of d)z.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();null==(m=this.portalItem)?void 0:m.destroy();this.portalItem=null};G.normalizeCtorArgs=function(m){m&&"resourceInfo"in m&&(this._set("resourceInfo",m.resourceInfo),m={...m},delete m.resourceInfo);return m};G._writeBaseLayers=
function(m,d,z){const F=[];m&&(z={...z,layerContainerType:"basemap"},this.baseLayers.forEach(M=>{M=aa.getLayerJSON(M,z.webmap?z.webmap.getLayerJSONFromResourceInfo(M):null,z);H.isSome(M)&&F.push(M)}),this.referenceLayers.forEach(M=>{M=aa.getLayerJSON(M,z.webmap?z.webmap.getLayerJSONFromResourceInfo(M):null,z);H.isSome(M)&&(M.isReference=!0,F.push(M))}));d.baseMapLayers=F};G.writeTitle=function(m,d){d.title=m||"Basemap"};G.load=function(m){this.addResolvingPromise(this._loadFromSource(m));return Promise.resolve(this)};
G.loadAll=function(){return q.loadAll(this,m=>{m(this.baseLayers,this.referenceLayers)})};G.clone=function(){const m={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};this.loaded&&(m.loadStatus="loaded");return(new ba({resourceInfo:this.resourceInfo})).set(m)};G.read=function(m,d){this.resourceInfo||this._set("resourceInfo",{data:m,context:d});R.prototype.read.call(this,m,d)};G.write=function(m,d){m=m||{};d&&d.origin||
(d={origin:"web-map",...d});R.prototype.write.call(this,m,d);!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(m.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(z=>{z=l.clone(z);z.url&&g.isProtocolRelative(z.url)&&(z.url=`https:${z.url}`);z.templateUrl&&g.isProtocolRelative(z.templateUrl)&&(z.templateUrl=`https:${z.templateUrl}`);return z}));return m};G._loadFromSource=function(){var m=f._asyncToGenerator(function*(d){const {resourceInfo:z,portalItem:F}=this;I.throwIfAborted(d);
const M=[];z?(M.push(this._loadLayersFromJSON(z.data,z.context?z.context.url:null,d)),z.data.id&&!z.data.title&&M.push(O.getBasemapTitle(z.data.id).then(X=>{X&&this.read({title:X},z.context)}))):F&&M.push(this._loadFromItem(F,d));yield Promise.all(M)});return function(d){return m.apply(this,arguments)}}();G._loadLayersFromJSON=function(){var m=f._asyncToGenerator(function*(d,z,F){var M=this.resourceInfo&&this.resourceInfo.context;const X=this.portalItem&&this.portalItem.portal||M&&M.portal||null,
ca=M&&"web-scene"===M.origin?"web-scene":"web-map",{populateOperationalLayers:ka}=yield new Promise(function(oa,va){p(["./layers/support/layersCreator"],oa,va)});M=[];I.throwIfAborted(F);d.baseMapLayers&&Array.isArray(d.baseMapLayers)&&(z={context:{origin:ca,url:z,portal:X,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},F=ka(this.baseLayers,d.baseMapLayers.filter(oa=>!oa.isReference),z),M.push(F),d=ka(this.referenceLayers,d.baseMapLayers.filter(oa=>oa.isReference),z),M.push(d));
yield I.eachAlways(M)});return function(d,z,F){return m.apply(this,arguments)}}();G._loadFromItem=function(){var m=f._asyncToGenerator(function*(d,z){const F=yield(yield d.load(z)).fetchData("json",z),M=g.urlToObject(d.itemUrl);this._set("resourceInfo",{data:F.baseMap,context:{origin:"web-map",portal:d.portal||S.getDefault(),url:M}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:F.spatialReference},this.resourceInfo.context);this.read({title:d.title,thumbnailUrl:d.thumbnailUrl},
{origin:"portal-item",portal:d.portal||S.getDefault(),url:M});return this._loadLayersFromJSON(this.resourceInfo.data,M,z)});return function(d,z){return m.apply(this,arguments)}}();W.fromId=function(m){return(m=O.esriBasemapDefinitions[m])?ba.fromJSON(m):null};f._createClass(W,[{key:"baseLayers",set:function(m){this._set("baseLayers",h.referenceSetter(m,this._get("baseLayers")))}},{key:"referenceLayers",set:function(m){this._set("referenceLayers",h.referenceSetter(m,this._get("referenceLayers")))}}]);
return W}(t.JSONSupportMixin(D));A.__decorate([u.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(R,W,G,m){this._writeBaseLayers(R,W,m)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:L}},writer(R,W,G,m){this._writeBaseLayers(R,W,m)}}}}}})],t.prototype,"baseLayers",null);A.__decorate([u.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],t.prototype,"id",void 0);A.__decorate([u.property({type:U})],t.prototype,"portalItem",void 0);A.__decorate([u.property()],
t.prototype,"referenceLayers",null);A.__decorate([u.property({readOnly:!0})],t.prototype,"resourceInfo",void 0);A.__decorate([u.property({type:J})],t.prototype,"spatialReference",void 0);A.__decorate([u.property()],t.prototype,"thumbnailUrl",void 0);A.__decorate([u.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],t.prototype,"title",void 0);A.__decorate([P.writer("title")],t.prototype,"writeTitle",null);return t=ba=A.__decorate([B.subclass("esri.Basemap")],t)})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./ArrayPool ./Evented ./lang ./maybe ./ObjectPool ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H,I,g){function u(C){return C?C instanceof n?C.toArray():C.length?Array.prototype.slice.apply(C):[]:[]}function w(C){if(C&&C.length)return C[0]}function c(C,R,W,G){R&&R.forEach((m,d,z)=>{C.push(m);c(C,W.call(G,m,d,z),W,G)})}var y;let B=function(){function C(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var R=C.prototype;R.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};R.reset=function(W){this.defaultPrevented=
!1;this.item=W};return C}();const P=new l(B,void 0,C=>{C.item=null;C.target=null;C.defaultPrevented=!1;C.cancellable=!1}),J=()=>{},S=new Set,U=new Set,O=new Set,aa=new Map;let ba=0,n=y=function(C){function R(G){G=C.call(this,G)||this;G._chgListeners=[];G._notifications=null;G._timer=null;G._observable=new g.SimpleObservable;G.length=0;G._items=[];Object.defineProperty(p._assertThisInitialized(G),"uid",{value:ba++});return G}p._inheritsLoose(R,C);R.isCollection=function(G){return null!=G&&G instanceof
y};var W=R.prototype;W.normalizeCtorArgs=function(G){return G?Array.isArray(G)||G instanceof y?{items:G}:G:{}};W[Symbol.iterator]=function*(){yield*this.items};W.hasEventListener=function(G){return"change"===G?0<this._chgListeners.length:this._emitter.hasEventListener(G)};W.on=function(G,m){if("change"===G){const d=this._chgListeners,z={removed:!1,callback:m};d.push(z);this._notifications&&this._notifications.push({listeners:d.slice(),items:this._items.slice(),changes:[]});return{remove(){this.remove=
J;z.removed=!0;d.splice(d.indexOf(z),1)}}}return this._emitter.on(G,m)};W.once=function(G,m){const d=this.on(G,m);return{remove(){d.remove()}}};W.add=function(G,m){v.trackAccess(this._observable);if(this._emitBeforeChanges(1))return this;m=this.getNextIndex(null!=m?m:null);this._splice(m,0,G);this._emitAfterChanges(1);return this};W.addMany=function(G,m=this._items.length){v.trackAccess(this._observable);if(!G||!G.length||this._emitBeforeChanges(1))return this;m=this.getNextIndex(m);this._splice(m,
0,...u(G));this._emitAfterChanges(1);return this};W.removeAll=function(){v.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(2))return[];const G=this._splice(0,this.length)||[];this._emitAfterChanges(2);return G};W.clone=function(){v.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(h.clone)})};W.concat=function(...G){v.trackAccess(this._observable);G=G.map(u);return this._createNewInstance({items:this._items.concat(...G)})};W.drain=function(G,
m){v.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(2)){var d=t.assumeNonNull(this._splice(0,this.length)),z=d.length;for(let F=0;F<z;F++)G.call(m,d[F],F,d);this._emitAfterChanges(2)}};W.every=function(G,m){v.trackAccess(this._observable);return this._items.every(G,m)};W.filter=function(G,m){v.trackAccess(this._observable);let d;d=2===arguments.length?this._items.filter(G,m):this._items.filter(G);return this._createNewInstance({items:d})};W.find=function(G,m){v.trackAccess(this._observable);
return this._items.find(G,m)};W.findIndex=function(G,m){v.trackAccess(this._observable);return this._items.findIndex(G,m)};W.flatten=function(G,m){v.trackAccess(this._observable);const d=[];c(d,this,G,m);return new y(d)};W.forEach=function(G,m){v.trackAccess(this._observable);return this._items.forEach(G,m)};W.getItemAt=function(G){v.trackAccess(this._observable);return this._items[G]};W.getNextIndex=function(G){v.trackAccess(this._observable);const m=this.length;G=null==G?m:G;0>G?G=0:G>m&&(G=m);
return G};W.includes=function(G,m=0){v.trackAccess(this._observable);return this._items.includes(G,m)};W.indexOf=function(G,m=0){v.trackAccess(this._observable);return this._items.indexOf(G,m)};W.join=function(G=","){v.trackAccess(this._observable);return this._items.join(G)};W.lastIndexOf=function(G,m=this.length-1){v.trackAccess(this._observable);return this._items.lastIndexOf(G,m)};W.map=function(G,m){v.trackAccess(this._observable);G=this._items.map(G,m);return new y({items:G})};W.reorder=function(G,
m=this.length-1){v.trackAccess(this._observable);const d=this.indexOf(G);if(-1!==d){0>m?m=0:m>=this.length&&(m=this.length-1);if(d!==m){if(this._emitBeforeChanges(4))return G;this._splice(d,1);this._splice(m,0,G);this._emitAfterChanges(4)}return G}};W.pop=function(){v.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(2)){var G=w(this._splice(this.length-1,1));this._emitAfterChanges(2);return G}};W.push=function(...G){v.trackAccess(this._observable);if(this._emitBeforeChanges(1))return this.length;
this._splice(this.length,0,...G);this._emitAfterChanges(1);return this.length};W.reduce=function(G,m){v.trackAccess(this._observable);const d=this._items;return 2===arguments.length?d.reduce(G,m):d.reduce(G)};W.reduceRight=function(G,m){v.trackAccess(this._observable);const d=this._items;return 2===arguments.length?d.reduceRight(G,m):d.reduceRight(G)};W.remove=function(G){v.trackAccess(this._observable);return this.removeAt(this.indexOf(G))};W.removeAt=function(G){v.trackAccess(this._observable);
if(!(0>G||G>=this.length||this._emitBeforeChanges(2)))return G=w(this._splice(G,1)),this._emitAfterChanges(2),G};W.removeMany=function(G){v.trackAccess(this._observable);if(!G||!G.length||this._emitBeforeChanges(2))return[];G=G instanceof y?G.toArray():G;const m=this._items,d=[],z=G.length;for(let ca=0;ca<z;ca++){var F=m.indexOf(G[ca]);if(-1<F){{var M=ca+1;var X=F+1;const ka=Math.min(G.length-M,m.length-X);let oa=0;for(;oa<ka&&G[M+oa]===m[X+oa];)oa++;M=oa}M=1+M;(F=this._splice(F,M))&&0<F.length&&
d.push.apply(d,F);ca+=M-1}}this._emitAfterChanges(2);return d};W.reverse=function(){v.trackAccess(this._observable);if(this._emitBeforeChanges(4))return this;const G=this._splice(0,this.length);G&&(G.reverse(),this._splice(0,0,...G));this._emitAfterChanges(4);return this};W.shift=function(){v.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(2)){var G=w(this._splice(0,1));this._emitAfterChanges(2);return G}};W.slice=function(G=0,m=this.length){v.trackAccess(this._observable);
return this._createNewInstance({items:this._items.slice(G,m)})};W.some=function(G,m){v.trackAccess(this._observable);return this._items.some(G,m)};W.sort=function(G){v.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(4))return this;const m=t.assumeNonNull(this._splice(0,this.length));arguments.length?m.sort(G):m.sort();this._splice(0,0,...m);this._emitAfterChanges(4);return this};W.splice=function(G,m,...d){v.trackAccess(this._observable);const z=(m?2:0)|(d.length?1:0);if(this._emitBeforeChanges(z))return[];
G=this._splice(G,m,...d)||[];this._emitAfterChanges(z);return G};W.toArray=function(){v.trackAccess(this._observable);return this._items.slice()};W.toJSON=function(){v.trackAccess(this._observable);return this.toArray()};W.toLocaleString=function(){v.trackAccess(this._observable);return this._items.toLocaleString()};W.toString=function(){v.trackAccess(this._observable);return this._items.toString()};W.unshift=function(...G){v.trackAccess(this._observable);if(!G.length||this._emitBeforeChanges(1))return this.length;
this._splice(0,0,...G);this._emitAfterChanges(1);return this.length};W._createNewInstance=function(G){return new this.constructor(G)};W._splice=function(G,m,...d){const z=this._items;var F=this.constructor.prototype.itemType;let M=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=D.schedule(()=>this._dispatchChange()));if(m){M=z.splice(G,m);if(this.hasEventListener("before-remove")){var X=
P.acquire();X.target=this;X.cancellable=!0;for(let oa=0,va=M.length;oa<va;oa++)m=M[oa],X.reset(m),this.emit("before-remove",X),X.defaultPrevented&&(M.splice(oa,1),z.splice(G,0,m),G+=1,--oa,--va);P.release(X)}this.length=this._items.length;if(this.hasEventListener("after-remove")){m=P.acquire();m.target=this;m.cancellable=!1;X=M.length;for(let oa=0;oa<X;oa++)m.reset(M[oa]),this.emit("after-remove",m);P.release(m)}}if(d&&d.length){if(F){m=[];for(var ca of d)d=F.ensureType(ca),null==d&&null!=ca||m.push(d);
d=m}F=this.hasEventListener("before-add");ca=this.hasEventListener("after-add");m=G===this.length;if(F||ca){var ka=P.acquire();ka.target=this;ka.cancellable=!0;X=P.acquire();X.target=this;X.cancellable=!1;for(const oa of d)F?(ka.reset(oa),this.emit("before-add",ka),ka.defaultPrevented||(m?z.push(oa):z.splice(G++,0,oa),this._set("length",z.length),ca&&(X.reset(oa),this.emit("after-add",X)))):(m?z.push(oa):z.splice(G++,0,oa),this._set("length",z.length),X.reset(oa),this.emit("after-add",X));P.release(X);
P.release(ka)}else{if(m)for(ka of d)z.push(ka);else z.splice(G,0,...d);this._set("length",z.length)}}(d&&d.length||M&&M.length)&&this._notifyChangeEvent(d,M);return M};W._emitBeforeChanges=function(G){let m=!1;if(this.hasEventListener("before-changes")){const d=P.acquire();d.target=this;d.cancellable=!0;d.type=G;this.emit("before-changes",d);m=d.defaultPrevented;P.release(d)}return m};W._emitAfterChanges=function(G){if(this.hasEventListener("after-changes")){const m=P.acquire();m.target=this;m.cancellable=
!1;m.type=G;this.emit("after-changes",m);P.release(m)}this._observable.notify()};W._notifyChangeEvent=function(G,m){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:G,removed:m})};W._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var G=this._notifications;this._notifications=null;for(const m of G){G=m.changes;S.clear();U.clear();O.clear();for(const {added:ca,removed:ka}of G){if(ca)if(0===
O.size&&0===U.size)for(const oa of ca)S.add(oa);else for(const oa of ca)U.has(oa)?(O.add(oa),U.delete(oa)):O.has(oa)||S.add(oa);if(ka)if(0===O.size&&0===S.size)for(const oa of ka)U.add(oa);else for(const oa of ka)S.has(oa)?S.delete(oa):(O.delete(oa),U.add(oa))}const d=A.acquire();S.forEach(ca=>{d.push(ca)});const z=A.acquire();U.forEach(ca=>{z.push(ca)});const F=this._items,M=m.items,X=A.acquire();O.forEach(ca=>{M.indexOf(ca)!==F.indexOf(ca)&&X.push(ca)});if(m.listeners&&(d.length||z.length||X.length)){G=
{target:this,added:d,removed:z,moved:X};const ca=m.listeners.length;for(let ka=0;ka<ca;ka++){const oa=m.listeners[ka];oa.removed||oa.callback.call(this,G)}}A.release(d);A.release(z);A.release(X)}S.clear();U.clear();O.clear()}};p._createClass(R,[{key:"items",get:function(){v.trackAccess(this._observable);return this._items},set:function(G){this._emitBeforeChanges(1)||(this._splice(0,this.length,...u(G)),this._emitAfterChanges(1))}}]);return R}(L.EventedAccessor);n.ofType=C=>{if(!C)return y;if(aa.has(C))return aa.get(C);
var R=null;if("function"===typeof C)R=C.prototype.declaredClass;else if(C.base)R=C.base.prototype.declaredClass;else for(var W in C.typeMap){const G=C.typeMap[W].prototype.declaredClass;R=R?R+` | ${G}`:G}W=function(G){function m(){return G.apply(this,arguments)||this}p._inheritsLoose(m,G);return m}(y);W=f.__decorate([I.subclass(`esri.core.Collection<${R}>`)],W);R={Type:C,ensureType:"function"===typeof C?q.ensureType(C):q.ensureOneOfType(C)};Object.defineProperty(W.prototype,"itemType",{value:R});
aa.set(C,W);return W};f.__decorate([H.property()],n.prototype,"length",void 0);f.__decorate([H.property()],n.prototype,"items",null);return n=y=f.__decorate([I.subclass("esri.core.Collection")],n)})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","./ObservationHandle"],function(p,f){let A=function(){function L(){this._observers=[]}var h=L.prototype;h.observe=function(t){this._observers.includes(t)||this._observers.push(t);return new f.ObservationHandle(this._observers,
t)};h.notify=function(){const t=this._observers.slice();for(let l=0;l<t.length;++l){const D=t[l];D.onInvalidated();D.onCommitted()}};return L}();p.SimpleObservable=A;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(p,f){p.castForReferenceSetter=function(A){return A};p.referenceSetter=function(A,L,h=f){L||(L=new h);if(L===A)return L;L.removeAll();A&&(Array.isArray(A)||"items"in A&&Array.isArray(A.items))?L.addMany(A):
A&&L.add(A);return L};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/Loadable":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Error ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(p,f,A,L,h,t,l,D){const q=v=>{v=function(H){function I(...u){var w=H.call(this,...u)||this;w._loadController=null;w.loadError=null;w.loadStatus="not-loaded";w._set("loadWarnings",[]);w.addResolvingPromise(new Promise(c=>
{const y=w.load.bind(p._assertThisInitialized(w));w.load=B=>{const P=new Promise((J,S)=>{const U=h.onAbortOrThrow(B,S);w.destroyed&&S(new A("load:instance-destroyed",`Instance of '${w.declaredClass||w.constructor.name}' is already destroyed`,{instance:p._assertThisInitialized(w)}));w._promiseProps.when(J,S).finally(()=>{U&&U.remove()})});if("not-loaded"===w.loadStatus){w._set("loadStatus","loading");const J=w._loadController=h.createAbortController();y({signal:J.signal});h.onAbort(J.signal,()=>{w._promiseProps.abort()})}c();
return P}}));w.when(()=>{w._set("loadStatus","loaded");w._loadController=null},c=>{w._set("loadStatus","failed");w._set("loadError",c);w._loadController=null});return w}p._inheritsLoose(I,H);var g=I.prototype;g.load=function(){return null};g.cancelLoad=function(){var u;if(this.isFulfilled())return this;this._set("loadError",new A("load:cancelled","Cancelled"));null==(u=this._loadController)?void 0:u.abort();return this};p._createClass(I,[{key:"loaded",get:function(){return"loaded"===this.loadStatus}},
{key:"loadWarnings",get:function(){return this._get("loadWarnings")}}]);return I}(v);f.__decorate([l.property({readOnly:!0})],v.prototype,"loaded",null);f.__decorate([l.property({readOnly:!0})],v.prototype,"loadError",void 0);f.__decorate([l.property()],v.prototype,"loadStatus",void 0);f.__decorate([l.property({type:[t],readOnly:!0})],v.prototype,"loadWarnings",null);return v=f.__decorate([D.subclass("esri.core.Loadable")],v)};L=function(v){function H(){return v.apply(this,arguments)||this}p._inheritsLoose(H,
v);return H}(q(L.EsriPromise));L=f.__decorate([D.subclass("esri.core.Loadable")],L);(function(v){v.LoadableMixin=q;v.isLoadable=function(H){return!(!H||!H.load)}})(L||(L={}));return L})},"esri/core/Promise":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/subclass".split(" "),function(p,f,A,L,h,t,l){let D=function(){function v(I){this.instance=I;this._resolver=t.createDeferred();this._status=0;this._resolvingPromises=
[];this._resolver.promise.then(()=>{this._status=1;this._cleanUp()},()=>{this._status=2;this._cleanUp()})}var H=v.prototype;H.addResolvingPromise=function(I){this._resolvingPromises.push(I);this._tryResolve()};H.isResolved=function(){return 1===this._status};H.isRejected=function(){return 2===this._status};H.isFulfilled=function(){return 0!==this._status};H.abort=function(){this._resolver.reject(t.createAbortError())};H.when=function(I,g){return this._resolver.promise.then(I,g)};H._cleanUp=function(){this._allPromise=
this._resolvingPromises=this._allPromise=null};H._tryResolve=function(){if(!this.isFulfilled()){var I=t.createDeferred(),g=[...this._resolvingPromises,h.assumeNonNull(I.promise)],u=this._allPromise=Promise.all(g);u.then(()=>{this.isFulfilled()||this._allPromise!==u||this._resolver.resolve(this.instance)},w=>{this.isFulfilled()||this._allPromise!==u||t.isAbortError(w)||this._resolver.reject(w)});I.resolve()}};return v}();const q=v=>{v=function(H){function I(...u){u=H.call(this,...u)||this;u._promiseProps=
new D(f._assertThisInitialized(u));u.addResolvingPromise(Promise.resolve());return u}f._inheritsLoose(I,H);var g=I.prototype;g.isResolved=function(){return this._promiseProps.isResolved()};g.isRejected=function(){return this._promiseProps.isRejected()};g.isFulfilled=function(){return this._promiseProps.isFulfilled()};g.when=function(u,w){return(new Promise((c,y)=>{this._promiseProps.when(c,y)})).then(u,w)};g.catch=function(u){return this.when(null,u)};g.addResolvingPromise=function(u){u&&!this._promiseProps.isFulfilled()&&
this._promiseProps.addResolvingPromise("_promiseProps"in u?u.when():u)};return I}(v);return v=A.__decorate([l.subclass("esri.core.Promise")],v)};p.EsriPromise=function(v){function H(){return v.apply(this,arguments)||this}f._inheritsLoose(H,v);return H}(q(L));p.EsriPromise=A.__decorate([l.subclass("esri.core.Promise")],p.EsriPromise);p.EsriPromiseMixin=q;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/loadAll":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./asyncUtils ./Collection ./Loadable ./maybe".split(" "),
function(p,f,A,L,h,t){function l(H,I){return D.apply(this,arguments)}function D(){D=f._asyncToGenerator(function*(H,I){yield H.load();return q(H,I)});return D.apply(this,arguments)}function q(H,I){return v.apply(this,arguments)}function v(){v=f._asyncToGenerator(function*(H,I){const g=[],u=(...c)=>{for(const y of c)t.isNone(y)||(Array.isArray(y)?u(...y):L.isCollection(y)?y.forEach(B=>u(B)):h.isLoadable(y)&&g.push(y))};I(u);let w=null;yield A.map(g,function(){var c=f._asyncToGenerator(function*(y){!1!==
(yield A.result("loadAll"in y&&"function"===typeof y.loadAll?y.loadAll():y.load())).ok||w||(w=y)});return function(y){return c.apply(this,arguments)}}());if(w)throw w.loadError;return H});return v.apply(this,arguments)}p.default=l;p.loadAll=l;p.loadAllChildren=q;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/core/asyncUtils":function(){define(["exports","./maybe","./promiseUtils"],function(p,f,A){p.assertResult=function(L){if(!0===L.ok)return L.value;throw L.error;};p.forEach=function(L,
h,t){return A.eachAlways(L.map((l,D)=>h.apply(t,[l,D])))};p.map=function(L,h,t){return A.eachAlways(L.map((l,D)=>h.apply(t,[l,D]))).then(l=>l.map(D=>D.value))};p.result=function(L){return f.isNone(L)?A.resolve():L.then(h=>({ok:!0,value:h})).catch(h=>({ok:!1,error:h}))};p.resultOrAbort=function(L){return L.then(h=>({ok:!0,value:h})).catch(h=>{A.throwIfAbortError(h);return{ok:!1,error:h}})};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/portal/Portal":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../config ../intl ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser ../intl/locale".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H,I,g,u,w,c,y,B,P,J,S,U,O,aa){function ba(W){return Object.freeze({__proto__:null,"default":W})}var n;let C;const R={PortalGroup:()=>new Promise(function(W,G){p(["./PortalGroup"],function(m){W(ba(m))},G)}),PortalItem:()=>new Promise(function(W,G){p(["./PortalItem"],function(m){W(ba(m))},G)}),PortalUser:()=>new Promise(function(W,G){p(["./PortalUser"],function(m){W(ba(m))},G)})};h=n=function(W){function G(d){d=W.call(this,d)||this;d.access=null;d.allSSL=!1;d.authMode="auto";
d.authorizedCrossOriginDomains=null;d.basemapGalleryGroupQuery=null;d.bingKey=null;d.canListApps=!1;d.canListData=!1;d.canListPreProvisionedItems=!1;d.canProvisionDirectPurchase=!1;d.canSearchPublic=!0;d.canShareBingPublic=!1;d.canSharePublic=!1;d.canSignInArcGIS=!1;d.canSignInIDP=!1;d.colorSetsGroupQuery=null;d.commentsEnabled=!1;d.created=null;d.culture=null;d.customBaseUrl=null;d.defaultBasemap=null;d.defaultExtent=null;d.defaultVectorBasemap=null;d.description=null;d.eueiEnabled=null;d.featuredGroups=
null;d.featuredItemsGroupQuery=null;d.galleryTemplatesGroupQuery=null;d.livingAtlasGroupQuery=null;d.hasCategorySchema=!1;d.helperServices=null;d.homePageFeaturedContent=null;d.homePageFeaturedContentCount=null;d.httpPort=null;d.httpsPort=null;d.id=null;d.ipCntryCode=null;d.isPortal=!1;d.isReadOnly=!1;d.layerTemplatesGroupQuery=null;d.maxTokenExpirationMinutes=null;d.modified=null;d.name=null;d.portalHostname=null;d.portalMode=null;d.portalProperties=null;d.region=null;d.rotatorPanels=null;d.showHomePageDescription=
!1;d.sourceJSON=null;d.supportsHostedServices=!1;d.symbolSetsGroupQuery=null;d.templatesGroupQuery=null;d.units=null;d.url=L.portalUrl;d.urlKey=null;d.user=null;d.useStandardizedQuery=!1;d.useVectorBasemaps=!1;d.vectorBasemapGalleryGroupQuery=null;return d}f._inheritsLoose(G,W);var m=G.prototype;m.normalizeCtorArgs=function(d){return"string"===typeof d?{url:d}:d};m.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=
null)};m.readAuthorizedCrossOriginDomains=function(d){if(d)for(const z of d)-1===L.request.trustedServers.indexOf(z)&&L.request.trustedServers.push(z);return d};m.readDefaultBasemap=function(d){return d?(d=C.fromJSON(d),d.portalItem={portal:this},d):null};m.readDefaultVectorBasemap=function(d){return d?(d=C.fromJSON(d),d.portalItem={portal:this},d):null};m.readUrlKey=function(d){return d?d.toLowerCase():d};m.readUser=function(d){let z=null;d&&(z=O.fromJSON(d),z.portal=this);return z};m.load=function(d){const z=
(new Promise(function(F,M){p(["../Basemap"],function(X){F(ba(X))},M)})).then(({default:F})=>{I.throwIfAborted(d);C=F}).then(()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,d)).then(F=>{if(t.id){const M=t.id;this.credential=M.findCredential(this.restUrl);this.credential||this.authMode!==n.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=M.on("credential-create",()=>{M.findCredential(this.restUrl)&&this._signIn()}))}this.sourceJSON=F;this.read(F)});this.addResolvingPromise(z);
return Promise.resolve(this)};m.createClosestFacilityTask=function(){var d=f._asyncToGenerator(function*(){yield this.load();const z=this._getHelperServiceUrl("closestFacility");return new (yield new Promise(function(F,M){p(["../tasks/ClosestFacilityTask"],function(X){F(ba(X))},M)})).default(z)});return function(){return d.apply(this,arguments)}}();m.createElevationLayers=function(){var d=f._asyncToGenerator(function*(){yield this.load();const z=this._getHelperService("defaultElevationLayers"),F=
(yield new Promise(function(M,X){p(["../layers/ElevationLayer"],function(ca){M(ba(ca))},X)})).default;return z?z.map(M=>new F({id:M.id,url:M.url})):[]});return function(){return d.apply(this,arguments)}}();m.createGeometryService=function(){var d=f._asyncToGenerator(function*(){yield this.load();const z=this._getHelperServiceUrl("geometry");return new (yield new Promise(function(F,M){p(["../tasks/GeometryService"],function(X){F(ba(X))},M)})).default({url:z})});return function(){return d.apply(this,
arguments)}}();m.createPrintTask=function(){var d=f._asyncToGenerator(function*(){yield this.load();const z=this._getHelperServiceUrl("printTask");return new (yield new Promise(function(F,M){p(["../tasks/PrintTask"],function(X){F(ba(X))},M)})).default(z)});return function(){return d.apply(this,arguments)}}();m.createRouteTask=function(){var d=f._asyncToGenerator(function*(){yield this.load();const z=this._getHelperServiceUrl("route");return new (yield new Promise(function(F,M){p(["../tasks/RouteTask"],
function(X){F(ba(X))},M)})).default(z)});return function(){return d.apply(this,arguments)}}();m.createServiceAreaTask=function(){var d=f._asyncToGenerator(function*(){yield this.load();const z=this._getHelperServiceUrl("serviceArea");return new (yield new Promise(function(F,M){p(["../tasks/ServiceAreaTask"],function(X){F(ba(X))},M)})).default(z)});return function(){return d.apply(this,arguments)}}();m.fetchBasemaps=function(d,z){const F=new S;F.query=d||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:
this.basemapGalleryGroupQuery);F.disableExtraQuery=!0;return this.queryGroups(F,z).then(M=>{F.num=100;F.query='type:"Web Map" -type:"Web Application"';return M.total?(M=M.results[0],F.sortField=M.sortField||"name",F.sortOrder=M.sortOrder||"desc",M.queryItems(F,z)):null}).then(M=>M&&M.total?M.results.filter(X=>"Web Map"===X.type).map(X=>new C({portalItem:X})):[])};m.fetchCategorySchema=function(d){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",d).then(z=>z.categorySchema):
I.isAborted(d)?Promise.reject(I.createAbortError()):Promise.resolve([])};m.fetchFeaturedGroups=function(d){const z=this.featuredGroups,F=new S;F.num=100;F.sortField="title";if(z&&z.length){const M=[];for(const X of z)M.push(`(title:"${X.title}" AND owner:${X.owner})`);F.query=M.join(" OR ");return this.queryGroups(F,d).then(X=>X.results)}return I.isAborted(d)?Promise.reject(I.createAbortError()):Promise.resolve([])};m.fetchRegions=function(d){const z=this.user&&this.user.culture||this.culture||aa.getLocale();
return this._request(this.restUrl+"/portals/regions",{...d,query:{culture:z}})};G.getDefault=function(){if(!n._default||n._default.destroyed)n._default=new n;return n._default};m.queryGroups=function(d,z){return this._queryPortal("/community/groups",d,"PortalGroup",z)};m.queryItems=function(d,z){return this._queryPortal("/search",d,"PortalItem",z)};m.queryUsers=function(d,z){d.sortField||(d.sortField="username");return this._queryPortal("/community/users",d,"PortalUser",z)};m.toJSON=function(){throw new D("internal:not-yet-implemented",
"Portal.toJSON is not yet implemented");};G.fromJSON=function(d){if(!d)return null;if(d.declaredClass)throw Error("JSON object is already hydrated");return new n({sourceJSON:d})};m._getHelperService=function(d){const z=this.helperServices&&this.helperServices[d];if(!z)throw new D("portal:service-not-found",`The \`helperServices\` do not include an entry named "${d}"`);return z};m._getHelperServiceUrl=function(d){const z=this._getHelperService(d);if(!z.url)throw new D("portal:service-url-not-found",
`The \`helperServices\` entry "${d}" does not include a \`url\` value`);return z.url};m._fetchSelf=function(d=this.authMode,z=!1,F){const M=this.restUrl+"/portals/self";d={authMode:d,query:{culture:aa.getLocale().toLowerCase()},...F};"auto"===d.authMode&&(d.authMode="no-prompt");z&&(d.query.default=!0);return this._request(M,d)};m._queryPortal=function(d,z,F,M){const X=w.ensureType(S,z),ca=ka=>this._request(this.restUrl+d,{...X.toRequestOptions(this),...M}).then(oa=>{const va=X.clone();va.start=oa.nextStart;
return new U({nextQueryParams:va,queryParams:X,total:oa.total,results:n._resultsToTypedArray(ka,{portal:this},oa,M)})}).then(oa=>Promise.all(oa.results.map(va=>"function"===typeof va.when?va.when():oa)).then(()=>oa,va=>{I.throwIfAbortError(va);return oa}));return F&&R[F]?R[F]().then(({default:ka})=>{I.throwIfAborted(M);return ca(ka)}):ca()};m._signIn=function(){if(this.authMode===n.AUTH_MODE_ANONYMOUS)return Promise.reject(new D("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));
if("failed"===this.loadStatus)return Promise.reject(this.loadError);const d=z=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return z||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=z;return this._fetchSelf("immediate")});if(this.user&&this.credential===z)return null;this.credential=z;return this._fetchSelf("immediate")}).then(F=>{F&&(this.sourceJSON=F,this.read(F))});
return t.id?t.id.getCredential(this.restUrl).then(z=>d(z)):d(this.credential)};m._normalizeSSL=function(d){return d.replace(/^http:/i,"https:").replace(":7080",":7443")};m._normalizeUrl=function(d){const z=this.credential&&this.credential.token;return this._normalizeSSL(z?d+(-1<d.indexOf("?")?"\x26":"?")+"token\x3d"+z:d)};m._requestToTypedArray=function(d,z,F){return this._request(d,z).then(M=>{const X=n._resultsToTypedArray(F,{portal:this},M);return Promise.all(X.map(ca=>"function"===typeof ca.when?
ca.when():M)).then(()=>X,()=>X)})};m._request=function(d,z={}){const F={f:"json",...z.query},{authMode:M=this.authMode===n.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:X=null,cacheBust:ca=!1,method:ka="auto",responseType:oa="json",signal:va}=z;z={authMode:M,body:X,cacheBust:ca,method:ka,query:F,responseType:oa,timeout:0,signal:va};return l(this._normalizeSSL(d),z).then(Da=>Da.data)};G._resultsToTypedArray=function(d,z,F,M){if(F){const X=H.isSome(M)?M.signal:null;F=F.listings||F.notifications||F.userInvitations||
F.tags||F.items||F.groups||F.comments||F.provisions||F.results||F.relatedItems||F;if(d||z)F=F.map(ca=>{ca=Object.assign(d?d.fromJSON(ca):ca,z);"function"===typeof ca.load&&ca.load(X);return ca})}else F=[];return F};f._createClass(G,[{key:"extraQuery",get:function(){const d=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!d?` AND orgid:${this.id}`:null}},{key:"isOrganization",get:function(){return!!this.access}},{key:"restUrl",get:function(){let d=this.url;if(d){const z=d.indexOf("/sharing");
d=0<z?d.substring(0,z):this.url.replace(/\/+$/,"");d+="/sharing/rest"}return d}},{key:"thumbnailUrl",get:function(){const d=this.restUrl,z=this.thumbnail;return d&&z?this._normalizeSSL(d+"/portals/self/resources/"+z):null}}]);return G}(q.JSONSupportMixin(v));h.AUTH_MODE_ANONYMOUS="anonymous";h.AUTH_MODE_AUTO="auto";h.AUTH_MODE_IMMEDIATE="immediate";A.__decorate([g.property()],h.prototype,"access",void 0);A.__decorate([g.property()],h.prototype,"allSSL",void 0);A.__decorate([g.property()],h.prototype,
"authMode",void 0);A.__decorate([g.property()],h.prototype,"authorizedCrossOriginDomains",void 0);A.__decorate([B.reader("authorizedCrossOriginDomains")],h.prototype,"readAuthorizedCrossOriginDomains",null);A.__decorate([g.property()],h.prototype,"basemapGalleryGroupQuery",void 0);A.__decorate([g.property()],h.prototype,"bingKey",void 0);A.__decorate([g.property()],h.prototype,"canListApps",void 0);A.__decorate([g.property()],h.prototype,"canListData",void 0);A.__decorate([g.property()],h.prototype,
"canListPreProvisionedItems",void 0);A.__decorate([g.property()],h.prototype,"canProvisionDirectPurchase",void 0);A.__decorate([g.property()],h.prototype,"canSearchPublic",void 0);A.__decorate([g.property()],h.prototype,"canShareBingPublic",void 0);A.__decorate([g.property()],h.prototype,"canSharePublic",void 0);A.__decorate([g.property()],h.prototype,"canSignInArcGIS",void 0);A.__decorate([g.property()],h.prototype,"canSignInIDP",void 0);A.__decorate([g.property()],h.prototype,"colorSetsGroupQuery",
void 0);A.__decorate([g.property()],h.prototype,"commentsEnabled",void 0);A.__decorate([g.property({type:Date})],h.prototype,"created",void 0);A.__decorate([g.property()],h.prototype,"credential",void 0);A.__decorate([g.property()],h.prototype,"culture",void 0);A.__decorate([g.property()],h.prototype,"currentVersion",void 0);A.__decorate([g.property()],h.prototype,"customBaseUrl",void 0);A.__decorate([g.property()],h.prototype,"defaultBasemap",void 0);A.__decorate([B.reader("defaultBasemap")],h.prototype,
"readDefaultBasemap",null);A.__decorate([g.property({type:J})],h.prototype,"defaultExtent",void 0);A.__decorate([g.property()],h.prototype,"defaultVectorBasemap",void 0);A.__decorate([B.reader("defaultVectorBasemap")],h.prototype,"readDefaultVectorBasemap",null);A.__decorate([g.property()],h.prototype,"description",void 0);A.__decorate([g.property()],h.prototype,"eueiEnabled",void 0);A.__decorate([g.property({readOnly:!0})],h.prototype,"extraQuery",null);A.__decorate([g.property()],h.prototype,"featuredGroups",
void 0);A.__decorate([g.property()],h.prototype,"featuredItemsGroupQuery",void 0);A.__decorate([g.property()],h.prototype,"galleryTemplatesGroupQuery",void 0);A.__decorate([g.property()],h.prototype,"livingAtlasGroupQuery",void 0);A.__decorate([g.property()],h.prototype,"hasCategorySchema",void 0);A.__decorate([g.property()],h.prototype,"helpBase",void 0);A.__decorate([g.property()],h.prototype,"helperServices",void 0);A.__decorate([g.property()],h.prototype,"helpMap",void 0);A.__decorate([g.property()],
h.prototype,"homePageFeaturedContent",void 0);A.__decorate([g.property()],h.prototype,"homePageFeaturedContentCount",void 0);A.__decorate([g.property()],h.prototype,"httpPort",void 0);A.__decorate([g.property()],h.prototype,"httpsPort",void 0);A.__decorate([g.property()],h.prototype,"id",void 0);A.__decorate([g.property()],h.prototype,"ipCntryCode",void 0);A.__decorate([g.property({readOnly:!0})],h.prototype,"isOrganization",null);A.__decorate([g.property()],h.prototype,"isPortal",void 0);A.__decorate([g.property()],
h.prototype,"isReadOnly",void 0);A.__decorate([g.property()],h.prototype,"layerTemplatesGroupQuery",void 0);A.__decorate([g.property()],h.prototype,"maxTokenExpirationMinutes",void 0);A.__decorate([g.property({type:Date})],h.prototype,"modified",void 0);A.__decorate([g.property()],h.prototype,"name",void 0);A.__decorate([g.property()],h.prototype,"portalHostname",void 0);A.__decorate([g.property()],h.prototype,"portalMode",void 0);A.__decorate([g.property()],h.prototype,"portalProperties",void 0);
A.__decorate([g.property()],h.prototype,"region",void 0);A.__decorate([g.property({readOnly:!0})],h.prototype,"restUrl",null);A.__decorate([g.property()],h.prototype,"rotatorPanels",void 0);A.__decorate([g.property()],h.prototype,"showHomePageDescription",void 0);A.__decorate([g.property()],h.prototype,"sourceJSON",void 0);A.__decorate([g.property()],h.prototype,"staticImagesUrl",void 0);A.__decorate([g.property()],h.prototype,"stylesGroupQuery",void 0);A.__decorate([g.property()],h.prototype,"supportsHostedServices",
void 0);A.__decorate([g.property()],h.prototype,"symbolSetsGroupQuery",void 0);A.__decorate([g.property()],h.prototype,"templatesGroupQuery",void 0);A.__decorate([g.property()],h.prototype,"thumbnail",void 0);A.__decorate([g.property({readOnly:!0})],h.prototype,"thumbnailUrl",null);A.__decorate([g.property()],h.prototype,"units",void 0);A.__decorate([g.property()],h.prototype,"url",void 0);A.__decorate([g.property()],h.prototype,"urlKey",void 0);A.__decorate([B.reader("urlKey")],h.prototype,"readUrlKey",
null);A.__decorate([g.property()],h.prototype,"user",void 0);A.__decorate([B.reader("user")],h.prototype,"readUser",null);A.__decorate([g.property()],h.prototype,"useStandardizedQuery",void 0);A.__decorate([g.property()],h.prototype,"useVectorBasemaps",void 0);A.__decorate([g.property()],h.prototype,"vectorBasemapGalleryGroupQuery",void 0);return h=n=A.__decorate([P.subclass("esri.portal.Portal")],h)})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),
function(p,f,A,L,h,t,l,D){t.registerMessageBundleLoader(l.createJSONLoader({pattern:"esri/",location:D.getAssetUrl}));p.convertDateFormatToIntlOptions=f.convertDateFormatToIntlOptions;p.formatDate=f.formatDate;p.convertNumberFormatToIntlOptions=A.convertNumberFormatToIntlOptions;p.formatNumber=A.formatNumber;p.substitute=L.substitute;p.getLocale=h.getLocale;p.onLocaleChange=h.onLocaleChange;p.prefersRTL=h.prefersRTL;p.setLocale=h.setLocale;p.fetchMessageBundle=t.fetchMessageBundle;p.normalizeMessageBundleLocale=
t.normalizeMessageBundleLocale;p.registerMessageBundleLoader=t.registerMessageBundleLoader;p.createJSONLoader=l.createJSONLoader;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale"],function(p,f,A){function L(w){w=w||u;if(!g.has(w)){var c=A.getLocale();c=I[A.getLocale()]||c;g.set(w,new Intl.DateTimeFormat(c,w))}return g.get(w)}var h={year:"numeric",month:"numeric",day:"numeric"},t={year:"numeric",month:"long",day:"numeric"},
l={year:"numeric",month:"short",day:"numeric"};const D={year:"numeric",month:"long",weekday:"long",day:"numeric"},q={hour:"numeric",minute:"numeric"},v={...q,second:"numeric"},H={"short-date":h,"short-date-short-time":{...h,...q},"short-date-short-time-24":{...h,...q,hour12:!1},"short-date-long-time":{...h,...v},"short-date-long-time-24":{...h,...v,hour12:!1},"short-date-le":h,"short-date-le-short-time":{...h,...q},"short-date-le-short-time-24":{...h,...q,hour12:!1},"short-date-le-long-time":{...h,
...v},"short-date-le-long-time-24":{...h,...v,hour12:!1},"long-month-day-year":t,"long-month-day-year-short-time":{...t,...q},"long-month-day-year-short-time-24":{...t,...q,hour12:!1},"long-month-day-year-long-time":{...t,...v},"long-month-day-year-long-time-24":{...t,...v,hour12:!1},"day-short-month-year":l,"day-short-month-year-short-time":{...l,...q},"day-short-month-year-short-time-24":{...l,...q,hour12:!1},"day-short-month-year-long-time":{...l,...v},"day-short-month-year-long-time-24":{...l,
...v,hour12:!1},"long-date":D,"long-date-short-time":{...D,...q},"long-date-short-time-24":{...D,...q,hour12:!1},"long-date-long-time":{...D,...v},"long-date-long-time-24":{...D,...v,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":q,"long-time":v};f=f.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",
shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
shortMonthYear:"short-month-year",year:"year"});h=f.apiValues;t=f.toJSON.bind(f);l=f.fromJSON.bind(f);const I={ar:"ar-u-nu-latn-ca-gregory"};let g=new WeakMap,u=H["short-date-short-time"];A.beforeLocaleChange(()=>{g=new WeakMap;u=H["short-date-short-time"]});p.convertDateFormatToIntlOptions=function(w){return H[w]||null};p.dateFormats=h;p.dictionary=f;p.formatDate=function(w,c){return L(c).format(w)};p.fromJSON=l;p.getDateTimeFormatter=L;p.toJSON=t;Object.defineProperty(p,"__esModule",{value:!0})})},
"esri/intl/number":function(){define(["exports","../core/maybe","./locale"],function(p,f,A){function L(D){const q=D||l;if(!t.has(q)){var v=A.getLocale();v=h[A.getLocale()]||v;t.set(q,new Intl.NumberFormat(v,D))}return f.assumeNonNull(t.get(q))}const h={ar:"ar-u-nu-latn"};let t=new WeakMap,l={};A.beforeLocaleChange(()=>{t=new WeakMap;l={}});p.convertNumberFormatToIntlOptions=function(D={}){const q={};null!=D.digitSeparator&&(q.useGrouping=D.digitSeparator);null!=D.places&&(q.minimumFractionDigits=
q.maximumFractionDigits=D.places);return q};p.formatNumber=function(D,q){return L(q).format(D)};p.getFormatter=L;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),function(p,f,A,L,h,t){function l(q){switch(typeof q){case "string":return q;case "number":return t.formatNumber(q);case "boolean":return""+q;default:return q instanceof Date?h.formatDate(q):""}}const D=f.getLogger("esri.intl");
p.substitute=function(q,v,H={}){const {format:I={}}=H;return L.replace(q,g=>{{const c=g.indexOf(":");if(-1===c)var u=g.trim();else{u=g.slice(0,c).trim();var w=g.slice(c+1).trim()}if(u)if(g=A.getDeepValue(u,v),null==g)w="";else if(u=I[w]||I[u])b:switch(u.type){case "date":w=h.formatDate(g,u.intlOptions);break b;case "number":w=t.formatNumber(g,u.intlOptions);break b;default:D.warn("missing format descriptor for key {key}"),w=l(g)}else if(w)b:switch(w.toLowerCase()){case "dateformat":w=h.formatDate(g);
break b;case "numberformat":w=t.formatNumber(g);break b;default:D.warn(`inline format is unsupported since 4.12: ${w}`),w=/^(dateformat|datestring)/i.test(w)?h.formatDate(g):/^numberformat/i.test(w)?t.formatNumber(g):l(g)}else w=l(g);else w=""}return w})};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/intl/messages":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../core/Error","../core/promiseUtils","./locale"],function(p,f,A,L,h){function t(B){var P;return null!=(P=
g[B])?P:!1}function l(B){for(const P of w.keys())H(B.pattern,P)&&w.delete(P)}function D(){D=f._asyncToGenerator(function*(B){const P=h.getLocale();w.has(B)||w.set(B,q(B,P));B=w.get(B);yield c.add(B);return B});return D.apply(this,arguments)}function q(B,P){return v.apply(this,arguments)}function v(){v=f._asyncToGenerator(function*(B,P){const J=[];for(const S of u)if(H(S.pattern,B))try{return yield S.fetchMessageBundle(B,P)}catch(U){J.push(U)}if(J.length)throw new A("intl:message-bundle-error",`Errors occurred while loading "${B}"`,
{errors:J});throw new A("intl:no-message-bundle-loader",`No loader found for message bundle "${B}"`);});return v.apply(this,arguments)}function H(B,P){return"string"===typeof B?P.startsWith(B):B.test(P)}const I=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,g={ar:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0},
u=[],w=new Map;h.beforeLocaleChange(()=>{w.clear()});const c=new (function(){function B(){this._numLoading=0}var P=B.prototype;P.waitForAll=function(){var J=f._asyncToGenerator(function*(){this._dfd&&(yield this._dfd.promise)});return function(){return J.apply(this,arguments)}}();P.add=function(J){this._increase();J.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()};P._increase=function(){this._numLoading++;this._dfd||(this._dfd=L.createDeferred())};P._decrease=function(){this._numLoading=
Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)};return B}()),y={cache:w,loaders:u};p.fetchMessageBundle=function(B){return D.apply(this,arguments)};p.normalizeMessageBundleLocale=function(B){if(!I.test(B))return null;const [,P,J]=I.exec(B);B=P+(J?"-"+J.toUpperCase():"");return t(B)?B:t(P)?P:null};p.registerMessageBundleLoader=function(B){u.includes(B)||(l(B),u.unshift(B));return{remove(){const P=u.indexOf(B);-1<P&&(u.splice(P,1),l(B))}}};p.test=
y;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/intl/t9n":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/Error ../core/global ../core/maybe ./messages".split(" "),function(p,f,A,L,h,t,l){function D(u,w,c,y){return q.apply(this,arguments)}function q(){q=f._asyncToGenerator(function*(u,w,c,y){var B=w.exec(c);if(!B)throw new L("esri-intl:invalid-bundle",`Bundle id "${c}" is not compatible with the pattern "${w}"`);w=B[1]?`${B[1]}/`:"";B=B[2];const P=l.normalizeMessageBundleLocale(y);
y=`${w}${B}.json`;w=P?`${w}${B}_${P}.json`:y;let J;try{J=yield v(u(w))}catch(S){if(w===y)throw new L("intl:unknown-bundle",`Bundle "${c}" cannot be loaded`,{error:S});try{J=yield v(u(y))}catch(U){throw new L("intl:unknown-bundle",`Bundle "${c}" cannot be loaded`,{error:U});}}return J});return q.apply(this,arguments)}function v(u){return H.apply(this,arguments)}function H(){H=f._asyncToGenerator(function*(u){if(t.isSome(g.fetchBundleAsset))return g.fetchBundleAsset(u);u=yield A(u,{responseType:"text"});
return JSON.parse(u.data)});return H.apply(this,arguments)}let I=function(){function u({base:w="",pattern:c,location:y=new URL(window.location.href)}){let B;B="string"===typeof y?P=>(new URL(P,new URL(y,h.location))).href:y instanceof URL?P=>(new URL(P,y)).href:y;this.pattern="string"===typeof c?new RegExp(`^${c}`):c;this.getAssetUrl=B;w=w?w.endsWith("/")?w:w+"/":"";this.matcher=new RegExp(`^${w}(?:(.*)\/)?(.*)$`)}u.prototype.fetchMessageBundle=function(w,c){return D(this.getAssetUrl,this.matcher,
w,c)};return u}();const g={};p.JSONLoader=I;p.createJSONLoader=function(u){return new I(u)};p.test=g;Object.defineProperty(p,"__esModule",{value:!0})})},"esri/portal/PortalQueryParams":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H,I,g){var u;const w=new L.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});A=u=function(c){function y(P){P=c.call(this,P)||this;P.categories=null;P.disableExtraQuery=!1;P.extent=null;P.num=10;P.query=null;P.sortField=null;P.start=1;return P}p._inheritsLoose(y,c);var B=y.prototype;B.clone=function(){return new u({categories:this.categories?h.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?
this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};B.toRequestOptions=function(P,J){let S;this.categories&&(S=this.categories.map(aa=>Array.isArray(aa)?JSON.stringify(aa):aa));let U;if(this.extent){var O=g.project(this.extent,I.WGS84);O&&(U=`${O.xmin},${O.ymin},${O.xmax},${O.ymax}`)}O=this.query;!this.disableExtraQuery&&P.extraQuery&&(O="("+O+")"+P.extraQuery);P={categories:S,bbox:U,q:O,num:this.num,sortField:null,sortOrder:null,
start:this.start};this.sortField&&(P.sortField=this.sortField.split(",").map(aa=>w.toJSON(aa.trim())).join(","),P.sortOrder=this.sortOrder);return{query:{...J,...P}}};p._createClass(y,[{key:"sortOrder",get:function(){return this._get("sortOrder")||"asc"},set:function(P){"asc"!==P&&"desc"!==P||this._set("sortOrder",P)}}]);return y}(A);f.__decorate([t.property()],A.prototype,"categories",void 0);f.__decorate([t.property()],A.prototype,"disableExtraQuery",void 0);f.__decorate([t.property({type:H})],
A.prototype,"extent",void 0);f.__decorate([t.property()],A.prototype,"num",void 0);f.__decorate([t.property()],A.prototype,"query",void 0);f.__decorate([t.property()],A.prototype,"sortField",void 0);f.__decorate([t.property()],A.prototype,"sortOrder",null);f.__decorate([t.property()],A.prototype,"start",void 0);return A=u=f.__decorate([v.subclass("esri.portal.PortalQueryParams")],A)})},"esri/portal/PortalQueryResult":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass".split(" "),
function(p,f,A,L,h,t,l,D,q){A=function(v){function H(I){I=v.call(this,I)||this;I.nextQueryParams=null;I.queryParams=null;I.results=null;I.total=null;return I}p._inheritsLoose(H,v);return H}(A);f.__decorate([L.property()],A.prototype,"nextQueryParams",void 0);f.__decorate([L.property()],A.prototype,"queryParams",void 0);f.__decorate([L.property()],A.prototype,"results",void 0);f.__decorate([L.property()],A.prototype,"total",void 0);return A=f.__decorate([q.subclass("esri.portal.PortalQueryResult")],
A)})},"esri/portal/PortalUser":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),function(p,f,A,L,h,t,l,D,q,v,H,I,g){var u;h=u=function(w){function c(...B){B=w.call(this,...B)||this;B.access=null;B.created=null;B.culture=null;B.description=
null;B.email=null;B.fullName=null;B.modified=null;B.orgId=null;B.portal=null;B.preferredView=null;B.privileges=null;B.region=null;B.role=null;B.roleId=null;B.sourceJSON=null;B.units=null;B.username=null;B.userType=null;return B}f._inheritsLoose(c,w);var y=c.prototype;y.addItem=function(B){const P=B&&B.item;var J=B&&B.data;B=B&&B.folder;const S={method:"post"};P&&(S.query=P.createPostQuery(),null!=J&&("string"===typeof J?S.query.text=J:"object"===typeof J&&(S.query.text=JSON.stringify(J))));J=this.userContentUrl;
B&&(J+="/"+("string"===typeof B?B:B.id));return this.portal._request(J+"/addItem",S).then(U=>{P.id=U.id;P.portal=this.portal;return P.loaded?P.reload():P.load()})};y.deleteItem=function(B){let P=this.userContentUrl;B.ownerFolder&&(P+="/"+B.ownerFolder);return this.portal._request(P+`/items/${B.id}/delete`,{method:"post"}).then(()=>{B.id=null;B.portal=null})};y.deleteItems=function(B){const P=this.userContentUrl+"/deleteItems";var J=B.map(S=>S.id);return J.length?(J={method:"post",query:{items:J.join(",")}},
this.portal._request(P,J).then(()=>{B.forEach(S=>{S.id=null;S.portal=null})})):Promise.resolve(void 0)};y.fetchFolders=function(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then(B=>B&&B.folders?B.folders.map(P=>{P=I.fromJSON(P);P.portal=this.portal;return P}):[])};y.fetchGroups=function(){return this.portal._request(this.url).then(B=>B&&B.groups?B.groups.map(P=>{P=g.fromJSON(P);P.portal=this.portal;return P}):[])};y.fetchItems=function(B){B||(B={});let P=this.userContentUrl;
B.folder&&(P+="/"+B.folder.id);let J;return(new Promise(function(S,U){p(["./PortalItem"],function(O){S(Object.freeze({__proto__:null,"default":O}))},U)})).then(({default:S})=>{J=S;return this.portal._request(P,{query:{folders:!1,num:B.num||10,start:B.start||1,sortField:B.sortField||"created",sortOrder:B.sortOrder||"asc"}})}).then(S=>{let U;return S&&S.items?(U=S.items.map(O=>{O=J.fromJSON(O);O.portal=this.portal;return O}),Promise.all(U.map(O=>O.load())).catch(O=>O).then(()=>({items:U,nextStart:S.nextStart,
total:S.total}))):{items:[],nextStart:-1,total:0}})};y.fetchTags=function(){return this.portal._request(this.url+"/tags").then(B=>B.tags)};y.getThumbnailUrl=function(B){let P=this.thumbnailUrl;P&&B&&(P+=`&w=${B}`);return P};y.queryFavorites=function(B){return this.favGroupId?(this._favGroup||(this._favGroup=new g({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(B)):Promise.reject(new L("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};y.toJSON=
function(){throw new L("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};c.fromJSON=function(B){if(!B)return null;if(B.declaredClass)throw Error("JSON object is already hydrated");const P=new u;P.sourceJSON=B;P.read(B);return P};f._createClass(c,[{key:"thumbnailUrl",get:function(){const B=this.url,P=this.thumbnail;return B&&P?this.portal._normalizeUrl(`${B}/info/${P}?f=json`):null}},{key:"userContentUrl",get:function(){const B=this.get("portal.restUrl");return B?`${B}/content/users/${this.username}`:
null}},{key:"url",get:function(){const B=this.get("portal.restUrl");return B?`${B}/community/users/${this.username}`:null}}]);return c}(h.JSONSupport);A.__decorate([t.property()],h.prototype,"access",void 0);A.__decorate([t.property({type:Date})],h.prototype,"created",void 0);A.__decorate([t.property()],h.prototype,"culture",void 0);A.__decorate([t.property()],h.prototype,"description",void 0);A.__decorate([t.property()],h.prototype,"email",void 0);A.__decorate([t.property()],h.prototype,"favGroupId",
void 0);A.__decorate([t.property()],h.prototype,"fullName",void 0);A.__decorate([t.property({type:Date})],h.prototype,"modified",void 0);A.__decorate([t.property()],h.prototype,"orgId",void 0);A.__decorate([t.property()],h.prototype,"portal",void 0);A.__decorate([t.property()],h.prototype,"preferredView",void 0);A.__decorate([t.property()],h.prototype,"privileges",void 0);A.__decorate([t.property()],h.prototype,"region",void 0);A.__decorate([t.property()],h.prototype,"role",void 0);A.__decorate([t.property()],
h.prototype,"roleId",void 0);A.__decorate([t.property()],h.prototype,"sourceJSON",void 0);A.__decorate([t.property()],h.prototype,"thumbnail",void 0);A.__decorate([t.property({readOnly:!0})],h.prototype,"thumbnailUrl",null);A.__decorate([t.property()],h.prototype,"units",void 0);A.__decorate([t.property({readOnly:!0})],h.prototype,"userContentUrl",null);A.__decorate([t.property({readOnly:!0})],h.prototype,"url",null);A.__decorate([t.property()],h.prototype,"username",void 0);A.__decorate([t.property()],
h.prototype,"userType",void 0);return h=u=A.__decorate([H.subclass("esri.portal.PortalUser")],h)})},"esri/portal/PortalFolder":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass".split(" "),function(p,f,A,L,h,t,l,D,q,v){L=function(H){function I(g){g=H.call(this,g)||this;g.created=
null;g.id=null;g.portal=null;g.title=null;g.username=null;return g}p._inheritsLoose(I,H);I.prototype.toJSON=function(){throw new A("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};p._createClass(I,[{key:"url",get:function(){const g=this.get("portal.restUrl");return g?`${g}/content/users/${this.username}/${this.id}`:null}}]);return I}(L.JSONSupport);f.__decorate([h.property({type:Date})],L.prototype,"created",void 0);f.__decorate([h.property()],L.prototype,"id",void 0);
f.__decorate([h.property()],L.prototype,"portal",void 0);f.__decorate([h.property()],L.prototype,"title",void 0);f.__decorate([h.property({readOnly:!0})],L.prototype,"url",null);f.__decorate([h.property()],L.prototype,"username",void 0);return L=f.__decorate([v.subclass("esri.portal.PortalFolder")],L)})},"esri/portal/PortalGroup":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H){L=function(I){function g(w){w=I.call(this,w)||this;w.access=null;w.created=null;w.description=null;w.id=null;w.isInvitationOnly=!1;w.modified=null;w.owner=null;w.portal=null;w.snippet=null;w.sortField=null;w.sortOrder=null;w.tags=null;w.title=null;return w}p._inheritsLoose(g,I);var u=g.prototype;u.fetchCategorySchema=function(w){return this.portal._request(this.url+"/categorySchema",w).then(c=>{c=c.categorySchema||[];return c.some(y=>"contentCategorySetsGroupQuery.LivingAtlas"===
y.source)?this._fetchCategorySchemaSet("LivingAtlas",w):c})};u.fetchMembers=function(w){return this.portal._request(this.url+"/users",w)};u.getThumbnailUrl=function(w){let c=this.thumbnailUrl;c&&w&&(c+=`&w=${w}`);return c};u.toJSON=function(){throw new A("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};u.queryItems=function(w,c){w=l.ensureType(H,w);if(5<parseFloat(this.portal.currentVersion))return w=w||new H,this.portal._queryPortal(`/content/groups/${this.id}/search`,
w,"PortalItem",c);w=w?w.clone():new H;w.query="group:"+this.id+(w.query?" "+w.query:"");return this.portal.queryItems(w,c)};u._fetchCategorySchemaSet=function(w,c){return this.portal._fetchSelf(this.portal.authMode,!0,c).then(y=>{if(y=y.contentCategorySetsGroupQuery){const B=new H;B.disableExtraQuery=!0;B.num=1;B.query=y;return this.portal.queryGroups(B,c)}throw new A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(y=>{if(y.total){y=y.results[0];const B=
new H;B.num=1;B.query=`typekeywords:"${w}"`;return y.queryItems(B,c)}throw new A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(y=>y.total?y.results[0].fetchData("json",c).then(B=>(B=B&&B.categorySchema)&&B.length?B:[]):[])};p._createClass(g,[{key:"thumbnailUrl",get:function(){const w=this.url,c=this.thumbnail;return w&&c?this.portal._normalizeUrl(`${w}/info/${c}?f=json`):null}},{key:"url",get:function(){const w=this.get("portal.restUrl");return w?w+"/community/groups/"+
this.id:null}}]);return g}(L.JSONSupport);f.__decorate([h.property()],L.prototype,"access",void 0);f.__decorate([h.property({type:Date})],L.prototype,"created",void 0);f.__decorate([h.property()],L.prototype,"description",void 0);f.__decorate([h.property()],L.prototype,"id",void 0);f.__decorate([h.property()],L.prototype,"isInvitationOnly",void 0);f.__decorate([h.property({type:Date})],L.prototype,"modified",void 0);f.__decorate([h.property()],L.prototype,"owner",void 0);f.__decorate([h.property()],
L.prototype,"portal",void 0);f.__decorate([h.property()],L.prototype,"snippet",void 0);f.__decorate([h.property()],L.prototype,"sortField",void 0);f.__decorate([h.property()],L.prototype,"sortOrder",void 0);f.__decorate([h.property()],L.prototype,"tags",void 0);f.__decorate([h.property()],L.prototype,"thumbnail",void 0);f.__decorate([h.property({readOnly:!0})],L.prototype,"thumbnailUrl",null);f.__decorate([h.property()],L.prototype,"title",void 0);f.__decorate([h.property({readOnly:!0})],L.prototype,
"url",null);return L=f.__decorate([v.subclass("esri.portal.PortalGroup")],L)})},"esri/portal/PortalItem":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H,I,g,u,w,c,y,B,P,J,S){var U;t=U=function(O){function aa(n){n=O.call(this,n)||this;n.access=null;n.accessInformation=null;n.apiKey=null;n.applicationProxies=null;n.avgRating=null;n.categories=null;n.created=null;n.culture=null;n.description=null;n.extent=null;n.groupCategories=null;n.id=null;n.itemControl=null;n.licenseInfo=null;n.modified=null;n.name=null;n.numComments=null;n.numRatings=null;n.numViews=null;n.owner=null;n.ownerFolder=null;n.portal=null;n.screenshots=
null;n.size=null;n.snippet=null;n.sourceJSON=null;n.tags=null;n.title=null;n.type=null;n.typeKeywords=null;n.url=null;return n}f._inheritsLoose(aa,O);aa.from=function(n){return I.ensureClass(U,n)};var ba=aa.prototype;ba.destroy=function(){this.portal=null};ba.readExtent=function(n){return n&&n.length?new B(n[0][0],n[0][1],n[1][0],n[1][1]):null};ba.load=function(n){this.portal||(this.portal=P.getDefault());const C=this.portal.load(n).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,
{signal:q.isSome(n)?n.signal:null,query:{token:this.apiKey}}):{}).then(R=>{this.sourceJSON=R;this.read(R)});this.addResolvingPromise(C);return Promise.resolve(this)};ba.addRating=function(n){const C={method:"post",query:{}};n instanceof S&&(n=n.rating);isNaN(n)||"number"!==typeof n||(C.query.rating=n);return this.portal._request(this.itemUrl+"/addRating",C).then(()=>new S({rating:n,created:new Date}))};ba.clone=function(){const n={access:this.access,accessInformation:this.accessInformation,applicationProxies:l.clone(this.applicationProxies),
avgRating:this.avgRating,categories:l.clone(this.categories),created:l.clone(this.created),culture:this.culture,description:this.description,extent:l.clone(this.extent),groupCategories:l.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:l.clone(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:l.clone(this.screenshots),
size:this.size,snippet:this.snippet,tags:l.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:l.clone(this.typeKeywords),url:this.url};this.loaded&&(n.loadStatus="loaded");return(new U({sourceJSON:this.sourceJSON})).set(n)};ba.createPostQuery=function(){const n=this.toJSON();for(const C in n)"tags"===C&&null!==n[C]&&(n[C]=n[C].join(", ")),"typeKeywords"===C&&null!==n[C]&&(n[C]=n[C].join(", ")),"extent"===C&&n[C]&&(n[C]=JSON.stringify(n[C]));return n};ba.deleteRating=
function(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then(()=>{})};ba.fetchData=function(n="json",C){return this.portal._request(this.itemUrl+"/data",{responseType:n,...C,query:{token:this.apiKey}})};ba.fetchRating=function(n){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...n}).then(C=>null!=C.rating?(C.created=new Date(C.created),new S(C)):null)};ba.fetchRelatedItems=function(n,C){return this.portal._requestToTypedArray(this.itemUrl+
"/relatedItems",{query:{...n,token:this.apiKey},...C},U)};ba.getThumbnailUrl=function(n){let C=this.thumbnailUrl;C&&n&&(C+=`&w=${n}`);return C};ba.reload=function(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then(n=>{this.sourceJSON=n;this.read(n);return this})};ba.update=function(n){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const C=n&&n.data,R={method:"post"};R.query=this.createPostQuery();for(const W in R.query)null===R.query[W]&&
(R.query[W]="");R.query.clearEmptyFields=!0;null!=C&&("string"===typeof C?R.query.text=C:"object"===typeof C&&(R.query.text=JSON.stringify(C)));return this.portal._request(`${this.userItemUrl}/update`,R).then(()=>this.reload())}):Promise.reject(new h("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};ba.updateThumbnail=function(n){return this.id?this.load().then(()=>this.portal._signIn()).then(()=>{const C=n.thumbnail,R=n.filename,W={method:"post"};if("string"===typeof C)v.isDataProtocol(C)?
W.query={data:C}:W.query={url:v.makeAbsolute(C)},q.isSome(R)&&(W.query.filename=R);else{const G=new FormData;q.isSome(R)?G.append("file",C,R):G.append("file",C);W.body=G}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,W).then(()=>this.reload())}):Promise.reject(new h("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))};ba.fetchResources=function(){var n=f._asyncToGenerator(function*(C={},R){return(yield new Promise(function(W,G){p(["./support/resourceUtils"],
W,G)})).fetchResources(this,C,R)});return function(){return n.apply(this,arguments)}}();ba.addResource=function(){var n=f._asyncToGenerator(function*(C,R,W){const G=yield new Promise(function(m,d){p(["./support/resourceUtils"],m,d)});C.portalItem=this;return G.addOrUpdateResource(C,"add",R,W)});return function(C,R,W){return n.apply(this,arguments)}}();ba.removeResource=function(){var n=f._asyncToGenerator(function*(C,R){const W=yield new Promise(function(G,m){p(["./support/resourceUtils"],G,m)});
if(C.portalItem&&C.portalItem.itemUrl!==this.itemUrl)throw new h("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return W.removeResource(this,C,R)});return function(C,R){return n.apply(this,arguments)}}();ba.removeAllResources=function(){var n=f._asyncToGenerator(function*(C){return(yield new Promise(function(R,W){p(["./support/resourceUtils"],R,W)})).removeAllResources(this,C)});return function(C){return n.apply(this,arguments)}}();
ba.resourceFromPath=function(n){return new J({portalItem:this,path:n})};ba.toJSON=function(){var n=this.extent;n={created:this.created&&this.created.getTime(),description:this.description,extent:n&&[[n.xmin,n.ymin],[n.xmax,n.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return l.fixJson(n)};
aa.fromJSON=function(n){if(!n)return null;if(n.declaredClass)throw Error("JSON object is already hydrated");return new U({sourceJSON:n})};ba._getPostQuery=function(){const n=this.toJSON();for(const C in n)"tags"===C&&null!==n[C]&&(n[C]=n[C].join(", ")),"typeKeywords"===C&&null!==n[C]&&(n[C]=n[C].join(", ")),"extent"===C&&n[C]&&(n[C]=JSON.stringify(n[C]));return n};f._createClass(aa,[{key:"displayName",get:function(){const n=this.type,C=this.typeKeywords||[];let R=n;"Feature Service"===n||"Feature Collection"===
n?R=-1<C.indexOf("Table")?"Table":-1<C.indexOf("Route Layer")?"Route Layer":-1<C.indexOf("Markup")?"Markup":"Feature Layer":"Image Service"===n?R=-1<C.indexOf("Elevation 3D Layer")?"Elevation Layer":-1<C.indexOf("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===n?R="Scene Layer":"Scene Package"===n?R="Scene Layer Package":"Stream Service"===n?R="Feature Layer":"Geoprocessing Service"===n&&this.portal&&this.portal.isPortal?R=-1<C.indexOf("Web Tool")?"Tool":"Geoprocessing Service":
"Geocoding Service"===n?R="Locator":"Geoenrichment Service"===n?R="GeoEnrichment Service":"Microsoft Powerpoint"===n?R="Microsoft PowerPoint":"GeoJson"===n?R="GeoJSON":"Globe Service"===n?R="Globe Layer":"Vector Tile Service"===n?R="Tile Layer":"netCDF"===n?R="NetCDF":"Map Service"===n?R=-1===C.indexOf("Spatiotemporal")&&(-1<C.indexOf("Hosted Service")||-1<C.indexOf("Tiled"))&&-1===C.indexOf("Relational")?"Tile Layer":"Map Image Layer":n&&-1<n.toLowerCase().indexOf("add in")?R=n.replace(/(add in)/gi,
"Add-In"):"datastore catalog service"===n?R="Big Data File Share":"Compact Tile Package"===n?R="Tile Package (tpkx)":"OGCFeatureServer"===n&&(R="OGC Feature Layer");return R}},{key:"iconUrl",get:function(){var n=this.type&&this.type.toLowerCase()||"";const C=this.typeKeywords||[];let R=!1,W=!1,G=!1,m=!1,d=!1,z=!1;0<n.indexOf("service")||"feature collection"===n||"kml"===n||"wms"===n||"wmts"===n||"wfs"===n?(R=-1<C.indexOf("Hosted Service"),"feature service"===n||"feature collection"===n||"kml"===n||
"wfs"===n?(W=-1<C.indexOf("Table"),G=-1<C.indexOf("Route Layer"),m=-1<C.indexOf("Markup"),d=-1!==C.indexOf("Spatiotemporal"),z=-1!==C.indexOf("UtilityNetwork"),n=d&&W?"spatiotemporaltable":W?"table":G?"routelayer":m?"markup":d?"spatiotemporal":R?"featureshosted":z?"utilitynetwork":"features"):n="map service"===n||"wms"===n||"wmts"===n?R||-1<C.indexOf("Tiled")||"wmts"===n?"maptiles":"mapimages":"scene service"===n?-1<C.indexOf("Line")?"sceneweblayerline":-1<C.indexOf("3DObject")?"sceneweblayermultipatch":
-1<C.indexOf("Point")?"sceneweblayerpoint":-1<C.indexOf("IntegratedMesh")?"sceneweblayermesh":-1<C.indexOf("PointCloud")?"sceneweblayerpointcloud":-1<C.indexOf("Polygon")?"sceneweblayerpolygon":-1<C.indexOf("Building")?"sceneweblayerbuilding":-1<C.indexOf("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===n?-1<C.indexOf("Elevation 3D Layer")?"elevationlayer":-1<C.indexOf("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===n?"streamlayer":"vector tile service"===n?"vectortile":
"datastore catalog service"===n?"datastorecollection":"geocoding service"===n?"geocodeservice":"geoprocessing service"===n?-1<C.indexOf("Web Tool")&&this.portal&&this.portal.isPortal?"tool":"layers":"layers"):n="web map"===n||"cityengine web scene"===n?"maps":"web scene"===n?-1<C.indexOf("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===n||"mobile application"===n||"application"===n||"operation view"===n||"desktop application"===n?"apps":"map document"===n||"map package"===
n||"published map"===n||"scene document"===n||"globe document"===n||"basemap package"===n||"mobile basemap package"===n||"mobile map package"===n||"project package"===n||"project template"===n||"pro map"===n||"layout"===n||"layer"===n&&-1<C.indexOf("ArcGIS Pro")||"explorer map"===n&&C.indexOf("Explorer Document")?"mapsgray":"service definition"===n||"csv"===n||"shapefile"===n||"cad drawing"===n||"geojson"===n||"360 vr experience"===n||"netcdf"===n||"administrative report"===n?"datafiles":"explorer add in"===
n||"desktop add in"===n||"windows viewer add in"===n||"windows viewer configuration"===n?"appsgray":"arcgis pro add in"===n||"arcgis pro configuration"===n?"addindesktop":"rule package"===n||"file geodatabase"===n||"sqlite geodatabase"===n||"csv collection"===n||"kml collection"===n||"windows mobile package"===n||"map template"===n||"desktop application template"===n||"gml"===n||"arcpad package"===n||"code sample"===n||"form"===n||"document link"===n||"earth configuration"===n||"operations dashboard add in"===
n||"rules package"===n||"image"===n||"workflow manager package"===n||"explorer map"===n&&-1<C.indexOf("Explorer Mapping Application")||-1<C.indexOf("Document")?"datafilesgray":"network analysis service"===n||"geoprocessing service"===n||"geodata service"===n||"geometry service"===n||"geoprocessing package"===n||"locator package"===n||"geoprocessing sample"===n||"workflow manager service"===n?"toolsgray":"layer"===n||"layer package"===n||"explorer layer"===n?"layersgray":"scene package"===n?"scenepackage":
"mobile scene package"===n?"mobilescenepackage":"tile package"===n||"compact tile package"===n?"tilepackage":"task file"===n?"taskfile":"report template"===n?"report-template":"statistical data collection"===n?"statisticaldatacollection":"insights workbook"===n?"workbook":"insights model"===n?"insightsmodel":"insights page"===n?"insightspage":"insights theme"===n?"insightstheme":"hub initiative"===n?"hubinitiative":"hubpage"===n?"hubpage":"hub event"===n?"hubevent":"hub site application"===n?"hubsite":
"relational database connection"===n?"relationaldatabaseconnection":"big data file share"===n?"datastorecollection":"image collection"===n?"imagecollection":"style"===n?"style":"desktop style"===n?"desktopstyle":"dashboard"===n?"dashboard":"raster function template"===n?"rasterprocessingtemplate":"vector tile package"===n?"vectortilepackage":"ortho mapping project"===n?"orthomappingproject":"ortho mapping template"===n?"orthomappingtemplate":"solution"===n?"solutions":"geopackage"===n?"geopackage":
"deep learning package"===n?"deeplearningpackage":"real time analytic"===n?"realtimeanalytics":"big data analytic"===n?"bigdataanalytics":"feed"===n?"feed":"excalibur imagery project"===n?"excaliburimageryproject":"notebook"===n?"notebook":"storymap"===n?"storymap":"survey123 add in"===n?"survey123addin":"mission"===n?"mission":"mission report"===n?"missionreport":"quickcapture project"===n?"quickcaptureproject":"pro report"===n?"proreport":"urban model"===n?"urbanmodel":"web experience"===n?"experiencebuilder":
"web experience template"===n?"webexperiencetemplate":"workflow"===n?"workflow":"insights script"===n?"insightsscript":"kernel gateway connection"===n?"kernelgatewayconnection":"hub initiative template"===n?"hubinitiativetemplate":"storymap theme"===n?"storymaptheme":"knowledge graph"===n?"knowledgegraph":"native application"===n?"nativeapp":"native application installer"===n?"nativeappinstaller":"link chart"===n?"linkchart":"investigation"===n?"investigation":"ogcfeatureserver"===n?"features":"pro project"===
n?"proproject":"insights workbook package"===n?"insightsworkbookpackage":"maps";return n?L.getAssetUrl("esri/images/portal/"+n+"16.png"):null}},{key:"isLayer",get:function(){return-1<"Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;WMTS;WMS".split(";").indexOf(this.type)}},{key:"itemUrl",get:function(){const n=this.get("portal.restUrl");return n?n+"/content/items/"+this.id:null}},{key:"thumbnailUrl",get:function(){const n=this.itemUrl,
C=this.thumbnail;return n&&C?this.portal._normalizeUrl(`${n}/info/${C}?f=json`):null}},{key:"userItemUrl",get:function(){const n=this.get("portal.restUrl");if(!n)return null;const C=this.owner||this.get("portal.user.username");return C?`${n}/content/users/${this.ownerFolder?`${C}/${this.ownerFolder}`:C}/items/${this.id}`:null}}]);return aa}(t.JSONSupportMixin(D));A.__decorate([H.property({type:["private","shared","org","public"]})],t.prototype,"access",void 0);A.__decorate([H.property()],t.prototype,
"accessInformation",void 0);A.__decorate([H.property({type:String})],t.prototype,"apiKey",void 0);A.__decorate([H.property({json:{read:{source:"appProxies"}}})],t.prototype,"applicationProxies",void 0);A.__decorate([H.property()],t.prototype,"avgRating",void 0);A.__decorate([H.property()],t.prototype,"categories",void 0);A.__decorate([H.property({type:Date})],t.prototype,"created",void 0);A.__decorate([H.property()],t.prototype,"culture",void 0);A.__decorate([H.property()],t.prototype,"description",
void 0);A.__decorate([H.property({readOnly:!0})],t.prototype,"displayName",null);A.__decorate([H.property({type:B})],t.prototype,"extent",void 0);A.__decorate([c.reader("extent")],t.prototype,"readExtent",null);A.__decorate([H.property()],t.prototype,"groupCategories",void 0);A.__decorate([H.property({readOnly:!0})],t.prototype,"iconUrl",null);A.__decorate([H.property()],t.prototype,"id",void 0);A.__decorate([H.property({readOnly:!0})],t.prototype,"isLayer",null);A.__decorate([H.property()],t.prototype,
"itemControl",void 0);A.__decorate([H.property({readOnly:!0})],t.prototype,"itemUrl",null);A.__decorate([H.property()],t.prototype,"licenseInfo",void 0);A.__decorate([H.property({type:Date})],t.prototype,"modified",void 0);A.__decorate([H.property()],t.prototype,"name",void 0);A.__decorate([H.property()],t.prototype,"numComments",void 0);A.__decorate([H.property()],t.prototype,"numRatings",void 0);A.__decorate([H.property()],t.prototype,"numViews",void 0);A.__decorate([H.property()],t.prototype,"owner",
void 0);A.__decorate([H.property()],t.prototype,"ownerFolder",void 0);A.__decorate([H.property({type:P})],t.prototype,"portal",void 0);A.__decorate([H.property()],t.prototype,"screenshots",void 0);A.__decorate([H.property()],t.prototype,"size",void 0);A.__decorate([H.property()],t.prototype,"snippet",void 0);A.__decorate([H.property()],t.prototype,"sourceJSON",void 0);A.__decorate([H.property()],t.prototype,"tags",void 0);A.__decorate([H.property()],t.prototype,"thumbnail",void 0);A.__decorate([H.property({readOnly:!0})],
t.prototype,"thumbnailUrl",null);A.__decorate([H.property()],t.prototype,"title",void 0);A.__decorate([H.property()],t.prototype,"type",void 0);A.__decorate([H.property()],t.prototype,"typeKeywords",void 0);A.__decorate([H.property()],t.prototype,"url",void 0);A.__decorate([H.property({readOnly:!0})],t.prototype,"userItemUrl",null);return t=U=A.__decorate([y.subclass("esri.portal.PortalItem")],t)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/cast ../core/jsonMap ../core/accessorSupport/decorators/subclass".split(" "),
function(p,f,A,L,h,t,l,D,q,v,H,I,g){const u=t.getLogger("esri.portal.PortalItemResource");L=function(w){function c(B){B=w.call(this,B)||this;B.portalItem=null;return B}f._inheritsLoose(c,w);var y=c.prototype;y.normalizeCtorArgs=function(B){return B&&B.portalItem&&B.path?{...B,path:this.normalizePath(B.path,B.portalItem)}:B};y._castPath=function(B){return this.normalizePath(B,this.portalItem)};y.fetch=function(B="json",P){const J=this.url;if(l.isNone(J))throw new h("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");
return this.portalItem.portal._request(J,{responseType:B,query:{token:this.portalItem.apiKey},signal:l.get(P,"signal")})};y.update=function(){var B=f._asyncToGenerator(function*(P,J){return(yield new Promise(function(S,U){p(["./support/resourceUtils"],S,U)})).addOrUpdateResource(this,"update",P,J)});return function(P,J){return B.apply(this,arguments)}}();y.hasPath=function(){return l.isSome(this.path)};y.normalizePath=function(B,P){if(l.isNone(B))return B;B=B.replace(/^\/+/,"");l.isSome(P)&&D.isAbsolute(B)&&
(B=D.makeRelative(B,P.itemUrl));return B.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")};f._createClass(c,[{key:"path",set:function(B){l.isSome(B)&&D.isAbsolute(B)?u.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",B)}},{key:"url",get:function(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}},{key:"itemRelativeUrl",get:function(){return this.portalItem&&this.path?`./resources/${this.path}`:null}}]);
return c}(L);A.__decorate([q.property()],L.prototype,"portalItem",void 0);A.__decorate([q.property({type:String,value:null})],L.prototype,"path",null);A.__decorate([H.cast("path")],L.prototype,"_castPath",null);A.__decorate([q.property({type:String,readOnly:!0})],L.prototype,"url",null);A.__decorate([q.property({type:String,readOnly:!0})],L.prototype,"itemRelativeUrl",null);return L=A.__decorate([g.subclass("esri.portal.PortalItemResource")],L)})},"esri/portal/PortalRating":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/ensureType ../core/Logger ../core/jsonMap ../core/accessorSupport/decorators/subclass".split(" "),
function(p,f,A,L,h,t,l,D,q){A=function(v){function H(I){I=v.call(this,I)||this;I.created=null;I.rating=null;return I}p._inheritsLoose(H,v);return H}(A);f.__decorate([L.property()],A.prototype,"created",void 0);f.__decorate([L.property()],A.prototype,"rating",void 0);return A=f.__decorate([q.subclass("esri.portal.PortalRating")],A)})},"esri/support/basemapDefinitions":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","../assets","../intl/messages"],function(p,f,A,L){function h(){h=
f._asyncToGenerator(function*(t){if(t){var l=-1<t.indexOf("-vector")?t.slice(0,t.indexOf("-vector")):t,D=yield L.fetchMessageBundle("esri/t9n/basemaps");return D[t]||D[l]}});return h.apply(this,arguments)}p.esriBasemapDefinitions={streets:{id:"streets",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",
showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",
get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/oceans.jpg")},
baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",
get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,
visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/topo-vector.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",
get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",
url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},
baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",
title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",
title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",
title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},
"arcgis-topographic":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return A.getAssetUrl("esri/images/basemap/oceans.jpg")},
title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",
title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},
"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},
"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",
title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};p.getBasemapTitle=function(t){return h.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0})})},
"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/maybe ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer".split(" "),function(p,f,A,L,h,t){function l(H){return!("feature"!==H.type||H.url||!H.source||"memory"!==H.source.type)}function D(H,I){"maxScale"in H&&(I.maxScale=t.numberToJSON(H.maxScale));"minScale"in H&&(I.minScale=t.numberToJSON(H.minScale))}const q=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile".split(" ")),
v=new Set("csv feature geo-rss group imagery imagery-tile kml map-image map-notes ogc-feature tile unknown unsupported vector-tile web-tile wfs".split(" "));p.disableRestrictedWriting=function(H){q.add(H);v.add(H)};p.enableRestrictedWriting=function(H){q.delete(H);v.delete(H)};p.getLayerJSON=function(H,I,g){if(!("write"in H&&H.write))return g&&g.messages&&g.messages.push(new f("layer:unsupported",`Layers (${H.title}, ${H.id}) of type '${H.declaredClass}' cannot be persisted`,{layer:H})),null;if(g.restrictedWebMapWriting){var u=
"basemap"===g.layerContainerType?q:"operational-layers"===g.layerContainerType?v:null;u=L.isSome(u)?u.has(H.type)&&!l(H):!0}else u=!0;if(u)return I={},H.write(I,g)?I:null;if(L.isSome(I)&&(g=I=A.clone(I),l(H)?(u=(u=h.getDeepValue("featureCollection.layers",g))&&u[0]&&u[0].layerDefinition)&&D(H,u):"stream"===H.type?(u=g.layerDefinition=g.layerDefinition||{},D(H,u)):"group"!==H.type&&D(H,g),"blendMode"in H&&(g.blendMode=H.blendMode,"normal"===g.blendMode&&delete g.blendMode),g.opacity=t.numberToJSON(H.opacity),
g.title=H.title||"Layer",g.visibility=H.visible,"legendEnabled"in H&&"wmts"!==H.type))if(l(H)){if(g=g.featureCollection)g.showLegend=H.legendEnabled}else g.showLegend=H.legendEnabled;return I};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/sources/csv/csv":function(){define(["exports"],function(p){function*f(l,D,q){let v=0;for(;v<=l.length;){var H=l.indexOf(D,v);H=l.substring(v,-1<H?H:void 0);v+=H.length+D.length;if(!q||H.trim())yield H}}function A(l,D){return f(l,D,!1)}
const L=/^\s*"([\S\s]*)"\s*$/,h=/""/g,t=[","," ",";","|","\t"];p.inferDelimiter=function(l){l=l.trim();let D=0,q="";for(const v of t){const H=l.split(v).length;H>D&&(D=H,q=v)}return""===q?null:q};p.parseRows=function*(l,D,q){var v="";let H="";var I=0,g=[];a:for(;;){const {value:B,done:P}=l.next();if(P)break;var u=A(B,q);b:for(;;){const {value:J,done:S}=u.next();if(S)break b;v+=H+J;H="";var w=void 0;var c=J;var y=0;for(w=c.indexOf('"',0);0<=w;)y++,w=c.indexOf('"',w+1);c=y;I+=c;if(0===I%2){if(0<I)if(v=
L.exec(v))g.push(v[1].replace(h,'"'));else{g=[];v="";I=0;continue a}else g.push(v);v="";I=0}else H=q}if(0===I){u=D;c={};w=u.length;for(y=0;y<w;y++)c[u[y]]=g[y];g=c;yield g;g=[]}else H="\n"}};p.readRowParts=A;p.readRows=function(l){const D=l.includes("\r\n")?"\r\n":"\n";return f(l,D,!0)};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities",
"../../../../symbols/support/defaultsJSON"],function(p,f,A,L,h){p.createCapabilities=function(t,l){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:l,supportsDelete:l,supportsEditing:l,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:l,supportsExceedsLimitStatistics:!0},
query:L.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:l,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}};p.createDefaultAttributesFunction=function(t,l){if(f("csp-restrictions"))return()=>({[l]:null,...t});
try{let D=`this.${l} = null;`;for(const v in t){const H=v.indexOf(".")?`["${v}"]`:`.${v}`;D+=`this${H} = ${JSON.stringify(t[v])};`}const q=new Function(D);return()=>new q}catch(D){return()=>({[l]:null,...t})}};p.createDefaultTemplate=function(t={}){return[{name:"New Feature",description:"",prototype:{attributes:A.clone(t)}}]};p.createDrawingInfo=function(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?h.defaultPointSymbolJSON:"esriGeometryPolyline"===
t?h.defaultPolylineSymbolJSON:h.defaultPolygonSymbolJSON}}};Object.defineProperty(p,"__esModule",{value:!0})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],function(p){const f=[252,146,31,255],A={type:"esriSMS",style:"esriSMSCircle",size:6,color:f,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},L={type:"esriSLS",style:"esriSLSSolid",width:.75,color:f};p.defaultColor=f;p.defaultOutlineColor=[153,153,153,255];p.defaultPointSymbolJSON=A;p.defaultPolygonSymbolJSON=
{type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};p.defaultPolylineSymbolJSON=L;p.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0};p.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,
size:10.5};p.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};p.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5};Object.defineProperty(p,"__esModule",{value:!0})})},"*noref":1}});
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../geometry ../../../../request ../../../../core/Error ../../../../core/has ../../../../core/number ../../../../core/urlUtils ../../../../geometry/projection ../../../../geometry/geometryAdapters/json ../../../../geometry/support/spatialReferenceUtils ../../../../geometry/support/webMercatorUtils ../../OptimizedFeature ../../OptimizedGeometry ../../data/FeatureStore ../../data/projectionSupport ../../data/QueryEngine ../csv/csv ./clientSideDefaults ../../../support/FieldsIndex ../../../../geometry/SpatialReference".split(" "),function(p,
f,A,L,h,t,l,D,q,v,H,I,g,u,w,c,y,B,P,J,S){const U=P.createDrawingInfo("esriGeometryPoint"),O=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"],aa="lat latitude latitude83 latdecdeg lat_dd y ycenter point-y".split(" "),ba="lon lng long longitude longitude83 longdecdeg long_dd x xcenter point-x".split(" "),n=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,
C=["csv"],R=[0,0];let W=function(d,z){this.x=d;this.y=z};const G=function(){const d=l._parseInfo(),z=new RegExp("^"+d.regexp+"$"),F=new RegExp("["+d.group+"\\s\\xa0]","g"),M=d.factor;return function(X){X=z.exec(X);d.factor=M;if(!X)return NaN;let ca=X[1];if(!X[1]){if(!X[2])return NaN;ca=X[2];d.factor*=-1}ca=ca.replace(F,"").replace(d.decimal,".");return+ca*d.factor}}(),m=(()=>"isInteger"in Number?Number.isInteger:d=>"number"===typeof d&&isFinite(d)&&Math.floor(d)===d)();A=function(){function d(){this._queryEngine=
this._fieldsIndex=null}var z=d.prototype;z.destroy=function(){this._queryEngine&&this._queryEngine&&this._queryEngine.destroy();this._fieldsIndex=this._queryEngine=null};z.load=function(){var F=f._asyncToGenerator(function*(M,X={}){[X]=yield Promise.all([this._fetch(M.url,X),this._checkProjection(X&&M.parsing&&M.parsing.spatialReference)]);M=this._parse(X,M);this._queryEngine=this._createQueryEngine(X,M);M.layerDefinition.extent=this._queryEngine.fullExtent;if(M.layerDefinition.timeInfo){const {start:ca,
end:ka}=this._queryEngine.timeExtent;M.layerDefinition.timeInfo.timeExtent=[ca,ka]}return M});return function(M){return F.apply(this,arguments)}}();z.applyEdits=function(){var F=f._asyncToGenerator(function*(){throw new h("csv-source:editing-not-supported","applyEdits() is not supported on CSVLayer");});return function(){return F.apply(this,arguments)}}();z.queryFeatures=function(F={},M={}){return this._queryEngine.executeQuery(F,M.signal)};z.queryFeatureCount=function(F={},M={}){return this._queryEngine.executeQueryForCount(F,
M.signal)};z.queryObjectIds=function(F={},M={}){return this._queryEngine.executeQueryForIds(F,M.signal)};z.queryExtent=function(F={},M={}){return this._queryEngine.executeQueryForExtent(F,M.signal)};z.querySnapping=function(F,M={}){return this._queryEngine.executeQueryForSnapping(F,M.signal)};z._fetch=function(){var F=f._asyncToGenerator(function*(M,X){if(!M)throw new h("csv-source:invalid-source","url not defined");M=D.urlToObject(M);return(yield L(M.path,{query:M.query,responseType:"text",signal:X.signal})).data});
return function(M,X){return F.apply(this,arguments)}}();z._parse=function(F,M){var X=M.parsing||{};const ca={columnDelimiter:X.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:X.latitudeField,longitudeFieldName:X.longitudeField}};var ka=B.readRows(F),{value:oa}=ka.next();if(!oa)throw new h("csv","CSV is empty",{csv:F});oa=oa.trim();if(!X.columnDelimiter){F=B.inferDelimiter(oa);if(!F)throw new h("csv-source:invalid-delimiter","Unable to detect the delimiter from CSV");ca.columnDelimiter=
F}oa=oa.split(ca.columnDelimiter);const va=ca.layerDefinition={name:D.getFilename(M.url,C)||"csv",drawingInfo:U,geometryType:"esriGeometryPoint",objectIdField:null,fields:[],timeInfo:X.timeInfo,extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:X.spatialReference||{wkid:102100}}};if(!X.latitudeField||!X.longitudeField){M=this._inferLocationInfo(oa);if(!X.longitudeField&&!M.longitudeFieldName||!X.latitudeField&&
!M.latitudeFieldName)throw new h("csv","Unable to identify latitudeField and/or longitudeField from CSV");ca.locationInfo={longitudeFieldName:X.longitudeField||M.longitudeFieldName,latitudeFieldName:X.latitudeField||M.latitudeFieldName}}ka=this._inferFields(ka,ca.columnDelimiter,oa,ca.locationInfo);if(X.fields&&X.fields.length){M=new Map;for(var Da of X.fields)M.set(Da.name.toLowerCase(),Da);for(var Ca of ka)if(X=M.get(Ca.name.toLowerCase()))Da=Ca.name,Object.assign(Ca,X),Ca.name=Da}va.fields=ka;
va.fields.some(Ga=>"esriFieldTypeOID"===Ga.type?(va.objectIdField=Ga.name,!0):!1)||(Ca={name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1},va.objectIdField=Ca.name,va.fields.unshift(Ca));this._fieldsIndex=new J(va.fields);va.timeInfo&&(Ca=va.timeInfo,Ca.startTimeField&&((X=this._fieldsIndex.get(Ca.startTimeField))?(Ca.startTimeField=X.name,X.type="esriFieldTypeDate"):Ca.startTimeField=null),Ca.endTimeField&&((X=this._fieldsIndex.get(Ca.endTimeField))?(Ca.endTimeField=
X.name,X.type="esriFieldTypeDate"):Ca.endTimeField=null),Ca.trackIdField&&(X=this._fieldsIndex.get(Ca.trackIdField),Ca.trackIdField=X?X.name:null),Ca.startTimeField||Ca.endTimeField||(va.timeInfo=null));return ca};z._inferLocationInfo=function(F){let M=null,X=null;const ca=ka=>F.find(oa=>oa.toLowerCase()===ka);ba.some(ka=>{M=ca(ka);return!!M});aa.some(ka=>{X=ca(ka);return!!X});return{longitudeFieldName:M,latitudeFieldName:X}};z._inferFields=function(F,M,X,ca){const ka=[];M=B.parseRows(F,X,M);F=[];
a:for(;10>F.length;){const {value:oa,done:va}=M.next();if(va)break a;F.push(oa)}for(const oa of X)if(oa===ca.longitudeFieldName||oa===ca.latitudeFieldName)ka.push({name:oa,type:"esriFieldTypeDouble",alias:oa});else{X=F.map(va=>va[oa]);X=this._inferFieldType(X);M={name:oa,type:null,alias:oa};switch(X){case "integer":M.type="esriFieldTypeInteger";break;case "double":M.type="esriFieldTypeDouble";break;case "date":M.type="esriFieldTypeDate";M.length=36;break;default:M.type="esriFieldTypeString",M.length=
255}ka.push(M)}return ka};z._inferFieldType=function(F){if(!F.length)return"string";const M=/[^+-.,0-9]/;return F.map(X=>{var ca=!1;if(""!==X){if(M.test(X))ca=!0;else{ca=G(X);if(!isNaN(ca))return/[.,]/.test(X)||!m(ca)||214783647<ca||-214783648>ca?"double":"integer";if(-1===X.indexOf("E"))ca=!0;else if(ca=Number(X),isNaN(ca))if(-1===X.indexOf(","))ca=!0;else if(X=X.replace(",","."),ca=Number(X),isNaN(ca))ca=!0;else return"double";else return"double"}return ca&&!/^[-]?\d*[.,]?\d*$/.test(X)&&this._isValidDate(new Date(X),
X)?"date":"string"}}).reduce((X,ca)=>{if(void 0===X||X===ca)return ca;if("string"===X||"string"===ca)return"string";if("double"===X||"double"===ca)return"double"})};z._isValidDate=function(F,M){if(!F||"[object Date]"!==Object.prototype.toString.call(F)||isNaN(F.getTime()))return!1;F=!0;if(t("chrome")&&/\d+\W*$/.test(M)&&(M=M.match(/[a-zA-Z]{2,}/))){F=!1;let X=0;for(;!F&&X<=M.length;)F=!n.test(M[X]),X++;F=!F}return F};z._createQueryEngine=function(F,M){const {latitudeFieldName:X,longitudeFieldName:ca}=
M.locationInfo,{objectIdField:ka,fields:oa,extent:va,timeInfo:Da}=M.layerDefinition;let Ca=[];const Ga=[];var La=new Set,ma=new Set,sa=[];for(const {name:k,type:E}of oa)"esriFieldTypeDate"===E?La.add(k):-1<O.indexOf(E)&&ma.add(k),k!==ka&&sa.push(k);var wa=0;F=B.readRows(F);F.next();sa=B.parseRows(F,sa,M.columnDelimiter);a:for(;;){const {value:k,done:E}=sa.next();if(E)break a;F=this._parseCoordinateValue(k[X]);const V=this._parseCoordinateValue(k[ca]);if(null!=V&&null!=F&&!isNaN(F)&&!isNaN(V)){k[X]=
F;k[ca]=V;for(var b in k)if(b!==X&&b!==ca)if(La.has(b)){var r=new Date(k[b]);k[b]=this._isValidDate(r,k[b])?r.getTime():null}else ma.has(b)&&(r=G(k[b]),isNaN(r)?k[b]=null:k[b]=r);k[ka]=wa;wa++;Ca.push(new W(V,F));Ga.push(k)}}if(!H.equals({wkid:4326},va.spatialReference))if(H.isWebMercator(va.spatialReference))for(const k of Ca)[k.x,k.y]=I.lngLatToXY(k.x,k.y,R);else Ca=q.projectMany(v.jsonAdapter,Ca,S.WGS84,va.spatialReference,null);La=new w({geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1});M=new y["default"]({fields:M.layerDefinition.fields,
geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,timeInfo:Da,objectIdField:ka,spatialReference:va.spatialReference||{wkid:4326},cacheSpatialQueries:!0,featureStore:La});ma=[];for(wa=0;wa<Ca.length;wa++){const {x:k,y:E}=Ca[wa];b=Ga[wa];b[ka]=wa+1;ma.push(new g(new u([],[k,E]),b,null,b[ka]))}La.addMany(ma);return M};z._parseCoordinateValue=function(F){if(null==F||""===F)return null;let M=G(F);if(isNaN(M)||181<Math.abs(M))M=parseFloat(F);return M};z._checkProjection=function(){var F=f._asyncToGenerator(function*(M){try{yield c.checkProjectionSupport(H.WGS84,
M)}catch{throw new h("csv-layer","Projection not supported");}});return function(M){return F.apply(this,arguments)}}();return d}();p.csvLatitudeFieldNames=aa;p.csvLongitudeFieldNames=ba;p.default=A;Object.defineProperty(p,"__esModule",{value:!0})});