// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/Logger ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/decorators/cast ./core/jsonMap ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(t,f,u,n,d,k,v,w,g,D,p,E,x,y,l,z,A,B){const C=w.getLogger("esri.Map");
d=function(q){function m(b){var a=q.call(this,b)||this;a.allLayers=new k({getCollections:()=>{var c,e,r;return[null==(c=a.basemap)?void 0:c.baseLayers,null==(e=a.ground)?void 0:e.layers,a.layers,null==(r=a.basemap)?void 0:r.referenceLayers]},getChildrenFunction:c=>"layers"in c?c.layers:null});a.allTables=new k({getCollections:()=>[a.tables,a.layers],getChildrenFunction:c=>{const e=[];"tables"in c&&e.push(c.tables);"layers"in c&&e.push(c.layers);return e},itemFilterFunction:c=>{const e=c.parent;return e&&
"tables"in e&&e.tables.includes(c)}});a.basemap=null;a.editableLayers=new k({getCollections:()=>[a.allLayers],itemFilterFunction:y.isEditableLayer});a.ground=new n;a._basemapCache=l.createCache();return a}t._inheritsLoose(m,q);var h=m.prototype;h.destroy=function(){var b,a;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();null==(b=this.ground)?void 0:b.destroy();null==(a=this.basemap)?void 0:a.destroy();l.destroyCache(this._basemapCache);this._basemapCache=null};h.castBasemap=
function(b){return l.ensureType(b,this._basemapCache)};h.castGround=function(b){b=z.ensureType(b);return b?b:(C.error("Map.ground may not be set to null or undefined"),this._get("ground"))};h.findLayerById=function(b){return this.allLayers.find(a=>a.id===b)};h.findTableById=function(b){return this.allTables.find(a=>a.id===b)};return m}(B.TablesMixin(A.LayersMixin(v.EventedMixin(d))));f.__decorate([g.property({readOnly:!0,dependsOn:[]})],d.prototype,"allLayers",void 0);f.__decorate([g.property({readOnly:!0})],
d.prototype,"allTables",void 0);f.__decorate([g.property({type:u})],d.prototype,"basemap",void 0);f.__decorate([p.cast("basemap")],d.prototype,"castBasemap",null);f.__decorate([g.property({readOnly:!0})],d.prototype,"editableLayers",void 0);f.__decorate([g.property({type:n,nonNullable:!0})],d.prototype,"ground",void 0);f.__decorate([p.cast("ground")],d.prototype,"castGround",null);return d=f.__decorate([x.subclass("esri.Map")],d)});