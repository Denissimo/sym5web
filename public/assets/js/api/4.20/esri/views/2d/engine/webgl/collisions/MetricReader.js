// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/maybe"],function(f,h,g){let m=function(){function e(a){this._cursor=this._head=a}e.from=function(a){a=k.from(new Float32Array(a));return new e(a)};var b=e.prototype;b.computedMinZoom=function(){return this._cursor.computedMinZoom()};b.setComputedMinZoom=function(a){return this._cursor.setComputedMinZoom(a)};b.boundsComputedAnchorX=function(a){return this._cursor.boundsComputedAnchorX(a)};b.boundsComputedAnchorY=
function(a){return this._cursor.boundsComputedAnchorY(a)};b.setBoundsComputedAnchorX=function(a,c){return this._cursor.setBoundsComputedAnchorX(a,c)};b.setBoundsComputedAnchorY=function(a,c){return this._cursor.setBoundsComputedAnchorY(a,c)};b.boundsCenterX=function(a){return this._cursor.boundsCenterX(a)};b.boundsCenterY=function(a){return this._cursor.boundsCenterY(a)};b.boundsWidth=function(a){return this._cursor.boundsWidth(a)};b.boundsHeight=function(a){return this._cursor.boundsHeight(a)};b.link=
function(a){if(g.isSome(a._head))return this._cursor.link(a._head)};b.getCursor=function(){return this.copy()};b.copy=function(){var a;const c=new e(null==(a=this._head)?void 0:a.copy());if(!c._head)return c;a=c._head;let d=c._head._link;for(;d;)a._link=d.copy(),a=d,d=a._link;return c};b.peekId=function(){var a;return null!=(a=this._cursor.peekId())?a:this._cursor._link.peekId()};b.nextId=function(){const a=this.id;for(;a===this.id;)if(!this.next())return!1;return!0};b.save=function(){this._savedCursor=
this._cursor;this._savedOffset=this._cursor._offset};b.restore=function(){this._cursor=this._savedCursor;this._cursor._offset=this._savedOffset};b.next=function(){if(!this._cursor)return!1;if(!this._cursor.next()){if(!this._cursor._link)return!1;this._cursor=this._cursor._link;this._cursor._offset=0}return!0};b.lookup=function(a){for(this._cursor=this._head;this._cursor&&!this._cursor.lookup(a);){if(!this._cursor._link)return!1;this._cursor=this._cursor._link}return!!this._cursor};b.delete=function(a){let c=
this._head,d=null;for(;c;){if(c.delete(a))return c.isEmpty()&&g.isSome(d)&&(d._link=c._link),!0;d=c;c=c._link}return!1};h._createClass(e,[{key:"id",get:function(){return this._cursor.id}},{key:"baseZoom",get:function(){return this._cursor.baseZoom}},{key:"anchorX",get:function(){return this._cursor.anchorX}},{key:"anchorY",get:function(){return this._cursor.anchorY}},{key:"directionX",get:function(){return this._cursor.directionX}},{key:"directionY",get:function(){return this._cursor.directionY}},
{key:"size",get:function(){return this._cursor.size}},{key:"materialKey",get:function(){return this._cursor.materialKey}},{key:"boundsCount",get:function(){return this._cursor.boundsCount}}]);return e}(),k=function(){function e(a){this._offset=-1;this._link=null;this._deletedCount=this._count=0;this._offsets={instance:null};this._buffer=a}e.from=function(a){return new e(new Float32Array(a))};var b=e.prototype;b.isEmpty=function(){return this._deletedCount===this.count};b.computedMinZoom=function(){return this._buffer[this._offset+
8]};b.setComputedMinZoom=function(a){this._buffer[this._offset+8]=a};b.boundsComputedAnchorX=function(a){return this._buffer[this._offset+10+6*a+0]};b.boundsComputedAnchorY=function(a){return this._buffer[this._offset+10+6*a+1]};b.setBoundsComputedAnchorX=function(a,c){this._buffer[this._offset+10+6*a+0]=c};b.setBoundsComputedAnchorY=function(a,c){this._buffer[this._offset+10+6*a+1]=c};b.boundsCenterX=function(a){return this._buffer[this._offset+10+6*a+2]};b.boundsCenterY=function(a){return this._buffer[this._offset+
10+6*a+3]};b.boundsWidth=function(a){return this._buffer[this._offset+10+6*a+4]};b.boundsHeight=function(a){return this._buffer[this._offset+10+6*a+5]};b.link=function(a){let c=this;for(;c._link;)c=c._link;c._link=a};b.getCursor=function(){return this.copy()};b.copy=function(){const a=new e(this._buffer);a._link=this._link;a._offset=this._offset;a._deletedCount=this._deletedCount;a._offsets=this._offsets;a._count=this._count;return a};b.peekId=function(){const a=this._offset+10+6*this.boundsCount+
0;return a>=this._buffer.length?0:this._buffer[a]};b.next=function(){let a=0;for(;this._offset<this._buffer.length&&100>a++&&(this._offset=-1===this._offset?0:this._offset+(10+6*this.boundsCount),4294967296===this.id););return 4294967296!==this.id&&this._offset<this._buffer.length};b.delete=function(a){const c=this._offset,d=this.lookup(a);if(d)for(this.id=4294967295,++this._deletedCount;this.next()&&this.id===a;)this.id=4294967295,++this._deletedCount;this._offset=c;return d};b.lookup=function(a){const c=
this._offset;if(g.isNone(this._offsets.instance)){this._offsets.instance=new Map;const d=this.copy();d._offset=-1;let l=0;for(;d.next();)d.id!==l&&(this._offsets.instance.set(d.id,d._offset),l=d.id)}if(!this._offsets.instance.has(a))return!1;this._offset=this._offsets.instance.get(a);return 4294967296===this.id?(this._offset=c,!1):!0};b._computeCount=function(){const a=this._offset;let c=0;for(this._offset=-1;this.next();)c++;this._offset=a;return c};h._createClass(e,[{key:"count",get:function(){this._count||
(this._count=this._computeCount());return this._count}},{key:"id",get:function(){return this._buffer[this._offset+0]},set:function(a){this._buffer[this._offset+0]=a}},{key:"baseZoom",get:function(){return this._buffer[this._offset+1]}},{key:"anchorX",get:function(){return this._buffer[this._offset+2]}},{key:"anchorY",get:function(){return this._buffer[this._offset+3]}},{key:"directionX",get:function(){return this._buffer[this._offset+4]}},{key:"directionY",get:function(){return this._buffer[this._offset+
5]}},{key:"size",get:function(){return this._buffer[this._offset+6]}},{key:"materialKey",get:function(){return this._buffer[this._offset+7]}},{key:"boundsCount",get:function(){return this._buffer[this._offset+9]}}]);return e}();f.MetricReader=m;f.MetricReaderNode=k;Object.defineProperty(f,"__esModule",{value:!0})});