// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../core/maybe ../../../../../../layers/graphics/featureConversionUtils ../../enums ../../number ../../materialKey/MaterialKey ./templateUtils".split(" "),function(u,v,n,w,x,y,k){return z=>function(p){function l(...a){a=p.call(this,...a)||this;a.forceLibtess=!1;a.geometryType=w.WGLGeometryType.FILL;return a}u._inheritsLoose(l,p);var g=l.prototype;g._write=function(a,c,e){const d="esriGeometryPoint"===c.geometryType,b=y.FillMaterialKey.load(this._materialKey);
a.recordStart(c.getDisplayId(),this._materialKey,this.geometryType,b.dotDensity,d);this._writeGeometry(a,c,b,e,d);a.recordEnd()};g._writeGeometry=function(a,c,e,d,b){b=this._getGeometry(c,d,b);if(!v.isNone(b))if(d=a.indexCount(),1E3<b.lengths[0]||this.forceLibtess||!k.triangulate(a,b)){b=k.triangulateLibtess(a,b);var f=a.indexCount();d!==f&&this._writeVertices(a,c,b,[b.length/2],e)}else f=a.indexCount(),d!==f&&this._writeVertices(a,c,b.coords,b.lengths,e)};g._writeVertices=function(a,c,e,d,b){const f=
c.getDisplayId();let m=0;for(const q of d){var h=m;for(d=q+m;h<d;h++){const r=e[2*h],t=e[2*h+1],A=x.i1616to32(1*r,1*t);a.vertexBounds(r,t,0,0);a.vertexWrite(A);a.vertexWrite(f);b.dotDensity?a.vertexWriteF32(1/Math.abs(c.readGeometryArea())):(a.vertexWrite(this.fillColor),a.vertexWrite(this.tl),a.vertexWrite(this.br),a.vertexWrite(this.aux1),a.vertexWrite(this.aux2),a.vertexWrite(this.aux3),a.vertexWrite(this._minMaxZoom))}m+=q}};g._getGeometry=function(a,c,e){return(a=c?n.deltaDecodeGeometry(n.convertFromGeometry(c),
2):a.readUnquantizedGeometry())?k.clipMarshall(a,e?256:128):null};return l}(z)});