// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../enums ../number ./WGLBrush".split(" "),function(n,x,y,z,A,k){k=function(p){function l(){var a=p.apply(this,arguments)||this;a._programOptions={id:!1};return a}x._inheritsLoose(l,p);var q=l.prototype;q.dispose=function(){};q.drawMany=function(a,d){const {context:e,displayLevel:m,requiredLevel:B,state:r,drawPhase:C,painter:D,spriteMosaic:E,styleLayerUID:h}=a;if(d.some(b=>{var t,u;return null!=(t=null==(u=b.layerData.get(h))?
void 0:u.circleIndexCount)?t:!1})){a=a.styleLayer;var v=a.circleMaterial,c=D.vectorTilesMaterialManager,g=a.getPaintValue("circle-translate",m),F=a.getPaintValue("circle-translate-anchor",m),f=C===z.WGLDrawPhase.HITTEST,w=this._programOptions;w.id=f;c=c.getMaterialProgram(e,v,w);e.useProgram(c);c.setUniformMatrix3fv("u_displayMat3",1===F?r.displayMat3:r.displayViewMat3);c.setUniform2fv("u_circleTranslation",g);c.setUniform1f("u_depth",a.z);c.setUniform1f("u_antialiasingWidth",1.2);g=-1;f&&(f=A.u32to4Xu8(h+
1),c.setUniform4fv("u_id",f));for(const b of d)b.layerData.has(h)&&(b.key.level!==g&&(g=b.key.level,v.setDataUniforms(c,m,a,g,E)),d=b.layerData.get(h),d.circleIndexCount&&(d.prepareForRendering(e),f=d.circleVertexArrayObject,y.isNone(f)||(e.bindVAO(f),c.setUniformMatrix3fv("u_dvsMat3",b.transforms.dvs),B!==b.key.level?e.setStencilFunction(514,b.stencilRef,255):e.setStencilFunction(516,255,255),e.drawElements(4,d.circleIndexCount,5125,Uint32Array.BYTES_PER_ELEMENT*d.circleIndexStart),b.triangleCount+=
d.circleIndexCount/3)))}};return l}(k);n.WGLBrushVTLCircle=k;Object.defineProperty(n,"__esModule",{value:!0})});