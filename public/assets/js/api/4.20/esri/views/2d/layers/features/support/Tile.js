// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/ArrayPool ../../../../../geometry/Extent ../../../../../geometry/support/aaBoundingRect ../../../../../rest/support/QuantizationParameters ../../../tiling/TileKey".split(" "),function(e,k,l,m,n,p,q){function g(c,d){const a=c.bounds,b=d.bounds;return c.key.id!==d.key.id&&c.key.world===d.key.world&&a[0]<=b[0]&&a[1]<=b[1]&&a[2]>=b[2]&&a[3]>=b[3]}let h=function(){function c(a,b){this.key=new q(0,0,0,0);this.bounds=n.create();
this.objectIds=new Set;this.key.set(b);b=a.getLODInfoAt(this.key);this.tileInfoView=a;this.tileInfoView.getTileBounds(this.bounds,this.key,!0);this.resolution=b.resolution;this.scale=b.scale;this.level=b.level;this.needsClear=!0}var d=c.prototype;d.clone=function(){return new c(this.tileInfoView,this.key)};d.createChildTiles=function(){const a=this.key.getChildKeys(),b=l.acquire();for(let f=0;f<a.length;f++)b[f]=new c(this.tileInfoView,a[f]);return b};d.getQuantizationParameters=function(){return p.fromJSON({mode:"view",
originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})};k._createClass(c,[{key:"id",get:function(){return this.key.id}},{key:"extent",get:function(){return m.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)}},{key:"transform",get:function(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],
this.bounds[3]]}}},{key:"bbox",get:function(){const a=this.bounds;return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}}}]);return c}();e.Tile=h;e.default=h;e.isChildOf=function(c,d){return g(d,c)};e.isParentOf=g;Object.defineProperty(e,"__esModule",{value:!0})});