// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../../../chunks/_rollupPluginBabelHelpers"],function(f,h,e){const l={colorize:function(){var c=e._asyncToGenerator(function*(){return new (yield new Promise(function(b,a){f(["./Colorize"],b,a)})).Colorize});return function(){return c.apply(this,arguments)}}(),blur:function(){var c=e._asyncToGenerator(function*(){return new (yield new Promise(function(b,a){f(["./Blur"],b,a)})).Blur});return function(){return c.apply(this,arguments)}}(),bloom:function(){var c=e._asyncToGenerator(function*(){return new (yield new Promise(function(b,
a){f(["./Bloom"],b,a)})).Bloom});return function(){return c.apply(this,arguments)}}(),opacity:function(){var c=e._asyncToGenerator(function*(){return new (yield new Promise(function(b,a){f(["./Opacity"],b,a)})).Opacity});return function(){return c.apply(this,arguments)}}(),"drop-shadow":function(){var c=e._asyncToGenerator(function*(){return new (yield new Promise(function(b,a){f(["./DropShadow"],b,a)})).DropShadow});return function(){return c.apply(this,arguments)}}()};let m=function(){function c(a){this._requestRender=
a;this._effectMap=new Map;this._effectPromiseMap=new Map}var b=c.prototype;b.dispose=function(){this._requestRender&&(this._requestRender=null);this._effectMap.forEach(a=>a.dispose());this._effectMap.clear();this._effectPromiseMap.clear()};b.getPostProcessingEffects=function(a){if(!a||0===a.length)return[];const d=[];for(const g of a){a:switch(a=g.type,a){case "bloom":case "blur":case "opacity":case "drop-shadow":break a;default:a="colorize"}const k=this._effectMap.get(a);k?d.push({postProcessingEffect:k,
effect:g}):this._enablePostProcessingEffect(a)}return d};b._enablePostProcessingEffect=function(){var a=e._asyncToGenerator(function*(d){const g=yield this._loadPostProcessingEffect(d);this._requestRender&&(this._effectMap.set(d,g),this._requestRender.requestRender())});return function(d){return a.apply(this,arguments)}}();b._loadPostProcessingEffect=function(){var a=e._asyncToGenerator(function*(d){this._effectPromiseMap.has(d)||this._effectPromiseMap.set(d,l[d]());return this._effectPromiseMap.get(d)});
return function(d){return a.apply(this,arguments)}}();return c}();h.EffectManager=m;Object.defineProperty(h,"__esModule",{value:!0})});