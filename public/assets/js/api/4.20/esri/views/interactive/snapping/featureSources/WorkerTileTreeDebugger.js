// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/Handles ../../../../core/handleUtils ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/accessorSupport/ensureType ../../../../core/Logger ../../../../core/jsonMap ../../../../core/accessorSupport/decorators/subclass ../../../../geometry/Polygon ../../../../geometry/support/aaBoundingRect ../../../support/TileTreeDebugger".split(" "),function(c,p,h,q,r,
t,A,B,C,D,u,v,w,x){c.WorkerTileTreeDebugger=function(k){function f(b){b=k.call(this,b)||this;b.handles=new q;return b}p._inheritsLoose(f,k);var d=f.prototype;d.initialize=function(){const b=setInterval(()=>this.fetchDebugInfo(),2E3);this.handles.add(r.makeHandle(()=>clearInterval(b)))};d.destroy=function(){this.handles.destroy()};d.getTiles=function(){if(!this.debugInfo)return[];const b=new Map,l=new Map;this.debugInfo.storedTiles.forEach(a=>{b.set(a.data.id,a.featureCount)});this.debugInfo.pendingTiles.forEach(a=>
{b.set(a.data.id,a.featureCount);l.set(a.data.id,a.state)});const g=new Map;this.debugInfo.storedTiles.forEach(a=>{g.set(a.data.id,a.data)});this.debugInfo.pendingTiles.forEach(a=>{g.set(a.data.id,a.data)});return Array.from(g.values()).map(a=>{var y=[a.level,a.row,a.col],z=v.fromExtent(w.toExtent(a.extent,this.view.spatialReference)),e;{a=a.id;const m=l.get(a),n=null!=(e=b.get(a))?e:"?";e=m?`${m}:${n}\n${a}`:`store:${n}\n${a}`}return{lij:y,geometry:z,label:e}})};d.fetchDebugInfo=function(){this.handle.getDebugInfo(null).then(b=>
{this.debugInfo=b;this.update()})};return f}(x.TileTreeDebugger);h.__decorate([t.property({constructOnly:!0})],c.WorkerTileTreeDebugger.prototype,"handle",void 0);c.WorkerTileTreeDebugger=h.__decorate([u.subclass("esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger")],c.WorkerTileTreeDebugger);Object.defineProperty(c,"__esModule",{value:!0})});