// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/aliasOf ../../core/has ../../core/accessorSupport/ensureType ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass".split(" "),function(c,n,d,p,g,u,h,w,x,q,v){h=a=>{a=function(r){function k(){var b=r.apply(this,arguments)||this;b.refreshTimestamp=null;b.refreshDebounced=g.debounce(function(){var f=
n._asyncToGenerator(function*(e,l){let m;"number"===typeof e?m=e:(m=Date.now(),l=e);b._set("refreshTimestamp",m);b.doRefresh&&(yield b.doRefresh(l).catch(t=>{g.isAbortError(t)||p.getLogger(b.declaredClass).error(t)}))});return function(e,l){return f.apply(this,arguments)}}(),2E3);return b}n._inheritsLoose(k,r);k.prototype.refresh=function(b=Date.now()){this._set("refreshTimestamp",b);this.doRefresh&&this.doRefresh().catch(f=>{g.isAbortError(f)||p.getLogger(this.declaredClass).error(f)})};return k}(a);
d.__decorate([q.property()],a.prototype,"layer",void 0);d.__decorate([u.aliasOf("layer.refreshInterval")],a.prototype,"refreshInterval",void 0);d.__decorate([q.property({readOnly:!0})],a.prototype,"refreshTimestamp",void 0);return a=d.__decorate([v.subclass("esri.layers.mixins.RefreshableLayerView")],a)};c.RefreshableLayerView=h;c.default=h;c.isRefreshableLayerView=function(a){return"refresh"in a};Object.defineProperty(c,"__esModule",{value:!0})});