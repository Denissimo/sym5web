// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../support/buffer/glUtil ../DefaultVertexAttributeLocations ../intersectorUtils ../../materials/renderers/utils ../../../../webgl/BufferObject ../../../../webgl/VertexArrayObject".split(" "),function(t,w,x,y,z,u,A,B){let C=function(){function l(a,b){const k=a.renderContext.rctx,e=b.geometry;b=b.material;this.materialRep=a.materialRep;b.setParameterValues({instancedDoublePrecision:!0});a=b.createBufferWriter();const f=a.vertexBufferLayout,
g=a.elementCount(e),d=a.allocate(g);a.write({},e,d,0);this.geometry=e;this.material=b;this.glMaterials=u.acquireMaterials(b,this.materialRep);this.vertexBufferLayout=f;this.vbo=A.createVertex(k,35044,d.buffer);this.vao=new B(k,y.Default3D,{geometry:x.glLayout(f)},{geometry:this.vbo});this.vertexCount=g}var v=l.prototype;v.destroy=function(){u.releaseMaterials(this.material,this.materialRep);this.vbo.dispose();this.vao.dispose()};v.intersect=function(a,b,k,e,f,g){const d=this.geometry.id,m=f.toString();
this.material.intersect(this.geometry,null,a.transform.transform,a,k,e,(c,n,p,h)=>{if(0<=c&&(null==b||b(a.rayBeginPoint,a.rayEndPoint,c))){var q={type:"external",metadata:{layerUid:g.layerUid,graphicUid:g.graphicUid(f)}};if(null==a.results.min.drapedLayerOrder||h>=a.results.min.drapedLayerOrder)if(null==a.results.min.dist||c<a.results.min.dist)a.results.min.set(q,m,c,n,a.transform.transform,h,null,d,p),a.results.min.intersector="LodRenderer";0!==a.options.store&&(null==a.results.max.drapedLayerOrder||
h>=a.results.max.drapedLayerOrder)&&(null==a.results.max.dist||c>a.results.max.dist)&&(a.results.max.set(q,m,c,n,a.transform.transform,h,null,d,p),a.results.min.intersector="LodRenderer");if(2===a.options.store){const r=new z.IntersectorResult(a.results.min.ray);r.set(q,m,c,n,a.transform.transform,h,null,d,p);r.intersector="LodRenderer";a.results.all.push(r)}}})};w._createClass(l,[{key:"boundingInfo",get:function(){return this.geometry.boundingInfo}},{key:"triangleCount",get:function(){return this.vertexCount/
3}}]);return l}();t.LodComponentData=C;Object.defineProperty(t,"__esModule",{value:!0})});