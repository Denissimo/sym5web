// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/compilerUtils ../../../../core/maybe ../../../../symbols/support/ObjectSymbol3DLayerResource ./primitiveObjectSymbolUtils ../support/edgeUtils ../../webgl-engine/lib/lodRendering/LodResources".split(" "),function(k,m,n,v,w,x,y){function p(a){let b=0,c=0,g=0,h=!1,l=0;const e={bytesPerFeature:0,bytesPerFeatureLabel:0,bytesPerCoordinate:0,draped:{bytesPerFeature:0,bytesPerFeatureLabel:0,bytesPerCoordinate:0}};for(const f of a)n.isNone(f)||(b+=f.primitivesPerFeature,c+=
f.primitivesPerCoordinate,g+=f.drawCallsPerFeature,e.bytesPerFeature+=f.memory.bytesPerFeature,e.bytesPerFeatureLabel+=f.memory.bytesPerFeatureLabel,e.bytesPerCoordinate+=f.memory.bytesPerCoordinate,e.draped.bytesPerFeature+=f.memory.bytesPerFeature,e.draped.bytesPerFeatureLabel+=f.memory.bytesPerFeatureLabel,e.draped.bytesPerCoordinate+=f.memory.bytesPerCoordinate,h=h||f.estimated,++l);return{primitivesPerFeature:b,primitivesPerCoordinate:c,drawCallsPerFeature:g,estimated:h,memory:e,numComplexities:l}}
function q(a,b){const c=r(a,b);var g=x.hasEdges(b)?2:0;switch(b.type){case "extrude":return{primitivesPerFeature:-4,primitivesPerCoordinate:4,drawCallsPerFeature:g,estimated:!1,memory:c};case "fill":return"mesh-3d"===a.type?{primitivesPerFeature:0,primitivesPerCoordinate:0,drawCallsPerFeature:g,estimated:!1,memory:c}:n.isSome(b.outline)&&0<b.outline.size?{primitivesPerFeature:-4,primitivesPerCoordinate:3,drawCallsPerFeature:0,estimated:!1,memory:c}:{primitivesPerFeature:-2,primitivesPerCoordinate:1,
drawCallsPerFeature:0,estimated:!1,memory:c};case "water":return{primitivesPerFeature:-2,primitivesPerCoordinate:1,drawCallsPerFeature:0,estimated:!1,memory:c};case "line":return{primitivesPerFeature:-2,primitivesPerCoordinate:2,drawCallsPerFeature:0,estimated:!1,memory:c};case "object":return b.resource&&b.resource.href?{primitivesPerFeature:16,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!0,memory:c}:{...z(b.resource&&b.resource.primitive||v.defaultPrimitive),memory:c};case "path":{var h=
a=0;switch(b.profile){case "circle":a=10;break;case "quad":a=4;break;default:m.neverReached(b.profile);return}switch(b.join){case "round":h=3;break;case "miter":case "bevel":h=1;break;default:m.neverReached(b.join);return}g=2*a;h=a*h*2;let l=-2*h-g;switch(b.cap){case "none":break;case "butt":case "square":l+=2*(a-1);break;case "round":l+=2*(4*a+a);break;default:return}return{primitivesPerFeature:l,primitivesPerCoordinate:h+g,drawCallsPerFeature:0,estimated:!1,memory:c}}case "text":case "icon":return{primitivesPerFeature:2,
primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1,memory:c}}}function r(a,b){a="point-3d"===a.type;switch(b.type){case "extrude":return b.edges&&0<b.edges.size?d.EXTRUDE_EDGES:d.EXTRUDE;case "fill":return n.isSome(b.outline)&&0<b.outline.size?d.FILL_OUTLINE:d.FILL;case "water":return d.FILL;case "line":return"round"===b.join?d.LINE_ROUND:d.LINE_MITER;case "path":switch(b.join){case "round":switch(b.profile){case "circle":return d.PATH_ROUND_CIRCLE;case "quad":return d.PATH_ROUND_QUAD;default:m.neverReached(b.profile);
return}case "miter":case "bevel":switch(b.profile){case "circle":return d.PATH_MITER_CIRCLE;case "quad":return d.PATH_MITER_QUAD;default:m.neverReached(b.profile);return}default:m.neverReached(b.join);return}case "object":return a?d.OBJECT_POINT:d.OBJECT_POLYGON;case "icon":case "text":return a?d.ICON_POINT:d.ICON_POLYGON}}function z(a){var b=t[a];if(b)return b;b=w.primitiveLodResources(a,null);b={primitivesPerFeature:y.geometriesFromLodLevelResources(b.levels[0]).reduce((c,g)=>c+g.indices.get("position").length/
3,0),primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!1};return t[a]=b}const u={primitivesPerFeature:0,primitivesPerCoordinate:0,drawCallsPerFeature:0,estimated:!0,memory:{bytesPerFeature:0,bytesPerCoordinate:0,bytesPerFeatureLabel:0,draped:{bytesPerFeature:0,bytesPerFeatureLabel:0,bytesPerCoordinate:0}}},t={},d={ICON_POINT:{bytesPerFeature:7127.413186968842,bytesPerFeatureLabel:4826.302896296296,bytesPerCoordinate:0,draped:{bytesPerFeature:3929.4396628895197,bytesPerFeatureLabel:3550.1332222222227,
bytesPerCoordinate:0}},ICON_POLYGON:{bytesPerFeature:9329.452613976147,bytesPerFeatureLabel:3675.3372604938268,bytesPerCoordinate:60.177252982212096,draped:{bytesPerFeature:6190.247450139383,bytesPerFeatureLabel:3744.074358024691,bytesPerCoordinate:59.488211068026104}},OBJECT_POINT:{bytesPerFeature:2350.5884192634558,bytesPerFeatureLabel:4446.651003703703,bytesPerCoordinate:0,draped:{bytesPerFeature:2350.5884192634558,bytesPerFeatureLabel:4446.651003703703,bytesPerCoordinate:0}},OBJECT_POLYGON:{bytesPerFeature:4583.807620302299,
bytesPerFeatureLabel:3665.342685185186,bytesPerCoordinate:60.11621818101506,draped:{bytesPerFeature:4583.807620302299,bytesPerFeatureLabel:3665.342685185186,bytesPerCoordinate:60.11621818101506}},LINE_MITER:{bytesPerFeature:7321.028181375921,bytesPerFeatureLabel:4048.0226716049388,bytesPerCoordinate:186.55621386363578,draped:{bytesPerFeature:4246.856619435009,bytesPerFeatureLabel:3852.3737679012347,bytesPerCoordinate:163.47884002621583}},LINE_ROUND:{bytesPerFeature:7482.205842738954,bytesPerFeatureLabel:4045.886987654321,
bytesPerCoordinate:191.5452524171851,draped:{bytesPerFeature:4473.481387957992,bytesPerFeatureLabel:3842.1112395061728,bytesPerCoordinate:167.27703460226945}},PATH_MITER_CIRCLE:{bytesPerFeature:9010.489006415351,bytesPerFeatureLabel:4230.9109,bytesPerCoordinate:4618.2594178027275,draped:{bytesPerFeature:9010.489006415351,bytesPerFeatureLabel:4230.9109,bytesPerCoordinate:4618.2594178027275}},PATH_ROUND_CIRCLE:{bytesPerFeature:4104.727250200398,bytesPerFeatureLabel:4251.8525,bytesPerCoordinate:8019.043777064957,
draped:{bytesPerFeature:4104.727250200398,bytesPerFeatureLabel:4251.8525,bytesPerCoordinate:8019.043777064957}},PATH_MITER_QUAD:{bytesPerFeature:9416.372942261387,bytesPerFeatureLabel:4241.2757,bytesPerCoordinate:3176.7222742582203,draped:{bytesPerFeature:9416.372942261387,bytesPerFeatureLabel:4241.2757,bytesPerCoordinate:3176.7222742582203}},PATH_ROUND_QUAD:{bytesPerFeature:6614.431545308682,bytesPerFeatureLabel:4206.7461,bytesPerCoordinate:5141.817789093826,draped:{bytesPerFeature:6614.431545308682,
bytesPerFeatureLabel:4206.7461,bytesPerCoordinate:5141.817789093826}},FILL:{bytesPerFeature:9478.244183633637,bytesPerFeatureLabel:3713.816824691358,bytesPerCoordinate:95.9343604185578,draped:{bytesPerFeature:6287.911108168086,bytesPerFeatureLabel:3790.785032098766,bytesPerCoordinate:83.08783220478168}},FILL_OUTLINE:{bytesPerFeature:13085.871870349445,bytesPerFeatureLabel:3392.613241975309,bytesPerCoordinate:118.63968023169875,draped:{bytesPerFeature:8437.199992480122,bytesPerFeatureLabel:3973.5431172839503,
bytesPerCoordinate:106.33556817014312}},EXTRUDE:{bytesPerFeature:19459.53727140414,bytesPerFeatureLabel:3743.7045209876546,bytesPerCoordinate:372.6819978900477,draped:{bytesPerFeature:19459.53727140414,bytesPerFeatureLabel:3743.7045209876546,bytesPerCoordinate:372.6819978900477}},EXTRUDE_EDGES:{bytesPerFeature:22266.888534913724,bytesPerFeatureLabel:3064.3193358024696,bytesPerCoordinate:374.3725221561312,draped:{bytesPerFeature:22266.888534913724,bytesPerFeatureLabel:3064.3193358024696,bytesPerCoordinate:374.3725221561312}}};
k.averageSymbolComplexities=function(a){a=p(a);0<a.numComplexities&&(a.primitivesPerFeature/=a.numComplexities,a.primitivesPerCoordinate/=a.numComplexities,a.drawCallsPerFeature/=a.numComplexities,a.memory.bytesPerFeature/=a.numComplexities,a.memory.bytesPerFeatureLabel/=a.numComplexities,a.memory.bytesPerCoordinate/=a.numComplexities,a.memory.draped.bytesPerFeature/=a.numComplexities,a.memory.draped.bytesPerFeatureLabel/=a.numComplexities,a.memory.draped.bytesPerCoordinate/=a.numComplexities);return a};
k.defaultSymbolComplexity=function(a){if("web-style"===a.type)return u;const b=a.symbolLayers.toArray().map(c=>q(a,c));return p(b)};k.defaultSymbolLayerComplexity=q;k.defaultSymbolLayerMemoryComplexity=r;k.emptySymbolComplexity=u;k.memoryEstimators=d;k.totalSymbolComplexities=p;Object.defineProperty(k,"__esModule",{value:!0})});