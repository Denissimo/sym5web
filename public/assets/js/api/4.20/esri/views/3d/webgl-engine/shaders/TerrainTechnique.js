// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../chunks/Terrain.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/Program ../lib/StencilUtils ../../../webgl/renderState".split(" "),function(q,n,p,d,b,r,m,c,t,u,v,k){m=function(h){function f(){return h.apply(this,arguments)||this}p._inheritsLoose(f,h);
var a=f.prototype;a.initializeProgram=function(g){var l=f.shader.get();const e=this.configuration;l=l.build({overlayMode:e.overlayMode,output:e.output,viewingMode:g.viewingMode,slicePlaneEnabled:e.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,textureFadingEnabled:e.textureFadingEnabled&&!e.renderOccluded,hasBackgroundColor:e.hasBackgroundColor,useGrid:e.useGrid,receiveShadows:e.receiveShadows&&!e.renderOccluded,receiveAmbientOcclusion:!1,atmosphere:e.atmosphere,tileBorders:e.tileBorders,
screenSizePerspective:e.screenSizePerspective,pbrMode:0,ssrEnabled:e.ssrEnabled,highStepCount:!1});return new u.Program(g.rctx,l,t.Default3D)};a.initializePipeline=function(){const g=this.configuration,l=g.backfaceCullingEnabled&&!g.renderOccluded;return k.makePipelineState({blending:g.renderOccluded?k.simpleBlendingParams(1,771):null,culling:l&&k.backFaceCullingParams,depthTest:!g.renderOccluded&&{func:513},depthWrite:!g.renderOccluded&&k.defaultDepthWriteParams,colorWrite:k.defaultColorWriteParams,
stencilTest:g.stencilEnabled?v.renderWhenBitIsNotSet(1):null})};return f}(m.ShaderTechnique);m.shader=new r.ReloadableShaderModule(b.TerrainShader,()=>new Promise(function(h,f){q(["../core/shaderLibrary/terrain/Terrain.glsl"],h,f)}));b=function(h){function f(){var a=h.apply(this,arguments)||this;a.output=0;a.overlayMode=0;a.atmosphere=!1;a.receiveShadows=!1;a.slicePlaneEnabled=!1;a.backfaceCullingEnabled=!1;a.stencilEnabled=!1;a.textureFadingEnabled=!1;a.hasBackgroundColor=!1;a.useGrid=!1;a.renderOccluded=
!1;a.ssrEnabled=!1;a.tileBorders=!1;a.screenSizePerspective=!1;return a}p._inheritsLoose(f,h);return f}(c.ShaderTechniqueConfiguration);d.__decorate([c.parameter({count:8})],b.prototype,"output",void 0);d.__decorate([c.parameter({count:3})],b.prototype,"overlayMode",void 0);d.__decorate([c.parameter()],b.prototype,"atmosphere",void 0);d.__decorate([c.parameter()],b.prototype,"receiveShadows",void 0);d.__decorate([c.parameter()],b.prototype,"slicePlaneEnabled",void 0);d.__decorate([c.parameter()],
b.prototype,"backfaceCullingEnabled",void 0);d.__decorate([c.parameter()],b.prototype,"stencilEnabled",void 0);d.__decorate([c.parameter()],b.prototype,"textureFadingEnabled",void 0);d.__decorate([c.parameter()],b.prototype,"hasBackgroundColor",void 0);d.__decorate([c.parameter()],b.prototype,"useGrid",void 0);d.__decorate([c.parameter()],b.prototype,"renderOccluded",void 0);d.__decorate([c.parameter()],b.prototype,"ssrEnabled",void 0);d.__decorate([c.parameter()],b.prototype,"tileBorders",void 0);
d.__decorate([c.parameter()],b.prototype,"screenSizePerspective",void 0);n.TerrainTechnique=m;n.TerrainTechniqueConfiguration=b;Object.defineProperty(n,"__esModule",{value:!0})});