// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/maybe ../../../chunks/RasterColorizer.glsl ../webgl-engine/core/shaderTechnique/ReloadableShaderModule ../webgl-engine/core/shaderTechnique/ShaderTechnique ../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration ../webgl-engine/lib/DefaultVertexAttributeLocations ../webgl-engine/lib/Program ../../webgl/rasterUtils ../../webgl/renderState".split(" "),function(t,l,m,n,p,e,u,g,h,v,w,f,
k){g=function(d){function b(){return d.apply(this,arguments)||this}m._inheritsLoose(b,d);var c=b.prototype;c.initializeProgram=function(a){var q=b.shader.get();const r=this.configuration;q=q.build({output:r.colorizerType,applyColormap:r.applyColormap});this._context=a.rctx;return new w.Program(a.rctx,q,v.Default3D)};c.initializePipeline=function(){const a=2===this.configuration.mode?k.simpleBlendingParams(1,771):1===this.configuration.mode?k.simpleBlendingParams(0,770):null;return k.makePipelineState({blending:a,
colorWrite:k.defaultColorWriteParams})};c.bindPass=function(a){f.setUniforms(this.program,this.uniformLocationInfos,a.basic);f.setUniforms(this.program,this.uniformLocationInfos,a.common);p.isSome(a.colormap)&&f.setUniforms(this.program,this.uniformLocationInfos,a.colormap);0===this.configuration.colorizerType&&p.isSome(a.stretch)?f.setUniforms(this.program,this.uniformLocationInfos,a.stretch):2===this.configuration.colorizerType&&p.isSome(a.hillshade)&&f.setUniforms(this.program,this.uniformLocationInfos,
a.hillshade)};m._createClass(b,[{key:"uniformLocationInfos",get:function(){this._uniformLocationInfos||(this._uniformLocationInfos=f.getUniformLocationInfos(this._context,this.program));return this._uniformLocationInfos}}]);return b}(g.ShaderTechnique);g.shader=new u.ReloadableShaderModule(e.RasterColorizerShader,()=>new Promise(function(d,b){t(["../webgl-engine/core/shaderLibrary/raster/RasterColorizer.glsl"],d,b)}));e=function(d){function b(){var c=d.apply(this,arguments)||this;c.mode=2;c.colorizerType=
0;c.applyColormap=!0;return c}m._inheritsLoose(b,d);return b}(h.ShaderTechniqueConfiguration);n.__decorate([h.parameter({count:3})],e.prototype,"mode",void 0);n.__decorate([h.parameter({count:3})],e.prototype,"colorizerType",void 0);n.__decorate([h.parameter()],e.prototype,"applyColormap",void 0);l.RasterColorizerTechnique=g;l.RasterColorizerTechniqueConfiguration=e;Object.defineProperty(l,"__esModule",{value:!0})});