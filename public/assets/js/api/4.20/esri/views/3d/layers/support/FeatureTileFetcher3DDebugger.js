// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../Graphic ../../../../geometry/Polygon ../../../../symbols/FillSymbol3DLayer ../../../../symbols/PointSymbol3D ../../../../symbols/PolygonSymbol3D ../../../../symbols/TextSymbol3DLayer ../../terrain/TilingScheme".split(" "),function(m,u,n,v,f,w,g,x,y){const z=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,
179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let t=function(){function p(a,e,h){this.loadingGraphics=new Map;this.loadedGraphics=new Map;this.pendingGraphics=new Map;this._enabled=!0;this.tileFetcher=a;this.view=h;this.tilingScheme=new y(e);this.loadedSymbols=z.map(b=>new g(new f({material:{color:[b[0],b[1],b[2],.6]},outline:{color:"black",size:1}})));this.loadingSymbols=[new g(new f({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}}))];this.pendingSymbols=[new g(new f({material:{color:[100,
100,100,.4]},outline:{color:[30,30,30],size:1}}))];this.dataExtentSymbol=new g(new f({material:{color:[0,0,0,0]},outline:{color:"green",size:4}}))}var k=p.prototype;k.destroy=function(){this.enabled=!1};k.update=function(){this._enabled?(this.synchronizeMaps(this.loadingGraphics,{filter:a=>a.isFetching,symbols:this.loadingSymbols}),this.synchronizeMaps(this.loadedGraphics,{filter:a=>!a.isFetching,symbols:this.loadedSymbols}),this.synchronizeMaps(this.pendingGraphics,{filter:a=>!a.isFetching,symbols:this.pendingSymbols}),
this.showDataExtent(this.tileFetcher.filterExtent)):(this.loadingGraphics.forEach(a=>{this.view.graphics.removeMany(a)}),this.loadingGraphics.clear(),this.loadedGraphics.forEach(a=>{this.view.graphics.removeMany(a)}),this.loadedGraphics.clear(),this.pendingGraphics.forEach(a=>{this.view.graphics.removeMany(a)}),this.pendingGraphics.clear(),this.dataExtentGraphic&&(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null))};k.showDataExtent=function(a){this.dataExtentGraphic&&
(this.view.graphics.remove(this.dataExtentGraphic),this.dataExtentGraphic=null);a&&(a=v.fromExtent(a),this.dataExtentGraphic=new n({geometry:a,symbol:this.dataExtentSymbol}),this.view.graphics.add(this.dataExtentGraphic))};k.synchronizeMaps=function(a,e){const h=[];a.forEach((b,c)=>{const d=this.tileFetcher.test.getFeatureTileById(c);d&&e.filter(d)||(this.view.graphics.removeMany(b),h.push(c))});h.forEach(b=>a.delete(b));this.tileFetcher.test.forEachFeatureTile(b=>{if(e.filter(b)&&!a.has(b.id)){const [l,
q,r]=b.descriptor.lij;this.tilingScheme.ensureMaxLod(l);var c=this.tilingScheme.getExtentGeometry(l,q,r),d=new n({geometry:c,symbol:e.symbols[l%e.symbols.length]});c=new n({geometry:c.center,symbol:new w({verticalOffset:{screenLength:40/.75},callout:{type:"line",color:"white",border:{color:"black"}},symbolLayers:[new x({text:`${l}/${q}/${r}`,halo:{color:"white",size:1/.75},material:{color:"black"},size:16})]})});d=[d,c];a.set(b.id,d);this.view.graphics.addMany(d)}})};u._createClass(p,[{key:"enabled",
get:function(){return this._enabled},set:function(a){this._enabled=a;this.update()}}]);return p}();m.FeatureTileFetcher3DDebugger=t;m.default=t;Object.defineProperty(m,"__esModule",{value:!0})});