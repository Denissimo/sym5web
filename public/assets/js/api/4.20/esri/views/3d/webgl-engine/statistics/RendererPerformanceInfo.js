// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/PerformanceSampler ../../../../core/accessorSupport/utils ../../../webgl/Measurement".split(" "),function(d,m,f,g,n,p){const h="prepare;shadowmap;lineardepth;normals;ssao;opaque;opaque edges;transparent;transparent edges;hudvisibility;transparent terrain;atmosphere;laserline;occluded;antialiasing;highlights;hudOccluded;hudNotoccluded".split(";");let k=function(){function b(){this.drawCalls=this.triangles=
0}b.prototype.reset=function(){this.drawCalls=this.triangles=0};return b}(),l=function(b){function c(){var a=b.call(this,"total")||this;a.total=0;a.frameCount=0;return a}m._inheritsLoose(c,b);return c}(g),q=function(){function b(){this._enableGPUTimer=this._lastSample=this._startTime=0;this.totalTime=new l;this.gpuTime=new g("gpu",9);this.renderPassTimings=h.map(a=>new g(a));this.stats=new k}var c=b.prototype;c.enableGPUTimer=function(){++this._enableGPUTimer;return{remove:n.once(()=>--this._enableGPUTimer)}};
c.prerender=function(a){this._startTime=this._lastSample=performance.now();this._enableGPUTimer&&(this._gpuTimer=p.startMeasurement(a))};c.advance=function(a){const e=performance.now();this.renderPassTimings[a].record(e-this._lastSample);this._lastSample=e};c.postrender=function(){f.isSome(this._gpuTimer)&&(this._gpuTimer.stop(e=>f.isSome(e)&&this.gpuTime.record(e),16),this._gpuTimer=null);const a=performance.now()-this._startTime;this.totalTime.record(a);this.totalTime.total+=a;this.totalTime.frameCount++};
return b}();d.RenderStats=k;d.RenderTime=l;d.RendererPerformanceInfo=q;d.addToRenderStats=function(b,c,a){f.isSome(a)&&(a.drawCalls+=b,a.triangles+=c)};d.performanceStatsCategories=h;Object.defineProperty(d,"__esModule",{value:!0})});