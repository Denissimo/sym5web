// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../lib/GLMaterial","./WaterTechnique"],function(e,h,c,k){c=function(f){function d(a){a=f.call(this,a)||this;a.updateParameters();return a}h._inheritsLoose(d,f);var b=d.prototype;b.updateParameters=function(a){this._technique=this._techniqueRep.releaseAndAcquire(k.WaterTechnique,this._material.getTechniqueConfig(this._output,a),this._technique)};b.beginSlot=function(a){if(2===this._output)return 22===a;if(5===this._output)return null==
a;if(4===this._output)return 3===a;let g=3;this._material.params.transparent&&(g=this._material.params.writeDepth?5:8);return a===g};b.setElapsedTimeUniform=function(a){a.setUniform1f("timeElapsed",.001*this._material.animation.time*this._material.params.animationSpeed)};b._updateShadowState=function(a){a.shadowMappingEnabled!==this._material.params.receiveShadows&&this._material.setParameterValues({receiveShadows:a.shadowMappingEnabled})};b._updateSSRState=function(a){a.ssrEnabled!==this._material.params.ssrEnabled&&
this._material.setParameterValues({ssrEnabled:a.ssrEnabled})};b.ensureResources=function(a){return this._technique.ensureResource(a)};b.ensureParameters=function(a){0===this._output&&(this._updateShadowState(a),this._updateSSRState(a));this.updateParameters(a)};b.bind=function(a){this._technique.bindPass(this._material.params,a);2!==this._output&&0!==this._output||this.setElapsedTimeUniform(this._technique.program)};return d}(c);e.WaterGLMaterial=c;Object.defineProperty(e,"__esModule",{value:!0})});