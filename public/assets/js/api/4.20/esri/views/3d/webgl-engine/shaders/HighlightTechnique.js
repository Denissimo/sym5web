// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/Program ../../../../chunks/HighlightComposition.glsl ../../../webgl/renderState".split(" "),function(n,h,k,m,e,g,l,p,q,r,f){g=function(c){function a(){return c.apply(this,arguments)||this}k._inheritsLoose(a,c);var d=a.prototype;
d.initializeProgram=function(b){const t=a.shader.get().build(this.configuration);return new q.Program(b.rctx,t,p.Default3D)};d.bindApplyPass=function(b){this.program.setUniform4fv("color",b.color);this.program.setUniform4fv("haloColor",b.haloColor);this.program.setUniform1f("outlineSize",8.6);this.program.setUniform1f("blurSize",.4);this.program.setUniform4f("opacities",b.haloOpacity,b.haloOpacityOccluded,b.fillOpacity,b.fillOpacityOccluded)};d.initializePipeline=function(){return 1===this.configuration.highlightStage?
f.makePipelineState({blending:f.separateBlendingParams(770,1,771,771),colorWrite:f.defaultColorWriteParams}):f.makePipelineState({colorWrite:f.defaultColorWriteParams})};k._createClass(a,[{key:"primitiveType",get:function(){return this.configuration.gridOptimization?4:5}}]);return a}(g.ShaderTechnique);g.shader=new e.ReloadableShaderModule(r.HighlightCompositionShader,()=>new Promise(function(c,a){n(["./HighlightComposition.glsl"],c,a)}));e=function(c){function a(){var d=c.apply(this,arguments)||
this;d.highlightStage=0;d.gridOptimization=!1;return d}k._inheritsLoose(a,c);return a}(l.ShaderTechniqueConfiguration);m.__decorate([l.parameter({count:3})],e.prototype,"highlightStage",void 0);m.__decorate([l.parameter()],e.prototype,"gridOptimization",void 0);h.HighlightCompositionTechnique=g;h.HighlightCompositionTechniqueConfiguration=e;Object.defineProperty(h,"__esModule",{value:!0})});