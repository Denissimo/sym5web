// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../core/compilerUtils ../../../core/uid ../../../geometry/SpatialReference ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field ./zscale".split(" "),function(c,C,y,F,D,O,G,B){function M(h,t){return t}function n(h,t,u,e){switch(u){case 0:return g(h,t+e,0);case 1:return"lowerLeft"===h.originPosition?g(h,t+e,1):v(h,t+e,1)}}function q(h,
t,u,e){switch(u){case 2:return g(h,t,2);default:return n(h,t,u,e)}}function E(h,t,u,e){switch(u){case 2:return g(h,t,3);default:return n(h,t,u,e)}}function N(h,t,u,e){switch(u){case 3:return g(h,t,3);default:return q(h,t,u,e)}}function g({translate:h,scale:t},u,e){return h[e]+u*t[e]}function v({translate:h,scale:t},u,e){return h[e]-u*t[e]}let a=function(){function h(u){this.options=u;this.geometryTypes=["point","multipoint","polyline","polygon"];this.previousCoordinate=[0,0];this.transform=null;this.applyTransform=
M;this.lengths=[];this.vertexDimension=this.toAddInCurrentPath=this.currentLengthIndex=0;this.coordinateBuffer=null;this.coordinateBufferPtr=0;this.AttributesConstructor=function(){}}var t=h.prototype;t.createFeatureResult=function(){return new D.DehydratedFeatureSetClass};t.finishFeatureResult=function(u){this.options.applyTransform&&(u.transform=null);this.AttributesConstructor=function(){};this.coordinateBuffer=null;this.lengths.length=0;if(u.hasZ){var e=B.getGeometryZScaler(u.geometryType,this.options.sourceSpatialReference,
u.spatialReference);if(e)for(const r of u.features)e(r.geometry)}};t.createSpatialReference=function(){return new F};t.addField=function(u,e){u.fields.push(G.fromJSON(e));const r=u.fields.map(J=>J.name);this.AttributesConstructor=function(){for(const J of r)this[J]=null}};t.addFeature=function(u,e){const r=this.options.maxStringAttributeLength?this.options.maxStringAttributeLength:0;if(0<r)for(const J in e.attributes){const U=e.attributes[J];"string"===typeof U&&U.length>r&&(e.attributes[J]="")}u.features.push(e)};
t.addQueryGeometry=function(u,e){const {queryGeometry:r,queryGeometryType:J}=e;e=O.unquantizeOptimizedGeometry(r.clone(),r,!1,!1,this.transform);e=O.convertToGeometry(e,J,!1,!1);let U=null;switch(J){case "esriGeometryPoint":U="point";break;case "esriGeometryPolygon":U="polygon";break;case "esriGeometryPolyline":U="polyline";break;case "esriGeometryMultipoint":U="multipoint"}e.type=U;u.queryGeometryType=J;u.queryGeometry=e};t.prepareFeatures=function(u){this.transform=u.transform;this.options.applyTransform&&
u.transform&&(this.applyTransform=this.deriveApplyTransform(u));this.vertexDimension=2;u.hasZ&&this.vertexDimension++;u.hasM&&this.vertexDimension++;switch(u.geometryType){case "point":this.addCoordinate=(e,r,J)=>this.addCoordinatePoint(e,r,J);this.createGeometry=e=>this.createPointGeometry(e);break;case "polygon":this.addCoordinate=(e,r,J)=>this.addCoordinatePolygon(e,r,J);this.createGeometry=e=>this.createPolygonGeometry(e);break;case "polyline":this.addCoordinate=(e,r,J)=>this.addCoordinatePolyline(e,
r,J);this.createGeometry=e=>this.createPolylineGeometry(e);break;case "multipoint":this.addCoordinate=(e,r,J)=>this.addCoordinateMultipoint(e,r,J);this.createGeometry=e=>this.createMultipointGeometry(e);break;case "mesh":case "extent":break;default:C.neverReached(u.geometryType)}};t.createFeature=function(){this.currentLengthIndex=this.lengths.length=0;this.previousCoordinate[0]=0;this.previousCoordinate[1]=0;return new D.DehydratedFeatureClass(y.generateUID(),null,new this.AttributesConstructor)};
t.allocateCoordinates=function(){const u=this.lengths.reduce((e,r)=>e+r,0);this.coordinateBuffer=new Float64Array(u*this.vertexDimension);this.coordinateBufferPtr=0};t.addLength=function(u,e,r){0===this.lengths.length&&(this.toAddInCurrentPath=e);this.lengths.push(e)};t.createPointGeometry=function(u){u={type:"point",x:0,y:0,spatialReference:u.spatialReference,hasZ:!!u.hasZ,hasM:!!u.hasM};u.hasZ&&(u.z=0);u.hasM&&(u.m=0);return u};t.addCoordinatePoint=function(u,e,r){e=this.applyTransform(this.transform,
e,r,0);switch(r){case 0:u.x=e;break;case 1:u.y=e;break;case 2:u.hasZ?u.z=e:u.m=e;break;case 3:u.m=e}};t.transformPathLikeValue=function(u,e){let r=0;1>=e&&(r=this.previousCoordinate[e],this.previousCoordinate[e]+=u);return this.applyTransform(this.transform,u,e,r)};t.addCoordinatePolyline=function(u,e,r){this.dehydratedAddPointsCoordinate(u.paths,e,r)};t.addCoordinatePolygon=function(u,e,r){this.dehydratedAddPointsCoordinate(u.rings,e,r)};t.addCoordinateMultipoint=function(u,e,r){0===r&&u.points.push([]);
e=this.transformPathLikeValue(e,r);u.points[u.points.length-1].push(e)};t.createPolygonGeometry=function(u){return{type:"polygon",rings:[[]],spatialReference:u.spatialReference,hasZ:!!u.hasZ,hasM:!!u.hasM}};t.createPolylineGeometry=function(u){return{type:"polyline",paths:[[]],spatialReference:u.spatialReference,hasZ:!!u.hasZ,hasM:!!u.hasM}};t.createMultipointGeometry=function(u){return{type:"multipoint",points:[],spatialReference:u.spatialReference,hasZ:!!u.hasZ,hasM:!!u.hasM}};t.dehydratedAddPointsCoordinate=
function(u,e,r){0===r&&0===this.toAddInCurrentPath--&&(u.push([]),this.toAddInCurrentPath=this.lengths[++this.currentLengthIndex]-1,this.previousCoordinate[0]=0,this.previousCoordinate[1]=0);e=this.transformPathLikeValue(e,r);u=u[u.length-1];0===r&&u.push(new Float64Array(this.coordinateBuffer.buffer,this.coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this.vertexDimension));this.coordinateBuffer[this.coordinateBufferPtr++]=e};t.deriveApplyTransform=function(u){const {hasZ:e,hasM:r}=u;return e&&
r?N:e?q:r?E:n};return h}();c.DehydratedFeatureSetParserContext=a;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(c,C){c.neverReached=function(y){};c.neverReachedSilent=function(y){};c.tuple=(...y)=>y;c.typeCast=function(y){return()=>y};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/uid":function(){define(["exports"],function(c){let C=0;c.NullUID=0;c.generateUID=function(){return++C};Object.defineProperty(c,
"__esModule",{value:!0})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../core/byteSizeEstimations ../../core/has ../../core/maybe ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),function(c,C,y,F,D,O,G,B,M,n,q,E,N){function g(e,r,J){if(!e)return null;
switch(r){case "point":return{x:e.x,y:e.y,z:e.z,m:e.m,hasZ:null!=e.z,hasM:null!=e.m,type:"point",spatialReference:J};case "polyline":return{paths:e.paths,hasZ:!!e.hasZ,hasM:!!e.hasM,type:"polyline",spatialReference:J};case "polygon":return{rings:e.rings,hasZ:!!e.hasZ,hasM:!!e.hasM,type:"polygon",spatialReference:J};case "multipoint":return{points:e.points,hasZ:!!e.hasZ,hasM:!!e.hasM,type:"multipoint",spatialReference:J}}}function v(e){if(F.isNone(e))return 0;let r=32;switch(e.type){case "point":r+=
42;break;case "polyline":case "polygon":{var J=0;const U=2+(e.hasZ?1:0)+(e.hasM?1:0);e="polyline"===e.type?e.paths:e.rings;for(const W of e)J+=W.length;r+=8*J*U+64;r+=128*J;r=r+34+32*(e.length+1);break}case "multipoint":J=e.points.length;r+=8*J*(2+(e.hasZ?1:0)+(e.hasM?1:0))+64;r+=128*J;r=r+34+32;break;case "extent":r+=98;e.hasM&&(r+=32);e.hasZ&&(r+=32);break;case "mesh":r+=D.estimateSize(e.vertexAttributes.position),r+=D.estimateSize(e.vertexAttributes.normal),r+=D.estimateSize(e.vertexAttributes.uv),
r+=D.estimateSize(e.vertexAttributes.tangent)}return r}function a(e,r){B.empty(r);"mesh"===e.type&&(e=e.extent);switch(e.type){case "point":r[0]=r[3]=e.x;r[1]=r[4]=e.y;e.hasZ&&(r[2]=r[5]=e.z);break;case "polyline":for(var J=0;J<e.paths.length;J++)B.expandWithNestedArray(r,e.paths[J],e.hasZ);break;case "polygon":for(J=0;J<e.rings.length;J++)B.expandWithNestedArray(r,e.rings[J],e.hasZ);break;case "multipoint":B.expandWithNestedArray(r,e.points,e.hasZ);break;case "extent":r[0]=e.xmin,r[1]=e.ymin,r[3]=
e.xmax,r[4]=e.ymax,null!=e.zmin&&(r[2]=e.zmin),null!=e.zmax&&(r[5]=e.zmax)}}function h(e,r){M.empty(r);"mesh"===e.type&&(e=e.extent);switch(e.type){case "point":r[0]=r[2]=e.x;r[1]=r[3]=e.y;break;case "polyline":for(var J=0;J<e.paths.length;J++)M.expandWithNestedArray(r,e.paths[J]);break;case "polygon":for(J=0;J<e.rings.length;J++)M.expandWithNestedArray(r,e.rings[J]);break;case "multipoint":M.expandWithNestedArray(r,e.points);break;case "extent":r[0]=e.xmin,r[1]=e.ymin,r[2]=e.xmax,r[3]=e.ymax}}const t=
B.create(),u=M.create();c.equals=N.equals;c.DehydratedFeatureClass=function(e,r,J){this.uid=e;this.geometry=r;this.attributes=J;this.visible=!0;this.centroid=this.objectId=null};c.DehydratedFeatureSetClass=function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null};c.computeAABB=a;c.computeAABR=h;c.estimateGeometryObjectSize=
v;c.estimateSize=function(e){let r;r=32+C.estimateAttributesObjectSize(e.attributes);return r=r+3+(8+v(e.geometry))};c.expandAABB=function(e,r){a(e,t);B.expandWithAABB(r,t)};c.expandAABR=function(e,r){h(e,u);M.expand(r,u)};c.fromFeatureSetJSON=function(e){const r=q.featureGeometryTypeKebabDictionary.fromJSON(e.geometryType),J=G.fromJSON(e.spatialReference),U=e.transform,W=e.features.map(p=>{var d=e.objectIdFieldName;p={uid:O.generateUID(),objectId:d&&p.attributes?p.attributes[d]:null,attributes:p.attributes,
geometry:g(p.geometry,r,J),visible:!0};d=p.geometry;if(F.isSome(d)&&U)switch(d.type){case "point":p.geometry=n.unquantizePoint(U,d,d,d.hasZ,d.hasM);break;case "multipoint":p.geometry=n.unquantizeMultipoint(U,d,d,d.hasZ,d.hasM);break;case "polygon":p.geometry=n.unquantizePolygon(U,d,d,d.hasZ,d.hasM);break;case "polyline":p.geometry=n.unquantizePolyline(U,d,d,d.hasZ,d.hasM);break;case "extent":p.geometry=d;break;case "mesh":p.geometry=d}return p});return{geometryType:r,features:W,spatialReference:J,
fields:e.fields?e.fields.map(p=>E.fromJSON(p)):null,objectIdFieldName:e.objectIdFieldName,globalIdFieldName:e.globalIdFieldName,geohashFieldName:e.geohashFieldName,geometryProperties:e.geometryProperties,hasZ:e.hasZ,hasM:e.hasM,exceededTransferLimit:e.exceededTransferLimit,transform:null}};c.fromJSONGeometry=g;c.getObjectId=function(e,r){return null!=e.objectId?e.objectId:e.attributes&&r?e.attributes[r]:null};c.hasGeometry=function(e){return F.isSome(e.geometry)};c.hasVertices=function(e){if(F.isNone(e))return!1;
switch(e.type){case "extent":case "point":return!0;case "polyline":for(const r of e.paths)if(0<r.length)return!0;return!1;case "polygon":for(const r of e.rings)if(0<r.length)return!0;return!1;case "multipoint":return 0<e.points.length;case "mesh":return!e.loaded||0<e.vertexAttributes.position.length}};c.isFeatureGeometry=function(e){return q.isFeatureGeometryType(e.type)};c.makeDehydratedPoint=function(e,r,J,U){return{x:e,y:r,z:J,hasZ:null!=J,hasM:!1,spatialReference:U,type:"point"}};c.numVertices=
function(e){if(F.isNone(e))return 0;switch(e.type){case "point":return 1;case "polyline":var r=0;for(var J of e.paths)r+=J.length;return r;case "polygon":J=0;for(r of e.rings)J+=r.length;return J;case "multipoint":return e.points.length;case "extent":return 2;case "mesh":return(e=e.vertexAttributes&&e.vertexAttributes.position)?e.length/3:0}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(c){function C(y){return 32+y.length}
c.estimateAttributesObjectSize=function(y){if(!y)return 0;let F=32;for(const D in y)if(y.hasOwnProperty(D)){const O=y[D];switch(typeof O){case "string":F+=C(O);break;case "number":F+=16;break;case "boolean":F+=4}}return F};c.estimateFixedArraySize=function(y,F){return 32+y.length*F};c.estimateNumberByteSize=function(){return 16};c.estimateStringByteSize=C;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent",
"./aaBoundingRect"],function(c,C,y,F){function D(a=g){return[a[0],a[1],a[2],a[3],a[4],a[5]]}function O(a,h,t,u,e,r,J=D()){J[0]=a;J[1]=h;J[2]=t;J[3]=u;J[4]=e;J[5]=r;return J}function G(a){return a[0]>=a[3]?0:a[3]-a[0]}function B(a){return a[1]>=a[4]?0:a[4]-a[1]}function M(a){return a[2]>=a[5]?0:a[5]-a[2]}function n(a,h){return Math.max(h[0],a[0])<=Math.min(h[3],a[3])&&Math.max(h[1],a[1])<=Math.min(h[4],a[4])&&Math.max(h[2],a[2])<=Math.min(h[5],a[5])}function q(a,h){a[0]=h[0];a[1]=h[1];a[2]=h[2];a[3]=
h[3];a[4]=h[4];a[5]=h[5];return a}function E(a){return 6===a.length}const N=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],g=[0,0,0,0,0,0],v=D();c.NEGATIVE_INFINITY=N;c.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];c.ZERO=g;c.allFinite=function(a){for(let h=0;6>h;h++)if(!isFinite(a[h]))return!1;return!0};c.center=function(a,h=[0,0,0]){h[0]=a[0]+G(a)/2;h[1]=a[1]+B(a)/2;h[2]=a[2]+M(a)/2;return h};c.contains=function(a,h){return h[0]>=a[0]&&h[1]>=a[1]&&h[2]>=
a[2]&&h[3]<=a[3]&&h[4]<=a[4]&&h[5]<=a[5]};c.containsPoint=function(a,h){return h[0]>=a[0]&&h[1]>=a[1]&&h[2]>=a[2]&&h[0]<=a[3]&&h[1]<=a[4]&&h[2]<=a[5]};c.containsPointWithMargin=function(a,h,t){return h[0]>=a[0]-t&&h[1]>=a[1]-t&&h[2]>=a[2]-t&&h[0]<=a[3]+t&&h[1]<=a[4]+t&&h[2]<=a[5]+t};c.create=D;c.depth=B;c.diameter=function(a){const h=G(a),t=M(a);a=B(a);return Math.sqrt(h*h+t*t+a*a)};c.empty=function(a){return a?q(a,N):D(N)};c.equals=function(a,h,t){if(C.isNone(a)||C.isNone(h))return a===h;if(!E(a)||
!E(h))return!1;if(t)for(let u=0;u<a.length;u++){if(!t(a[u],h[u]))return!1}else for(t=0;t<a.length;t++)if(a[t]!==h[t])return!1;return!0};c.expandWithAABB=function(a,h){a[0]=Math.min(a[0],h[0]);a[1]=Math.min(a[1],h[1]);a[2]=Math.min(a[2],h[2]);a[3]=Math.max(a[3],h[3]);a[4]=Math.max(a[4],h[4]);a[5]=Math.max(a[5],h[5])};c.expandWithBuffer=function(a,h,t=0,u=h.length/3){let e=a[0],r=a[1],J=a[2],U=a[3],W=a[4],p=a[5];for(let d=0;d<u;d++)e=Math.min(e,h[t+3*d]),r=Math.min(r,h[t+3*d+1]),J=Math.min(J,h[t+3*
d+2]),U=Math.max(U,h[t+3*d]),W=Math.max(W,h[t+3*d+1]),p=Math.max(p,h[t+3*d+2]);a[0]=e;a[1]=r;a[2]=J;a[3]=U;a[4]=W;a[5]=p};c.expandWithNestedArray=function(a,h,t){const u=h.length;let e=a[0],r=a[1],J=a[2],U=a[3],W=a[4],p=a[5];if(t)for(t=0;t<u;t++){var d=h[t];e=Math.min(e,d[0]);r=Math.min(r,d[1]);J=Math.min(J,d[2]);U=Math.max(U,d[0]);W=Math.max(W,d[1]);p=Math.max(p,d[2])}else for(t=0;t<u;t++)d=h[t],e=Math.min(e,d[0]),r=Math.min(r,d[1]),U=Math.max(U,d[0]),W=Math.max(W,d[1]);a[0]=e;a[1]=r;a[2]=J;a[3]=
U;a[4]=W;a[5]=p};c.expandWithOffset=function(a,h,t,u){a[0]=Math.min(a[0],a[0]+h);a[3]=Math.max(a[3],a[3]+h);a[1]=Math.min(a[1],a[1]+t);a[4]=Math.max(a[4],a[4]+t);a[2]=Math.min(a[2],a[2]+u);a[5]=Math.max(a[5],a[5]+u)};c.expandWithRect=function(a,h){a[0]=Math.min(a[0],h[0]);a[1]=Math.min(a[1],h[1]);a[3]=Math.max(a[3],h[2]);a[4]=Math.max(a[4],h[3])};c.expandWithVec3=function(a,h){a[0]=Math.min(a[0],h[0]);a[1]=Math.min(a[1],h[1]);a[2]=Math.min(a[2],h[2]);a[3]=Math.max(a[3],h[0]);a[4]=Math.max(a[4],h[1]);
a[5]=Math.max(a[5],h[2])};c.fromExtent=function(a,h=D()){h[0]=a.xmin;h[1]=a.ymin;h[2]=a.zmin;h[3]=a.xmax;h[4]=a.ymax;h[5]=a.zmax;return h};c.fromMinMax=function(a,h,t=D()){t[0]=a[0];t[1]=a[1];t[2]=a[2];t[3]=h[0];t[4]=h[1];t[5]=h[2];return t};c.fromRect=function(a,h){a[0]=h[0];a[1]=h[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=h[2];a[4]=h[3];a[5]=Number.POSITIVE_INFINITY;return a};c.fromValues=O;c.getMax=function(a,h){h[0]=a[3];h[1]=a[4];h[2]=a[5];return h};c.getMin=function(a,h){h[0]=a[0];h[1]=a[1];h[2]=
a[2];return h};c.height=M;c.intersects=n;c.intersectsClippingArea=function(a,h){return C.isNone(h)?!0:n(a,h)};c.is=E;c.isPoint=function(a){return 0===G(a)&&0===B(a)&&0===M(a)};c.maximumDimension=function(a){return Math.max(G(a),M(a),B(a))};c.offset=function(a,h,t,u,e=a){e[0]=a[0]+h;e[1]=a[1]+t;e[2]=a[2]+u;e[3]=a[3]+h;e[4]=a[4]+t;e[5]=a[5]+u;return e};c.scale=function(a,h,t=a){const u=a[0]+G(a)/2,e=a[1]+B(a)/2,r=a[2]+M(a)/2;t[0]=u+(a[0]-u)*h;t[1]=e+(a[1]-e)*h;t[2]=r+(a[2]-r)*h;t[3]=u+(a[3]-u)*h;t[4]=
e+(a[4]-e)*h;t[5]=r+(a[5]-r)*h;return t};c.set=q;c.setMax=function(a,h,t=a){t[3]=h[0];t[4]=h[1];t[5]=h[2];t!==a&&(t[0]=a[0],t[1]=a[1],t[2]=a[2]);return a};c.setMin=function(a,h,t=a){t[0]=h[0];t[1]=h[1];t[2]=h[2];t!==a&&(t[3]=a[3],t[4]=a[4],t[5]=a[5]);return t};c.size=function(a,h=[0,0,0]){h[0]=G(a);h[1]=B(a);h[2]=M(a);return h};c.toExtent=function(a,h){return isFinite(a[2])||isFinite(a[5])?new y({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:h}):new y({xmin:a[0],xmax:a[3],
ymin:a[1],ymax:a[4],spatialReference:h})};c.toRect=function(a,h){h||(h=F.create());h[0]=a[0];h[1]=a[1];h[2]=a[3];h[3]=a[4];return h};c.width=G;c.wrap=function(a,h,t,u,e,r){return O(a,h,t,u,e,r,v)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/maybe","../Extent"],function(c,C,y,F){function D(g=N){return[g[0],g[1],g[2],g[3]]}function O(g){return g[0]>=g[2]?0:g[2]-g[0]}function G(g){return g[1]>=g[3]?
0:g[3]-g[1]}function B(g,v,a){return v>=g[0]&&a>=g[1]&&v<=g[2]&&a<=g[3]}function M(g,v){g[0]=v[0];g[1]=v[1];g[2]=v[2];g[3]=v[3];return g}function n(g){return 4===g.length}function q(g,v,a){return g<v?v:g>a?a:g}const E=[Infinity,Infinity,-Infinity,-Infinity],N=[0,0,0,0];c.NEGATIVE_INFINITY=E;c.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];c.UNIT=[0,0,1,1];c.ZERO=N;c.allFinite=function(g){for(let v=0;4>v;v++)if(!isFinite(g[v]))return!1;return!0};c.area=function(g){return O(g)*G(g)};c.center=
function(g,v=[0,0]){v[0]=(g[0]+g[2])/2;v[1]=(g[1]+g[3])/2;return v};c.clone=function(g){return[g[0],g[1],g[2],g[3]]};c.contains=function(g,v){return v[0]>=g[0]&&v[2]<=g[2]&&v[1]>=g[1]&&v[3]<=g[3]};c.containsPoint=function(g,v){return B(g,v[0],v[1])};c.containsPointObject=function(g,v){return B(g,v.x,v.y)};c.containsPointWithMargin=function(g,v,a){return v[0]>=g[0]-a&&v[1]>=g[1]-a&&v[0]<=g[2]+a&&v[1]<=g[3]+a};c.containsXY=B;c.create=D;c.diameter=function(g){const v=O(g);g=G(g);return Math.sqrt(v*v+
g*g)};c.distance=function(g,v){const a=(g[1]+g[3])/2,h=Math.max(Math.abs(v[0]-(g[0]+g[2])/2)-O(g)/2,0);g=Math.max(Math.abs(v[1]-a)-G(g)/2,0);return Math.sqrt(h*h+g*g)};c.empty=function(g){return g?M(g,E):D(E)};c.equals=function(g,v,a){if(y.isNone(g)||y.isNone(v))return g===v;if(!n(g)||!n(v))return!1;if(a)for(let h=0;h<g.length;h++){if(!a(g[h],v[h]))return!1}else for(a=0;a<g.length;a++)if(g[a]!==v[a])return!1;return!0};c.expand=function(g,v,a=g){if("length"in v)if(n(v))a[0]=Math.min(g[0],v[0]),a[1]=
Math.min(g[1],v[1]),a[2]=Math.max(g[2],v[2]),a[3]=Math.max(g[3],v[3]);else{if(2===v.length||3===v.length)a[0]=Math.min(g[0],v[0]),a[1]=Math.min(g[1],v[1]),a[2]=Math.max(g[2],v[0]),a[3]=Math.max(g[3],v[1])}else switch(v.type){case "extent":a[0]=Math.min(g[0],v.xmin);a[1]=Math.min(g[1],v.ymin);a[2]=Math.max(g[2],v.xmax);a[3]=Math.max(g[3],v.ymax);break;case "point":a[0]=Math.min(g[0],v.x),a[1]=Math.min(g[1],v.y),a[2]=Math.max(g[2],v.x),a[3]=Math.max(g[3],v.y)}return a};c.expandPointInPlace=function(g,
v){v[0]<g[0]&&(g[0]=v[0]);v[0]>g[2]&&(g[2]=v[0]);v[1]<g[1]&&(g[1]=v[1]);v[1]>g[3]&&(g[3]=v[1])};c.expandWithNestedArray=function(g,v,a=g){const h=v.length;let t=g[0],u=g[1],e=g[2];g=g[3];for(let r=0;r<h;r++){const J=v[r];t=Math.min(t,J[0]);u=Math.min(u,J[1]);e=Math.max(e,J[0]);g=Math.max(g,J[1])}a[0]=t;a[1]=u;a[2]=e;a[3]=g;return a};c.fromExtent=function(g,v=D()){v[0]=g.xmin;v[1]=g.ymin;v[2]=g.xmax;v[3]=g.ymax;return v};c.fromValues=function(g,v,a,h,t=D()){t[0]=g;t[1]=v;t[2]=a;t[3]=h;return t};c.height=
G;c.intersection=function(g,v,a=g){const h=v[0],t=v[1],u=v[2];v=v[3];a[0]=q(g[0],h,u);a[1]=q(g[1],t,v);a[2]=q(g[2],h,u);a[3]=q(g[3],t,v);return a};c.intersects=function(g,v){return Math.max(v[0],g[0])<=Math.min(v[2],g[2])&&Math.max(v[1],g[1])<=Math.min(v[3],g[3])};c.is=n;c.isPoint=function(g){return(0===O(g)||!isFinite(g[0]))&&(0===G(g)||!isFinite(g[1]))};c.offset=function(g,v,a,h=g){h[0]=g[0]+v;h[1]=g[1]+a;h[2]=g[2]+v;h[3]=g[3]+a;return h};c.pad=function(g,v,a=g){a[0]=g[0]-v;a[1]=g[1]-v;a[2]=g[2]+
v;a[3]=g[3]+v;return a};c.set=M;c.setMax=function(g,v,a=g){a[2]=v[0];a[3]=v[1];a!==g&&(a[0]=g[0],a[1]=g[1]);return g};c.setMin=function(g,v,a=g){a[0]=v[0];a[1]=v[1];a!==g&&(a[2]=g[2],a[3]=g[3]);return a};c.size=function(g,v){v[0]=g[2]-g[0];v[1]=g[3]-g[1]};c.toExtent=function(g,v){return new F({xmin:g[0],ymin:g[1],xmax:g[2],ymax:g[3],spatialReference:v})};c.width=O;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],
function(c,C){function y({scale:d,translate:k},w){return Math.round((w-k[0])/d[0])}function F({scale:d,translate:k},w){return Math.round((k[1]-w)/d[1])}function D(d,k,w){const K=[];let P,A,Q,T;for(let X=0;X<w.length;X++){const aa=w[X];if(0<X){if(Q=y(d,aa[0]),T=F(d,aa[1]),Q!==P||T!==A)K.push(k(aa,Q-P,T-A)),P=Q,A=T}else P=y(d,aa[0]),A=F(d,aa[1]),K.push(k(aa,P,A))}return 0<K.length?K:null}function O(d,k,w,K){return D(d,w?K?p:W:K?W:U,k)}function G(d,k,w,K){const P=[];w=w?K?p:W:K?W:U;for(K=0;K<k.length;K++){const A=
D(d,w,k[K]);A&&3<=A.length&&P.push(A)}return P.length?P:null}function B(d,k,w,K){const P=[];w=w?K?p:W:K?W:U;for(K=0;K<k.length;K++){const A=D(d,w,k[K]);A&&2<=A.length&&P.push(A)}return P.length?P:null}function M({scale:d,translate:k},w){return w*d[0]+k[0]}function n({scale:d,translate:k},w){return k[1]-w*d[1]}function q(d,k,w){const K=Array(w.length);if(!w.length)return K;const [P,A]=d.scale;let Q=M(d,w[0][0]);d=n(d,w[0][1]);K[0]=k(w[0],Q,d);for(let T=1;T<w.length;T++){const X=w[T];Q+=X[0]*P;d-=X[1]*
A;K[T]=k(X,Q,d)}return K}function E(d,k,w){const K=Array(w.length);for(let P=0;P<w.length;P++)K[P]=q(d,k,w[P]);return K}function N(d,k,w,K){return q(d,w?K?p:W:K?W:U,k)}function g(d,k,w,K){return E(d,w?K?p:W:K?W:U,k)}function v(d,k,w,K){return E(d,w?K?p:W:K?W:U,k)}function a(d,k,w){let [K,P]=w[0],A=Math.min(K,k[0]),Q=Math.min(P,k[1]),T=Math.max(K,k[2]);k=Math.max(P,k[3]);for(let X=1;X<w.length;X++){const [aa,ha]=w[X];K+=aa;P+=ha;0>aa&&(A=Math.min(A,K));0<aa&&(T=Math.max(T,K));0>ha?Q=Math.min(Q,P):
0<ha&&(k=Math.max(k,P))}d[0]=A;d[1]=Q;d[2]=T;d[3]=k;return d}function h(d,k){if(!k.length)return null;d[0]=d[1]=Number.POSITIVE_INFINITY;d[2]=d[3]=Number.NEGATIVE_INFINITY;for(let w=0;w<k.length;w++)a(d,d,k[w]);return d}function t(d,k,w,K,P){k.xmin=y(d,w.xmin);k.ymin=F(d,w.ymin);k.xmax=y(d,w.xmax);k.ymax=F(d,w.ymax);k!==w&&(K&&(k.zmin=w.zmin,k.zmax=w.zmax),P&&(k.mmin=w.mmin,k.mmax=w.mmax));return k}function u(d,k,w,K,P){k.points=O(d,w.points,K,P);return k}function e(d,k,w,K,P){k.x=y(d,w.x);k.y=F(d,
w.y);k!==w&&(K&&(k.z=w.z),P&&(k.m=w.m));return k}function r(d,k,w,K,P){d=G(d,w.rings,K,P);if(!d)return null;k.rings=d;return k}function J(d,k,w,K,P){d=B(d,w.paths,K,P);if(!d)return null;k.paths=d;return k}const U=(d,k,w)=>[k,w],W=(d,k,w)=>[k,w,d[2]],p=(d,k,w)=>[k,w,d[2],d[3]];c.equals=function(d,k){if(d===k||null==d&&null==k)return!0;if(null==d||null==k)return!1;let w,K,P,A;d&&"upperLeft"===d.originPosition?(w=d.translate[0],K=d.translate[1],d=d.scale[0]):(w=d.extent.xmin,K=d.extent.ymax,d=d.tolerance);
k&&"upperLeft"===k.originPosition?(P=k.translate[0],A=k.translate[1],k=k.scale[0]):(P=k.extent.xmin,A=k.extent.ymax,k=k.tolerance);return w===P&&K===A&&d===k};c.getQuantizedBoundsCoordsArray=a;c.getQuantizedBoundsCoordsArrayArray=h;c.getQuantizedBoundsPaths=function(d){return h([0,0,0,0],d)};c.getQuantizedBoundsPoints=function(d){const k=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return a(k,k,d)};c.getQuantizedBoundsRings=function(d){return h([0,
0,0,0],d)};c.quantizeBounds=function(d,k,w){k[0]=y(d,w[0]);k[3]=F(d,w[1]);k[2]=y(d,w[2]);k[1]=F(d,w[3]);return k};c.quantizeExtent=t;c.quantizeGeometry=function(d,k){return d&&k?C.isPoint(k)?e(d,{},k,!1,!1):C.isPolyline(k)?J(d,{},k,!1,!1):C.isPolygon(k)?r(d,{},k,!1,!1):C.isMultipoint(k)?u(d,{},k,!1,!1):C.isExtent(k)?t(d,{},k,!1,!1):null:null};c.quantizeMultipoint=u;c.quantizePaths=B;c.quantizePoint=e;c.quantizePoints=O;c.quantizePolygon=r;c.quantizePolyline=J;c.quantizeRings=G;c.quantizeX=y;c.quantizeY=
F;c.toQuantizationTransform=function(d){return d?{originPosition:"upper-left"===d.originPosition?"upperLeft":"lower-left"===d.originPosition?"lowerLeft":d.originPosition,scale:d.tolerance?[d.tolerance,d.tolerance]:[1,1],translate:d.extent?[d.extent.xmin,d.extent.ymax]:[0,0]}:null};c.unquantizeBounds=function(d,k,w){return w?(k[0]=M(d,w[0]),k[1]=n(d,w[3]),k[2]=M(d,w[2]),k[3]=n(d,w[1]),k):[M(d,k[0]),n(d,k[3]),M(d,k[2]),n(d,k[1])]};c.unquantizeCoordsArray=q;c.unquantizeCoordsArrayArray=E;c.unquantizeExtent=
function(d,k,w,K,P){k.xmin=M(d,w.xmin);k.ymin=n(d,w.ymin);k.xmax=M(d,w.xmax);k.ymax=n(d,w.ymax);k!==w&&(K&&(k.zmin=w.zmin,k.zmax=w.zmax),P&&(k.mmin=w.mmin,k.mmax=w.mmax));return k};c.unquantizeMultipoint=function(d,k,w,K,P){k.points=N(d,w.points,K,P);return k};c.unquantizePaths=g;c.unquantizePoint=function(d,k,w,K,P){k.x=M(d,w.x);k.y=n(d,w.y);k!==w&&(K&&(k.z=w.z),P&&(k.m=w.m));return k};c.unquantizePoints=N;c.unquantizePolygon=function(d,k,w,K,P){k.rings=v(d,w.rings,K,P);return k};c.unquantizePolyline=
function(d,k,w,K,P){k.paths=g(d,w.paths,K,P);return k};c.unquantizeRings=v;c.unquantizeX=M;c.unquantizeY=n;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(c,C,y,F,D,O,G,B,M,n,q,E,N){var g;const v=new y.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});y=g=function(a){function h(u){u=a.call(this,u)||this;
u.alias=null;u.defaultValue=void 0;u.description=null;u.domain=null;u.editable=!0;u.length=-1;u.name=null;u.nullable=!0;u.type=null;u.valueType=null;return u}c._inheritsLoose(h,a);var t=h.prototype;t.readDescription=function(u,{description:e}){let r;try{r=JSON.parse(e)}catch(J){}return r?r.value:null};t.readValueType=function(u,{description:e}){let r;try{r=JSON.parse(e)}catch(J){}return r?v.fromJSON(r.fieldValueType):null};t.clone=function(){return new g({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return h}(F.JSONSupport);C.__decorate([D.property({type:String,json:{write:!0}})],y.prototype,"alias",void 0);C.__decorate([D.property({type:[String,Number],json:{write:{allowNull:!0}}})],y.prototype,"defaultValue",void 0);C.__decorate([D.property()],y.prototype,"description",void 0);C.__decorate([n.reader("description")],
y.prototype,"readDescription",null);C.__decorate([D.property({types:E.types,json:{read:{reader:E.fromJSON},write:!0}})],y.prototype,"domain",void 0);C.__decorate([D.property({type:Boolean,json:{write:!0}})],y.prototype,"editable",void 0);C.__decorate([D.property({type:G.Integer,json:{write:!0}})],y.prototype,"length",void 0);C.__decorate([D.property({type:String,json:{write:!0}})],y.prototype,"name",void 0);C.__decorate([D.property({type:Boolean,json:{write:!0}})],y.prototype,"nullable",void 0);C.__decorate([M.enumeration(N.kebabDict)],
y.prototype,"type",void 0);C.__decorate([D.property()],y.prototype,"valueType",void 0);C.__decorate([n.reader("valueType",["description"])],y.prototype,"readValueType",null);return y=g=C.__decorate([q.subclass("esri.layers.support.Field")],y)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(c,C,y){c.enumeration=function(F,D={}){var O;F=F instanceof C.JSONMap?F:new C.JSONMap(F,D);F={type:(null!=(O=null==D?void 0:D.ignoreUnknown)?
O:1)?F.apiValues:String,readOnly:null==D?void 0:D.readOnly,json:{type:F.jsonValues,read:null!=D&&D.readOnly?!1:{reader:F.read},write:{writer:F.write}}};void 0!==(null==D?void 0:D.default)&&(F.json.default=D.default);void 0!==(null==D?void 0:D.name)&&(F.json.name=D.name);return y.property(F)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(c,C,
y,F,D,O){function G(B,M){switch(B.type){case "range":{const n="range"in B?B.range[1]:B.maxValue;if(+M<("range"in B?B.range[0]:B.minValue)||+M>n)return c.DomainValidationError.VALUE_OUT_OF_RANGE;break}case "coded-value":case "codedValue":if(null==B.codedValues||B.codedValues.every(n=>null==n||n.code!==M))return c.DomainValidationError.INVALID_CODED_VALUE}return null}c.DomainValidationError=void 0;(function(B){B.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";B.INVALID_CODED_VALUE=
"domain-validation-error::invalid-coded-value"})(c.DomainValidationError||(c.DomainValidationError={}));C={key:"type",base:F,typeMap:{range:O,"coded-value":y,inherited:D}};c.CodedValueDomain=y;c.DomainBase=F;c.InheritedDomain=D;c.RangeDomain=O;c.fromJSON=function(B){if(!B||!B.type)return null;switch(B.type){case "range":return O.fromJSON(B);case "codedValue":return y.fromJSON(B);case "inherited":return D.fromJSON(B)}return null};c.getDomainRange=function(B){if(B&&"range"===B.type)return{min:"range"in
B?B.range[0]:B.minValue,max:"range"in B?B.range[1]:B.maxValue}};c.isValidDomainValue=function(B,M){return null===G(B,M)};c.types=C;c.validateDomainValue=G;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(c,C,y,F,D,O,G,B,M,n,q){var E;D=E=function(N){function g(a){a=N.call(this,a)||this;a.codedValues=null;a.type="coded-value";return a}c._inheritsLoose(g,N);var v=g.prototype;v.getName=function(a){let h=null;if(this.codedValues){const t=String(a);this.codedValues.some(u=>{String(u.code)===t&&(h=u.name);return!!h})}return h};v.clone=function(){return new E({codedValues:y.clone(this.codedValues),name:this.name})};return g}(q);C.__decorate([F.property({type:[n["default"]],json:{write:!0}})],D.prototype,
"codedValues",void 0);C.__decorate([B.enumeration({codedValue:"coded-value"})],D.prototype,"type",void 0);return D=E=C.__decorate([M.subclass("esri.layers.support.CodedValueDomain")],D)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/jsonMap ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,C,y,F,D,O,G,B,M,n){var q;c.CodedValue=q=function(E){function N(g){g=E.call(this,g)||this;g.name=null;g.code=null;return g}C._inheritsLoose(N,E);N.prototype.clone=function(){return new q({name:this.name,code:this.code})};return N}(F.JSONSupport);y.__decorate([D.property({type:String,json:{write:!0}})],c.CodedValue.prototype,"name",void 0);y.__decorate([D.property({type:[String,Number],json:{write:!0}})],c.CodedValue.prototype,"code",void 0);c.CodedValue=q=y.__decorate([n.subclass("esri.layers.support.CodedValue")],
c.CodedValue);c.default=c.CodedValue;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(c,C,y,F,D,O,G,B,M,n){y=new y.JSONMap({inherited:"inherited",
codedValue:"coded-value",range:"range"});F=function(q){function E(N){N=q.call(this,N)||this;N.name=null;N.type=null;return N}c._inheritsLoose(E,q);return E}(F.JSONSupport);C.__decorate([D.property({type:String,json:{write:!0}})],F.prototype,"name",void 0);C.__decorate([M.enumeration(y)],F.prototype,"type",void 0);return F=C.__decorate([n.subclass("esri.layers.support.Domain")],F)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,C,y,F,D,O,G,B,M){var n;y=n=function(q){function E(N){N=q.call(this,N)||this;N.type="inherited";return N}c._inheritsLoose(E,q);E.prototype.clone=function(){return new n};return E}(M);C.__decorate([G.enumeration({inherited:"inherited"})],y.prototype,"type",void 0);return y=n=C.__decorate([B.subclass("esri.layers.support.InheritedDomain")],y)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/ensureType ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,C,y,F,D,O,G,B,M){var n;F=n=function(q){function E(N){N=q.call(this,N)||this;N.maxValue=null;N.minValue=null;N.type="range";return N}c._inheritsLoose(E,q);E.prototype.clone=function(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return E}(M);C.__decorate([y.property({type:Number,json:{type:[Number],read:{source:"range",reader(q,E){return E.range&&E.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(q,E,N){E[N]=[this.minValue||0,q]}}}})],F.prototype,"maxValue",void 0);C.__decorate([y.property({type:Number,json:{type:[Number],read:{source:"range",reader(q,E){return E.range&&E.range[0]}},write:{target:"range",writer(q,E,N){E[N]=[q,this.maxValue||0]}}}})],F.prototype,"minValue",void 0);C.__decorate([G.enumeration({range:"range"})],F.prototype,"type",void 0);return F=n=C.__decorate([B.subclass("esri.layers.support.RangeDomain")],F)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(c,C){C=new C.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});c.kebabDict=C;Object.defineProperty(c,"__esModule",
{value:!0})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../core/maybe"],function(c,C,y){function F(n,q){if(n===q)return!0;if(null==n||null==q||n.length!==q.length)return!1;for(let E=0;E<n.length;E++){const N=n[E],g=q[E];if(N.length!==g.length)return!1;for(let v=0;v<N.length;v++)if(N[v]!==g[v])return!1}return!0}function D(n,q){if(n===q)return!0;if(null==n||null==q||n.length!==q.length)return!1;for(let E=0;E<n.length;E++)if(!F(n[E],q[E]))return!1;
return!0}function O(n,q){return G(n.spatialReference,q.spatialReference)?n.x===q.x&&n.y===q.y&&n.z===q.z&&n.m===q.m:!1}function G(n,q){return n===q||n&&q&&n.equals(q)}function B(n,q){if(n===q)return!0;if(y.isNone(n)||y.isNone(q)||n.type!==q.type)return!1;switch(n.type){case "point":return O(n,q);case "extent":return n=n.hasZ!==q.hasZ||n.hasM!==q.hasM?!1:G(n.spatialReference,q.spatialReference)?n.xmin===q.xmin&&n.ymin===q.ymin&&n.zmin===q.zmin&&n.xmax===q.xmax&&n.ymax===q.ymax&&n.zmax===q.zmax:!1,
n;case "polyline":return n=n.hasZ!==q.hasZ||n.hasM!==q.hasM?!1:G(n.spatialReference,q.spatialReference)?D(n.paths,q.paths):!1,n;case "polygon":return n=n.hasZ!==q.hasZ||n.hasM!==q.hasM?!1:G(n.spatialReference,q.spatialReference)?D(n.rings,q.rings):!1,n;case "multipoint":return n=n.hasZ!==q.hasZ||n.hasM!==q.hasM?!1:G(n.spatialReference,q.spatialReference)?F(n.points,q.points):!1,n;case "mesh":return!1}}function M(n,q){if(n===q)return!0;if(!n||!q)return!1;const E=Object.keys(n),N=Object.keys(q);if(E.length!==
N.length)return!1;for(const g of E)if(n[g]!==q[g])return!1;return!0}c.equals=function(n,q){return n===q?!0:null!=n&&null!=q&&n.objectId===q.objectId&&B(n.geometry,q.geometry)&&M(n.attributes,q.attributes)?!0:!1};c.pointEquals=O;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(c,
C,y,F,D,O,G){function B(b,f){return b?f?4:3:f?3:2}function M(b,f,m,l){if(b){if(m)return f&&l?ra:la;if(f&&l)return ua}else if(f&&l)return la;return sa}function n({scale:b,translate:f},m){return Math.round((m-f[0])/b[0])}function q({scale:b,translate:f},m){return Math.round((f[1]-m)/b[1])}function E({scale:b,translate:f},m){return m*b[0]+f[0]}function N({scale:b,translate:f},m){return f[1]-m*b[1]}function g(b){b=b.coords;return{x:b[0],y:b[1]}}function v(b,f){b.coords[0]=f.x;b.coords[1]=f.y;return b}
function a(b){b=b.coords;return{x:b[0],y:b[1],z:b[2]}}function h(b,f){b.coords[0]=f.x;b.coords[1]=f.y;b.coords[2]=f.z;return b}function t(b){b=b.coords;return{x:b[0],y:b[1],m:b[2]}}function u(b,f){b.coords[0]=f.x;b.coords[1]=f.y;b.coords[2]=f.m;return b}function e(b){b=b.coords;return{x:b[0],y:b[1],z:b[2],m:b[3]}}function r(b,f){b.coords[0]=f.x;b.coords[1]=f.y;b.coords[2]=f.z;b.coords[3]=f.m;return b}function J(b,f){return b&&f?r:b?h:f?u:v}function U(b,f,m,l,z){m=J(m,l);for(const x of f){const {geometry:I,
attributes:H}=x;let L;I&&(L=m(new G,I));b.push(new D(L,H,null,H[z]))}return b}function W(b,f,m,l){for(const z of f){const {geometry:x,attributes:I}=z;let H;x&&(H=p(x,m,l));b.push({attributes:I,geometry:H})}return b}function p(b,f,m){if(!b)return null;const l=B(f,m),z=[];for(let x=0;x<b.coords.length;x+=l){const I=[];for(let H=0;H<l;H++)I.push(b.coords[x+H]);z.push(I)}return f?m?{points:z,hasZ:f,hasM:m}:{points:z,hasZ:f}:m?{points:z,hasM:m}:{points:z}}function d(b,f,m,l,z){m=B(m,l);for(const x of f){f=
x.geometry;l=x.attributes;let I;f&&(I=k(new G,f,m));b.push(new D(I,l,null,l[z]))}return b}function k(b,f,m=B(f.hasZ,f.hasM)){b.lengths[0]=f.points.length;const l=b.coords;let z=0;for(const x of f.points)for(f=0;f<m;f++)l[z++]=x[f];return b}function w(b,f,m){if(!b)return null;const l=B(f,m),{coords:z,lengths:x}=b;b=[];let I=0;for(const H of x){const L=[];for(let R=0;R<H;R++){const S=[];for(let V=0;V<l;V++)S.push(z[I++]);L.push(S)}b.push(L)}return f?m?{paths:b,hasZ:f,hasM:m}:{paths:b,hasZ:f}:m?{paths:b,
hasM:m}:{paths:b}}function K(b,f,m,l,z){m=B(m,l);for(const x of f){f=x.geometry;l=x.attributes;let I;f&&(I=P(new G,f,m));b.push(new D(I,l,null,l[z]))}return b}function P(b,f,m=B(f.hasZ,f.hasM)){const {lengths:l,coords:z}=b;let x=0;for(const I of f.paths){for(const H of I)for(f=0;f<m;f++)z[x++]=H[f];l.push(I.length)}return b}function A(b,f,m){if(!b)return null;const l=B(f,m),{coords:z,lengths:x}=b;b=[];let I=0;for(const H of x){const L=[];for(let R=0;R<H;R++){const S=[];for(let V=0;V<l;V++)S.push(z[I++]);
L.push(S)}b.push(L)}return f?m?{rings:b,hasZ:f,hasM:m}:{rings:b,hasZ:f}:m?{rings:b,hasM:m}:{rings:b}}function Q(b,f,m,l,z){for(const x of f){f=x.geometry;const I=x.centroid,H=x.attributes;let L;f&&(L=T(new G,f,m,l));I?b.push(new D(L,H,v(new G,I),H[z])):b.push(new D(L,H,null,H[z]))}return b}function T(b,f,m=f.hasZ,l=f.hasM){X(b,f.rings,m,l);return b}function X(b,f,m,l){m=B(m,l);const {lengths:z,coords:x}=b;l=0;z.length=x.length=0;for(const I of f){for(const H of I)for(f=0;f<m;f++)x[l++]=H[f];z.push(I.length)}return b}
function aa(b,f,m,l,z,x){b.length=0;if(!m){for(const I of f)b.push(new D(null,I.attributes,null,I.attributes[x]));return b}switch(m){case "esriGeometryPoint":return U(b,f,l,z,x);case "esriGeometryMultipoint":return d(b,f,l,z,x);case "esriGeometryPolyline":return K(b,f,l,z,x);case "esriGeometryPolygon":return Q(b,f,l,z,x);default:ia.error("convertToFeatureSet:unknown-geometry",new C(`Unable to parse unknown geometry type '${m}'`)),b.length=0}return b}function ha(b,f,m,l){b=b&&("coords"in b?b:b.geometry);
if(!b)return null;switch(f){case "esriGeometryPoint":return f=g,m&&l?f=e:m?f=a:l&&(f=t),f(b);case "esriGeometryMultipoint":return p(b,m,l);case "esriGeometryPolyline":return w(b,m,l);case "esriGeometryPolygon":return A(b,m,l);default:ia.error("convertToGeometry:unknown-geometry",new C(`Unable to parse unknown geometry type '${f}'`))}}function ma(b,f,m,l,z){b.length=0;switch(m){case "esriGeometryPoint":var x=g;l&&z?x=e:l?x=a:z&&(x=t);for(var I of f){const {geometry:H,attributes:L}=I;l=H?x(H):null;
b.push({attributes:L,geometry:l})}break;case "esriGeometryMultipoint":return W(b,f,l,z);case "esriGeometryPolyline":for(const H of f){const {geometry:L,attributes:R}=H;let S;L&&(S=w(L,l,z));b.push({attributes:R,geometry:S})}break;case "esriGeometryPolygon":for(x of f){const {geometry:H,attributes:L,centroid:R}=x;let S;H&&(S=A(H,l,z));R?(I=g(R),b.push({attributes:L,centroid:I,geometry:S})):b.push({attributes:L,geometry:S})}break;default:ia.error("convertToFeatureSet:unknown-geometry",new C(`Unable to parse unknown geometry type '${m}'`))}return b}
function na(b,f,m,l,z,x,I=m,H=l){b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=0);if(!f||!f.coords.length)return null;z=oa[z];const {coords:L,lengths:R}=f;f=B(m,l);const S=B(m&&I,l&&H);m=M(m,l,I,H);if(!R.length)return m(b.coords,L,0,0,n(x,L[0]),q(x,L[1])),b.lengths.length&&(b.lengths.length=0),b.coords.length=f,b;let V,Z=0,Y,ba=0;for(const ea of R){if(ea<z)continue;let da=0;Y=ba;H=l=n(x,L[Z]);V=I=q(x,L[Z+1]);m(b.coords,L,Y,Z,H,V);da++;Z+=f;Y+=S;for(let ca=1;ca<ea;ca++,Z+=
f)if(H=n(x,L[Z]),V=q(x,L[Z+1]),H!==l||V!==I)m(b.coords,L,Y,Z,H-l,V-I),Y+=S,da++,l=H,I=V;da>=z&&(b.lengths.push(da),ba=Y)}b.coords.length=ba;return b.coords.length?b:null}function pa(b,f,m,l,z,x,I){let H=l,L=0;for(let S=x+m;S<I;S+=m){{var R=f[S];const V=f[S+1],Z=f[I],Y=f[I+1];let ba=f[x],ea=f[x+1],da=Z-ba,ca=Y-ea;if(0!==da||0!==ca){const fa=((R-ba)*da+(V-ea)*ca)/(da*da+ca*ca);1<fa?(ba=Z,ea=Y):0<fa&&(ba+=da*fa,ea+=ca*fa)}da=R-ba;ca=V-ea;R=da*da+ca*ca}R>H&&(L=S,H=R)}H>l&&(L-x>m&&pa(b,f,m,l,z,x,L),z(b,
f,b.length,L,f[L],f[L+1]),I-L>m&&pa(b,f,m,l,z,L,I))}function qa(b,f,m,l,z){const {coords:x,lengths:I}=f,H=m?l?ra:la:l?la:sa;m=B(m,l);if(!x.length)return b!==f&&(b.lengths.length=0,b.coords.length=0),b;if(!I.length)return H(b.coords,x,0,0,E(z,x[0]),N(z,x[1])),b!==f&&(b.lengths.length=0,b.coords.length=m),b;const [L,R]=z.scale;l=0;for(let S=0;S<I.length;S++){const V=I[S];b.lengths[S]=V;let Z=E(z,x[l]),Y=N(z,x[l+1]);H(b.coords,x,l,l,Z,Y);l+=m;for(let ba=1;ba<V;ba++,l+=m)Z+=x[l]*L,Y-=x[l+1]*R,H(b.coords,
x,l,l,Z,Y)}b!==f&&(b.lengths.length=I.length,b.coords.length=x.length);return b}function ta(b,f,m,l){let z=0,x=b[l*f],I=b[l*(f+1)];for(let H=1;H<m;H++){const L=x+b[l*(f+H)],R=I+b[l*(f+H)+1],S=(L-x)*(R+I);x=L;I=R;z+=S}return.5*z}const ia=y.getLogger("esri.tasks.support.optimizedFeatureSet"),oa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},sa=(b,f,m,l,z,x)=>{b[m]=z;b[m+1]=x},la=(b,f,m,l,z,x)=>{b[m]=z;b[m+1]=x;b[m+2]=f[l+2]},ua=(b,f,m,l,z,x)=>{b[m]=z;b[m+
1]=x;b[m+2]=f[l+3]},ra=(b,f,m,l,z,x)=>{b[m]=z;b[m+1]=x;b[m+2]=f[l+2];b[m+3]=f[l+3]},ja=[],ka=[];c.convertFromFeature=function(b,f,m,l,z){ja[0]=b;[b]=aa(ka,ja,f,m,l,z);ja.length=ka.length=0;return b};c.convertFromFeatureSet=function(b,f){const m=new O,{hasM:l,hasZ:z,features:x,objectIdFieldName:I,spatialReference:H,geometryType:L,exceededTransferLimit:R,transform:S,fields:V}=b;V&&(m.fields=V);m.geometryType=L;m.objectIdFieldName=I||f;m.spatialReference=H;if(!m.objectIdFieldName)return ia.error(new C("optimized-features:invalid-objectIdFieldName",
"objectIdFieldName is missing")),m;x&&aa(m.features,x,L,z,l,m.objectIdFieldName);R&&(m.exceededTransferLimit=R);l&&(m.hasM=l);z&&(m.hasZ=z);S&&(m.transform=S);return m};c.convertFromFeatures=aa;c.convertFromGeometry=function(b,f,m){if(!b)return null;const l=new G;"hasZ"in b&&null==f&&(f=b.hasZ);"hasM"in b&&null==m&&(m=b.hasM);if(F.isPoint(b))return J(null!=f?f:null!=b.z,null!=m?m:null!=b.m)(l,b);if(F.isPolygon(b))return T(l,b,f,m);if(F.isPolyline(b))return P(l,b,B(f,m));if(F.isMultipoint(b))return k(l,
b,B(f,m));ia.error("convertFromGeometry:unknown-geometry",new C(`Unable to parse unknown geometry type '${b}'`))};c.convertFromGraphics=function(b,f,m,l,z,x){const I=b.length;switch(m){case "esriGeometryPoint":U(b,f,l,z,x);break;case "esriGeometryMultipoint":d(b,f,l,z,x);break;case "esriGeometryPolyline":K(b,f,l,z,x);break;case "esriGeometryPolygon":Q(b,f,l,z,x);break;default:ia.error("convertToFeatureSet:unknown-geometry",new C(`Unable to parse unknown geometry type '${m}'`))}for(l=0;l<f.length;l++)b[l+
I].geometryType=m,b[l+I].insertAfter=f[l].insertAfter,b[l+I].groupId=f[l].groupId;return b};c.convertFromMultipoint=k;c.convertFromMultipointFeatures=d;c.convertFromNestedArray=X;c.convertFromPoint=function(b,f,m=J(null!=f.z,null!=f.m)){return m(b,f)};c.convertFromPointFeatures=U;c.convertFromPolygon=T;c.convertFromPolyline=P;c.convertFromPolylineFeatures=K;c.convertToFeature=function(b,f,m,l){ka[0]=b;ma(ja,ka,f,m,l);b=ja[0];ja.length=ka.length=0;return b};c.convertToFeatureSet=function(b){const {objectIdFieldName:f,
spatialReference:m,transform:l,fields:z,hasM:x,hasZ:I,features:H,geometryType:L,exceededTransferLimit:R,uniqueIdField:S,queryGeometry:V,queryGeometryType:Z}=b;b=ma([],H,L,I,x);const Y=ha(V,Z,!1,!1);b={features:b,fields:z,geometryType:L,objectIdFieldName:f,spatialReference:m,uniqueIdField:S,queryGeometry:Y};l&&(b.transform=l);R&&(b.exceededTransferLimit=R);x&&(b.hasM=x);I&&(b.hasZ=I);return b};c.convertToFeatures=ma;c.convertToGeometry=ha;c.convertToMultipoint=p;c.convertToMultipointFeatures=W;c.convertToPoint=
function(b,f,m){return b?f?m?e(b):a(b):m?t(b):g(b):null};c.convertToPolygon=A;c.convertToPolyline=w;c.deltaDecodeGeometry=function(b,f){const m=b.clone(),l=b.coords;b=b.lengths;let z=0;for(let H=0;H<b.length;H++){const L=b[H];var x=l[f*z],I=l[f*z+1];for(let R=1;R<L;R++)x+=l[f*(z+R)],I+=l[f*(z+R)+1],m.coords[f*(z+R)]=x,m.coords[f*(z+R)+1]=I;z+=L}return m};c.deltaEncodeGeometry=function(b,f){const m=b.clone(),l=b.coords;b=b.lengths;let z=0;for(let I=0;I<b.length;I++){const H=b[I];let L=l[f*z];var x=
l[f*z+1];for(let R=1;R<H;R++){const S=l[f*(z+R)],V=l[f*(z+R)+1];x=V-x;m.coords[f*(z+R)]=S-L;m.coords[f*(z+R)+1]=x;L=S;x=V}z+=H}return m};c.generalizeOptimizedGeometry=function(b,f,m,l,z,x,I=m,H=l){b.lengths.length&&(b.lengths.length=0);b.coords.length&&(b.coords.length=0);if(!f||!f.coords.length)return null;z=oa[z];const {coords:L,lengths:R}=f;f=B(m,l);const S=B(m&&I,l&&H);m=M(m,l,I,H);if(!R.length)return m(b.coords,L,0,0,L[0],L[1]),b.lengths.length&&(b.lengths.length=0),b.coords.length=f,b;l=0;x*=
x;for(const V of R){if(V<z){l+=V*f;continue}I=b.coords.length/S;H=l;const Z=l+(V-1)*f;m(b.coords,L,b.coords.length,H,L[H],L[H+1]);pa(b.coords,L,f,x,m,H,Z);m(b.coords,L,b.coords.length,Z,L[Z],L[Z+1]);H=b.coords.length/S-I;H>=z?b.lengths.push(H):b.coords.length=I*S;l+=V*f}return b.coords.length?b:null};c.getBoundsOptimizedGeometry=function(b,f,m,l){if(!f||!f.coords||!f.coords.length)return null;m=B(m,l);let z=l=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,I=Number.NEGATIVE_INFINITY;if(f&&f.coords){f=
f.coords;for(let H=0;H<f.length;H+=m){const L=f[H],R=f[H+1];l=Math.min(l,L);x=Math.max(x,L);z=Math.min(z,R);I=Math.max(I,R)}}b[0]=l;b[1]=z;b[2]=x;b[3]=I;return b};c.getQuantizedArea=function(b,f){const {coords:m,lengths:l}=b;let z=b=0;for(let x=0;x<l.length;x++)z+=ta(m,b,l[x],f),b+=x;return Math.abs(z)};c.getQuantizedBoundsOptimizedGeometry=function(b,f,m,l){m=B(m,l);const {lengths:z,coords:x}=f;l=f=Number.POSITIVE_INFINITY;let I=Number.NEGATIVE_INFINITY,H=Number.NEGATIVE_INFINITY,L=0;for(const R of z){let S=
x[L],V=x[L+1];f=Math.min(S,f);l=Math.min(V,l);I=Math.max(S,I);H=Math.max(V,H);L+=m;for(let Z=1;Z<R;Z++,L+=m){const Y=x[L],ba=x[L+1];S+=Y;V+=ba;0>Y&&(f=Math.min(f,S));0<Y&&(I=Math.max(I,S));0>ba?l=Math.min(l,V):0<ba&&(H=Math.max(H,V))}}b[0]=f;b[1]=l;b[2]=I;b[3]=H;return b};c.getSignedQuantizedRingArea=ta;c.quantizeOptimizedFeatureSet=function(b,f){const {geometryType:m,features:l,hasM:z,hasZ:x}=f;if(!b)return f;for(let I=0;I<l.length;I++){const H=l[I],L=H.weakClone();L.geometry=new G;na(L.geometry,
H.geometry,z,x,m,b);H.centroid&&(L.centroid=new G,na(L.centroid,H.centroid,z,x,"esriGeometryPoint",b));l[I]=L}f.transform=b;return f};c.quantizeOptimizedGeometry=na;c.quantizeX=n;c.quantizeY=q;c.removeCollinearVectices=function(b,f,m,l,z){if(!f||!f.coords||!f.coords.length)return null;m=oa[m];const {coords:x,lengths:I}=f;f=M(l,z,l,z);l=B(l,z);let H=z=0,L=0,R=0;for(const Z of I){H=R;f(b.coords,x,H,z,x[z],x[z+1]);z+=l;var S=x[z];let Y=x[z+1],ba=S,ea=Y;var V=Y/S;H+=l;f(b.coords,x,H,z,ba,ea);z+=l;for(let da=
2;da<Z;da++){S=x[z];Y=x[z+1];const ca=Y/S,fa=V===ca||!isFinite(V)&&!isFinite(ca);V=fa&&isFinite(ca)?0<=V&&0<=ca||0>=V&&0>=ca:0<=ea&&0<=Y||0>=ea&&0>=Y;fa&&V?(ba+=S,ea+=Y):(ba=S,ea=Y,H+=l);f(b.coords,x,H,z,ba,ea);z+=l;V=ca}H+=l;S=(H-R)/l;S>=m&&(b.lengths[L]=S,R=H,L++)}b.coords.length>R&&(b.coords.length=R);b.lengths.length>L&&(b.lengths.length=L);return b.coords.length&&b.lengths.length?b:null};c.removeZMValues=function(b,f,m,l,z,x){const I=B(m,l);m=M(m,l,z,x);l=f.coords;b.coords.length=0;b.lengths.length=
0;b.lengths.push(...f.lengths);for(f=0;f<l.length;f+=I)m(b.coords,l,b.coords.length,f,l[f],l[f+1]);return b};c.unquantizeOptimizedFeatureSet=function(b){const {transform:f,features:m,hasM:l,hasZ:z}=b;if(!f)return b;for(const x of m)x.geometry&&qa(x.geometry,x.geometry,l,z,f),x.centroid&&qa(x.centroid,x.centroid,l,z,f);b.transform=null;return b};c.unquantizeOptimizedGeometry=qa;c.unquantizeX=E;c.unquantizeY=N;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(c){return function(){function C(y=null,F={},D,O){this.geohashY=this.geohashX=this.displayId=0;this.geometry=y;F&&(this.attributes=F);D&&(this.centroid=D);null!=O&&(this.objectId=O)}C.prototype.weakClone=function(){const y=new C(this.geometry,this.attributes,this.centroid,this.objectId);y.displayId=this.displayId;y.geohashX=this.geohashX;y.geohashY=this.geohashY;return y};c._createClass(C,[{key:"hasGeometry",get:function(){return!(!this.geometry||!this.geometry.coords||!this.geometry.coords.length)}}]);
return C}()})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function c(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}c.prototype.weakClone=function(){const C=new c;C.objectIdFieldName=this.objectIdFieldName;
C.globalIdFieldName=this.globalIdFieldName;C.geohashFieldName=this.geohashFieldName;C.geometryProperties=this.geometryProperties;C.geometryType=this.geometryType;C.spatialReference=this.spatialReference;C.hasZ=this.hasZ;C.hasM=this.hasM;C.features=this.features;C.fields=this.fields;C.transform=this.transform;C.exceededTransferLimit=this.exceededTransferLimit;C.uniqueIdField=this.uniqueIdField;C.queryGeometry=this.queryGeometry;C.queryGeometryType=this.queryGeometryType;return C};return c}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(c){return function(){function C(F=[],D=[],O=!1){this.lengths=null!=F?F:[];this.coords=null!=D?D:[];this.hasIndeterminateRingOrder=O}var y=C.prototype;y.forEachVertex=function(F){let D=0;this.lengths.length||F(this.coords[0],this.coords[1]);for(let O=0;O<this.lengths.length;O++){const G=this.lengths[O];for(let B=0;B<G;B++)F(this.coords[2*(B+D)],this.coords[2*(B+D)+1]);D+=G}};y.clone=function(){return new C(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};c._createClass(C,
[{key:"isPoint",get:function(){return 0===this.lengths.length}}]);return C}()})},"esri/rest/query/operations/zscale":function(){define(["exports","../../../core/maybe","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(c,C,y,F){function D(G,B,M){if(null==G.hasM||G.hasZ)for(const n of B)for(const q of n)2<q.length&&(q[2]*=M)}function O(G,B,M){if(G)for(const q of G){G=q.geometry;var n=M;if(G&&G.spatialReference&&!F.equals(G.spatialReference,B)&&(n=y.getMetersPerVerticalUnitForSR(G.spatialReference)/
n,1!==n))if("x"in G)null!=G.z&&(G.z*=n);else if("rings"in G)D(G,G.rings,n);else if("paths"in G)D(G,G.paths,n);else if("points"in G&&(null==G.hasM||G.hasZ))for(const E of G.points)2<E.length&&(E[2]*=n)}}c.getGeometryZScaler=function(G,B,M){if(C.isNone(B)||C.isNone(M)||M.vcsWkid||F.equals(B,M))return null;B=y.getMetersPerVerticalUnitForSR(B);M=y.getMetersPerVerticalUnitForSR(M);const n=B/M;if(1===n)return null;switch(G){case "point":case "esriGeometryPoint":return q=>{q&&null!=q.z&&(q.z*=n)};case "polyline":case "esriGeometryPolyline":return q=>
{if(q)for(const E of q.paths)for(const N of E)2<N.length&&(N[2]*=n)};case "polygon":case "esriGeometryPolygon":return q=>{if(q)for(const E of q.rings)for(const N of E)2<N.length&&(N[2]*=n)};case "multipoint":case "esriGeometryMultipoint":return q=>{if(q)for(const E of q.points)2<E.length&&(E[2]*=n)};default:return null}};c.unapplyEditsZUnitScaling=function(G,B,M){if((G||B)&&M){var n=y.getMetersPerVerticalUnitForSR(M);O(G,M,n);O(B,M,n)}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(c,C,y,F,D,O,G,B){function M(A){if(A=w[A])return A;throw Error("unknown measure");}function n(A){return k[A].baseUnit}function q(A,Q=null){Q=Q||M(A);return k[Q].baseUnit===A}function E(A,Q,T){if(Q===T)return A;const X=M(Q);if(X!==M(T))throw Error("incompatible units");A=q(Q,X)?A:A*k[X].units[Q].inBaseUnits;return q(T,X)?A:A/k[X].units[T].inBaseUnits}function N(A,Q){return 3E3>E(A,Q,"meters")?"meters":"kilometers"}function g(A,Q){return 1E5>E(A,Q,"meters")?"meters":"kilometers"}function v(A,
Q){return 1E3>E(A,Q,"feet")?"feet":"miles"}function a(A,Q){return 1E5>E(A,Q,"feet")?"feet":"miles"}function h(A){return d.fromJSON(A.toLowerCase())||null}function t(A,Q=O.earth.metersPerDegree){return u(A,!0)||Q}function u(A,Q=!1){let T,X,aa=null;null!=A&&("object"===typeof A?(T=A.wkid,X=A.wkt):"number"===typeof A?T=A:"string"===typeof A&&(X=A));if(T){if(G.isWKIDFromMars(T))return O.mars.metersPerDegree;if(G.isWKIDFromMoon(T))return O.moon.metersPerDegree;aa=U.values[U[T]];!aa&&Q&&p.has(T)&&(aa=r)}else X&&
(-1!==X.search(/^PROJCS/i)?(A=J.exec(X))&&A[1]&&(aa=parseFloat(A[1].split(",")[1])):-1!==X.search(/^GEOCCS/i)&&(A=W.exec(X))&&A[1]&&(aa=parseFloat(A[1].split(",")[1])));return aa}function e(A){let Q,T,X=null;null!=A&&("object"===typeof A?(Q=A.wkid,T=A.wkt):"number"===typeof A?Q=A:"string"===typeof A&&(T=A));Q?X=U.units[U[Q]]:T&&-1!==T.search(/^PROJCS/i)&&(A=J.exec(T))&&A[1]&&(X=(A=/[\\"\\']{1}([^\\"\\']+)/.exec(A[1]))&&A[1]);return X?h(X):null}const r=O.earth.radius*Math.PI/200,J=/UNIT\[([^\]]+)\]\]$/i,
U=B,W=/UNIT\[([^\]]+)\]/i,p=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),d=y.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",
"50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});C={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};B={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*
.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(A=>A*A)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const k={length:{baseUnit:"meters",units:C},area:{baseUnit:"square-meters",units:B},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},
"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},w=function(){const A={};for(const Q in k)for(const T in k[Q].units)A[T]=
Q;return A}(),K={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},P={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",
esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};C=y.strict()(K);B=y.strict()(P);y=y.strict()({...K,...P});c.areaUnitsJSONMap=C;c.baseUnitForMeasure=n;c.baseUnitForUnit=function(A){return n(M(A))};c.convertUnit=E;c.getDefaultUnitSystem=function(A){if(!A)return null;switch(e(A)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};c.getMetersPerUnit=u;c.getMetersPerUnitForSR=t;c.getMetersPerVerticalUnitForSR=function(A){if(A&&"object"===typeof A&&!G.isEarth(A))return 1;A=t(A);return 1E5<A?1:A};c.getUnitString=e;c.getVerticalUnitStringForSR=function(A){const Q=t(A),T=A instanceof D?F.getReferenceEllipsoid(A).metersPerDegree:1E5;return Q>=T?"meters":e(A)};c.inchesPerMeter=39.37;c.isBaseUnit=q;c.isMeasurementSystem=function(A){return"imperial"===
A||"metric"===A};c.lengthToDegrees=function(A,Q,T){return E(A,Q,"meters")/(T*Math.PI/180)};c.lengthUnitsJSONMap=B;c.measureForUnit=M;c.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");c.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");c.preferredImperialAreaUnit=function(A,Q){return 1E6>E(A,Q,"square-feet")?"square-feet":
"square-miles"};c.preferredImperialLengthUnit=v;c.preferredImperialVerticalLengthUnit=a;c.preferredLengthUnit=function(A,Q,T){switch(T){case "metric":return N(A,Q);case "imperial":return v(A,Q);default:return T}};c.preferredMetricAreaUnit=function(A,Q){return 3E6>E(A,Q,"square-meters")?"square-meters":"square-kilometers"};c.preferredMetricLengthUnit=N;c.preferredMetricVerticalLengthUnit=g;c.preferredVerticalLengthUnit=function(A,Q,T){switch(T){case "metric":return g(A,Q);case "imperial":return a(A,
Q);default:return T}};c.unitFromRESTJSON=h;c.unitToRESTJSON=function(A){return d.toJSON(A)||null};c.unitsJSONMap=y;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],function(c,C,y,F){function D(n){return new C({wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${n.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`})}const O=D(y.earth),G=D(y.mars),B=D(y.moon),M=new C({wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${y.earth.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`});c.SphericalECEFSpatialReference=O;c.SphericalPCPFMars=G;c.SphericalPCPFMoon=B;c.WGS84ECEFSpatialReference=M;c.createSphericalPCPF=D;c.getReferenceEllipsoid=function(n){return n&&(F.isMars(n)||n===G)?y.mars:n&&(F.isMoon(n)||n===B)?y.moon:y.earth};c.getReferenceEllipsoidFromWKID=function(n){return F.isWKIDFromMars(n)?y.mars:F.isWKIDFromMoon(n)?y.moon:y.earth};c.getSphericalPCPF=function(n){return n&&(F.isMars(n)||n===G)?G:n&&(F.isMoon(n)||n===B)?B:O};c.getSphericalPCPFForEllipsoid=function(n){return n&&
n===y.mars?G:n&&n===y.moon?B:O};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(c,C){c.parsePBFFeatureQuery=function(y,F){var D=C.parseFeatureQuery(y,F);y=D.queryResult.featureResult;F=D.queryResult.queryGeometry;D=D.queryResult.queryGeometryType;if(y&&y.features&&y.features.length&&y.objectIdFieldName){const O=y.objectIdFieldName;for(const G of y.features)G.attributes&&(G.objectId=G.attributes[O])}y&&
(y.queryGeometry=F,y.queryGeometryType=D);return y};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),function(c,C,y,F,D,O){function G(p){return p>=J.length?null:J[p]}function B(p,d,k){for(k=d.createPointGeometry(k);p.next();)switch(p.tag()){case 3:{var w=p.getUInt32();w=p.pos()+w;
let K=0;for(;p.pos()<w;)d.addCoordinatePoint(k,p.getSInt64(),K++);break}default:p.skip()}return k}function M(p,d,k){const w=d.createGeometry(k);for(k=2+(k.hasZ?1:0)+(k.hasM?1:0);p.next();)switch(p.tag()){case 2:var K=p.getUInt32();K=p.pos()+K;for(var P=0;p.pos()<K;)d.addLength(w,p.getUInt32(),P++);break;case 3:K=p.getUInt32();K=p.pos()+K;P=0;for(d.allocateCoordinates(w);p.pos()<K;)d.addCoordinate(w,p.getSInt64(),P),P++,P===k&&(P=0);break;default:p.skip()}return w}function n(p){const d=new D;let k=
"esriGeometryPoint";for(;p.next();)switch(p.tag()){case 2:var w=p.getUInt32();for(w=p.pos()+w;p.pos()<w;)d.lengths.push(p.getUInt32());break;case 3:w=p.getUInt32();for(w=p.pos()+w;p.pos()<w;)d.coords.push(p.getSInt64());break;case 1:k=O.OPTIMIZED_GEOMETRY_TYPES[p.getEnum()];break;default:p.skip()}return{queryGeometry:d,queryGeometryType:k}}function q(p){for(;p.next();)switch(p.tag()){case 1:return p.getString();case 2:return p.getFloat();case 3:return p.getDouble();case 4:return p.getSInt32();case 5:return p.getUInt32();
case 6:return p.getInt64();case 7:return p.getUInt64();case 8:return p.getSInt64();case 9:return p.getBool();default:return p.skip(),null}return null}function E(p){const d={type:G(0)};for(;p.next();)switch(p.tag()){case 1:d.name=p.getString();break;case 2:d.type=G(p.getEnum());break;case 3:d.alias=p.getString();break;case 4:var k=p.getEnum();k=k>=U.length?null:U[k];d.sqlType=k;break;case 5:p.skip();break;case 6:d.defaultValue=p.getString();break;default:p.skip()}return d}function N(p){const d={};
for(;p.next();)switch(p.tag()){case 1:d.name=p.getString();break;case 2:d.isSystemMaintained=p.getBool();break;default:p.skip()}return d}function g(p,d,k,w){const K=d.createFeature(k);let P=0;for(;p.next();)switch(p.tag()){case 1:{const A=w[P++].name;K.attributes[A]=p.processMessage(q);break}case 2:K.geometry=p.processMessageWithArgs(M,d,k);break;case 4:K.centroid=p.processMessageWithArgs(B,d,k);break;default:p.skip()}return K}function v(p){const d=[1,1,1,1];for(;p.next();)switch(p.tag()){case 1:d[0]=
p.getDouble();break;case 2:d[1]=p.getDouble();break;case 4:d[2]=p.getDouble();break;case 3:d[3]=p.getDouble();break;default:p.skip()}return d}function a(p){const d=[0,0,0,0];for(;p.next();)switch(p.tag()){case 1:d[0]=p.getDouble();break;case 2:d[1]=p.getDouble();break;case 4:d[2]=p.getDouble();break;case 3:d[3]=p.getDouble();break;default:p.skip()}return d}function h(p){const d={originPosition:0>=W.length?null:W[0]};for(;p.next();)switch(p.tag()){case 1:var k=p.getEnum();d.originPosition=k>=W.length?
null:W[k];break;case 2:d.scale=p.processMessage(v);break;case 3:d.translate=p.processMessage(a);break;default:p.skip()}return d}function t(p){const d={};for(;p.next();)switch(p.tag()){case 1:d.shapeAreaFieldName=p.getString();break;case 2:d.shapeLengthFieldName=p.getString();break;case 3:d.units=p.getString();break;default:p.skip()}return d}function u(p,d){for(d=d.createSpatialReference();p.next();)switch(p.tag()){case 1:d.wkid=p.getUInt32();break;case 5:d.wkt=p.getString();break;case 2:d.latestWkid=
p.getUInt32();break;case 3:d.vcsWkid=p.getUInt32();break;case 4:d.latestVcsWkid=p.getUInt32();break;default:p.skip()}return d}function e(p,d){const k=d.createFeatureResult();k.geometryType=0>=d.geometryTypes.length?null:d.geometryTypes[0];let w=!1;for(;p.next();)switch(p.tag()){case 1:k.objectIdFieldName=p.getString();break;case 3:k.globalIdFieldName=p.getString();break;case 4:k.geohashFieldName=p.getString();break;case 5:k.geometryProperties=p.processMessage(t);break;case 7:var K=p.getEnum();k.geometryType=
K>=d.geometryTypes.length?null:d.geometryTypes[K];break;case 8:k.spatialReference=p.processMessageWithArgs(u,d);break;case 10:k.hasZ=p.getBool();break;case 11:k.hasM=p.getBool();break;case 12:k.transform=p.processMessage(h);break;case 9:K=p.getBool();k.exceededTransferLimit=K;break;case 13:d.addField(k,p.processMessage(E));break;case 15:w||(d.prepareFeatures(k),w=!0);d.addFeature(k,p.processMessageWithArgs(g,d,k,k.fields));break;case 2:k.uniqueIdField=p.processMessage(N);break;default:p.skip()}d.finishFeatureResult(k);
return k}function r(p,d){const k={};let w=null;for(;p.next();)switch(p.tag()){case 4:w=p.processMessageWithArgs(n);break;case 1:k.featureResult=p.processMessageWithArgs(e,d);break;default:p.skip()}y.isSome(w)&&k.featureResult&&d.addQueryGeometry(k,w);return k}const J="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
U="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),W=["upperLeft","lowerLeft"];c.parseFeatureQuery=function(p,d){try{const k=new F(new Uint8Array(p),new DataView(p));
for(p={};k.next();)switch(k.tag()){case 2:p.queryResult=k.processMessageWithArgs(r,d);break;default:k.skip()}return p}catch(k){throw new C("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:k});}};c.parseFieldType=G;c.parseTransform=h;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(c,C,y,F,D,O){const G=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let B=function(){function M(q){this.options=q;this.geometryTypes=G;this._vertexDimension=this._coordinatePtr=0}var n=M.prototype;n.createFeatureResult=function(){return new D};n.prepareFeatures=function(q){this._vertexDimension=2;q.hasZ&&this._vertexDimension++;q.hasM&&this._vertexDimension++};n.finishFeatureResult=function(q){if(q&&q.features&&q.hasZ&&this.options.sourceSpatialReference&&
q.spatialReference&&!y.equals(q.spatialReference,this.options.sourceSpatialReference)&&!q.spatialReference.vcsWkid){var E=C.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),N=C.getMetersPerVerticalUnitForSR(q.spatialReference);E/=N;if(1!==E)for(const g of q.features)if(g.geometry&&g.geometry.coords)for(q=g.geometry.coords,N=2;N<q.length;N+=3)q[N]*=E}};n.addFeature=function(q,E){q.features.push(E)};n.createFeature=function(){return new F};n.createSpatialReference=function(){return{wkid:0}};
n.createGeometry=function(){return new O};n.addField=function(q,E){q.fields.push(E)};n.allocateCoordinates=function(q){q.coords.length=q.lengths.reduce((E,N)=>E+N,0)*this._vertexDimension;this._coordinatePtr=0};n.addCoordinate=function(q,E){q.coords[this._coordinatePtr++]=E};n.addCoordinatePoint=function(q,E){q.coords.push(E)};n.addLength=function(q,E){q.lengths.push(E)};n.addQueryGeometry=function(q,E){q.queryGeometry=E.queryGeometry;q.queryGeometryType=E.queryGeometryType};n.createPointGeometry=
function(){return new O};return M}();c.OPTIMIZED_GEOMETRY_TYPES=G;c.OptimizedFeatureSetParserContext=B;Object.defineProperty(c,"__esModule",{value:!0})})},"*noref":1}});
define(["../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(c,C){let y=function(){function F(){}F.prototype._parseFeatureQuery=function(D){D=C.parsePBFFeatureQuery(D.buffer,new c.DehydratedFeatureSetParserContext(D.options));D={...D,spatialReference:D.spatialReference.toJSON(),fields:D.fields?D.fields.map(O=>O.toJSON()):void 0};return Promise.resolve(D)};return F}();return function(){return new y}});