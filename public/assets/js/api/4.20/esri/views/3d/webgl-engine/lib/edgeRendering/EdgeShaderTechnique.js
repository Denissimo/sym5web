// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../core/shaderLibrary/attributes/VertexPosition.glsl ../../core/shaderTechnique/ReloadableShaderModule ../../core/shaderTechnique/ShaderTechnique ../../core/shaderTechnique/ShaderTechniqueConfiguration ../Program ./bufferLayouts ../../../../../chunks/EdgeShaderProgram.glsl ../../../../webgl/renderState".split(" "),function(p,m,n,f,q,r,t,e,u,v,w,h){m.EdgeShaderTechnique=function(k){function b(){return k.apply(this,
arguments)||this}n._inheritsLoose(b,k);var l=b.prototype;l.bindPass=function(d){const a=this.program,{edgeRenderParameters:c,bindParameters:g}=d;q.VertexPosition.bindViewProjTransform(a,c.viewProjectionTransform);a.setUniformMatrix3fv("uTransformNormal_ViewFromGlobal",c.transformNormal_ViewFromGlobal);a.setUniformMatrix4fv("uProj",g.camera.projectionMatrix);a.setUniform2f("uDepthBias",.5,-4E-4);a.setUniform2f("uPixelToNDC",2/g.camera.fullViewport[2],2/g.camera.fullViewport[3]);a.setUniform2f("uNDCToPixel",
g.camera.fullViewport[2]/2,g.camera.fullViewport[3]/2);a.setUniform1f("uDistanceFalloffFactor",c.distanceFalloffFactor);a.setUniform2f("uViewportDimInv",1/g.camera.fullViewport[2],1/g.camera.fullViewport[3]);a.setUniform1f("uPixelRatio",g.camera.pixelRatio||1)};l.initializeProgram=function(d){var a=b.shader.get();const c=this.configuration;a=a.build({slicePlaneEnabled:c.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,silhouette:c.silhouette,legacy:c.legacy,antialiasing:c.antialiasing,
mode:c.mode,doublePrecisionRequiresObfuscation:c.doublePrecisionRequiresObfuscation,multipassTerrainEnabled:c.multipassTerrainEnabled,cullAboveGround:c.cullAboveGround});return new u.Program(d.rctx,a,v.EdgeShaderAttributeLocations)};l.initializePipeline=function(d){return(d=d.rctx.capabilities.blendMinMax)?h.makePipelineState({blending:h.separateBlendingParams(1,1,0,1,32774,d.MAX),depthTest:{func:515},colorWrite:h.defaultColorWriteParams}):h.makePipelineState({depthTest:{func:515},depthWrite:h.defaultDepthWriteParams,
colorWrite:h.defaultColorWriteParams})};return b}(t.ShaderTechnique);m.EdgeShaderTechnique.shader=new r.ReloadableShaderModule(w.EdgeShaderProgram,()=>new Promise(function(k,b){p(["../../shaders/sources/edgeRenderer/EdgeShaderProgram.glsl"],k,b)}));(function(k){let b=function(l){function d(){var a=l.apply(this,arguments)||this;a.slicePlaneEnabled=!1;a.silhouette=!1;a.legacy=!1;a.antialiasing=!1;a.mode=0;a.doublePrecisionRequiresObfuscation=!1;a.multipassTerrainEnabled=!1;a.cullAboveGround=!1;return a}
n._inheritsLoose(d,l);return d}(e.ShaderTechniqueConfiguration);f.__decorate([e.parameter()],b.prototype,"slicePlaneEnabled",void 0);f.__decorate([e.parameter()],b.prototype,"silhouette",void 0);f.__decorate([e.parameter()],b.prototype,"legacy",void 0);f.__decorate([e.parameter()],b.prototype,"antialiasing",void 0);f.__decorate([e.parameter({count:3})],b.prototype,"mode",void 0);f.__decorate([e.parameter()],b.prototype,"doublePrecisionRequiresObfuscation",void 0);f.__decorate([e.parameter()],b.prototype,
"multipassTerrainEnabled",void 0);f.__decorate([e.parameter()],b.prototype,"cullAboveGround",void 0);k.Configuration=b})(m.EdgeShaderTechnique||(m.EdgeShaderTechnique={}));Object.defineProperty(m,"__esModule",{value:!0})});