// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/mathUtils ../../../geometry/SpatialReference ./utils ../../../support/arcadeOnDemand".split(" "),function(q,v,y,z,g,A){function r(){r=v._asyncToGenerator(function*(a){const {attribute:b,featuresJSON:t}=a,{normalizationType:c,normalizationField:h,minValue:m,maxValue:n,fieldType:k}=b;a=yield w({field:b.field,valueExpression:b.valueExpression,normalizationType:c,normalizationField:h,normalizationTotal:b.normalizationTotal,viewInfoParams:b.viewInfoParams},
t);const l=g.isNullCountSupported({normalizationType:c,normalizationField:h,minValue:m,maxValue:n});a="string"===k?g.calculateStringStatistics({values:a,supportsNullCount:l}):g.calculateStatistics({values:a,minValue:m,maxValue:n,useSampleStdDev:!c,supportsNullCount:l});return g.processStatsResult(a,"date"===k)});return r.apply(this,arguments)}function w(a,b){return u.apply(this,arguments)}function u(){u=v._asyncToGenerator(function*(a,b){if(!b)return[];const t=a.field,c=a.valueExpression,h=a.normalizationType,
m=a.normalizationField,n=a.normalizationTotal,k=[];a=a.viewInfoParams;let l=null,x=null;if(c){if(!e){const {arcadeUtils:p}=yield A.loadArcade();e=p}l=e.createFunction(c);x=a&&e.getViewInfo({viewingMode:a.viewingMode,scale:a.scale,spatialReference:new z(a.spatialReference)})}b.forEach(p=>{var f=p.attributes;if(c){var d=e.createExecContext(p,x);d=e.executeFunction(l,d)}else f&&(d=f[t]);h&&y.isFinite(d)&&(f=f&&parseFloat(f[m]),d=g.getNormalizedValue(d,h,f,n));k.push(d)});return k});return u.apply(this,
arguments)}let e=null;q.getDataValues=w;q.summaryStatistics=function(a){return r.apply(this,arguments)};Object.defineProperty(q,"__esModule",{value:!0})});