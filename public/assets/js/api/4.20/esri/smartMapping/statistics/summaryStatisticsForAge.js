// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ./summaryStatistics ./support/ageUtils ../support/adapters/support/layerUtils".split(" "),function(m,e,p,q,d,n){function r(a){return f.apply(this,arguments)}function f(){f=m._asyncToGenerator(function*(a){if(!(a&&a.layer&&a.startTime&&a.endTime&&a.unit))throw new e("summary-statistics-for-age:missing-parameters","'layer', 'startTime', 'endTime' and 'unit' parameters are required");var b=[0,2,1,3,5];const {layer:g,...h}=
a;var c=n.createLayerAdapter(g,b);a={layerAdapter:c,...h};if(!c)throw new e("summary-statistics-for-age:invalid-parameters","'layer' must be one of these types: "+n.getLayerTypeLabels(b).join(", "));b=a.view;const k=p.isSome(a.signal)?{signal:a.signal}:null;yield Promise.all([b&&b.when(),c.load(k)]);if(c=d.verifyDates(c,a.startTime,a.endTime,"summary-statistics-for-age:invalid-parameters"))throw c;if(-1===d.supportedAgeUnits.indexOf(a.unit))throw new e("summary-statistics-for-age:invalid-parameters",
`Supported units are: ${d.supportedAgeUnits.join(", ")}`);return a});return f.apply(this,arguments)}function l(){l=m._asyncToGenerator(function*(a){const {layerAdapter:b,...g}=yield r(a),{view:h,startTime:c,endTime:k,unit:t,minValue:u,maxValue:v,signal:w}=g,{valueExpression:x,statisticsQuery:y}=d.getAgeExpressions({layer:b,startTime:c,endTime:k,unit:t});return q({layer:b,valueExpression:x,...y,minValue:u,maxValue:v,view:h,signal:w})});return l.apply(this,arguments)}return function(a){return l.apply(this,
arguments)}});