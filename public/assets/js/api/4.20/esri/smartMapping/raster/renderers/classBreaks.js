// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../core/maybe ../../../intl/number ../../../renderers/support/rasterRendererHelper ../support/utils".split(" "),function(k,l,d,e,m,p,q){function r(a){return g.apply(this,arguments)}function g(){g=l._asyncToGenerator(function*(a){a=yield q.processRasterRendererParameters(a);const f=a.layer,{rasterInfo:b}=f;if(1<b.bandCount)throw new d("raster-class-breaks-renderer:not-supported","Multiband raster is not supported");
if(!e.isSome(b.attributeTable)&&!e.isSome(b.histograms)&&(yield f.updateRasterInfoWithEstimatedStats({renderingRule:a.renderingRule,signal:a.signal}),!e.isSome(b.histograms)))throw new d("raster-class-breaks-renderer:not-supported","Histograms or raster attribute table is required on the source raster. Unable to estimate histograms");const {colors:c,numClasses:n}=a;if(c&&n&&c.length!==n)throw new d("raster-class-breaks-renderer:not-supported","The size of the `colors` parameter does not match 'numClasses'");
a.field||(a.field="value");a.classificationMethod||(a.classificationMethod="natural-breaks");return a});return g.apply(this,arguments)}function h(){h=l._asyncToGenerator(function*(a){a=yield r(a);a=p.createClassBreaksRenderer(a.layer.rasterInfo,a);if(!e.isSome(a))throw new d("raster-class-breaks-renderer:not-supported","Class breaks renderer is not supported on this data");const f={minValue:a.minValue,maxValue:a.classBreakInfos[a.classBreakInfos.length-1].maxValue,normalizationTotal:null,classBreakInfos:a.classBreakInfos.map(b=>
{var c=b.maxValue;c=m.formatNumber(b.minValue,{maximumFractionDigits:3})+" - "+m.formatNumber(c,{maximumFractionDigits:3});b.label=c;return{minValue:b.minValue,maxValue:b.maxValue,label:c}})};return{renderer:a,classBreaksResult:f}});return h.apply(this,arguments)}k.createRenderer=function(a){return h.apply(this,arguments)};Object.defineProperty(k,"__esModule",{value:!0})});