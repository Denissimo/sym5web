// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["exports"],function(t){let w=function(){function q(){this._path=[]}var h=q.prototype;h.path=function(){return this._path};h.addPath=function(a,b){b||a.reverse();Array.prototype.push.apply(this._path,a);b||a.reverse()};q.mergePath=function(a,b){b&&Array.prototype.push.apply(a,b)};h.startPath=function(a){this._path.push(a)};h.lineTo=function(a){this._path.push(a)};h.close=function(){const a=this._path;1<a.length&&(a[0][0]!==a[a.length-1][0]||a[0][1]!==a[a.length-1][1])&&a.push([a[0][0],a[0][1]])};
return q}(),x=function(){function q(a,b){}var h=q.prototype;h.normalize=function(a){const b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);a[0]/=b;a[1]/=b};h.calculateLength=function(a,b){const e=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(e*e+a*a)};h.calculateSegLength=function(a,b){return this.calculateLength(a[b],a[b+1])};h.calculatePathLength=function(a){let b=0;const e=a?a.length:0;for(let g=0;g<e-1;++g)b+=this.calculateSegLength(a,g);return b};h.calculatePathArea=function(a){let b=0;const e=a?a.length:0;for(let g=
0;g<e-1;++g)b+=(a[g+1][0]-a[g][0])*(a[g+1][1]+a[g][1]);return b/2};h.getCoord2D=function(a,b,e){return[a[0]+(b[0]-a[0])*e,a[1]+(b[1]-a[1])*e]};h.getSegCoord2D=function(a,b,e){return this.getCoord2D(a[b],a[b+1],e)};h.getAngle=function(a,b,e){return Math.atan2(b[1]-a[1],b[0]-a[0])};h.getSegAngle=function(a,b,e){return this.getAngle(a[b],a[b+1],e)};h.getAngleCS=function(a,b,e){e=b[0]-a[0];a=b[1]-a[1];b=Math.sqrt(e*e+a*a);return 0<b?[e/b,a/b]:[1,0]};h.getSegAngleCS=function(a,b,e){return this.getAngleCS(a[b],
a[b+1],e)};h.cut=function(a,b,e,g){e=0>=e?a[b]:this.getSegCoord2D(a,b,e);a=1<=g?a[b+1]:this.getSegCoord2D(a,b,g);return[e,a]};h.addSegment=function(a,b,e){e&&a.push(b[0]);a.push(b[1])};h.getSubCurve=function(a,b,e){const g=[];return this.appendSubCurve(g,a,b,e)?g:null};h.appendSubCurve=function(a,b,e,g){const n=b?b.length-1:0;let m=0,k=!0,d=0;for(;d<n;){const c=this.calculateSegLength(b,d);if(0!==c){if(k){if(m+c>e){var f=(e-m)/c;let p=1,l=!1;m+c>=g&&(p=(g-m)/c,l=!0);(f=this.cut(b,d,f,p))&&this.addSegment(a,
f,k);if(l)break;k=!1}}else{if(m+c>g){(b=this.cut(b,d,0,(g-m)/c))&&this.addSegment(a,b,k);break}this.addSegment(a,[b[d],b[d+1]],k)}m+=c}++d}return!0};h.getCIMPointAlong=function(a,b){const e=a?a.length-1:0;let g=0,n=-1;for(;n<e;){++n;const m=this.calculateSegLength(a,n);if(0!==m){if(g+m>b)return this.getCoord2D(a[n],a[n+1],(b-g)/m);g+=m}}return null};h.isEmpty=function(a,b){if(!a||1>=a.length)return!0;const e=a?a.length-1:0;let g=-1;for(;g<e;)if(++g,a[g+1][0]!==a[g][0]||a[g+1][1]!==a[g][1]||b&&a[g+
1][2]!==a[g][2])return!1;return!0};h.offset=function(a,b,e,g,n){if(!a||2>a.length)return null;n=a.length;const m=a[0][0]===a[n-1][0]&&a[0][1]===a[n-1][1];if(m){if(3>a.length)return null;--n}const k=[];var d=m?a[n-1]:null;let f=a[0];for(let u=0;u<n;u++){const r=u===n-1?m?a[0]:null:a[u+1];if(d)if(r){var c=[r[0]-f[0],r[1]-f[1]];this.normalize(c);d=[f[0]-d[0],f[1]-d[1]];this.normalize(d);var p=d[0]*c[1]-d[1]*c[0],l=d[0]*c[0]+d[1]*c[1];if(0<=p===0>=b)c=[c[0]-d[0],c[1]-d[1]],this.normalize(c),d=-Math.abs(b)/
Math.sqrt((1+l)/2),k.push([f[0]-c[0]*d,f[1]-c[1]*d]);else switch(e){case "Mitered":if(l=Math.sqrt((1+l)/2),0<l&&1/l<g){c=[c[0]-d[0],c[1]-d[1]];this.normalize(c);d=Math.abs(b)/l;k.push([f[0]-c[0]*d,f[1]-c[1]*d]);break}case "Bevelled":k.push([f[0]+d[1]*b,f[1]-d[0]*b]);k.push([f[0]+c[1]*b,f[1]-c[0]*b]);break;case "Rounded":k.push([f[0]+d[1]*b,f[1]-d[0]*b]);l=.2;for(p=1;5>p;p++,l+=.2){const v=[d[1]*(1-l)+c[1]*l,-d[0]*(1-l)-c[0]*l];this.normalize(v);k.push([f[0]+v[0]*b,f[1]+v[1]*b])}k.push([f[0]+c[1]*
b,f[1]-c[0]*b]);break;default:0>p?(k.push([f[0]+(d[1]+d[0])*b,f[1]+(d[1]-d[0])*b]),k.push([f[0]+(c[1]-c[0])*b,f[1]-(c[0]+c[1])*b])):(l=Math.sqrt((1+Math.abs(l))/2),c=[c[0]-d[0],c[1]-d[1]],this.normalize(c),d=b/l,k.push([f[0]-c[0]*d,f[1]-c[1]*d]))}}else c=[f[0]-d[0],f[1]-d[1]],this.normalize(c),k.push([f[0]+c[1]*b,f[1]-c[0]*b]);else c=[r[0]-f[0],r[1]-f[1]],this.normalize(c),k.push([f[0]+c[1]*b,f[1]-c[0]*b]);d=f;f=r}m&&k.push([k[0][0],k[0][1]]);return k};return q}();t.CurveHelper=x;t.PIXEL_TOLERANCE=
.03;t.PathHelper=w;Object.defineProperty(t,"__esModule",{value:!0})});