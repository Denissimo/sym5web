// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/maybe ../geometry/support/normalizeUtils ./utils ./support/ImageIdentifyResult ./support/ImageSampleResult".split(" "),function(h,k,l,n,p,f,y,z){function w(b){const a=null==b?void 0:b.time;if(a&&(null!=a.start||null!=a.end)){const c=[];null!=a.start&&c.push(a.start);null!=a.end&&-1===c.indexOf(a.end)&&c.push(a.end);b.time=c.join(",")}}function x(b,a,c){return q.apply(this,arguments)}function q(){q=k._asyncToGenerator(function*(b,
a,c){b=f.parseUrl(b);var d=yield p.normalizeCentralMeridian(a.geometry?[a.geometry]:[]);a=a.toJSON();w(a);d=d&&d[0];n.isSome(d)&&(a.geometry=d.toJSON());b=f.encode({...b.query,f:"json",...a});return f.asValidOptions(b,c)});return q.apply(this,arguments)}function r(){r=k._asyncToGenerator(function*(b,a,c){a=yield x(b,a,c);b=f.parseUrl(b);({data:b}=yield l(`${b.path}/computeStatisticsHistograms`,a));({statistics:a}=b);null!=a&&a.length&&a.forEach(d=>{d.avg=d.mean;d.stddev=d.standardDeviation});return{statistics:a,
histograms:b.histograms}});return r.apply(this,arguments)}function t(){t=k._asyncToGenerator(function*(b,a,c){a=yield x(b,a,c);b=f.parseUrl(b);({data:b}=yield l(`${b.path}/computeHistograms`,a));return{histograms:b.histograms}});return t.apply(this,arguments)}function u(){u=k._asyncToGenerator(function*(b,a,c){var d,g,e=a.toJSON();w(e);null!=(d=e.outFields)&&d.length&&(e.outFields=e.outFields.join(","));a=yield p.normalizeCentralMeridian(a.geometry);a=null==a?void 0:a[0];n.isSome(a)&&(e.geometry=
a.toJSON());b=f.parseUrl(b);e=f.encode({...b.query,f:"json",...e});c=f.asValidOptions(e,c);({data:c}=yield l(`${b.path}/getSamples`,c));c=null==c?void 0:null==(g=c.samples)?void 0:g.map(m=>{const B="NaN"===m.value||""===m.value?null:m.value.split(" ").map(A=>Number(A));return{...m,pixelValue:B}});return z.fromJSON({samples:c})});return u.apply(this,arguments)}function v(){v=k._asyncToGenerator(function*(b,a,c){const d=f.parseUrl(b);return p.normalizeCentralMeridian(a.geometry?[a.geometry]:[]).then(g=>
{var e=a.toJSON();g=g&&g[0];n.isSome(g)&&(e.geometry=JSON.stringify(g.toJSON()));e=f.encode({...d.query,f:"json",...e});e=f.asValidOptions(e,c);return l(d.path+"/identify",e)}).then(g=>y.fromJSON(g.data))});return v.apply(this,arguments)}h.computeHistograms=function(b,a,c){return t.apply(this,arguments)};h.computeStatisticsHistograms=function(b,a,c){return r.apply(this,arguments)};h.getSamples=function(b,a,c){return u.apply(this,arguments)};h.identify=function(b,a,c){return v.apply(this,arguments)};
Object.defineProperty(h,"__esModule",{value:!0})});