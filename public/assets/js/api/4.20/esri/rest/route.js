// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/queryUtils ../geometry/support/normalizeUtils ./networkService ./utils".split(" "),function(p,r,t,u,v,d,w){function l(){l=r._asyncToGenerator(function*(k,a,q){const m=[],f=[],e={},g={},n=w.parseUrl(k);a.stops&&a.stops.features&&d.collectGeometries(a.stops.features,f,"stops.features",e);a.pointBarriers&&a.pointBarriers.features&&d.collectGeometries(a.pointBarriers.features,f,"pointBarriers.features",e);a.polylineBarriers&&a.polylineBarriers.features&&
d.collectGeometries(a.polylineBarriers.features,f,"polylineBarriers.features",e);a.polygonBarriers&&a.polygonBarriers.features&&d.collectGeometries(a.polygonBarriers.features,f,"polygonBarriers.features",e);return v.normalizeCentralMeridian(f).then(b=>{for(const c in e){const h=e[c];m.push(c);g[c]=b.slice(h[0],h[1])}return d.isInputGeometryZAware(g,m)?d.fetchServiceDescription(n.path):Promise.resolve({dontCheck:!0})}).then(b=>{("dontCheck"in b?b.dontCheck:b.hasZ)||d.dropZValuesOffInputGeometry(g,
m);for(const h in g)g[h].forEach((x,y)=>{a.get(h)[y].geometry=x});b={...q,query:{...n.query,...z.toQueryParams(a),f:"json"}};var {path:c}=n;c=c.endsWith("/solve")?c:c+"/solve";return t(c,b)}).then(b=>d.handleSolveResponse(b))});return l.apply(this,arguments)}const z=u.createQueryParamsHelper({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},outSpatialReference:{name:"outSR",
getter:k=>k.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},stops:!0,travelMode:!0});p.solve=function(k,a,q){return l.apply(this,arguments)};Object.defineProperty(p,"__esModule",{value:!0})});