// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../request ../core/queryUtils ../geometry/support/normalizeUtils ./networkService ./utils ./support/ServiceAreaSolveResult".split(" "),function(q,r,t,u,v,c,w,x){function l(){l=r._asyncToGenerator(function*(h,a,m){const n=[],f=[],d={},g={},p=w.parseUrl(h);a.facilities&&a.facilities.features&&c.collectGeometries(a.facilities.features,f,"facilities.features",d);a.pointBarriers&&a.pointBarriers.features&&c.collectGeometries(a.pointBarriers.features,
f,"pointBarriers.features",d);a.polylineBarriers&&a.polylineBarriers.features&&c.collectGeometries(a.polylineBarriers.features,f,"polylineBarriers.features",d);a.polygonBarriers&&a.polygonBarriers.features&&c.collectGeometries(a.polygonBarriers.features,f,"polygonBarriers.features",d);return v.normalizeCentralMeridian(f).then(b=>{for(const e in d){const k=d[e];n.push(e);g[e]=b.slice(k[0],k[1])}return c.isInputGeometryZAware(g,n)?c.fetchServiceDescription(p.path).catch(()=>({dontCheck:!0})):Promise.resolve({dontCheck:!0})}).then(b=>
{("dontCheck"in b?b.dontCheck:b.hasZ)||c.dropZValuesOffInputGeometry(g,n);for(const e in g)g[e].forEach((k,y)=>{a.get(e)[y].geometry=k});b={query:{...p.query,f:"json",...z.toQueryParams(a)}};m&&(b={...m,...b});return t(`${p.path}/solveServiceArea`,b)}).then(b=>x.fromJSON(b.data))});return l.apply(this,arguments)}const z=u.createQueryParamsHelper({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:h=>
h.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});q.solve=function(h,a,m){return l.apply(this,arguments)};Object.defineProperty(q,"__esModule",{value:!0})});