// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/aliasOf ../core/accessorSupport/ensureType ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(l,c,p,e,q,b,C,D,u,d,v,w,x,y,z,A,B,r){var m;b=m=function(t){function n(a){a=t.call(this,a)||this;a.attributes=null;a.backgroundColor=new p([0,0,0,0]);a.blendDots=!0;a.dotBlendingEnabled=!0;a.dotShape="square";a.dotSize=1;a.legendOptions=null;a.outline=new r;a.dotValue=null;a.referenceDotValue=null;a.referenceScale=null;a.seed=1;a.type="dot-density";return a}l._inheritsLoose(n,t);var f=n.prototype;f.calculateDotValue=function(a){if(null==this.referenceScale)return this.dotValue;a=a/this.referenceScale*
this.dotValue;return 1>a?1:a};f.getSymbol=function(){return new B({outline:this.outline})};f.getSymbolAsync=function(){var a=l._asyncToGenerator(function*(){return this.getSymbol()});return function(){return a.apply(this,arguments)}}();f.getSymbols=function(){return[this.getSymbol()]};f.getAttributeHash=function(){return this.attributes&&this.attributes.reduce((a,g)=>a+g.getAttributeHash(),"")};f.getMeshHash=function(){return JSON.stringify(this.outline)};f.clone=function(){return new m({attributes:e.clone(this.attributes),
backgroundColor:e.clone(this.backgroundColor),dotBlendingEnabled:e.clone(this.dotBlendingEnabled),dotShape:e.clone(this.dotShape),dotSize:e.clone(this.dotSize),dotValue:e.clone(this.dotValue),legendOptions:e.clone(this.legendOptions),outline:e.clone(this.outline),referenceScale:e.clone(this.referenceScale),visualVariables:e.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})};f.getControllerHash=function(){const a=this.attributes.map(h=>h.field||h.valueExpression||
""),g=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${a}-${g}`};f.collectRequiredFields=function(){var a=l._asyncToGenerator(function*(g,h){yield this.collectVVRequiredFields(g,h);for(const k of this.attributes)k.valueExpression&&(yield w.collectArcadeFieldNames(g,h,k.valueExpression)),k.field&&g.add(k.field)});return function(g,h){return a.apply(this,arguments)}}();return n}(y.VisualVariablesMixin(x));c.__decorate([d.property({type:[z],json:{write:!0}})],b.prototype,"attributes",
void 0);c.__decorate([d.property({type:p,json:{write:!0}})],b.prototype,"backgroundColor",void 0);c.__decorate([d.property({type:Boolean}),q.aliasOf("dotBlendingEnabled")],b.prototype,"blendDots",void 0);c.__decorate([d.property({type:Boolean,json:{write:!0}})],b.prototype,"dotBlendingEnabled",void 0);c.__decorate([d.property({type:String,json:{write:!1}})],b.prototype,"dotShape",void 0);c.__decorate([d.property({type:Number,json:{write:!1}})],b.prototype,"dotSize",void 0);c.__decorate([d.property({type:A,
json:{write:!0}})],b.prototype,"legendOptions",void 0);c.__decorate([d.property({type:r,json:{default:null,write:!0}})],b.prototype,"outline",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"dotValue",void 0);c.__decorate([d.property({type:Number}),q.aliasOf("dotValue")],b.prototype,"referenceDotValue",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,"referenceScale",void 0);c.__decorate([d.property({type:Number,json:{write:!0}})],b.prototype,
"seed",void 0);c.__decorate([u.enumeration({dotDensity:"dot-density"})],b.prototype,"type",void 0);return b=m=c.__decorate([v.subclass("esri.renderers.DotDensityRenderer")],b)});