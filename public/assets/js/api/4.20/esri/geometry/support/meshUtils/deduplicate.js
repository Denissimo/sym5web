// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/mathUtils"],function(A,G){function D(f,b,a){var g,c=f.byteLength/(4*b),r=new Uint32Array(f,0,c*b);f=new Uint32Array(c);var l=null!=(g=null==a?void 0:a.minReduction)?g:0;const B=(g=(null==a?void 0:a.originalIndices)||null)?g.length:0;var d=(null==a?void 0:a.componentOffsets)||null;a=0;if(d)for(var m=0;m<d.length-1;m++){var u=d[m+1]-d[m];u>a&&(a=u)}else a=c;var t=Math.floor(1.1*a)+1;if(null==n||n.length<2*t)n=new Uint32Array(G.nextHighestPowerOfTwo(2*t));for(a=0;a<2*
t;a++)n[a]=0;a=0;u=(m=!!d&&!!g)?B:c;var w=m?new Uint32Array(B):null,x=0!==l?Math.ceil(7.84*1.96/(l*l)*l*(1-l)):u,p=1,k=d?d[1]:u;for(var e=0;e<u;e++){if(e===x){var v=1-a/e;if(v+1.96*Math.sqrt(v*(1-v)/e)<l)return null;x*=2}if(e===k){for(k=0;k<2*t;k++)n[k]=0;if(g)for(k=d[p-1];k<d[p];k++)w[k]=f[g[k]];k=d[++p]}v=m?g[e]:e;const E=v*b;var q=0;for(var h=0;h<b;h++)q=r[E+h]+q|0,q=q+(q<<11)+(q>>>2)|0;q>>>=0;h=q%t;let C=a;for(;0!==n[2*h+1];){if(n[2*h]===q){const F=n[2*h+1]-1;var y=F*b;a:{for(let z=0;z<b;z++)if(r[E+
z]!==r[y+z]){y=!1;break a}y=!0}if(y){C=f[F];break}}h++;h>=t&&(h-=t)}C===a&&(n[2*h]=q,n[2*h+1]=v+1,a++);f[v]=C}if(0!==l&&1-a/c<l)return null;if(m){for(c=d[p-1];c<w.length;c++)w[c]=f[g[c]];f=w}c=new Uint32Array(b*a);a=0;for(p=0;p<u;p++)if(f[p]===a){l=r;d=(m?g[p]:p)*b;t=c;w=a*b;x=b;for(e=0;e<x;e++)t[w+e]=l[d+e];a++}if(g&&!m){b=new Uint32Array(B);for(r=0;r<b.length;r++)b[r]=f[g[r]];f=b}return{buffer:c.buffer,indices:f,uniqueCount:a}}let n=null;A.deduplicate=D;A.default=D;Object.defineProperty(A,"__esModule",
{value:!0})});