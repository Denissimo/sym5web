// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.20/esri/copyright.txt for details.
//>>built
define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Graphic ../core/Collection ../core/collectionUtils ../core/has ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/jsonMap ../core/accessorSupport/decorators/subclass".split(" "),function(b,k,h,n,p,l,v,q,r,t,w,u){const m=p.ofType(n);q.getLogger("esri.support.GraphicsCollection");b.GraphicsCollection=function(c){function d(a){var g=c.call(this,a)||this;g.on("before-add",e=>{e.item||
e.preventDefault()});g.on("after-add",e=>g._own(e.item));g.on("after-remove",({item:e})=>{e.layer=null});return g}k._inheritsLoose(d,c);var f=d.prototype;f.destroy=function(){this._unownAll()};f._createNewInstance=function(a){return new m(a)};f._ownAll=function(){this.items.forEach(a=>this._own(a))};f._own=function(a){a.layer&&"remove"in a.layer&&a.layer!==this.owner&&a.layer.remove(a);a.layer=this.owner};f._unownAll=function(){this.items.forEach(a=>this._unown(a))};f._unown=function(a){a.layer===
this.owner&&(a.layer=null)};k._createClass(d,[{key:"owner",get:function(){return this._get("owner")},set:function(a){a!==this._get("owner")&&(this._unownAll(),this._set("owner",a),this._ownAll())}}]);return d}(m);h.__decorate([r.property()],b.GraphicsCollection.prototype,"owner",null);b.GraphicsCollection=h.__decorate([u.subclass("esri.support.GraphicsCollection")],b.GraphicsCollection);h=b.GraphicsCollection;b.castGraphicsCollection=function(c){if(c=t.ensureType(b.GraphicsCollection,c))c.owner=this;
return c};b.default=h;b.graphicsCollectionProperty=(c="graphics")=>({type:b.GraphicsCollection,cast:l.castForReferenceSetter,set(d){d=l.referenceSetter(d,this._get(c),b.GraphicsCollection);d.owner=this;this._set(c,d)}});Object.defineProperty(b,"__esModule",{value:!0})});